var bQ=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var SBt=bQ((Bo,Vo)=>{function wQ(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function LS(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function ot(t){if(Qe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=wt(s)?SQ(s):ot(s);if(r)for(const o in r)e[o]=r[o]}return e}else{if(wt(t))return t;if(Bt(t))return t}}const _Q=/;(?![^(]*\))/g,$Q=/:([^]+)/,xQ=/\/\*.*?\*\//gs;function SQ(t){const e={};return t.replace(xQ,"").split(_Q).forEach(n=>{if(n){const s=n.split($Q);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function P(t){let e="";if(wt(t))e=t;else if(Qe(t))for(let n=0;n<t.length;n++){const s=P(t[n]);s&&(e+=s+" ")}else if(Bt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Wa(t){if(!t)return null;let{class:e,style:n}=t;return e&&!wt(e)&&(t.class=P(e)),n&&(t.style=ot(n)),t}const CQ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kQ=LS(CQ);function nF(t){return!!t||t===""}function TQ(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=nh(t[s],e[s]);return n}function nh(t,e){if(t===e)return!0;let n=yd(t),s=yd(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=y0(t),s=y0(e),n||s)return t===e;if(n=Qe(t),s=Qe(e),n||s)return n&&s?TQ(t,e):!1;if(n=Bt(t),s=Bt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const a in t){const i=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(i&&!l||!i&&l||!nh(t[a],e[a]))return!1}}return String(t)===String(e)}function sF(t,e){return t.findIndex(n=>nh(n,e))}const Ue=t=>wt(t)?t:t==null?"":Qe(t)||Bt(t)&&(t.toString===oF||!vt(t.toString))?JSON.stringify(t,rF,2):String(t),rF=(t,e)=>e&&e.__v_isRef?rF(t,e.value):Vf(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Vb(e)?{[`Set(${e.size})`]:[...e.values()]}:Bt(e)&&!Qe(e)&&!aF(e)?String(e):e,rs={},Bf=[],gn=()=>{},NQ=()=>!1,EQ=/^on[^a-z]/,Bb=t=>EQ.test(t),zS=t=>t.startsWith("onUpdate:"),rr=Object.assign,BS=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},IQ=Object.prototype.hasOwnProperty,Ut=(t,e)=>IQ.call(t,e),Qe=Array.isArray,Vf=t=>xg(t)==="[object Map]",Vb=t=>xg(t)==="[object Set]",yd=t=>xg(t)==="[object Date]",vt=t=>typeof t=="function",wt=t=>typeof t=="string",y0=t=>typeof t=="symbol",Bt=t=>t!==null&&typeof t=="object",b0=t=>Bt(t)&&vt(t.then)&&vt(t.catch),oF=Object.prototype.toString,xg=t=>oF.call(t),Fv=t=>xg(t).slice(8,-1),aF=t=>xg(t)==="[object Object]",VS=t=>wt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Mv=LS(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hb=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},AQ=/-(\w)/g,wa=Hb(t=>t.replace(AQ,(e,n)=>n?n.toUpperCase():"")),OQ=/\B([A-Z])/g,ac=Hb(t=>t.replace(OQ,"-$1").toLowerCase()),Sg=Hb(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pv=Hb(t=>t?`on${Sg(t)}`:""),w0=(t,e)=>!Object.is(t,e),Lv=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},wy=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},_0=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let JI;const RQ=()=>JI||(JI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ro;class iF{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ro,!e&&Ro&&(this.index=(Ro.scopes||(Ro.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Ro;try{return Ro=this,e()}finally{Ro=n}}}on(){Ro=this}off(){Ro=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}}}function DQ(t){return new iF(t)}function FQ(t,e=Ro){e&&e.active&&e.effects.push(t)}function MQ(){return Ro}function lF(t){Ro&&Ro.cleanups.push(t)}const HS=t=>{const e=new Set(t);return e.w=0,e.n=0,e},uF=t=>(t.w&Wu)>0,cF=t=>(t.n&Wu)>0,PQ=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Wu},LQ=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];uF(r)&&!cF(r)?r.delete(t):e[n++]=r,r.w&=~Wu,r.n&=~Wu}e.length=n}},W$=new WeakMap;let Vm=0,Wu=1;const U$=30;let Ha;const td=Symbol(""),G$=Symbol("");class WS{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,FQ(this,s)}run(){if(!this.active)return this.fn();let e=Ha,n=Ou;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ha,Ha=this,Ou=!0,Wu=1<<++Vm,Vm<=U$?PQ(this):QI(this),this.fn()}finally{Vm<=U$&&LQ(this),Wu=1<<--Vm,Ha=this.parent,Ou=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ha===this?this.deferStop=!0:this.active&&(QI(this),this.onStop&&this.onStop(),this.active=!1)}}function QI(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ou=!0;const dF=[];function Kh(){dF.push(Ou),Ou=!1}function qh(){const t=dF.pop();Ou=t===void 0?!0:t}function jo(t,e,n){if(Ou&&Ha){let s=W$.get(t);s||W$.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=HS()),fF(r)}}function fF(t,e){let n=!1;Vm<=U$?cF(t)||(t.n|=Wu,n=!uF(t)):n=!t.has(Ha),n&&(t.add(Ha),Ha.deps.push(t))}function wl(t,e,n,s,r,o){const a=W$.get(t);if(!a)return;let i=[];if(e==="clear")i=[...a.values()];else if(n==="length"&&Qe(t)){const l=_0(s);a.forEach((u,c)=>{(c==="length"||c>=l)&&i.push(u)})}else switch(n!==void 0&&i.push(a.get(n)),e){case"add":Qe(t)?VS(n)&&i.push(a.get("length")):(i.push(a.get(td)),Vf(t)&&i.push(a.get(G$)));break;case"delete":Qe(t)||(i.push(a.get(td)),Vf(t)&&i.push(a.get(G$)));break;case"set":Vf(t)&&i.push(a.get(td));break}if(i.length===1)i[0]&&j$(i[0]);else{const l=[];for(const u of i)u&&l.push(...u);j$(HS(l))}}function j$(t,e){const n=Qe(t)?t:[...t];for(const s of n)s.computed&&e5(s);for(const s of n)s.computed||e5(s)}function e5(t,e){(t!==Ha||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const zQ=LS("__proto__,__v_isRef,__isVue"),hF=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(y0)),BQ=US(),VQ=US(!1,!0),HQ=US(!0),t5=WQ();function WQ(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=fn(this);for(let o=0,a=this.length;o<a;o++)jo(s,"get",o+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(fn)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Kh();const s=fn(this)[e].apply(this,n);return qh(),s}}),t}function US(t=!1,e=!1){return function(s,r,o){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&o===(t?e?oee:yF:e?vF:gF).get(s))return s;const a=Qe(s);if(!t&&a&&Ut(t5,r))return Reflect.get(t5,r,o);const i=Reflect.get(s,r,o);return(y0(r)?hF.has(r):zQ(r))||(t||jo(s,"get",r),e)?i:kn(i)?a&&VS(r)?i:i.value:Bt(i)?t?Cg(i):on(i):i}}const UQ=pF(),GQ=pF(!0);function pF(t=!1){return function(n,s,r,o){let a=n[s];if(sh(a)&&kn(a)&&!kn(r))return!1;if(!t&&(!_y(r)&&!sh(r)&&(a=fn(a),r=fn(r)),!Qe(n)&&kn(a)&&!kn(r)))return a.value=r,!0;const i=Qe(n)&&VS(s)?Number(s)<n.length:Ut(n,s),l=Reflect.set(n,s,r,o);return n===fn(o)&&(i?w0(r,a)&&wl(n,"set",s,r):wl(n,"add",s,r)),l}}function jQ(t,e){const n=Ut(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&wl(t,"delete",e,void 0),s}function KQ(t,e){const n=Reflect.has(t,e);return(!y0(e)||!hF.has(e))&&jo(t,"has",e),n}function qQ(t){return jo(t,"iterate",Qe(t)?"length":td),Reflect.ownKeys(t)}const mF={get:BQ,set:UQ,deleteProperty:jQ,has:KQ,ownKeys:qQ},XQ={get:HQ,set(t,e){return!0},deleteProperty(t,e){return!0}},YQ=rr({},mF,{get:VQ,set:GQ}),GS=t=>t,Wb=t=>Reflect.getPrototypeOf(t);function j2(t,e,n=!1,s=!1){t=t.__v_raw;const r=fn(t),o=fn(e);n||(e!==o&&jo(r,"get",e),jo(r,"get",o));const{has:a}=Wb(r),i=s?GS:n?qS:$0;if(a.call(r,e))return i(t.get(e));if(a.call(r,o))return i(t.get(o));t!==r&&t.get(e)}function K2(t,e=!1){const n=this.__v_raw,s=fn(n),r=fn(t);return e||(t!==r&&jo(s,"has",t),jo(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function q2(t,e=!1){return t=t.__v_raw,!e&&jo(fn(t),"iterate",td),Reflect.get(t,"size",t)}function n5(t){t=fn(t);const e=fn(this);return Wb(e).has.call(e,t)||(e.add(t),wl(e,"add",t,t)),this}function s5(t,e){e=fn(e);const n=fn(this),{has:s,get:r}=Wb(n);let o=s.call(n,t);o||(t=fn(t),o=s.call(n,t));const a=r.call(n,t);return n.set(t,e),o?w0(e,a)&&wl(n,"set",t,e):wl(n,"add",t,e),this}function r5(t){const e=fn(this),{has:n,get:s}=Wb(e);let r=n.call(e,t);r||(t=fn(t),r=n.call(e,t)),s&&s.call(e,t);const o=e.delete(t);return r&&wl(e,"delete",t,void 0),o}function o5(){const t=fn(this),e=t.size!==0,n=t.clear();return e&&wl(t,"clear",void 0,void 0),n}function X2(t,e){return function(s,r){const o=this,a=o.__v_raw,i=fn(a),l=e?GS:t?qS:$0;return!t&&jo(i,"iterate",td),a.forEach((u,c)=>s.call(r,l(u),l(c),o))}}function Y2(t,e,n){return function(...s){const r=this.__v_raw,o=fn(r),a=Vf(o),i=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=r[t](...s),c=n?GS:e?qS:$0;return!e&&jo(o,"iterate",l?G$:td),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:i?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function ru(t){return function(...e){return t==="delete"?!1:this}}function ZQ(){const t={get(o){return j2(this,o)},get size(){return q2(this)},has:K2,add:n5,set:s5,delete:r5,clear:o5,forEach:X2(!1,!1)},e={get(o){return j2(this,o,!1,!0)},get size(){return q2(this)},has:K2,add:n5,set:s5,delete:r5,clear:o5,forEach:X2(!1,!0)},n={get(o){return j2(this,o,!0)},get size(){return q2(this,!0)},has(o){return K2.call(this,o,!0)},add:ru("add"),set:ru("set"),delete:ru("delete"),clear:ru("clear"),forEach:X2(!0,!1)},s={get(o){return j2(this,o,!0,!0)},get size(){return q2(this,!0)},has(o){return K2.call(this,o,!0)},add:ru("add"),set:ru("set"),delete:ru("delete"),clear:ru("clear"),forEach:X2(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Y2(o,!1,!1),n[o]=Y2(o,!0,!1),e[o]=Y2(o,!1,!0),s[o]=Y2(o,!0,!0)}),[t,n,e,s]}const[JQ,QQ,eee,tee]=ZQ();function jS(t,e){const n=e?t?tee:eee:t?QQ:JQ;return(s,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ut(n,r)&&r in s?n:s,r,o)}const nee={get:jS(!1,!1)},see={get:jS(!1,!0)},ree={get:jS(!0,!1)},gF=new WeakMap,vF=new WeakMap,yF=new WeakMap,oee=new WeakMap;function aee(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function iee(t){return t.__v_skip||!Object.isExtensible(t)?0:aee(Fv(t))}function on(t){return sh(t)?t:KS(t,!1,mF,nee,gF)}function bF(t){return KS(t,!1,YQ,see,vF)}function Cg(t){return KS(t,!0,XQ,ree,yF)}function KS(t,e,n,s,r){if(!Bt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const a=iee(t);if(a===0)return t;const i=new Proxy(t,a===2?s:n);return r.set(t,i),i}function Hf(t){return sh(t)?Hf(t.__v_raw):!!(t&&t.__v_isReactive)}function sh(t){return!!(t&&t.__v_isReadonly)}function _y(t){return!!(t&&t.__v_isShallow)}function wF(t){return Hf(t)||sh(t)}function fn(t){const e=t&&t.__v_raw;return e?fn(e):t}function nd(t){return wy(t,"__v_skip",!0),t}const $0=t=>Bt(t)?on(t):t,qS=t=>Bt(t)?Cg(t):t;function _F(t){Ou&&Ha&&(t=fn(t),fF(t.dep||(t.dep=HS())))}function XS(t,e){t=fn(t),t.dep&&j$(t.dep)}function kn(t){return!!(t&&t.__v_isRef===!0)}function U(t){return $F(t,!1)}function Nn(t){return $F(t,!0)}function $F(t,e){return kn(t)?t:new lee(t,e)}class lee{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:fn(e),this._value=n?e:$0(e)}get value(){return _F(this),this._value}set value(e){const n=this.__v_isShallow||_y(e)||sh(e);e=n?e:fn(e),w0(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:$0(e),XS(this))}}function Cm(t){XS(t)}function v(t){return kn(t)?t.value:t}const uee={get:(t,e,n)=>v(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return kn(r)&&!kn(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function xF(t){return Hf(t)?t:new Proxy(t,uee)}function Ps(t){const e=Qe(t)?new Array(t.length):{};for(const n in t)e[n]=Un(t,n);return e}class cee{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Un(t,e,n){const s=t[e];return kn(s)?s:new cee(t,e,n)}var SF;class dee{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[SF]=!1,this._dirty=!0,this.effect=new WS(e,()=>{this._dirty||(this._dirty=!0,XS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=fn(this);return _F(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}SF="__v_isReadonly";function CF(t,e,n=!1){let s,r;const o=vt(t);return o?(s=t,r=gn):(s=t.get,r=t.set),new dee(s,r,o||!r,n)}function fee(t,...e){}function Ru(t,e,n,s){let r;try{r=s?t(...s):t()}catch(o){Ub(o,e,n)}return r}function va(t,e,n,s){if(vt(t)){const o=Ru(t,e,n,s);return o&&b0(o)&&o.catch(a=>{Ub(a,e,n)}),o}const r=[];for(let o=0;o<t.length;o++)r.push(va(t[o],e,n,s));return r}function Ub(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,i=n;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,a,i)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Ru(l,null,10,[t,a,i]);return}}hee(t,n,r,s)}function hee(t,e,n,s=!0){console.error(t)}let x0=!1,K$=!1;const kr=[];let wi=0;const Wf=[];let ol=null,Mc=0;const kF=Promise.resolve();let YS=null;function nt(t){const e=YS||kF;return t?e.then(this?t.bind(this):t):e}function pee(t){let e=wi+1,n=kr.length;for(;e<n;){const s=e+n>>>1;S0(kr[s])<t?e=s+1:n=s}return e}function ZS(t){(!kr.length||!kr.includes(t,x0&&t.allowRecurse?wi+1:wi))&&(t.id==null?kr.push(t):kr.splice(pee(t.id),0,t),TF())}function TF(){!x0&&!K$&&(K$=!0,YS=kF.then(EF))}function mee(t){const e=kr.indexOf(t);e>wi&&kr.splice(e,1)}function gee(t){Qe(t)?Wf.push(...t):(!ol||!ol.includes(t,t.allowRecurse?Mc+1:Mc))&&Wf.push(t),TF()}function a5(t,e=x0?wi+1:0){for(;e<kr.length;e++){const n=kr[e];n&&n.pre&&(kr.splice(e,1),e--,n())}}function NF(t){if(Wf.length){const e=[...new Set(Wf)];if(Wf.length=0,ol){ol.push(...e);return}for(ol=e,ol.sort((n,s)=>S0(n)-S0(s)),Mc=0;Mc<ol.length;Mc++)ol[Mc]();ol=null,Mc=0}}const S0=t=>t.id==null?1/0:t.id,vee=(t,e)=>{const n=S0(t)-S0(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function EF(t){K$=!1,x0=!0,kr.sort(vee);const e=gn;try{for(wi=0;wi<kr.length;wi++){const n=kr[wi];n&&n.active!==!1&&Ru(n,null,14)}}finally{wi=0,kr.length=0,NF(),x0=!1,YS=null,(kr.length||Wf.length)&&EF()}}function yee(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||rs;let r=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in s){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:f}=s[c]||rs;f&&(r=n.map(h=>wt(h)?h.trim():h)),d&&(r=n.map(_0))}let i,l=s[i=Pv(e)]||s[i=Pv(wa(e))];!l&&o&&(l=s[i=Pv(ac(e))]),l&&va(l,t,6,r);const u=s[i+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[i])return;t.emitted[i]=!0,va(u,t,6,r)}}function IF(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const o=t.emits;let a={},i=!1;if(!vt(t)){const l=u=>{const c=IF(u,e,!0);c&&(i=!0,rr(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!i?(Bt(t)&&s.set(t,null),null):(Qe(o)?o.forEach(l=>a[l]=null):rr(a,o),Bt(t)&&s.set(t,a),a)}function Gb(t,e){return!t||!Bb(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ut(t,e[0].toLowerCase()+e.slice(1))||Ut(t,ac(e))||Ut(t,e))}let gr=null,AF=null;function $y(t){const e=gr;return gr=t,AF=t&&t.type.__scopeId||null,e}function ce(t,e=gr,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&v5(-1);const o=$y(e);let a;try{a=t(...r)}finally{$y(o),s._d&&v5(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function N4(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[a],slots:i,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t;let g,y;const w=$y(t);try{if(n.shapeFlag&4){const _=r||s;g=pi(c.call(_,_,d,o,h,f,p)),y=l}else{const _=e;g=pi(_.length>1?_(o,{attrs:l,slots:i,emit:u}):_(o,null)),y=e.props?l:bee(l)}}catch(_){s0.length=0,Ub(_,t,1),g=se(Gr)}let b=g;if(y&&m!==!1){const _=Object.keys(y),{shapeFlag:$}=b;_.length&&$&7&&(a&&_.some(zS)&&(y=wee(y,a)),b=_l(b,y))}return n.dirs&&(b=_l(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),g=b,$y(w),g}const bee=t=>{let e;for(const n in t)(n==="class"||n==="style"||Bb(n))&&((e||(e={}))[n]=t[n]);return e},wee=(t,e)=>{const n={};for(const s in t)(!zS(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function _ee(t,e,n){const{props:s,children:r,component:o}=t,{props:a,children:i,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?i5(s,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(a[f]!==s[f]&&!Gb(u,f))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:s===a?!1:s?a?i5(s,a,u):!0:!!a;return!1}function i5(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(e[o]!==t[o]&&!Gb(n,o))return!0}return!1}function $ee({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const xee=t=>t.__isSuspense;function See(t,e){e&&e.pendingBranch?Qe(t)?e.effects.push(...t):e.effects.push(t):gee(t)}function Lt(t,e){if(Js){let n=Js.provides;const s=Js.parent&&Js.parent.provides;s===n&&(n=Js.provides=Object.create(s)),n[t]=e}}function et(t,e,n=!1){const s=Js||gr;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&vt(e)?e.call(s.proxy):e}}function Ho(t,e){return JS(t,null,e)}const Z2={};function Me(t,e,n){return JS(t,e,n)}function JS(t,e,{immediate:n,deep:s,flush:r,onTrack:o,onTrigger:a}=rs){const i=Js;let l,u=!1,c=!1;if(kn(t)?(l=()=>t.value,u=_y(t)):Hf(t)?(l=()=>t,s=!0):Qe(t)?(c=!0,u=t.some(b=>Hf(b)||_y(b)),l=()=>t.map(b=>{if(kn(b))return b.value;if(Hf(b))return Gc(b);if(vt(b))return Ru(b,i,2)})):vt(t)?e?l=()=>Ru(t,i,2):l=()=>{if(!(i&&i.isUnmounted))return d&&d(),va(t,i,3,[f])}:l=gn,e&&s){const b=l;l=()=>Gc(b())}let d,f=b=>{d=y.onStop=()=>{Ru(b,i,4)}},h;if(N0)if(f=gn,e?n&&va(e,i,3,[l(),c?[]:void 0,f]):l(),r==="sync"){const b=fte();h=b.__watcherHandles||(b.__watcherHandles=[])}else return gn;let p=c?new Array(t.length).fill(Z2):Z2;const m=()=>{if(!!y.active)if(e){const b=y.run();(s||u||(c?b.some((_,$)=>w0(_,p[$])):w0(b,p)))&&(d&&d(),va(e,i,3,[b,p===Z2?void 0:c&&p[0]===Z2?[]:p,f]),p=b)}else y.run()};m.allowRecurse=!!e;let g;r==="sync"?g=m:r==="post"?g=()=>ao(m,i&&i.suspense):(m.pre=!0,i&&(m.id=i.uid),g=()=>ZS(m));const y=new WS(l,g);e?n?m():p=y.run():r==="post"?ao(y.run.bind(y),i&&i.suspense):y.run();const w=()=>{y.stop(),i&&i.scope&&BS(i.scope.effects,y)};return h&&h.push(w),w}function Cee(t,e,n){const s=this.proxy,r=wt(t)?t.includes(".")?OF(s,t):()=>s[t]:t.bind(s,s);let o;vt(e)?o=e:(o=e.handler,n=e);const a=Js;oh(this);const i=JS(r,o.bind(s),n);return a?oh(a):sd(),i}function OF(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Gc(t,e){if(!Bt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),kn(t))Gc(t.value,e);else if(Qe(t))for(let n=0;n<t.length;n++)Gc(t[n],e);else if(Vb(t)||Vf(t))t.forEach(n=>{Gc(n,e)});else if(aF(t))for(const n in t)Gc(t[n],e);return t}function RF(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Et(()=>{t.isMounted=!0}),ts(()=>{t.isUnmounting=!0}),t}const Qo=[Function,Array],kee={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qo,onEnter:Qo,onAfterEnter:Qo,onEnterCancelled:Qo,onBeforeLeave:Qo,onLeave:Qo,onAfterLeave:Qo,onLeaveCancelled:Qo,onBeforeAppear:Qo,onAppear:Qo,onAfterAppear:Qo,onAppearCancelled:Qo},setup(t,{slots:e}){const n=Rt(),s=RF();let r;return()=>{const o=e.default&&QS(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const m of o)if(m.type!==Gr){a=m;break}}const i=fn(t),{mode:l}=i;if(s.isLeaving)return E4(a);const u=l5(a);if(!u)return E4(a);const c=C0(u,i,s,n);k0(u,c);const d=n.subTree,f=d&&l5(d);let h=!1;const{getTransitionKey:p}=u.type;if(p){const m=p();r===void 0?r=m:m!==r&&(r=m,h=!0)}if(f&&f.type!==Gr&&(!Pc(u,f)||h)){const m=C0(f,i,s,n);if(k0(f,m),l==="out-in")return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},E4(a);l==="in-out"&&u.type!==Gr&&(m.delayLeave=(g,y,w)=>{const b=FF(s,f);b[String(f.key)]=f,g._leaveCb=()=>{y(),g._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=w})}return a}}},DF=kee;function FF(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function C0(t,e,n,s){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:i,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:y,onAppearCancelled:w}=e,b=String(t.key),_=FF(n,t),$=(C,T)=>{C&&va(C,s,9,T)},x=(C,T)=>{const N=T[1];$(C,T),Qe(C)?C.every(M=>M.length<=1)&&N():C.length<=1&&N()},k={mode:o,persisted:a,beforeEnter(C){let T=i;if(!n.isMounted)if(r)T=m||i;else return;C._leaveCb&&C._leaveCb(!0);const N=_[b];N&&Pc(t,N)&&N.el._leaveCb&&N.el._leaveCb(),$(T,[C])},enter(C){let T=l,N=u,M=c;if(!n.isMounted)if(r)T=g||l,N=y||u,M=w||c;else return;let R=!1;const D=C._enterCb=z=>{R||(R=!0,z?$(M,[C]):$(N,[C]),k.delayedLeave&&k.delayedLeave(),C._enterCb=void 0)};T?x(T,[C,D]):D()},leave(C,T){const N=String(t.key);if(C._enterCb&&C._enterCb(!0),n.isUnmounting)return T();$(d,[C]);let M=!1;const R=C._leaveCb=D=>{M||(M=!0,T(),D?$(p,[C]):$(h,[C]),C._leaveCb=void 0,_[N]===t&&delete _[N])};_[N]=t,f?x(f,[C,R]):R()},clone(C){return C0(C,e,n,s)}};return k}function E4(t){if(jb(t))return t=_l(t),t.children=null,t}function l5(t){return jb(t)?t.children?t.children[0]:void 0:t}function k0(t,e){t.shapeFlag&6&&t.component?k0(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function QS(t,e=!1,n){let s=[],r=0;for(let o=0;o<t.length;o++){let a=t[o];const i=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===lt?(a.patchFlag&128&&r++,s=s.concat(QS(a.children,e,i))):(e||a.type!==Gr)&&s.push(i!=null?_l(a,{key:i}):a)}if(r>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function ue(t){return vt(t)?{setup:t,name:t.name}:t}const e0=t=>!!t.type.__asyncLoader,jb=t=>t.type.__isKeepAlive;function Tee(t,e){PF(t,"a",e)}function MF(t,e){PF(t,"da",e)}function PF(t,e,n=Js){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Kb(e,s,n),n){let r=n.parent;for(;r&&r.parent;)jb(r.parent.vnode)&&Nee(s,e,n,r),r=r.parent}}function Nee(t,e,n,s){const r=Kb(e,t,s,!0);Xd(()=>{BS(s[e],r)},n)}function Kb(t,e,n=Js,s=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Kh(),oh(n);const i=va(e,n,t,a);return sd(),qh(),i});return s?r.unshift(o):r.push(o),o}}const Fl=t=>(e,n=Js)=>(!N0||t==="sp")&&Kb(t,(...s)=>e(...s),n),qb=Fl("bm"),Et=Fl("m"),LF=Fl("bu"),Ml=Fl("u"),ts=Fl("bum"),Xd=Fl("um"),Eee=Fl("sp"),Iee=Fl("rtg"),Aee=Fl("rtc");function Oee(t,e=Js){Kb("ec",t,e)}function St(t,e){const n=gr;if(n===null)return t;const s=Zb(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[a,i,l,u=rs]=e[o];a&&(vt(a)&&(a={mounted:a,updated:a}),a.deep&&Gc(i),r.push({dir:a,instance:s,value:i,oldValue:void 0,arg:l,modifiers:u}))}return t}function xc(t,e,n,s){const r=t.dirs,o=e&&e.dirs;for(let a=0;a<r.length;a++){const i=r[a];o&&(i.oldValue=o[a].value);let l=i.dir[s];l&&(Kh(),va(l,n,8,[t.el,i,t,e]),qh())}}const eC="components",Ree="directives";function pt(t,e){return tC(eC,t,!0,e)||t}const zF=Symbol();function Vt(t){return wt(t)?tC(eC,t,!1)||t:t||zF}function rh(t){return tC(Ree,t)}function tC(t,e,n=!0,s=!1){const r=gr||Js;if(r){const o=r.type;if(t===eC){const i=ute(o,!1);if(i&&(i===e||i===wa(e)||i===Sg(wa(e))))return o}const a=u5(r[t]||o[t],e)||u5(r.appContext[t],e);return!a&&s?o:a}}function u5(t,e){return t&&(t[e]||t[wa(e)]||t[Sg(wa(e))])}function Gt(t,e,n,s){let r;const o=n&&n[s];if(Qe(t)||wt(t)){r=new Array(t.length);for(let a=0,i=t.length;a<i;a++)r[a]=e(t[a],a,void 0,o&&o[a])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,o&&o[a])}else if(Bt(t))if(t[Symbol.iterator])r=Array.from(t,(a,i)=>e(a,i,void 0,o&&o[i]));else{const a=Object.keys(t);r=new Array(a.length);for(let i=0,l=a.length;i<l;i++){const u=a[i];r[i]=e(t[u],u,i,o&&o[i])}}else r=[];return n&&(n[s]=r),r}function Uu(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(Qe(s))for(let r=0;r<s.length;r++)t[s[r].name]=s[r].fn;else s&&(t[s.name]=s.key?(...r)=>{const o=s.fn(...r);return o&&(o.key=s.key),o}:s.fn)}return t}function Oe(t,e,n={},s,r){if(gr.isCE||gr.parent&&e0(gr.parent)&&gr.parent.isCE)return e!=="default"&&(n.name=e),se("slot",n,s&&s());let o=t[e];o&&o._c&&(o._d=!1),S();const a=o&&BF(o(n)),i=$e(lt,{key:n.key||a&&a.key||`_${e}`},a||(s?s():[]),a&&t._===1?64:-2);return!r&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),o&&o._c&&(o._d=!0),i}function BF(t){return t.some(e=>Bn(e)?!(e.type===Gr||e.type===lt&&!BF(e.children)):!0)?t:null}function Dee(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:Pv(s)]=t[s];return n}const q$=t=>t?ZF(t)?Zb(t)||t.proxy:q$(t.parent):null,t0=rr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>q$(t.parent),$root:t=>q$(t.root),$emit:t=>t.emit,$options:t=>nC(t),$forceUpdate:t=>t.f||(t.f=()=>ZS(t.update)),$nextTick:t=>t.n||(t.n=nt.bind(t.proxy)),$watch:t=>Cee.bind(t)}),I4=(t,e)=>t!==rs&&!t.__isScriptSetup&&Ut(t,e),Fee={get({_:t},e){const{ctx:n,setupState:s,data:r,props:o,accessCache:a,type:i,appContext:l}=t;let u;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(I4(s,e))return a[e]=1,s[e];if(r!==rs&&Ut(r,e))return a[e]=2,r[e];if((u=t.propsOptions[0])&&Ut(u,e))return a[e]=3,o[e];if(n!==rs&&Ut(n,e))return a[e]=4,n[e];X$&&(a[e]=0)}}const c=t0[e];let d,f;if(c)return e==="$attrs"&&jo(t,"get",e),c(t);if((d=i.__cssModules)&&(d=d[e]))return d;if(n!==rs&&Ut(n,e))return a[e]=4,n[e];if(f=l.config.globalProperties,Ut(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:o}=t;return I4(r,e)?(r[e]=n,!0):s!==rs&&Ut(s,e)?(s[e]=n,!0):Ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:o}},a){let i;return!!n[a]||t!==rs&&Ut(t,a)||I4(e,a)||(i=o[0])&&Ut(i,a)||Ut(s,a)||Ut(t0,a)||Ut(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let X$=!0;function Mee(t){const e=nC(t),n=t.proxy,s=t.ctx;X$=!1,e.beforeCreate&&c5(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:a,watch:i,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:w,destroyed:b,unmounted:_,render:$,renderTracked:x,renderTriggered:k,errorCaptured:C,serverPrefetch:T,expose:N,inheritAttrs:M,components:R,directives:D,filters:z}=e;if(u&&Pee(u,s,null,t.appContext.config.unwrapInjectedRef),a)for(const O in a){const F=a[O];vt(F)&&(s[O]=F.bind(n))}if(r){const O=r.call(n,n);Bt(O)&&(t.data=on(O))}if(X$=!0,o)for(const O in o){const F=o[O],L=vt(F)?F.bind(n,n):vt(F.get)?F.get.bind(n,n):gn,G=!vt(F)&&vt(F.set)?F.set.bind(n):gn,Z=A({get:L,set:G});Object.defineProperty(s,O,{enumerable:!0,configurable:!0,get:()=>Z.value,set:j=>Z.value=j})}if(i)for(const O in i)VF(i[O],s,n,O);if(l){const O=vt(l)?l.call(n):l;Reflect.ownKeys(O).forEach(F=>{Lt(F,O[F])})}c&&c5(c,t,"c");function V(O,F){Qe(F)?F.forEach(L=>O(L.bind(n))):F&&O(F.bind(n))}if(V(qb,d),V(Et,f),V(LF,h),V(Ml,p),V(Tee,m),V(MF,g),V(Oee,C),V(Aee,x),V(Iee,k),V(ts,w),V(Xd,_),V(Eee,T),Qe(N))if(N.length){const O=t.exposed||(t.exposed={});N.forEach(F=>{Object.defineProperty(O,F,{get:()=>n[F],set:L=>n[F]=L})})}else t.exposed||(t.exposed={});$&&t.render===gn&&(t.render=$),M!=null&&(t.inheritAttrs=M),R&&(t.components=R),D&&(t.directives=D)}function Pee(t,e,n=gn,s=!1){Qe(t)&&(t=Y$(t));for(const r in t){const o=t[r];let a;Bt(o)?"default"in o?a=et(o.from||r,o.default,!0):a=et(o.from||r):a=et(o),kn(a)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):e[r]=a}}function c5(t,e,n){va(Qe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function VF(t,e,n,s){const r=s.includes(".")?OF(n,s):()=>n[s];if(wt(t)){const o=e[t];vt(o)&&Me(r,o)}else if(vt(t))Me(r,t.bind(n));else if(Bt(t))if(Qe(t))t.forEach(o=>VF(o,e,n,s));else{const o=vt(t.handler)?t.handler.bind(n):e[t.handler];vt(o)&&Me(r,o,t)}}function nC(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,i=o.get(e);let l;return i?l=i:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(u=>xy(l,u,a,!0)),xy(l,e,a)),Bt(e)&&o.set(e,l),l}function xy(t,e,n,s=!1){const{mixins:r,extends:o}=e;o&&xy(t,o,n,!0),r&&r.forEach(a=>xy(t,a,n,!0));for(const a in e)if(!(s&&a==="expose")){const i=Lee[a]||n&&n[a];t[a]=i?i(t[a],e[a]):e[a]}return t}const Lee={data:d5,props:Ac,emits:Ac,methods:Ac,computed:Ac,beforeCreate:Hr,created:Hr,beforeMount:Hr,mounted:Hr,beforeUpdate:Hr,updated:Hr,beforeDestroy:Hr,beforeUnmount:Hr,destroyed:Hr,unmounted:Hr,activated:Hr,deactivated:Hr,errorCaptured:Hr,serverPrefetch:Hr,components:Ac,directives:Ac,watch:Bee,provide:d5,inject:zee};function d5(t,e){return e?t?function(){return rr(vt(t)?t.call(this,this):t,vt(e)?e.call(this,this):e)}:e:t}function zee(t,e){return Ac(Y$(t),Y$(e))}function Y$(t){if(Qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hr(t,e){return t?[...new Set([].concat(t,e))]:e}function Ac(t,e){return t?rr(rr(Object.create(null),t),e):e}function Bee(t,e){if(!t)return e;if(!e)return t;const n=rr(Object.create(null),t);for(const s in e)n[s]=Hr(t[s],e[s]);return n}function Vee(t,e,n,s=!1){const r={},o={};wy(o,Xb,1),t.propsDefaults=Object.create(null),HF(t,e,r,o);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=s?r:bF(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function Hee(t,e,n,s){const{props:r,attrs:o,vnode:{patchFlag:a}}=t,i=fn(r),[l]=t.propsOptions;let u=!1;if((s||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(Gb(t.emitsOptions,f))continue;const h=e[f];if(l)if(Ut(o,f))h!==o[f]&&(o[f]=h,u=!0);else{const p=wa(f);r[p]=Z$(l,i,p,h,t,!1)}else h!==o[f]&&(o[f]=h,u=!0)}}}else{HF(t,e,r,o)&&(u=!0);let c;for(const d in i)(!e||!Ut(e,d)&&((c=ac(d))===d||!Ut(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=Z$(l,i,d,void 0,t,!0)):delete r[d]);if(o!==i)for(const d in o)(!e||!Ut(e,d)&&!0)&&(delete o[d],u=!0)}u&&wl(t,"set","$attrs")}function HF(t,e,n,s){const[r,o]=t.propsOptions;let a=!1,i;if(e)for(let l in e){if(Mv(l))continue;const u=e[l];let c;r&&Ut(r,c=wa(l))?!o||!o.includes(c)?n[c]=u:(i||(i={}))[c]=u:Gb(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,a=!0)}if(o){const l=fn(n),u=i||rs;for(let c=0;c<o.length;c++){const d=o[c];n[d]=Z$(r,l,d,u[d],t,!Ut(u,d))}}return a}function Z$(t,e,n,s,r,o){const a=t[n];if(a!=null){const i=Ut(a,"default");if(i&&s===void 0){const l=a.default;if(a.type!==Function&&vt(l)){const{propsDefaults:u}=r;n in u?s=u[n]:(oh(r),s=u[n]=l.call(null,e),sd())}else s=l}a[0]&&(o&&!i?s=!1:a[1]&&(s===""||s===ac(n))&&(s=!0))}return s}function WF(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const o=t.props,a={},i=[];let l=!1;if(!vt(t)){const c=d=>{l=!0;const[f,h]=WF(d,e,!0);rr(a,f),h&&i.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return Bt(t)&&s.set(t,Bf),Bf;if(Qe(o))for(let c=0;c<o.length;c++){const d=wa(o[c]);f5(d)&&(a[d]=rs)}else if(o)for(const c in o){const d=wa(c);if(f5(d)){const f=o[c],h=a[d]=Qe(f)||vt(f)?{type:f}:Object.assign({},f);if(h){const p=m5(Boolean,h.type),m=m5(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||Ut(h,"default"))&&i.push(d)}}}const u=[a,i];return Bt(t)&&s.set(t,u),u}function f5(t){return t[0]!=="$"}function h5(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function p5(t,e){return h5(t)===h5(e)}function m5(t,e){return Qe(e)?e.findIndex(n=>p5(n,t)):vt(e)&&p5(e,t)?0:-1}const UF=t=>t[0]==="_"||t==="$stable",sC=t=>Qe(t)?t.map(pi):[pi(t)],Wee=(t,e,n)=>{if(e._n)return e;const s=ce((...r)=>sC(e(...r)),n);return s._c=!1,s},GF=(t,e,n)=>{const s=t._ctx;for(const r in t){if(UF(r))continue;const o=t[r];if(vt(o))e[r]=Wee(r,o,s);else if(o!=null){const a=sC(o);e[r]=()=>a}}},jF=(t,e)=>{const n=sC(e);t.slots.default=()=>n},Uee=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=fn(e),wy(e,"_",n)):GF(e,t.slots={})}else t.slots={},e&&jF(t,e);wy(t.slots,Xb,1)},Gee=(t,e,n)=>{const{vnode:s,slots:r}=t;let o=!0,a=rs;if(s.shapeFlag&32){const i=e._;i?n&&i===1?o=!1:(rr(r,e),!n&&i===1&&delete r._):(o=!e.$stable,GF(e,r)),a=e}else e&&(jF(t,e),a={default:1});if(o)for(const i in r)!UF(i)&&!(i in a)&&delete r[i]};function KF(){return{app:null,config:{isNativeTag:NQ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jee=0;function Kee(t,e){return function(s,r=null){vt(s)||(s=Object.assign({},s)),r!=null&&!Bt(r)&&(r=null);const o=KF(),a=new Set;let i=!1;const l=o.app={_uid:jee++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:hte,get config(){return o.config},set config(u){},use(u,...c){return a.has(u)||(u&&vt(u.install)?(a.add(u),u.install(l,...c)):vt(u)&&(a.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,d){if(!i){const f=se(s,r);return f.appContext=o,c&&e?e(f,u):t(f,u,d),i=!0,l._container=u,u.__vue_app__=l,Zb(f.component)||f.component.proxy}},unmount(){i&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l}};return l}}function J$(t,e,n,s,r=!1){if(Qe(t)){t.forEach((f,h)=>J$(f,e&&(Qe(e)?e[h]:e),n,s,r));return}if(e0(s)&&!r)return;const o=s.shapeFlag&4?Zb(s.component)||s.component.proxy:s.el,a=r?null:o,{i,r:l}=t,u=e&&e.r,c=i.refs===rs?i.refs={}:i.refs,d=i.setupState;if(u!=null&&u!==l&&(wt(u)?(c[u]=null,Ut(d,u)&&(d[u]=null)):kn(u)&&(u.value=null)),vt(l))Ru(l,i,12,[a,c]);else{const f=wt(l),h=kn(l);if(f||h){const p=()=>{if(t.f){const m=f?Ut(d,l)?d[l]:c[l]:l.value;r?Qe(m)&&BS(m,o):Qe(m)?m.includes(o)||m.push(o):f?(c[l]=[o],Ut(d,l)&&(d[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else f?(c[l]=a,Ut(d,l)&&(d[l]=a)):h&&(l.value=a,t.k&&(c[t.k]=a))};a?(p.id=-1,ao(p,n)):p()}}}const ao=See;function qee(t){return Xee(t)}function Xee(t,e){const n=RQ();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:a,createText:i,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=gn,insertStaticContent:p}=t,m=(K,re,we,Ie=null,De=null,_e=null,ze=!1,Ae=null,he=!!re.dynamicChildren)=>{if(K===re)return;K&&!Pc(K,re)&&(Ie=ee(K),j(K,De,_e,!0),K=null),re.patchFlag===-2&&(he=!1,re.dynamicChildren=null);const{type:ve,ref:me,shapeFlag:Ve}=re;switch(ve){case Xh:g(K,re,we,Ie);break;case Gr:y(K,re,we,Ie);break;case zv:K==null&&w(re,we,Ie,ze);break;case lt:R(K,re,we,Ie,De,_e,ze,Ae,he);break;default:Ve&1?$(K,re,we,Ie,De,_e,ze,Ae,he):Ve&6?D(K,re,we,Ie,De,_e,ze,Ae,he):(Ve&64||Ve&128)&&ve.process(K,re,we,Ie,De,_e,ze,Ae,he,ie)}me!=null&&De&&J$(me,K&&K.ref,_e,re||K,!re)},g=(K,re,we,Ie)=>{if(K==null)s(re.el=i(re.children),we,Ie);else{const De=re.el=K.el;re.children!==K.children&&u(De,re.children)}},y=(K,re,we,Ie)=>{K==null?s(re.el=l(re.children||""),we,Ie):re.el=K.el},w=(K,re,we,Ie)=>{[K.el,K.anchor]=p(K.children,re,we,Ie,K.el,K.anchor)},b=({el:K,anchor:re},we,Ie)=>{let De;for(;K&&K!==re;)De=f(K),s(K,we,Ie),K=De;s(re,we,Ie)},_=({el:K,anchor:re})=>{let we;for(;K&&K!==re;)we=f(K),r(K),K=we;r(re)},$=(K,re,we,Ie,De,_e,ze,Ae,he)=>{ze=ze||re.type==="svg",K==null?x(re,we,Ie,De,_e,ze,Ae,he):T(K,re,De,_e,ze,Ae,he)},x=(K,re,we,Ie,De,_e,ze,Ae)=>{let he,ve;const{type:me,props:Ve,shapeFlag:Ye,transition:Je,dirs:ct}=K;if(he=K.el=a(K.type,_e,Ve&&Ve.is,Ve),Ye&8?c(he,K.children):Ye&16&&C(K.children,he,null,Ie,De,_e&&me!=="foreignObject",ze,Ae),ct&&xc(K,null,Ie,"created"),Ve){for(const dt in Ve)dt!=="value"&&!Mv(dt)&&o(he,dt,null,Ve[dt],_e,K.children,Ie,De,oe);"value"in Ve&&o(he,"value",null,Ve.value),(ve=Ve.onVnodeBeforeMount)&&hi(ve,Ie,K)}k(he,K,K.scopeId,ze,Ie),ct&&xc(K,null,Ie,"beforeMount");const xt=(!De||De&&!De.pendingBranch)&&Je&&!Je.persisted;xt&&Je.beforeEnter(he),s(he,re,we),((ve=Ve&&Ve.onVnodeMounted)||xt||ct)&&ao(()=>{ve&&hi(ve,Ie,K),xt&&Je.enter(he),ct&&xc(K,null,Ie,"mounted")},De)},k=(K,re,we,Ie,De)=>{if(we&&h(K,we),Ie)for(let _e=0;_e<Ie.length;_e++)h(K,Ie[_e]);if(De){let _e=De.subTree;if(re===_e){const ze=De.vnode;k(K,ze,ze.scopeId,ze.slotScopeIds,De.parent)}}},C=(K,re,we,Ie,De,_e,ze,Ae,he=0)=>{for(let ve=he;ve<K.length;ve++){const me=K[ve]=Ae?vu(K[ve]):pi(K[ve]);m(null,me,re,we,Ie,De,_e,ze,Ae)}},T=(K,re,we,Ie,De,_e,ze)=>{const Ae=re.el=K.el;let{patchFlag:he,dynamicChildren:ve,dirs:me}=re;he|=K.patchFlag&16;const Ve=K.props||rs,Ye=re.props||rs;let Je;we&&Sc(we,!1),(Je=Ye.onVnodeBeforeUpdate)&&hi(Je,we,re,K),me&&xc(re,K,we,"beforeUpdate"),we&&Sc(we,!0);const ct=De&&re.type!=="foreignObject";if(ve?N(K.dynamicChildren,ve,Ae,we,Ie,ct,_e):ze||F(K,re,Ae,null,we,Ie,ct,_e,!1),he>0){if(he&16)M(Ae,re,Ve,Ye,we,Ie,De);else if(he&2&&Ve.class!==Ye.class&&o(Ae,"class",null,Ye.class,De),he&4&&o(Ae,"style",Ve.style,Ye.style,De),he&8){const xt=re.dynamicProps;for(let dt=0;dt<xt.length;dt++){const xe=xt[dt],Ke=Ve[xe],at=Ye[xe];(at!==Ke||xe==="value")&&o(Ae,xe,Ke,at,De,K.children,we,Ie,oe)}}he&1&&K.children!==re.children&&c(Ae,re.children)}else!ze&&ve==null&&M(Ae,re,Ve,Ye,we,Ie,De);((Je=Ye.onVnodeUpdated)||me)&&ao(()=>{Je&&hi(Je,we,re,K),me&&xc(re,K,we,"updated")},Ie)},N=(K,re,we,Ie,De,_e,ze)=>{for(let Ae=0;Ae<re.length;Ae++){const he=K[Ae],ve=re[Ae],me=he.el&&(he.type===lt||!Pc(he,ve)||he.shapeFlag&70)?d(he.el):we;m(he,ve,me,null,Ie,De,_e,ze,!0)}},M=(K,re,we,Ie,De,_e,ze)=>{if(we!==Ie){if(we!==rs)for(const Ae in we)!Mv(Ae)&&!(Ae in Ie)&&o(K,Ae,we[Ae],null,ze,re.children,De,_e,oe);for(const Ae in Ie){if(Mv(Ae))continue;const he=Ie[Ae],ve=we[Ae];he!==ve&&Ae!=="value"&&o(K,Ae,ve,he,ze,re.children,De,_e,oe)}"value"in Ie&&o(K,"value",we.value,Ie.value)}},R=(K,re,we,Ie,De,_e,ze,Ae,he)=>{const ve=re.el=K?K.el:i(""),me=re.anchor=K?K.anchor:i("");let{patchFlag:Ve,dynamicChildren:Ye,slotScopeIds:Je}=re;Je&&(Ae=Ae?Ae.concat(Je):Je),K==null?(s(ve,we,Ie),s(me,we,Ie),C(re.children,we,me,De,_e,ze,Ae,he)):Ve>0&&Ve&64&&Ye&&K.dynamicChildren?(N(K.dynamicChildren,Ye,we,De,_e,ze,Ae),(re.key!=null||De&&re===De.subTree)&&rC(K,re,!0)):F(K,re,we,me,De,_e,ze,Ae,he)},D=(K,re,we,Ie,De,_e,ze,Ae,he)=>{re.slotScopeIds=Ae,K==null?re.shapeFlag&512?De.ctx.activate(re,we,Ie,ze,he):z(re,we,Ie,De,_e,ze,he):B(K,re,he)},z=(K,re,we,Ie,De,_e,ze)=>{const Ae=K.component=ote(K,Ie,De);if(jb(K)&&(Ae.ctx.renderer=ie),ate(Ae),Ae.asyncDep){if(De&&De.registerDep(Ae,V),!K.el){const he=Ae.subTree=se(Gr);y(null,he,re,we)}return}V(Ae,K,re,we,De,_e,ze)},B=(K,re,we)=>{const Ie=re.component=K.component;if(_ee(K,re,we))if(Ie.asyncDep&&!Ie.asyncResolved){O(Ie,re,we);return}else Ie.next=re,mee(Ie.update),Ie.update();else re.el=K.el,Ie.vnode=re},V=(K,re,we,Ie,De,_e,ze)=>{const Ae=()=>{if(K.isMounted){let{next:me,bu:Ve,u:Ye,parent:Je,vnode:ct}=K,xt=me,dt;Sc(K,!1),me?(me.el=ct.el,O(K,me,ze)):me=ct,Ve&&Lv(Ve),(dt=me.props&&me.props.onVnodeBeforeUpdate)&&hi(dt,Je,me,ct),Sc(K,!0);const xe=N4(K),Ke=K.subTree;K.subTree=xe,m(Ke,xe,d(Ke.el),ee(Ke),K,De,_e),me.el=xe.el,xt===null&&$ee(K,xe.el),Ye&&ao(Ye,De),(dt=me.props&&me.props.onVnodeUpdated)&&ao(()=>hi(dt,Je,me,ct),De)}else{let me;const{el:Ve,props:Ye}=re,{bm:Je,m:ct,parent:xt}=K,dt=e0(re);if(Sc(K,!1),Je&&Lv(Je),!dt&&(me=Ye&&Ye.onVnodeBeforeMount)&&hi(me,xt,re),Sc(K,!0),Ve&&Re){const xe=()=>{K.subTree=N4(K),Re(Ve,K.subTree,K,De,null)};dt?re.type.__asyncLoader().then(()=>!K.isUnmounted&&xe()):xe()}else{const xe=K.subTree=N4(K);m(null,xe,we,Ie,K,De,_e),re.el=xe.el}if(ct&&ao(ct,De),!dt&&(me=Ye&&Ye.onVnodeMounted)){const xe=re;ao(()=>hi(me,xt,xe),De)}(re.shapeFlag&256||xt&&e0(xt.vnode)&&xt.vnode.shapeFlag&256)&&K.a&&ao(K.a,De),K.isMounted=!0,re=we=Ie=null}},he=K.effect=new WS(Ae,()=>ZS(ve),K.scope),ve=K.update=()=>he.run();ve.id=K.uid,Sc(K,!0),ve()},O=(K,re,we)=>{re.component=K;const Ie=K.vnode.props;K.vnode=re,K.next=null,Hee(K,re.props,Ie,we),Gee(K,re.children,we),Kh(),a5(),qh()},F=(K,re,we,Ie,De,_e,ze,Ae,he=!1)=>{const ve=K&&K.children,me=K?K.shapeFlag:0,Ve=re.children,{patchFlag:Ye,shapeFlag:Je}=re;if(Ye>0){if(Ye&128){G(ve,Ve,we,Ie,De,_e,ze,Ae,he);return}else if(Ye&256){L(ve,Ve,we,Ie,De,_e,ze,Ae,he);return}}Je&8?(me&16&&oe(ve,De,_e),Ve!==ve&&c(we,Ve)):me&16?Je&16?G(ve,Ve,we,Ie,De,_e,ze,Ae,he):oe(ve,De,_e,!0):(me&8&&c(we,""),Je&16&&C(Ve,we,Ie,De,_e,ze,Ae,he))},L=(K,re,we,Ie,De,_e,ze,Ae,he)=>{K=K||Bf,re=re||Bf;const ve=K.length,me=re.length,Ve=Math.min(ve,me);let Ye;for(Ye=0;Ye<Ve;Ye++){const Je=re[Ye]=he?vu(re[Ye]):pi(re[Ye]);m(K[Ye],Je,we,null,De,_e,ze,Ae,he)}ve>me?oe(K,De,_e,!0,!1,Ve):C(re,we,Ie,De,_e,ze,Ae,he,Ve)},G=(K,re,we,Ie,De,_e,ze,Ae,he)=>{let ve=0;const me=re.length;let Ve=K.length-1,Ye=me-1;for(;ve<=Ve&&ve<=Ye;){const Je=K[ve],ct=re[ve]=he?vu(re[ve]):pi(re[ve]);if(Pc(Je,ct))m(Je,ct,we,null,De,_e,ze,Ae,he);else break;ve++}for(;ve<=Ve&&ve<=Ye;){const Je=K[Ve],ct=re[Ye]=he?vu(re[Ye]):pi(re[Ye]);if(Pc(Je,ct))m(Je,ct,we,null,De,_e,ze,Ae,he);else break;Ve--,Ye--}if(ve>Ve){if(ve<=Ye){const Je=Ye+1,ct=Je<me?re[Je].el:Ie;for(;ve<=Ye;)m(null,re[ve]=he?vu(re[ve]):pi(re[ve]),we,ct,De,_e,ze,Ae,he),ve++}}else if(ve>Ye)for(;ve<=Ve;)j(K[ve],De,_e,!0),ve++;else{const Je=ve,ct=ve,xt=new Map;for(ve=ct;ve<=Ye;ve++){const We=re[ve]=he?vu(re[ve]):pi(re[ve]);We.key!=null&&xt.set(We.key,ve)}let dt,xe=0;const Ke=Ye-ct+1;let at=!1,Y=0;const de=new Array(Ke);for(ve=0;ve<Ke;ve++)de[ve]=0;for(ve=Je;ve<=Ve;ve++){const We=K[ve];if(xe>=Ke){j(We,De,_e,!0);continue}let Ft;if(We.key!=null)Ft=xt.get(We.key);else for(dt=ct;dt<=Ye;dt++)if(de[dt-ct]===0&&Pc(We,re[dt])){Ft=dt;break}Ft===void 0?j(We,De,_e,!0):(de[Ft-ct]=ve+1,Ft>=Y?Y=Ft:at=!0,m(We,re[Ft],we,null,De,_e,ze,Ae,he),xe++)}const Pe=at?Yee(de):Bf;for(dt=Pe.length-1,ve=Ke-1;ve>=0;ve--){const We=ct+ve,Ft=re[We],_n=We+1<me?re[We+1].el:Ie;de[ve]===0?m(null,Ft,we,_n,De,_e,ze,Ae,he):at&&(dt<0||ve!==Pe[dt]?Z(Ft,we,_n,2):dt--)}}},Z=(K,re,we,Ie,De=null)=>{const{el:_e,type:ze,transition:Ae,children:he,shapeFlag:ve}=K;if(ve&6){Z(K.component.subTree,re,we,Ie);return}if(ve&128){K.suspense.move(re,we,Ie);return}if(ve&64){ze.move(K,re,we,ie);return}if(ze===lt){s(_e,re,we);for(let Ve=0;Ve<he.length;Ve++)Z(he[Ve],re,we,Ie);s(K.anchor,re,we);return}if(ze===zv){b(K,re,we);return}if(Ie!==2&&ve&1&&Ae)if(Ie===0)Ae.beforeEnter(_e),s(_e,re,we),ao(()=>Ae.enter(_e),De);else{const{leave:Ve,delayLeave:Ye,afterLeave:Je}=Ae,ct=()=>s(_e,re,we),xt=()=>{Ve(_e,()=>{ct(),Je&&Je()})};Ye?Ye(_e,ct,xt):xt()}else s(_e,re,we)},j=(K,re,we,Ie=!1,De=!1)=>{const{type:_e,props:ze,ref:Ae,children:he,dynamicChildren:ve,shapeFlag:me,patchFlag:Ve,dirs:Ye}=K;if(Ae!=null&&J$(Ae,null,we,K,!0),me&256){re.ctx.deactivate(K);return}const Je=me&1&&Ye,ct=!e0(K);let xt;if(ct&&(xt=ze&&ze.onVnodeBeforeUnmount)&&hi(xt,re,K),me&6)X(K.component,we,Ie);else{if(me&128){K.suspense.unmount(we,Ie);return}Je&&xc(K,null,re,"beforeUnmount"),me&64?K.type.remove(K,re,we,De,ie,Ie):ve&&(_e!==lt||Ve>0&&Ve&64)?oe(ve,re,we,!1,!0):(_e===lt&&Ve&384||!De&&me&16)&&oe(he,re,we),Ie&&J(K)}(ct&&(xt=ze&&ze.onVnodeUnmounted)||Je)&&ao(()=>{xt&&hi(xt,re,K),Je&&xc(K,null,re,"unmounted")},we)},J=K=>{const{type:re,el:we,anchor:Ie,transition:De}=K;if(re===lt){fe(we,Ie);return}if(re===zv){_(K);return}const _e=()=>{r(we),De&&!De.persisted&&De.afterLeave&&De.afterLeave()};if(K.shapeFlag&1&&De&&!De.persisted){const{leave:ze,delayLeave:Ae}=De,he=()=>ze(we,_e);Ae?Ae(K.el,_e,he):he()}else _e()},fe=(K,re)=>{let we;for(;K!==re;)we=f(K),r(K),K=we;r(re)},X=(K,re,we)=>{const{bum:Ie,scope:De,update:_e,subTree:ze,um:Ae}=K;Ie&&Lv(Ie),De.stop(),_e&&(_e.active=!1,j(ze,K,re,we)),Ae&&ao(Ae,re),ao(()=>{K.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},oe=(K,re,we,Ie=!1,De=!1,_e=0)=>{for(let ze=_e;ze<K.length;ze++)j(K[ze],re,we,Ie,De)},ee=K=>K.shapeFlag&6?ee(K.component.subTree):K.shapeFlag&128?K.suspense.next():f(K.anchor||K.el),Q=(K,re,we)=>{K==null?re._vnode&&j(re._vnode,null,null,!0):m(re._vnode||null,K,re,null,null,null,we),a5(),NF(),re._vnode=K},ie={p:m,um:j,m:Z,r:J,mt:z,mc:C,pc:F,pbc:N,n:ee,o:t};let pe,Re;return e&&([pe,Re]=e(ie)),{render:Q,hydrate:pe,createApp:Kee(Q,pe)}}function Sc({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function rC(t,e,n=!1){const s=t.children,r=e.children;if(Qe(s)&&Qe(r))for(let o=0;o<s.length;o++){const a=s[o];let i=r[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[o]=vu(r[o]),i.el=a.el),n||rC(a,i)),i.type===Xh&&(i.el=a.el)}}function Yee(t){const e=t.slice(),n=[0];let s,r,o,a,i;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(r=n[n.length-1],t[r]<u){e[s]=r,n.push(s);continue}for(o=0,a=n.length-1;o<a;)i=o+a>>1,t[n[i]]<u?o=i+1:a=i;u<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}const Zee=t=>t.__isTeleport,n0=t=>t&&(t.disabled||t.disabled===""),g5=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Q$=(t,e)=>{const n=t&&t.to;return wt(n)?e?e(n):null:n},Jee={__isTeleport:!0,process(t,e,n,s,r,o,a,i,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:g}}=u,y=n0(e.props);let{shapeFlag:w,children:b,dynamicChildren:_}=e;if(t==null){const $=e.el=m(""),x=e.anchor=m("");h($,n,s),h(x,n,s);const k=e.target=Q$(e.props,p),C=e.targetAnchor=m("");k&&(h(C,k),a=a||g5(k));const T=(N,M)=>{w&16&&c(b,N,M,r,o,a,i,l)};y?T(n,x):k&&T(k,C)}else{e.el=t.el;const $=e.anchor=t.anchor,x=e.target=t.target,k=e.targetAnchor=t.targetAnchor,C=n0(t.props),T=C?n:x,N=C?$:k;if(a=a||g5(x),_?(f(t.dynamicChildren,_,T,r,o,a,i),rC(t,e,!0)):l||d(t,e,T,N,r,o,a,i,!1),y)C||J2(e,n,$,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=Q$(e.props,p);M&&J2(e,M,null,u,0)}else C&&J2(e,x,k,u,1)}qF(e)},remove(t,e,n,s,{um:r,o:{remove:o}},a){const{shapeFlag:i,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&o(c),(a||!n0(f))&&(o(u),i&16))for(let h=0;h<l.length;h++){const p=l[h];r(p,e,n,!0,!!p.dynamicChildren)}},move:J2,hydrate:Qee};function J2(t,e,n,{o:{insert:s},m:r},o=2){o===0&&s(t.targetAnchor,e,n);const{el:a,anchor:i,shapeFlag:l,children:u,props:c}=t,d=o===2;if(d&&s(a,e,n),(!d||n0(c))&&l&16)for(let f=0;f<u.length;f++)r(u[f],e,n,2);d&&s(i,e,n)}function Qee(t,e,n,s,r,o,{o:{nextSibling:a,parentNode:i,querySelector:l}},u){const c=e.target=Q$(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(n0(e.props))e.anchor=u(a(t),e,i(t),n,s,r,o),e.targetAnchor=d;else{e.anchor=a(t);let f=d;for(;f;)if(f=a(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&a(e.targetAnchor);break}u(d,e,c,n,s,r,o)}qF(e)}return e.anchor&&a(e.anchor)}const kg=Jee;function qF(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const lt=Symbol(void 0),Xh=Symbol(void 0),Gr=Symbol(void 0),zv=Symbol(void 0),s0=[];let Ua=null;function S(t=!1){s0.push(Ua=t?null:[])}function ete(){s0.pop(),Ua=s0[s0.length-1]||null}let T0=1;function v5(t){T0+=t}function XF(t){return t.dynamicChildren=T0>0?Ua||Bf:null,ete(),T0>0&&Ua&&Ua.push(t),t}function I(t,e,n,s,r,o){return XF(E(t,e,n,s,r,o,!0))}function $e(t,e,n,s,r){return XF(se(t,e,n,s,r,!0))}function Bn(t){return t?t.__v_isVNode===!0:!1}function Pc(t,e){return t.type===e.type&&t.key===e.key}const Xb="__vInternal",YF=({key:t})=>t??null,Bv=({ref:t,ref_key:e,ref_for:n})=>t!=null?wt(t)||kn(t)||vt(t)?{i:gr,r:t,k:e,f:!!n}:t:null;function E(t,e=null,n=null,s=0,r=null,o=t===lt?0:1,a=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&YF(e),ref:e&&Bv(e),scopeId:AF,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:gr};return i?(oC(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=wt(n)?8:16),T0>0&&!a&&Ua&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ua.push(l),l}const se=tte;function tte(t,e=null,n=null,s=0,r=null,o=!1){if((!t||t===zF)&&(t=Gr),Bn(t)){const i=_l(t,e,!0);return n&&oC(i,n),T0>0&&!o&&Ua&&(i.shapeFlag&6?Ua[Ua.indexOf(t)]=i:Ua.push(i)),i.patchFlag|=-2,i}if(cte(t)&&(t=t.__vccOpts),e){e=Yb(e);let{class:i,style:l}=e;i&&!wt(i)&&(e.class=P(i)),Bt(l)&&(wF(l)&&!Qe(l)&&(l=rr({},l)),e.style=ot(l))}const a=wt(t)?1:xee(t)?128:Zee(t)?64:Bt(t)?4:vt(t)?2:0;return E(t,e,n,s,r,a,o,!0)}function Yb(t){return t?wF(t)||Xb in t?rr({},t):t:null}function _l(t,e,n=!1){const{props:s,ref:r,patchFlag:o,children:a}=t,i=e?zt(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:i,key:i&&YF(i),ref:e&&e.ref?n&&r?Qe(r)?r.concat(Bv(e)):[r,Bv(e)]:Bv(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==lt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_l(t.ssContent),ssFallback:t.ssFallback&&_l(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Jt(t=" ",e=0){return se(Xh,null,t,e)}function nte(t,e){const n=se(zv,null,t);return n.staticCount=e,n}function ge(t="",e=!1){return e?(S(),$e(Gr,null,t)):se(Gr,null,t)}function pi(t){return t==null||typeof t=="boolean"?se(Gr):Qe(t)?se(lt,null,t.slice()):typeof t=="object"?vu(t):se(Xh,null,String(t))}function vu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:_l(t)}function oC(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Qe(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),oC(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Xb in e)?e._ctx=gr:r===3&&gr&&(gr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else vt(e)?(e={default:e,_ctx:gr},n=32):(e=String(e),s&64?(n=16,e=[Jt(e)]):n=8);t.children=e,t.shapeFlag|=n}function zt(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=P([e.class,s.class]));else if(r==="style")e.style=ot([e.style,s.style]);else if(Bb(r)){const o=e[r],a=s[r];a&&o!==a&&!(Qe(o)&&o.includes(a))&&(e[r]=o?[].concat(o,a):a)}else r!==""&&(e[r]=s[r])}return e}function hi(t,e,n,s=null){va(t,e,7,[n,s])}const ste=KF();let rte=0;function ote(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||ste,o={uid:rte++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new iF(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:WF(s,r),emitsOptions:IF(s,r),emit:null,emitted:null,propsDefaults:rs,inheritAttrs:s.inheritAttrs,ctx:rs,data:rs,props:rs,attrs:rs,slots:rs,refs:rs,setupState:rs,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=yee.bind(null,o),t.ce&&t.ce(o),o}let Js=null;const Rt=()=>Js||gr,oh=t=>{Js=t,t.scope.on()},sd=()=>{Js&&Js.scope.off(),Js=null};function ZF(t){return t.vnode.shapeFlag&4}let N0=!1;function ate(t,e=!1){N0=e;const{props:n,children:s}=t.vnode,r=ZF(t);Vee(t,n,r,e),Uee(t,s);const o=r?ite(t,e):void 0;return N0=!1,o}function ite(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=nd(new Proxy(t.ctx,Fee));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?QF(t):null;oh(t),Kh();const o=Ru(s,t,0,[t.props,r]);if(qh(),sd(),b0(o)){if(o.then(sd,sd),e)return o.then(a=>{y5(t,a,e)}).catch(a=>{Ub(a,t,0)});t.asyncDep=o}else y5(t,o,e)}else JF(t,e)}function y5(t,e,n){vt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Bt(e)&&(t.setupState=xF(e)),JF(t,n)}let b5;function JF(t,e,n){const s=t.type;if(!t.render){if(!e&&b5&&!s.render){const r=s.template||nC(t).template;if(r){const{isCustomElement:o,compilerOptions:a}=t.appContext.config,{delimiters:i,compilerOptions:l}=s,u=rr(rr({isCustomElement:o,delimiters:i},a),l);s.render=b5(r,u)}}t.render=s.render||gn}oh(t),Kh(),Mee(t),qh(),sd()}function lte(t){return new Proxy(t.attrs,{get(e,n){return jo(t,"get","$attrs"),e[n]}})}function QF(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=lte(t))},slots:t.slots,emit:t.emit,expose:e}}function Zb(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(xF(nd(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in t0)return t0[n](t)},has(e,n){return n in e||n in t0}}))}function ute(t,e=!0){return vt(t)?t.displayName||t.name:t.name||e&&t.__name}function cte(t){return vt(t)&&"__vccOpts"in t}const A=(t,e)=>CF(t,e,N0);function ir(){return eM().slots}function Tg(){return eM().attrs}function eM(){const t=Rt();return t.setupContext||(t.setupContext=QF(t))}function it(t,e,n){const s=arguments.length;return s===2?Bt(e)&&!Qe(e)?Bn(e)?se(t,null,[e]):se(t,e):se(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Bn(n)&&(n=[n]),se(t,e,n))}const dte=Symbol(""),fte=()=>et(dte),hte="3.2.45",pte="http://www.w3.org/2000/svg",Lc=typeof document<"u"?document:null,w5=Lc&&Lc.createElement("template"),mte={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Lc.createElementNS(pte,t):Lc.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Lc.createTextNode(t),createComment:t=>Lc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Lc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,o){const a=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{w5.innerHTML=s?`<svg>${t}</svg>`:t;const i=w5.content;if(s){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}e.insertBefore(i,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function gte(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function vte(t,e,n){const s=t.style,r=wt(n);if(n&&!r){for(const o in n)e6(s,o,n[o]);if(e&&!wt(e))for(const o in e)n[o]==null&&e6(s,o,"")}else{const o=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=o)}}const _5=/\s*!important$/;function e6(t,e,n){if(Qe(n))n.forEach(s=>e6(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=yte(t,e);_5.test(n)?t.setProperty(ac(s),n.replace(_5,""),"important"):t[s]=n}}const $5=["Webkit","Moz","ms"],A4={};function yte(t,e){const n=A4[e];if(n)return n;let s=wa(e);if(s!=="filter"&&s in t)return A4[e]=s;s=Sg(s);for(let r=0;r<$5.length;r++){const o=$5[r]+s;if(o in t)return A4[e]=o}return e}const x5="http://www.w3.org/1999/xlink";function bte(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(x5,e.slice(6,e.length)):t.setAttributeNS(x5,e,n);else{const o=kQ(e);n==null||o&&!nF(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function wte(t,e,n,s,r,o,a){if(e==="innerHTML"||e==="textContent"){s&&a(s,r,o),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let i=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=nF(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function wu(t,e,n,s){t.addEventListener(e,n,s)}function _te(t,e,n,s){t.removeEventListener(e,n,s)}function $te(t,e,n,s,r=null){const o=t._vei||(t._vei={}),a=o[e];if(s&&a)a.value=s;else{const[i,l]=xte(e);if(s){const u=o[e]=kte(s,r);wu(t,i,u,l)}else a&&(_te(t,i,a,l),o[e]=void 0)}}const S5=/(?:Once|Passive|Capture)$/;function xte(t){let e;if(S5.test(t)){e={};let s;for(;s=t.match(S5);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ac(t.slice(2)),e]}let O4=0;const Ste=Promise.resolve(),Cte=()=>O4||(Ste.then(()=>O4=0),O4=Date.now());function kte(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;va(Tte(s,n.value),e,5,[s])};return n.value=t,n.attached=Cte(),n}function Tte(t,e){if(Qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const C5=/^on[a-z]/,Nte=(t,e,n,s,r=!1,o,a,i,l)=>{e==="class"?gte(t,s,r):e==="style"?vte(t,n,s):Bb(e)?zS(e)||$te(t,e,n,s,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ete(t,e,s,r))?wte(t,e,s,o,a,i,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),bte(t,e,s,r))};function Ete(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&C5.test(e)&&vt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||C5.test(e)&&wt(n)?!1:e in t}const ou="transition",km="animation",ms=(t,{slots:e})=>it(DF,nM(t),e);ms.displayName="Transition";const tM={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ite=ms.props=rr({},DF.props,tM),Cc=(t,e=[])=>{Qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},k5=t=>t?Qe(t)?t.some(e=>e.length>1):t.length>1:!1;function nM(t){const e={};for(const R in t)R in tM||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:i=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=a,appearToClass:c=i,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=Ate(r),m=p&&p[0],g=p&&p[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:b,onLeave:_,onLeaveCancelled:$,onBeforeAppear:x=y,onAppear:k=w,onAppearCancelled:C=b}=e,T=(R,D,z)=>{cu(R,D?c:i),cu(R,D?u:a),z&&z()},N=(R,D)=>{R._isLeaving=!1,cu(R,d),cu(R,h),cu(R,f),D&&D()},M=R=>(D,z)=>{const B=R?k:w,V=()=>T(D,R,z);Cc(B,[D,V]),T5(()=>{cu(D,R?l:o),tl(D,R?c:i),k5(B)||N5(D,s,m,V)})};return rr(e,{onBeforeEnter(R){Cc(y,[R]),tl(R,o),tl(R,a)},onBeforeAppear(R){Cc(x,[R]),tl(R,l),tl(R,u)},onEnter:M(!1),onAppear:M(!0),onLeave(R,D){R._isLeaving=!0;const z=()=>N(R,D);tl(R,d),rM(),tl(R,f),T5(()=>{!R._isLeaving||(cu(R,d),tl(R,h),k5(_)||N5(R,s,g,z))}),Cc(_,[R,z])},onEnterCancelled(R){T(R,!1),Cc(b,[R])},onAppearCancelled(R){T(R,!0),Cc(C,[R])},onLeaveCancelled(R){N(R),Cc($,[R])}})}function Ate(t){if(t==null)return null;if(Bt(t))return[R4(t.enter),R4(t.leave)];{const e=R4(t);return[e,e]}}function R4(t){return _0(t)}function tl(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function cu(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function T5(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ote=0;function N5(t,e,n,s){const r=t._endId=++Ote,o=()=>{r===t._endId&&s()};if(n)return setTimeout(o,n);const{type:a,timeout:i,propCount:l}=sM(t,e);if(!a)return s();const u=a+"end";let c=0;const d=()=>{t.removeEventListener(u,f),o()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},i+1),t.addEventListener(u,f)}function sM(t,e){const n=window.getComputedStyle(t),s=p=>(n[p]||"").split(", "),r=s(`${ou}Delay`),o=s(`${ou}Duration`),a=E5(r,o),i=s(`${km}Delay`),l=s(`${km}Duration`),u=E5(i,l);let c=null,d=0,f=0;e===ou?a>0&&(c=ou,d=a,f=o.length):e===km?u>0&&(c=km,d=u,f=l.length):(d=Math.max(a,u),c=d>0?a>u?ou:km:null,f=c?c===ou?o.length:l.length:0);const h=c===ou&&/\b(transform|all)(,|$)/.test(s(`${ou}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function E5(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>I5(n)+I5(t[s])))}function I5(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function rM(){return document.body.offsetHeight}const oM=new WeakMap,aM=new WeakMap,Rte={name:"TransitionGroup",props:rr({},Ite,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Rt(),s=RF();let r,o;return Ml(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Lte(r[0].el,n.vnode.el,a))return;r.forEach(Fte),r.forEach(Mte);const i=r.filter(Pte);rM(),i.forEach(l=>{const u=l.el,c=u.style;tl(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const d=u._moveCb=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,cu(u,a))};u.addEventListener("transitionend",d)})}),()=>{const a=fn(t),i=nM(a);let l=a.tag||lt;r=o,o=e.default?QS(e.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&k0(c,C0(c,i,s,n))}if(r)for(let u=0;u<r.length;u++){const c=r[u];k0(c,C0(c,i,s,n)),oM.set(c,c.el.getBoundingClientRect())}return se(l,null,o)}}},Dte=Rte;function Fte(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function Mte(t){aM.set(t,t.el.getBoundingClientRect())}function Pte(t){const e=oM.get(t),n=aM.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${s}px,${r}px)`,o.transitionDuration="0s",t}}function Lte(t,e,n){const s=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(i=>i&&s.classList.remove(i))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=sM(s);return r.removeChild(s),o}const ah=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Qe(e)?n=>Lv(e,n):e};function zte(t){t.target.composing=!0}function A5(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const aC={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=ah(r);const o=s||r.props&&r.props.type==="number";wu(t,e?"change":"input",a=>{if(a.target.composing)return;let i=t.value;n&&(i=i.trim()),o&&(i=_0(i)),t._assign(i)}),n&&wu(t,"change",()=>{t.value=t.value.trim()}),e||(wu(t,"compositionstart",zte),wu(t,"compositionend",A5),wu(t,"change",A5))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},o){if(t._assign=ah(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&_0(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},Sy={deep:!0,created(t,e,n){t._assign=ah(n),wu(t,"change",()=>{const s=t._modelValue,r=lM(t),o=t.checked,a=t._assign;if(Qe(s)){const i=sF(s,r),l=i!==-1;if(o&&!l)a(s.concat(r));else if(!o&&l){const u=[...s];u.splice(i,1),a(u)}}else if(Vb(s)){const i=new Set(s);o?i.add(r):i.delete(r),a(i)}else a(uM(t,o))})},mounted:O5,beforeUpdate(t,e,n){t._assign=ah(n),O5(t,e,n)}};function O5(t,{value:e,oldValue:n},s){t._modelValue=e,Qe(e)?t.checked=sF(e,s.props.value)>-1:Vb(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=nh(e,uM(t,!0)))}const iM={created(t,{value:e},n){t.checked=nh(e,n.props.value),t._assign=ah(n),wu(t,"change",()=>{t._assign(lM(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t._assign=ah(s),e!==n&&(t.checked=nh(e,s.props.value))}};function lM(t){return"_value"in t?t._value:t.value}function uM(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Bte=["ctrl","shift","alt","meta"],Vte={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Bte.some(n=>t[`${n}Key`]&&!e.includes(n))},yt=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const o=Vte[e[r]];if(o&&o(n,e))return}return t(n,...s)},Hte={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qt=(t,e)=>n=>{if(!("key"in n))return;const s=ac(n.key);if(e.some(r=>r===s||Hte[r]===s))return t(n)},Qt={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Tm(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Tm(t,!0),s.enter(t)):s.leave(t,()=>{Tm(t,!1)}):Tm(t,e))},beforeUnmount(t,{value:e}){Tm(t,e)}};function Tm(t,e){t.style.display=e?t._vod:"none"}const Wte=rr({patchProp:Nte},mte);let R5;function cM(){return R5||(R5=qee(Wte))}const ih=(...t)=>{cM().render(...t)},dM=(...t)=>{const e=cM().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=Ute(s);if(!r)return;const o=e._component;!vt(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function Ute(t){return wt(t)?document.querySelector(t):t}const Gte=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},jte={};function Kte(t,e){const n=pt("RouterView");return S(),$e(n)}const qte=Gte(jte,[["render",Kte]]);const Cf=typeof window<"u";function Xte(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const On=Object.assign;function D4(t,e){const n={};for(const s in e){const r=e[s];n[s]=Ja(r)?r.map(t):t(r)}return n}const r0=()=>{},Ja=Array.isArray,Yte=/\/$/,Zte=t=>t.replace(Yte,"");function F4(t,e,n="/"){let s,r={},o="",a="";const i=e.indexOf("#");let l=e.indexOf("?");return i<l&&i>=0&&(l=-1),l>-1&&(s=e.slice(0,l),o=e.slice(l+1,i>-1?i:e.length),r=t(o)),i>-1&&(s=s||e.slice(0,i),a=e.slice(i,e.length)),s=tne(s??e,n),{fullPath:s+(o&&"?")+o+a,path:s,query:r,hash:a}}function Jte(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function D5(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Qte(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&lh(e.matched[s],n.matched[r])&&fM(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function lh(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function fM(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!ene(t[n],e[n]))return!1;return!0}function ene(t,e){return Ja(t)?F5(t,e):Ja(e)?F5(e,t):t===e}function F5(t,e){return Ja(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function tne(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var E0;(function(t){t.pop="pop",t.push="push"})(E0||(E0={}));var o0;(function(t){t.back="back",t.forward="forward",t.unknown=""})(o0||(o0={}));function nne(t){if(!t)if(Cf){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Zte(t)}const sne=/^[^#]+#/;function rne(t,e){return t.replace(sne,"#")+e}function one(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Jb=()=>({left:window.pageXOffset,top:window.pageYOffset});function ane(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=one(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function M5(t,e){return(history.state?history.state.position-e:-1)+t}const t6=new Map;function ine(t,e){t6.set(t,e)}function lne(t){const e=t6.get(t);return t6.delete(t),e}let une=()=>location.protocol+"//"+location.host;function hM(t,e){const{pathname:n,search:s,hash:r}=e,o=t.indexOf("#");if(o>-1){let i=r.includes(t.slice(o))?t.slice(o).length:1,l=r.slice(i);return l[0]!=="/"&&(l="/"+l),D5(l,"")}return D5(n,t)+s+r}function cne(t,e,n,s){let r=[],o=[],a=null;const i=({state:f})=>{const h=hM(t,location),p=n.value,m=e.value;let g=0;if(f){if(n.value=h,e.value=f,a&&a===p){a=null;return}g=m?f.position-m.position:0}else s(h);r.forEach(y=>{y(n.value,p,{delta:g,type:E0.pop,direction:g?g>0?o0.forward:o0.back:o0.unknown})})};function l(){a=n.value}function u(f){r.push(f);const h=()=>{const p=r.indexOf(f);p>-1&&r.splice(p,1)};return o.push(h),h}function c(){const{history:f}=window;!f.state||f.replaceState(On({},f.state,{scroll:Jb()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",c),{pauseListeners:l,listen:u,destroy:d}}function P5(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Jb():null}}function dne(t){const{history:e,location:n}=window,s={value:hM(t,n)},r={value:e.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:une()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function a(l,u){const c=On({},e.state,P5(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});o(l,c,!0),s.value=l}function i(l,u){const c=On({},r.value,e.state,{forward:l,scroll:Jb()});o(c.current,c,!0);const d=On({},P5(s.value,l,null),{position:c.position+1},u);o(l,d,!1),s.value=l}return{location:s,state:r,push:i,replace:a}}function fne(t){t=nne(t);const e=dne(t),n=cne(t,e.state,e.location,e.replace);function s(o,a=!0){a||n.pauseListeners(),history.go(o)}const r=On({location:"",base:t,go:s,createHref:rne.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function hne(t){return typeof t=="string"||t&&typeof t=="object"}function pM(t){return typeof t=="string"||typeof t=="symbol"}const au={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},mM=Symbol("");var L5;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(L5||(L5={}));function uh(t,e){return On(new Error,{type:t,[mM]:!0},e)}function Qi(t,e){return t instanceof Error&&mM in t&&(e==null||!!(t.type&e))}const z5="[^/]+?",pne={sensitive:!1,strict:!1,start:!0,end:!0},mne=/[.+*?^${}()[\]/\\]/g;function gne(t,e){const n=On({},pne,e),s=[];let r=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(mne,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:g,regexp:y}=f;o.push({name:p,repeatable:m,optional:g});const w=y||z5;if(w!==z5){h+=10;try{new RegExp(`(${w})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${p}" (${w}): `+_.message)}}let b=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(b=g&&u.length<2?`(?:/${b})`:"/"+b),g&&(b+="?"),r+=b,h+=20,g&&(h+=-8),m&&(h+=-20),w===".*"&&(h+=-50)}c.push(h)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function i(u){const c=u.match(a),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=o[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:g}=h,y=p in u?u[p]:"";if(Ja(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const w=Ja(y)?y.join("/"):y;if(!w)if(g)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=w}}return c||"/"}return{re:a,score:s,keys:o,parse:i,stringify:l}}function vne(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function yne(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const o=vne(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(B5(s))return 1;if(B5(r))return-1}return r.length-s.length}function B5(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bne={type:0,value:""},wne=/[a-zA-Z0-9_]/;function _ne(t){if(!t)return[[]];if(t==="/")return[[bne]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,s=n;const r=[];let o;function a(){o&&r.push(o),o=[]}let i=0,l,u="",c="";function d(){!u||(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;i<t.length;){if(l=t[i++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:wne.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&i--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&i--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),a(),r}function $ne(t,e,n){const s=gne(_ne(t.path),n),r=On(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function xne(t,e){const n=[],s=new Map;e=W5({strict:!1,end:!0,sensitive:!1},e);function r(c){return s.get(c)}function o(c,d,f){const h=!f,p=Sne(c);p.aliasOf=f&&f.record;const m=W5(e,c),g=[p];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const _ of b)g.push(On({},p,{components:f?f.record.components:p.components,path:_,aliasOf:f?f.record:p}))}let y,w;for(const b of g){const{path:_}=b;if(d&&_[0]!=="/"){const $=d.record.path,x=$[$.length-1]==="/"?"":"/";b.path=d.record.path+(_&&x+_)}if(y=$ne(b,d,m),f?f.alias.push(y):(w=w||y,w!==y&&w.alias.push(y),h&&c.name&&!H5(y)&&a(c.name)),p.children){const $=p.children;for(let x=0;x<$.length;x++)o($[x],y,f&&f.children[x])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return w?()=>{a(w)}:r0}function a(c){if(pM(c)){const d=s.get(c);d&&(s.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&s.delete(c.record.name),c.children.forEach(a),c.alias.forEach(a))}}function i(){return n}function l(c){let d=0;for(;d<n.length&&yne(c,n[d])>=0&&(c.record.path!==n[d].record.path||!gM(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!H5(c)&&s.set(c.record.name,c)}function u(c,d){let f,h={},p,m;if("name"in c&&c.name){if(f=s.get(c.name),!f)throw uh(1,{location:c});m=f.record.name,h=On(V5(d.params,f.keys.filter(w=>!w.optional).map(w=>w.name)),c.params&&V5(c.params,f.keys.map(w=>w.name))),p=f.stringify(h)}else if("path"in c)p=c.path,f=n.find(w=>w.re.test(p)),f&&(h=f.parse(p),m=f.record.name);else{if(f=d.name?s.get(d.name):n.find(w=>w.re.test(d.path)),!f)throw uh(1,{location:c,currentLocation:d});m=f.record.name,h=On({},d.params,c.params),p=f.stringify(h)}const g=[];let y=f;for(;y;)g.unshift(y.record),y=y.parent;return{name:m,path:p,params:h,matched:g,meta:kne(g)}}return t.forEach(c=>o(c)),{addRoute:o,resolve:u,removeRoute:a,getRoutes:i,getRecordMatcher:r}}function V5(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Sne(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Cne(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Cne(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function H5(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function kne(t){return t.reduce((e,n)=>On(e,n.meta),{})}function W5(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function gM(t,e){return e.children.some(n=>n===t||gM(t,n))}const vM=/#/g,Tne=/&/g,Nne=/\//g,Ene=/=/g,Ine=/\?/g,yM=/\+/g,Ane=/%5B/g,One=/%5D/g,bM=/%5E/g,Rne=/%60/g,wM=/%7B/g,Dne=/%7C/g,_M=/%7D/g,Fne=/%20/g;function iC(t){return encodeURI(""+t).replace(Dne,"|").replace(Ane,"[").replace(One,"]")}function Mne(t){return iC(t).replace(wM,"{").replace(_M,"}").replace(bM,"^")}function n6(t){return iC(t).replace(yM,"%2B").replace(Fne,"+").replace(vM,"%23").replace(Tne,"%26").replace(Rne,"`").replace(wM,"{").replace(_M,"}").replace(bM,"^")}function Pne(t){return n6(t).replace(Ene,"%3D")}function Lne(t){return iC(t).replace(vM,"%23").replace(Ine,"%3F")}function zne(t){return t==null?"":Lne(t).replace(Nne,"%2F")}function Cy(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Bne(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(yM," "),a=o.indexOf("="),i=Cy(a<0?o:o.slice(0,a)),l=a<0?null:Cy(o.slice(a+1));if(i in e){let u=e[i];Ja(u)||(u=e[i]=[u]),u.push(l)}else e[i]=l}return e}function U5(t){let e="";for(let n in t){const s=t[n];if(n=Pne(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ja(s)?s.map(o=>o&&n6(o)):[s&&n6(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Vne(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ja(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const Hne=Symbol(""),G5=Symbol(""),lC=Symbol(""),$M=Symbol(""),s6=Symbol("");function Nm(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function yu(t,e,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,i)=>{const l=d=>{d===!1?i(uh(4,{from:n,to:e})):d instanceof Error?i(d):hne(d)?i(uh(2,{from:e,to:d})):(o&&s.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},u=t.call(s&&s.instances[r],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch(d=>i(d))})}function M4(t,e,n,s){const r=[];for(const o of t)for(const a in o.components){let i=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Wne(i)){const u=(i.__vccOpts||i)[e];u&&r.push(yu(u,n,s,o,a))}else{let l=i();r.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const c=Xte(u)?u.default:u;o.components[a]=c;const f=(c.__vccOpts||c)[e];return f&&yu(f,n,s,o,a)()}))}}return r}function Wne(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function j5(t){const e=et(lC),n=et($M),s=A(()=>e.resolve(v(t.to))),r=A(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(lh.bind(null,c));if(f>-1)return f;const h=K5(l[u-2]);return u>1&&K5(c)===h&&d[d.length-1].path!==h?d.findIndex(lh.bind(null,l[u-2])):f}),o=A(()=>r.value>-1&&Kne(n.params,s.value.params)),a=A(()=>r.value>-1&&r.value===n.matched.length-1&&fM(n.params,s.value.params));function i(l={}){return jne(l)?e[v(t.replace)?"replace":"push"](v(t.to)).catch(r0):Promise.resolve()}return{route:s,href:A(()=>s.value.href),isActive:o,isExactActive:a,navigate:i}}const Une=ue({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:j5,setup(t,{slots:e}){const n=on(j5(t)),{options:s}=et(lC),r=A(()=>({[q5(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[q5(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:it("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Gne=Une;function jne(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Kne(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ja(r)||r.length!==s.length||s.some((o,a)=>o!==r[a]))return!1}return!0}function K5(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const q5=(t,e,n)=>t??e??n,qne=ue({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=et(s6),r=A(()=>t.route||s.value),o=et(G5,0),a=A(()=>{let u=v(o);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),i=A(()=>r.value.matched[a.value]);Lt(G5,A(()=>a.value+1)),Lt(Hne,i),Lt(s6,r);const l=U();return Me(()=>[l.value,i.value,t.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!lh(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,d=i.value,f=d&&d.components[c];if(!f)return X5(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=it(f,On({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return X5(n.default,{Component:g,route:u})||g}}});function X5(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Xne=qne;function Yne(t){const e=xne(t.routes,t),n=t.parseQuery||Bne,s=t.stringifyQuery||U5,r=t.history,o=Nm(),a=Nm(),i=Nm(),l=Nn(au);let u=au;Cf&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=D4.bind(null,X=>""+X),d=D4.bind(null,zne),f=D4.bind(null,Cy);function h(X,oe){let ee,Q;return pM(X)?(ee=e.getRecordMatcher(X),Q=oe):Q=X,e.addRoute(Q,ee)}function p(X){const oe=e.getRecordMatcher(X);oe&&e.removeRoute(oe)}function m(){return e.getRoutes().map(X=>X.record)}function g(X){return!!e.getRecordMatcher(X)}function y(X,oe){if(oe=On({},oe||l.value),typeof X=="string"){const K=F4(n,X,oe.path),re=e.resolve({path:K.path},oe),we=r.createHref(K.fullPath);return On(K,re,{params:f(re.params),hash:Cy(K.hash),redirectedFrom:void 0,href:we})}let ee;if("path"in X)ee=On({},X,{path:F4(n,X.path,oe.path).path});else{const K=On({},X.params);for(const re in K)K[re]==null&&delete K[re];ee=On({},X,{params:d(X.params)}),oe.params=d(oe.params)}const Q=e.resolve(ee,oe),ie=X.hash||"";Q.params=c(f(Q.params));const pe=Jte(s,On({},X,{hash:Mne(ie),path:Q.path})),Re=r.createHref(pe);return On({fullPath:pe,hash:ie,query:s===U5?Vne(X.query):X.query||{}},Q,{redirectedFrom:void 0,href:Re})}function w(X){return typeof X=="string"?F4(n,X,l.value.path):On({},X)}function b(X,oe){if(u!==X)return uh(8,{from:oe,to:X})}function _(X){return k(X)}function $(X){return _(On(w(X),{replace:!0}))}function x(X){const oe=X.matched[X.matched.length-1];if(oe&&oe.redirect){const{redirect:ee}=oe;let Q=typeof ee=="function"?ee(X):ee;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=w(Q):{path:Q},Q.params={}),On({query:X.query,hash:X.hash,params:"path"in Q?{}:X.params},Q)}}function k(X,oe){const ee=u=y(X),Q=l.value,ie=X.state,pe=X.force,Re=X.replace===!0,K=x(ee);if(K)return k(On(w(K),{state:typeof K=="object"?On({},ie,K.state):ie,force:pe,replace:Re}),oe||ee);const re=ee;re.redirectedFrom=oe;let we;return!pe&&Qte(s,Q,ee)&&(we=uh(16,{to:re,from:Q}),G(Q,Q,!0,!1)),(we?Promise.resolve(we):T(re,Q)).catch(Ie=>Qi(Ie)?Qi(Ie,2)?Ie:L(Ie):O(Ie,re,Q)).then(Ie=>{if(Ie){if(Qi(Ie,2))return k(On({replace:Re},w(Ie.to),{state:typeof Ie.to=="object"?On({},ie,Ie.to.state):ie,force:pe}),oe||re)}else Ie=M(re,Q,!0,Re,ie);return N(re,Q,Ie),Ie})}function C(X,oe){const ee=b(X,oe);return ee?Promise.reject(ee):Promise.resolve()}function T(X,oe){let ee;const[Q,ie,pe]=Zne(X,oe);ee=M4(Q.reverse(),"beforeRouteLeave",X,oe);for(const K of Q)K.leaveGuards.forEach(re=>{ee.push(yu(re,X,oe))});const Re=C.bind(null,X,oe);return ee.push(Re),yf(ee).then(()=>{ee=[];for(const K of o.list())ee.push(yu(K,X,oe));return ee.push(Re),yf(ee)}).then(()=>{ee=M4(ie,"beforeRouteUpdate",X,oe);for(const K of ie)K.updateGuards.forEach(re=>{ee.push(yu(re,X,oe))});return ee.push(Re),yf(ee)}).then(()=>{ee=[];for(const K of X.matched)if(K.beforeEnter&&!oe.matched.includes(K))if(Ja(K.beforeEnter))for(const re of K.beforeEnter)ee.push(yu(re,X,oe));else ee.push(yu(K.beforeEnter,X,oe));return ee.push(Re),yf(ee)}).then(()=>(X.matched.forEach(K=>K.enterCallbacks={}),ee=M4(pe,"beforeRouteEnter",X,oe),ee.push(Re),yf(ee))).then(()=>{ee=[];for(const K of a.list())ee.push(yu(K,X,oe));return ee.push(Re),yf(ee)}).catch(K=>Qi(K,8)?K:Promise.reject(K))}function N(X,oe,ee){for(const Q of i.list())Q(X,oe,ee)}function M(X,oe,ee,Q,ie){const pe=b(X,oe);if(pe)return pe;const Re=oe===au,K=Cf?history.state:{};ee&&(Q||Re?r.replace(X.fullPath,On({scroll:Re&&K&&K.scroll},ie)):r.push(X.fullPath,ie)),l.value=X,G(X,oe,ee,Re),L()}let R;function D(){R||(R=r.listen((X,oe,ee)=>{if(!fe.listening)return;const Q=y(X),ie=x(Q);if(ie){k(On(ie,{replace:!0}),Q).catch(r0);return}u=Q;const pe=l.value;Cf&&ine(M5(pe.fullPath,ee.delta),Jb()),T(Q,pe).catch(Re=>Qi(Re,12)?Re:Qi(Re,2)?(k(Re.to,Q).then(K=>{Qi(K,20)&&!ee.delta&&ee.type===E0.pop&&r.go(-1,!1)}).catch(r0),Promise.reject()):(ee.delta&&r.go(-ee.delta,!1),O(Re,Q,pe))).then(Re=>{Re=Re||M(Q,pe,!1),Re&&(ee.delta&&!Qi(Re,8)?r.go(-ee.delta,!1):ee.type===E0.pop&&Qi(Re,20)&&r.go(-1,!1)),N(Q,pe,Re)}).catch(r0)}))}let z=Nm(),B=Nm(),V;function O(X,oe,ee){L(X);const Q=B.list();return Q.length?Q.forEach(ie=>ie(X,oe,ee)):console.error(X),Promise.reject(X)}function F(){return V&&l.value!==au?Promise.resolve():new Promise((X,oe)=>{z.add([X,oe])})}function L(X){return V||(V=!X,D(),z.list().forEach(([oe,ee])=>X?ee(X):oe()),z.reset()),X}function G(X,oe,ee,Q){const{scrollBehavior:ie}=t;if(!Cf||!ie)return Promise.resolve();const pe=!ee&&lne(M5(X.fullPath,0))||(Q||!ee)&&history.state&&history.state.scroll||null;return nt().then(()=>ie(X,oe,pe)).then(Re=>Re&&ane(Re)).catch(Re=>O(Re,X,oe))}const Z=X=>r.go(X);let j;const J=new Set,fe={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:g,getRoutes:m,resolve:y,options:t,push:_,replace:$,go:Z,back:()=>Z(-1),forward:()=>Z(1),beforeEach:o.add,beforeResolve:a.add,afterEach:i.add,onError:B.add,isReady:F,install(X){const oe=this;X.component("RouterLink",Gne),X.component("RouterView",Xne),X.config.globalProperties.$router=oe,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>v(l)}),Cf&&!j&&l.value===au&&(j=!0,_(r.location).catch(ie=>{}));const ee={};for(const ie in au)ee[ie]=A(()=>l.value[ie]);X.provide(lC,oe),X.provide($M,on(ee)),X.provide(s6,l);const Q=X.unmount;J.add(X),X.unmount=function(){J.delete(X),J.size<1&&(u=au,R&&R(),R=null,l.value=au,j=!1,V=!1),Q()}}};return fe}function yf(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function Zne(t,e){const n=[],s=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const i=e.matched[a];i&&(t.matched.find(u=>lh(u,i))?s.push(i):n.push(i));const l=t.matched[a];l&&(e.matched.find(u=>lh(u,l))||r.push(l))}return[n,s,r]}const Jne="/assets/banner-ce035999.jpg";var Qne=typeof global=="object"&&global&&global.Object===Object&&global;const xM=Qne;var ese=typeof self=="object"&&self&&self.Object===Object&&self,tse=xM||ese||Function("return this")();const ri=tse;var nse=ri.Symbol;const _a=nse;var SM=Object.prototype,sse=SM.hasOwnProperty,rse=SM.toString,Em=_a?_a.toStringTag:void 0;function ose(t){var e=sse.call(t,Em),n=t[Em];try{t[Em]=void 0;var s=!0}catch{}var r=rse.call(t);return s&&(e?t[Em]=n:delete t[Em]),r}var ase=Object.prototype,ise=ase.toString;function lse(t){return ise.call(t)}var use="[object Null]",cse="[object Undefined]",Y5=_a?_a.toStringTag:void 0;function Yh(t){return t==null?t===void 0?cse:use:Y5&&Y5 in Object(t)?ose(t):lse(t)}function $l(t){return t!=null&&typeof t=="object"}var dse="[object Symbol]";function Qb(t){return typeof t=="symbol"||$l(t)&&Yh(t)==dse}function CM(t,e){for(var n=-1,s=t==null?0:t.length,r=Array(s);++n<s;)r[n]=e(t[n],n,t);return r}var fse=Array.isArray;const Ko=fse;var hse=1/0,Z5=_a?_a.prototype:void 0,J5=Z5?Z5.toString:void 0;function kM(t){if(typeof t=="string")return t;if(Ko(t))return CM(t,kM)+"";if(Qb(t))return J5?J5.call(t):"";var e=t+"";return e=="0"&&1/t==-hse?"-0":e}var pse=/\s/;function mse(t){for(var e=t.length;e--&&pse.test(t.charAt(e)););return e}var gse=/^\s+/;function vse(t){return t&&t.slice(0,mse(t)+1).replace(gse,"")}function $a(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Q5=0/0,yse=/^[-+]0x[0-9a-f]+$/i,bse=/^0b[01]+$/i,wse=/^0o[0-7]+$/i,_se=parseInt;function eA(t){if(typeof t=="number")return t;if(Qb(t))return Q5;if($a(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$a(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vse(t);var n=bse.test(t);return n||wse.test(t)?_se(t.slice(2),n?2:8):yse.test(t)?Q5:+t}function uC(t){return t}var $se="[object AsyncFunction]",xse="[object Function]",Sse="[object GeneratorFunction]",Cse="[object Proxy]";function TM(t){if(!$a(t))return!1;var e=Yh(t);return e==xse||e==Sse||e==$se||e==Cse}var kse=ri["__core-js_shared__"];const P4=kse;var tA=function(){var t=/[^.]+$/.exec(P4&&P4.keys&&P4.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Tse(t){return!!tA&&tA in t}var Nse=Function.prototype,Ese=Nse.toString;function Yd(t){if(t!=null){try{return Ese.call(t)}catch{}try{return t+""}catch{}}return""}var Ise=/[\\^$.*+?()[\]{}|]/g,Ase=/^\[object .+?Constructor\]$/,Ose=Function.prototype,Rse=Object.prototype,Dse=Ose.toString,Fse=Rse.hasOwnProperty,Mse=RegExp("^"+Dse.call(Fse).replace(Ise,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pse(t){if(!$a(t)||Tse(t))return!1;var e=TM(t)?Mse:Ase;return e.test(Yd(t))}function Lse(t,e){return t==null?void 0:t[e]}function Zd(t,e){var n=Lse(t,e);return Pse(n)?n:void 0}var zse=Zd(ri,"WeakMap");const r6=zse;var nA=Object.create,Bse=function(){function t(){}return function(e){if(!$a(e))return{};if(nA)return nA(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Vse=Bse;function Hse(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Wse(){}function Use(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var Gse=800,jse=16,Kse=Date.now;function qse(t){var e=0,n=0;return function(){var s=Kse(),r=jse-(s-n);if(n=s,r>0){if(++e>=Gse)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Xse(t){return function(){return t}}var Yse=function(){try{var t=Zd(Object,"defineProperty");return t({},"",{}),t}catch{}}();const ky=Yse;var Zse=ky?function(t,e){return ky(t,"toString",{configurable:!0,enumerable:!1,value:Xse(e),writable:!0})}:uC;const Jse=Zse;var Qse=qse(Jse);const NM=Qse;function ere(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}function tre(t,e,n,s){for(var r=t.length,o=n+(s?1:-1);s?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function nre(t){return t!==t}function sre(t,e,n){for(var s=n-1,r=t.length;++s<r;)if(t[s]===e)return s;return-1}function rre(t,e,n){return e===e?sre(t,e,n):tre(t,nre,n)}function ore(t,e){var n=t==null?0:t.length;return!!n&&rre(t,e,0)>-1}var are=9007199254740991,ire=/^(?:0|[1-9]\d*)$/;function cC(t,e){var n=typeof t;return e=e??are,!!e&&(n=="number"||n!="symbol"&&ire.test(t))&&t>-1&&t%1==0&&t<e}function EM(t,e,n){e=="__proto__"&&ky?ky(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function dC(t,e){return t===e||t!==t&&e!==e}var lre=Object.prototype,ure=lre.hasOwnProperty;function fC(t,e,n){var s=t[e];(!(ure.call(t,e)&&dC(s,n))||n===void 0&&!(e in t))&&EM(t,e,n)}function ew(t,e,n,s){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var i=e[o],l=s?s(n[i],t[i],i,n,t):void 0;l===void 0&&(l=t[i]),r?EM(n,i,l):fC(n,i,l)}return n}var sA=Math.max;function IM(t,e,n){return e=sA(e===void 0?t.length-1:e,0),function(){for(var s=arguments,r=-1,o=sA(s.length-e,0),a=Array(o);++r<o;)a[r]=s[e+r];r=-1;for(var i=Array(e+1);++r<e;)i[r]=s[r];return i[e]=n(a),Hse(t,this,i)}}function cre(t,e){return NM(IM(t,e,uC),t+"")}var dre=9007199254740991;function hC(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dre}function Ng(t){return t!=null&&hC(t.length)&&!TM(t)}var fre=Object.prototype;function pC(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fre;return t===n}function hre(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var pre="[object Arguments]";function rA(t){return $l(t)&&Yh(t)==pre}var AM=Object.prototype,mre=AM.hasOwnProperty,gre=AM.propertyIsEnumerable,vre=rA(function(){return arguments}())?rA:function(t){return $l(t)&&mre.call(t,"callee")&&!gre.call(t,"callee")};const mC=vre;function yre(){return!1}var OM=typeof Bo=="object"&&Bo&&!Bo.nodeType&&Bo,oA=OM&&typeof Vo=="object"&&Vo&&!Vo.nodeType&&Vo,bre=oA&&oA.exports===OM,aA=bre?ri.Buffer:void 0,wre=aA?aA.isBuffer:void 0,_re=wre||yre;const Ty=_re;var $re="[object Arguments]",xre="[object Array]",Sre="[object Boolean]",Cre="[object Date]",kre="[object Error]",Tre="[object Function]",Nre="[object Map]",Ere="[object Number]",Ire="[object Object]",Are="[object RegExp]",Ore="[object Set]",Rre="[object String]",Dre="[object WeakMap]",Fre="[object ArrayBuffer]",Mre="[object DataView]",Pre="[object Float32Array]",Lre="[object Float64Array]",zre="[object Int8Array]",Bre="[object Int16Array]",Vre="[object Int32Array]",Hre="[object Uint8Array]",Wre="[object Uint8ClampedArray]",Ure="[object Uint16Array]",Gre="[object Uint32Array]",ss={};ss[Pre]=ss[Lre]=ss[zre]=ss[Bre]=ss[Vre]=ss[Hre]=ss[Wre]=ss[Ure]=ss[Gre]=!0;ss[$re]=ss[xre]=ss[Fre]=ss[Sre]=ss[Mre]=ss[Cre]=ss[kre]=ss[Tre]=ss[Nre]=ss[Ere]=ss[Ire]=ss[Are]=ss[Ore]=ss[Rre]=ss[Dre]=!1;function jre(t){return $l(t)&&hC(t.length)&&!!ss[Yh(t)]}function gC(t){return function(e){return t(e)}}var RM=typeof Bo=="object"&&Bo&&!Bo.nodeType&&Bo,a0=RM&&typeof Vo=="object"&&Vo&&!Vo.nodeType&&Vo,Kre=a0&&a0.exports===RM,L4=Kre&&xM.process,qre=function(){try{var t=a0&&a0.require&&a0.require("util").types;return t||L4&&L4.binding&&L4.binding("util")}catch{}}();const ch=qre;var iA=ch&&ch.isTypedArray,Xre=iA?gC(iA):jre;const DM=Xre;var Yre=Object.prototype,Zre=Yre.hasOwnProperty;function FM(t,e){var n=Ko(t),s=!n&&mC(t),r=!n&&!s&&Ty(t),o=!n&&!s&&!r&&DM(t),a=n||s||r||o,i=a?hre(t.length,String):[],l=i.length;for(var u in t)(e||Zre.call(t,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cC(u,l)))&&i.push(u);return i}function MM(t,e){return function(n){return t(e(n))}}var Jre=MM(Object.keys,Object);const Qre=Jre;var eoe=Object.prototype,toe=eoe.hasOwnProperty;function noe(t){if(!pC(t))return Qre(t);var e=[];for(var n in Object(t))toe.call(t,n)&&n!="constructor"&&e.push(n);return e}function Eg(t){return Ng(t)?FM(t):noe(t)}function soe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var roe=Object.prototype,ooe=roe.hasOwnProperty;function aoe(t){if(!$a(t))return soe(t);var e=pC(t),n=[];for(var s in t)s=="constructor"&&(e||!ooe.call(t,s))||n.push(s);return n}function vC(t){return Ng(t)?FM(t,!0):aoe(t)}var ioe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,loe=/^\w*$/;function yC(t,e){if(Ko(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Qb(t)?!0:loe.test(t)||!ioe.test(t)||e!=null&&t in Object(e)}var uoe=Zd(Object,"create");const I0=uoe;function coe(){this.__data__=I0?I0(null):{},this.size=0}function doe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var foe="__lodash_hash_undefined__",hoe=Object.prototype,poe=hoe.hasOwnProperty;function moe(t){var e=this.__data__;if(I0){var n=e[t];return n===foe?void 0:n}return poe.call(e,t)?e[t]:void 0}var goe=Object.prototype,voe=goe.hasOwnProperty;function yoe(t){var e=this.__data__;return I0?e[t]!==void 0:voe.call(e,t)}var boe="__lodash_hash_undefined__";function woe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=I0&&e===void 0?boe:e,this}function bd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}bd.prototype.clear=coe;bd.prototype.delete=doe;bd.prototype.get=moe;bd.prototype.has=yoe;bd.prototype.set=woe;function _oe(){this.__data__=[],this.size=0}function tw(t,e){for(var n=t.length;n--;)if(dC(t[n][0],e))return n;return-1}var $oe=Array.prototype,xoe=$oe.splice;function Soe(t){var e=this.__data__,n=tw(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():xoe.call(e,n,1),--this.size,!0}function Coe(t){var e=this.__data__,n=tw(e,t);return n<0?void 0:e[n][1]}function koe(t){return tw(this.__data__,t)>-1}function Toe(t,e){var n=this.__data__,s=tw(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function Pl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Pl.prototype.clear=_oe;Pl.prototype.delete=Soe;Pl.prototype.get=Coe;Pl.prototype.has=koe;Pl.prototype.set=Toe;var Noe=Zd(ri,"Map");const A0=Noe;function Eoe(){this.size=0,this.__data__={hash:new bd,map:new(A0||Pl),string:new bd}}function Ioe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function nw(t,e){var n=t.__data__;return Ioe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Aoe(t){var e=nw(this,t).delete(t);return this.size-=e?1:0,e}function Ooe(t){return nw(this,t).get(t)}function Roe(t){return nw(this,t).has(t)}function Doe(t,e){var n=nw(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function Ll(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Ll.prototype.clear=Eoe;Ll.prototype.delete=Aoe;Ll.prototype.get=Ooe;Ll.prototype.has=Roe;Ll.prototype.set=Doe;var Foe="Expected a function";function sw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Foe);var n=function(){var s=arguments,r=e?e.apply(this,s):s[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,s);return n.cache=o.set(r,a)||o,a};return n.cache=new(sw.Cache||Ll),n}sw.Cache=Ll;var Moe=500;function Poe(t){var e=sw(t,function(s){return n.size===Moe&&n.clear(),s}),n=e.cache;return e}var Loe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zoe=/\\(\\)?/g,Boe=Poe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Loe,function(n,s,r,o){e.push(r?o.replace(zoe,"$1"):s||n)}),e});const Voe=Boe;function Hoe(t){return t==null?"":kM(t)}function rw(t,e){return Ko(t)?t:yC(t,e)?[t]:Voe(Hoe(t))}var Woe=1/0;function Ig(t){if(typeof t=="string"||Qb(t))return t;var e=t+"";return e=="0"&&1/t==-Woe?"-0":e}function bC(t,e){e=rw(e,t);for(var n=0,s=e.length;t!=null&&n<s;)t=t[Ig(e[n++])];return n&&n==s?t:void 0}function Pn(t,e,n){var s=t==null?void 0:bC(t,e);return s===void 0?n:s}function wC(t,e){for(var n=-1,s=e.length,r=t.length;++n<s;)t[r+n]=e[n];return t}var lA=_a?_a.isConcatSpreadable:void 0;function Uoe(t){return Ko(t)||mC(t)||!!(lA&&t&&t[lA])}function Ag(t,e,n,s,r){var o=-1,a=t.length;for(n||(n=Uoe),r||(r=[]);++o<a;){var i=t[o];e>0&&n(i)?e>1?Ag(i,e-1,n,s,r):wC(r,i):s||(r[r.length]=i)}return r}function PM(t){var e=t==null?0:t.length;return e?Ag(t,1):[]}function Goe(t){return NM(IM(t,void 0,PM),t+"")}var joe=MM(Object.getPrototypeOf,Object);const LM=joe;function dh(){if(!arguments.length)return[];var t=arguments[0];return Ko(t)?t:[t]}function Koe(){this.__data__=new Pl,this.size=0}function qoe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Xoe(t){return this.__data__.get(t)}function Yoe(t){return this.__data__.has(t)}var Zoe=200;function Joe(t,e){var n=this.__data__;if(n instanceof Pl){var s=n.__data__;if(!A0||s.length<Zoe-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ll(s)}return n.set(t,e),this.size=n.size,this}function Ii(t){var e=this.__data__=new Pl(t);this.size=e.size}Ii.prototype.clear=Koe;Ii.prototype.delete=qoe;Ii.prototype.get=Xoe;Ii.prototype.has=Yoe;Ii.prototype.set=Joe;function Qoe(t,e){return t&&ew(e,Eg(e),t)}function eae(t,e){return t&&ew(e,vC(e),t)}var zM=typeof Bo=="object"&&Bo&&!Bo.nodeType&&Bo,uA=zM&&typeof Vo=="object"&&Vo&&!Vo.nodeType&&Vo,tae=uA&&uA.exports===zM,cA=tae?ri.Buffer:void 0,dA=cA?cA.allocUnsafe:void 0;function nae(t,e){if(e)return t.slice();var n=t.length,s=dA?dA(n):new t.constructor(n);return t.copy(s),s}function sae(t,e){for(var n=-1,s=t==null?0:t.length,r=0,o=[];++n<s;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function BM(){return[]}var rae=Object.prototype,oae=rae.propertyIsEnumerable,fA=Object.getOwnPropertySymbols,aae=fA?function(t){return t==null?[]:(t=Object(t),sae(fA(t),function(e){return oae.call(t,e)}))}:BM;const _C=aae;function iae(t,e){return ew(t,_C(t),e)}var lae=Object.getOwnPropertySymbols,uae=lae?function(t){for(var e=[];t;)wC(e,_C(t)),t=LM(t);return e}:BM;const VM=uae;function cae(t,e){return ew(t,VM(t),e)}function HM(t,e,n){var s=e(t);return Ko(t)?s:wC(s,n(t))}function o6(t){return HM(t,Eg,_C)}function dae(t){return HM(t,vC,VM)}var fae=Zd(ri,"DataView");const a6=fae;var hae=Zd(ri,"Promise");const i6=hae;var pae=Zd(ri,"Set");const Uf=pae;var hA="[object Map]",mae="[object Object]",pA="[object Promise]",mA="[object Set]",gA="[object WeakMap]",vA="[object DataView]",gae=Yd(a6),vae=Yd(A0),yae=Yd(i6),bae=Yd(Uf),wae=Yd(r6),Oc=Yh;(a6&&Oc(new a6(new ArrayBuffer(1)))!=vA||A0&&Oc(new A0)!=hA||i6&&Oc(i6.resolve())!=pA||Uf&&Oc(new Uf)!=mA||r6&&Oc(new r6)!=gA)&&(Oc=function(t){var e=Yh(t),n=e==mae?t.constructor:void 0,s=n?Yd(n):"";if(s)switch(s){case gae:return vA;case vae:return hA;case yae:return pA;case bae:return mA;case wae:return gA}return e});const O0=Oc;var _ae=Object.prototype,$ae=_ae.hasOwnProperty;function xae(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&$ae.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Sae=ri.Uint8Array;const Ny=Sae;function $C(t){var e=new t.constructor(t.byteLength);return new Ny(e).set(new Ny(t)),e}function Cae(t,e){var n=e?$C(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var kae=/\w*$/;function Tae(t){var e=new t.constructor(t.source,kae.exec(t));return e.lastIndex=t.lastIndex,e}var yA=_a?_a.prototype:void 0,bA=yA?yA.valueOf:void 0;function Nae(t){return bA?Object(bA.call(t)):{}}function Eae(t,e){var n=e?$C(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Iae="[object Boolean]",Aae="[object Date]",Oae="[object Map]",Rae="[object Number]",Dae="[object RegExp]",Fae="[object Set]",Mae="[object String]",Pae="[object Symbol]",Lae="[object ArrayBuffer]",zae="[object DataView]",Bae="[object Float32Array]",Vae="[object Float64Array]",Hae="[object Int8Array]",Wae="[object Int16Array]",Uae="[object Int32Array]",Gae="[object Uint8Array]",jae="[object Uint8ClampedArray]",Kae="[object Uint16Array]",qae="[object Uint32Array]";function Xae(t,e,n){var s=t.constructor;switch(e){case Lae:return $C(t);case Iae:case Aae:return new s(+t);case zae:return Cae(t,n);case Bae:case Vae:case Hae:case Wae:case Uae:case Gae:case jae:case Kae:case qae:return Eae(t,n);case Oae:return new s;case Rae:case Mae:return new s(t);case Dae:return Tae(t);case Fae:return new s;case Pae:return Nae(t)}}function Yae(t){return typeof t.constructor=="function"&&!pC(t)?Vse(LM(t)):{}}var Zae="[object Map]";function Jae(t){return $l(t)&&O0(t)==Zae}var wA=ch&&ch.isMap,Qae=wA?gC(wA):Jae;const eie=Qae;var tie="[object Set]";function nie(t){return $l(t)&&O0(t)==tie}var _A=ch&&ch.isSet,sie=_A?gC(_A):nie;const rie=sie;var oie=1,aie=2,iie=4,WM="[object Arguments]",lie="[object Array]",uie="[object Boolean]",cie="[object Date]",die="[object Error]",UM="[object Function]",fie="[object GeneratorFunction]",hie="[object Map]",pie="[object Number]",GM="[object Object]",mie="[object RegExp]",gie="[object Set]",vie="[object String]",yie="[object Symbol]",bie="[object WeakMap]",wie="[object ArrayBuffer]",_ie="[object DataView]",$ie="[object Float32Array]",xie="[object Float64Array]",Sie="[object Int8Array]",Cie="[object Int16Array]",kie="[object Int32Array]",Tie="[object Uint8Array]",Nie="[object Uint8ClampedArray]",Eie="[object Uint16Array]",Iie="[object Uint32Array]",Kn={};Kn[WM]=Kn[lie]=Kn[wie]=Kn[_ie]=Kn[uie]=Kn[cie]=Kn[$ie]=Kn[xie]=Kn[Sie]=Kn[Cie]=Kn[kie]=Kn[hie]=Kn[pie]=Kn[GM]=Kn[mie]=Kn[gie]=Kn[vie]=Kn[yie]=Kn[Tie]=Kn[Nie]=Kn[Eie]=Kn[Iie]=!0;Kn[die]=Kn[UM]=Kn[bie]=!1;function i0(t,e,n,s,r,o){var a,i=e&oie,l=e&aie,u=e&iie;if(n&&(a=r?n(t,s,r,o):n(t)),a!==void 0)return a;if(!$a(t))return t;var c=Ko(t);if(c){if(a=xae(t),!i)return Use(t,a)}else{var d=O0(t),f=d==UM||d==fie;if(Ty(t))return nae(t,i);if(d==GM||d==WM||f&&!r){if(a=l||f?{}:Yae(t),!i)return l?cae(t,eae(a,t)):iae(t,Qoe(a,t))}else{if(!Kn[d])return r?t:{};a=Xae(t,d,i)}}o||(o=new Ii);var h=o.get(t);if(h)return h;o.set(t,a),rie(t)?t.forEach(function(g){a.add(i0(g,e,n,g,t,o))}):eie(t)&&t.forEach(function(g,y){a.set(y,i0(g,e,n,y,t,o))});var p=u?l?dae:o6:l?vC:Eg,m=c?void 0:p(t);return ere(m||t,function(g,y){m&&(y=g,g=t[y]),fC(a,y,i0(g,e,n,y,t,o))}),a}var Aie=4;function $A(t){return i0(t,Aie)}var Oie=1,Rie=4;function jM(t){return i0(t,Oie|Rie)}var Die="__lodash_hash_undefined__";function Fie(t){return this.__data__.set(t,Die),this}function Mie(t){return this.__data__.has(t)}function R0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ll;++e<n;)this.add(t[e])}R0.prototype.add=R0.prototype.push=Fie;R0.prototype.has=Mie;function Pie(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function KM(t,e){return t.has(e)}var Lie=1,zie=2;function qM(t,e,n,s,r,o){var a=n&Lie,i=t.length,l=e.length;if(i!=l&&!(a&&l>i))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,h=n&zie?new R0:void 0;for(o.set(t,e),o.set(e,t);++d<i;){var p=t[d],m=e[d];if(s)var g=a?s(m,p,d,e,t,o):s(p,m,d,t,e,o);if(g!==void 0){if(g)continue;f=!1;break}if(h){if(!Pie(e,function(y,w){if(!KM(h,w)&&(p===y||r(p,y,n,s,o)))return h.push(w)})){f=!1;break}}else if(!(p===m||r(p,m,n,s,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function Bie(t){var e=-1,n=Array(t.size);return t.forEach(function(s,r){n[++e]=[r,s]}),n}function xC(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var Vie=1,Hie=2,Wie="[object Boolean]",Uie="[object Date]",Gie="[object Error]",jie="[object Map]",Kie="[object Number]",qie="[object RegExp]",Xie="[object Set]",Yie="[object String]",Zie="[object Symbol]",Jie="[object ArrayBuffer]",Qie="[object DataView]",xA=_a?_a.prototype:void 0,z4=xA?xA.valueOf:void 0;function ele(t,e,n,s,r,o,a){switch(n){case Qie:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jie:return!(t.byteLength!=e.byteLength||!o(new Ny(t),new Ny(e)));case Wie:case Uie:case Kie:return dC(+t,+e);case Gie:return t.name==e.name&&t.message==e.message;case qie:case Yie:return t==e+"";case jie:var i=Bie;case Xie:var l=s&Vie;if(i||(i=xC),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;s|=Hie,a.set(t,e);var c=qM(i(t),i(e),s,r,o,a);return a.delete(t),c;case Zie:if(z4)return z4.call(t)==z4.call(e)}return!1}var tle=1,nle=Object.prototype,sle=nle.hasOwnProperty;function rle(t,e,n,s,r,o){var a=n&tle,i=o6(t),l=i.length,u=o6(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var f=i[d];if(!(a?f in e:sle.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var m=!0;o.set(t,e),o.set(e,t);for(var g=a;++d<l;){f=i[d];var y=t[f],w=e[f];if(s)var b=a?s(w,y,f,e,t,o):s(y,w,f,t,e,o);if(!(b===void 0?y===w||r(y,w,n,s,o):b)){m=!1;break}g||(g=f=="constructor")}if(m&&!g){var _=t.constructor,$=e.constructor;_!=$&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof $=="function"&&$ instanceof $)&&(m=!1)}return o.delete(t),o.delete(e),m}var ole=1,SA="[object Arguments]",CA="[object Array]",Q2="[object Object]",ale=Object.prototype,kA=ale.hasOwnProperty;function ile(t,e,n,s,r,o){var a=Ko(t),i=Ko(e),l=a?CA:O0(t),u=i?CA:O0(e);l=l==SA?Q2:l,u=u==SA?Q2:u;var c=l==Q2,d=u==Q2,f=l==u;if(f&&Ty(t)){if(!Ty(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new Ii),a||DM(t)?qM(t,e,n,s,r,o):ele(t,e,l,n,s,r,o);if(!(n&ole)){var h=c&&kA.call(t,"__wrapped__"),p=d&&kA.call(e,"__wrapped__");if(h||p){var m=h?t.value():t,g=p?e.value():e;return o||(o=new Ii),r(m,g,n,s,o)}}return f?(o||(o=new Ii),rle(t,e,n,s,r,o)):!1}function ow(t,e,n,s,r){return t===e?!0:t==null||e==null||!$l(t)&&!$l(e)?t!==t&&e!==e:ile(t,e,n,s,ow,r)}var lle=1,ule=2;function cle(t,e,n,s){var r=n.length,o=r,a=!s;if(t==null)return!o;for(t=Object(t);r--;){var i=n[r];if(a&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++r<o;){i=n[r];var l=i[0],u=t[l],c=i[1];if(a&&i[2]){if(u===void 0&&!(l in t))return!1}else{var d=new Ii;if(s)var f=s(u,c,l,t,e,d);if(!(f===void 0?ow(c,u,lle|ule,s,d):f))return!1}}return!0}function XM(t){return t===t&&!$a(t)}function dle(t){for(var e=Eg(t),n=e.length;n--;){var s=e[n],r=t[s];e[n]=[s,r,XM(r)]}return e}function YM(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function fle(t){var e=dle(t);return e.length==1&&e[0][2]?YM(e[0][0],e[0][1]):function(n){return n===t||cle(n,t,e)}}function hle(t,e){return t!=null&&e in Object(t)}function ple(t,e,n){e=rw(e,t);for(var s=-1,r=e.length,o=!1;++s<r;){var a=Ig(e[s]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++s!=r?o:(r=t==null?0:t.length,!!r&&hC(r)&&cC(a,r)&&(Ko(t)||mC(t)))}function ZM(t,e){return t!=null&&ple(t,e,hle)}var mle=1,gle=2;function vle(t,e){return yC(t)&&XM(e)?YM(Ig(t),e):function(n){var s=Pn(n,t);return s===void 0&&s===e?ZM(n,t):ow(e,s,mle|gle)}}function yle(t){return function(e){return e==null?void 0:e[t]}}function ble(t){return function(e){return bC(e,t)}}function wle(t){return yC(t)?yle(Ig(t)):ble(t)}function _le(t){return typeof t=="function"?t:t==null?uC:typeof t=="object"?Ko(t)?vle(t[0],t[1]):fle(t):wle(t)}function $le(t){return function(e,n,s){for(var r=-1,o=Object(e),a=s(e),i=a.length;i--;){var l=a[t?i:++r];if(n(o[l],l,o)===!1)break}return e}}var xle=$le();const Sle=xle;function Cle(t,e){return t&&Sle(t,e,Eg)}function kle(t,e){return function(n,s){if(n==null)return n;if(!Ng(n))return t(n,s);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&s(a[o],o,a)!==!1;);return n}}var Tle=kle(Cle);const Nle=Tle;var Ele=function(){return ri.Date.now()};const B4=Ele;var Ile="Expected a function",Ale=Math.max,Ole=Math.min;function Xr(t,e,n){var s,r,o,a,i,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Ile);e=eA(e)||0,$a(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Ale(eA(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(x){var k=s,C=r;return s=r=void 0,u=x,a=t.apply(C,k),a}function p(x){return u=x,i=setTimeout(y,e),c?h(x):a}function m(x){var k=x-l,C=x-u,T=e-k;return d?Ole(T,o-C):T}function g(x){var k=x-l,C=x-u;return l===void 0||k>=e||k<0||d&&C>=o}function y(){var x=B4();if(g(x))return w(x);i=setTimeout(y,m(x))}function w(x){return i=void 0,f&&s?h(x):(s=r=void 0,a)}function b(){i!==void 0&&clearTimeout(i),u=0,s=l=r=i=void 0}function _(){return i===void 0?a:w(B4())}function $(){var x=B4(),k=g(x);if(s=arguments,r=this,l=x,k){if(i===void 0)return p(l);if(d)return clearTimeout(i),i=setTimeout(y,e),h(l)}return i===void 0&&(i=setTimeout(y,e)),a}return $.cancel=b,$.flush=_,$}function Rle(t){return $l(t)&&Ng(t)}function Dle(t,e,n){for(var s=-1,r=t==null?0:t.length;++s<r;)if(n(e,t[s]))return!0;return!1}function Fle(t,e){var n=-1,s=Ng(t)?Array(t.length):[];return Nle(t,function(r,o,a){s[++n]=e(r,o,a)}),s}function Mle(t,e){var n=Ko(t)?CM:Fle;return n(t,_le(e))}function Ple(t,e){return Ag(Mle(t,e),1)}var Lle=1/0;function zle(t){var e=t==null?0:t.length;return e?Ag(t,Lle):[]}function JM(t){for(var e=-1,n=t==null?0:t.length,s={};++e<n;){var r=t[e];s[r[0]]=r[1]}return s}function Wo(t,e){return ow(t,e)}function nr(t){return t==null}function QM(t,e,n,s){if(!$a(t))return t;e=rw(e,t);for(var r=-1,o=e.length,a=o-1,i=t;i!=null&&++r<o;){var l=Ig(e[r]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=a){var c=i[l];u=s?s(c,l,i):void 0,u===void 0&&(u=$a(c)?c:cC(e[r+1])?[]:{})}fC(i,l,u),i=i[l]}return t}function Ble(t,e,n){for(var s=-1,r=e.length,o={};++s<r;){var a=e[s],i=bC(t,a);n(i,a)&&QM(o,rw(a,t),i)}return o}function Vle(t,e){return Ble(t,e,function(n,s){return ZM(t,s)})}var Hle=Goe(function(t,e){return t==null?{}:Vle(t,e)});const gl=Hle;function Wle(t,e,n){return t==null?t:QM(t,e,n)}var Ule="Expected a function";function rd(t,e,n){var s=!0,r=!0;if(typeof t!="function")throw new TypeError(Ule);return $a(n)&&(s="leading"in n?!!n.leading:s,r="trailing"in n?!!n.trailing:r),Xr(t,e,{leading:s,maxWait:e,trailing:r})}var Gle=1/0,jle=Uf&&1/xC(new Uf([,-0]))[1]==Gle?function(t){return new Uf(t)}:Wse;const Kle=jle;var qle=200;function Xle(t,e,n){var s=-1,r=ore,o=t.length,a=!0,i=[],l=i;if(n)a=!1,r=Dle;else if(o>=qle){var u=e?null:Kle(t);if(u)return xC(u);a=!1,r=KM,l=new R0}else l=e?[]:i;e:for(;++s<o;){var c=t[s],d=e?e(c):c;if(c=n||c!==0?c:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),i.push(c)}else r(l,d,n)||(l!==i&&l.push(d),i.push(c))}return i}var Yle=cre(function(t){return Xle(Ag(t,1,Rle,!0))});const V4=Yle,Zle='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Jle=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,TA=t=>Array.from(t.querySelectorAll(Zle)).filter(e=>Qle(e)&&Jle(e)),Qle=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Vv=function(t,e,...n){let s;e.includes("mouse")||e.includes("click")?s="MouseEvents":e.includes("key")?s="KeyboardEvent":s="HTMLEvents";const r=document.createEvent(s);return r.initEvent(e,...n),t.dispatchEvent(r),t},eP=t=>!t.getAttribute("aria-owns"),tP=(t,e,n)=>{const{parentNode:s}=t;if(!s)return null;const r=s.querySelectorAll(n),o=Array.prototype.indexOf.call(r,t);return r[o+e]||null},Hv=t=>{!t||(t.focus(),!eP(t)&&t.click())},Xn=(t,e,{checkForDefaultPrevented:n=!0}={})=>r=>{const o=t==null?void 0:t(r);if(n===!1||!o)return e==null?void 0:e(r)},NA=t=>e=>e.pointerType==="mouse"?t(e):void 0;var eue=Object.defineProperty,tue=Object.defineProperties,nue=Object.getOwnPropertyDescriptors,EA=Object.getOwnPropertySymbols,sue=Object.prototype.hasOwnProperty,rue=Object.prototype.propertyIsEnumerable,IA=(t,e,n)=>e in t?eue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oue=(t,e)=>{for(var n in e||(e={}))sue.call(e,n)&&IA(t,n,e[n]);if(EA)for(var n of EA(e))rue.call(e,n)&&IA(t,n,e[n]);return t},aue=(t,e)=>tue(t,nue(e));function AA(t,e){var n;const s=Nn();return Ho(()=>{s.value=t()},aue(oue({},e),{flush:(n=e==null?void 0:e.flush)!=null?n:"sync"})),Cg(s)}var OA;const Kt=typeof window<"u",iue=t=>typeof t<"u",Rs=t=>typeof t=="boolean",lue=t=>typeof t=="function",Ct=t=>typeof t=="number",uue=t=>typeof t=="string",cue=()=>{};Kt&&((OA=window==null?void 0:window.navigator)==null?void 0:OA.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function wd(t){return typeof t=="function"?t():v(t)}function nP(t,e){function n(...s){t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})}return n}function due(t,e={}){let n,s;return o=>{const a=wd(t),i=wd(e.maxWait);if(n&&clearTimeout(n),a<=0||i!==void 0&&i<=0)return s&&(clearTimeout(s),s=null),o();i&&!s&&(s=setTimeout(()=>{n&&clearTimeout(n),s=null,o()},i)),n=setTimeout(()=>{s&&clearTimeout(s),s=null,o()},a)}}function fue(t,e=!0,n=!0){let s=0,r,o=!0;const a=()=>{r&&(clearTimeout(r),r=void 0)};return l=>{const u=wd(t),c=Date.now()-s;if(a(),u<=0)return s=Date.now(),l();c>u&&(n||!o)?(s=Date.now(),l()):e&&(r=setTimeout(()=>{s=Date.now(),o=!0,a(),l()},u-c)),!n&&!r&&(r=setTimeout(()=>o=!0,u)),o=!1}}function hue(t){return t}function aw(t){return MQ()?(lF(t),!0):!1}function pue(t,e=200,n={}){return nP(due(e,n),t)}function mue(t,e=200,n={}){const s=U(t.value),r=pue(()=>{s.value=t.value},e,n);return Me(t,()=>r()),s}function sP(t,e=200,n=!1,s=!0){return nP(fue(e,n,s),t)}function SC(t,e=!0){Rt()?Et(t):e?t():nt(t)}function _d(t,e,n={}){const{immediate:s=!0}=n,r=U(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function i(){r.value=!1,a()}function l(...u){a(),r.value=!0,o=setTimeout(()=>{r.value=!1,o=null,t(...u)},wd(e))}return s&&(r.value=!0,Kt&&l()),aw(i),{isPending:r,start:l,stop:i}}function Mo(t){var e;const n=wd(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Zh=Kt?window:void 0,gue=Kt?window.document:void 0;function Rn(...t){let e,n,s,r;if(uue(t[0])||Array.isArray(t[0])?([n,s,r]=t,e=Zh):[e,n,s,r]=t,!e)return cue;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],a=()=>{o.forEach(c=>c()),o.length=0},i=(c,d,f)=>(c.addEventListener(d,f,r),()=>c.removeEventListener(d,f,r)),l=Me(()=>Mo(e),c=>{a(),c&&o.push(...n.flatMap(d=>s.map(f=>i(c,d,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return aw(u),u}function CC(t,e,n={}){const{window:s=Zh,ignore:r,capture:o=!0,detectIframe:a=!1}=n;if(!s)return;let i=!0,l;const u=h=>{s.clearTimeout(l);const p=Mo(t);if(!(!p||p===h.target||h.composedPath().includes(p))){if(!i){i=!0;return}e(h)}},c=h=>r&&r.some(p=>{const m=Mo(p);return m&&(h.target===m||h.composedPath().includes(m))}),d=[Rn(s,"click",u,{passive:!0,capture:o}),Rn(s,"pointerdown",h=>{const p=Mo(t);p&&(i=!h.composedPath().includes(p)&&!c(h))},{passive:!0}),Rn(s,"pointerup",h=>{if(h.button===0){const p=h.composedPath();h.composedPath=()=>p,l=s.setTimeout(()=>u(h),50)}},{passive:!0}),a&&Rn(s,"blur",h=>{var p;const m=Mo(t);((p=s.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(m!=null&&m.contains(s.document.activeElement))&&e(h)})].filter(Boolean);return()=>d.forEach(h=>h())}function vue(t,e=!1){const n=U(),s=()=>n.value=Boolean(t());return s(),SC(s,e),n}function yue(t){return JSON.parse(JSON.stringify(t))}const l6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u6="__vueuse_ssr_handlers__";l6[u6]=l6[u6]||{};l6[u6];function bue(t,e,{window:n=Zh,initialValue:s=""}={}){const r=U(s),o=A(()=>{var a;return Mo(e)||((a=n==null?void 0:n.document)==null?void 0:a.documentElement)});return Me([o,()=>wd(t)],([a,i])=>{var l;if(a&&n){const u=(l=n.getComputedStyle(a).getPropertyValue(i))==null?void 0:l.trim();r.value=u||s}},{immediate:!0}),Me(r,a=>{var i;(i=o.value)!=null&&i.style&&o.value.style.setProperty(wd(t),a)}),r}function wue({document:t=gue}={}){if(!t)return U("visible");const e=U(t.visibilityState);return Rn(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var RA=Object.getOwnPropertySymbols,_ue=Object.prototype.hasOwnProperty,$ue=Object.prototype.propertyIsEnumerable,xue=(t,e)=>{var n={};for(var s in t)_ue.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&RA)for(var s of RA(t))e.indexOf(s)<0&&$ue.call(t,s)&&(n[s]=t[s]);return n};function Dr(t,e,n={}){const s=n,{window:r=Zh}=s,o=xue(s,["window"]);let a;const i=vue(()=>r&&"ResizeObserver"in r),l=()=>{a&&(a.disconnect(),a=void 0)},u=Me(()=>Mo(t),d=>{l(),i.value&&r&&d&&(a=new ResizeObserver(e),a.observe(d,o))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return aw(c),{isSupported:i,stop:c}}function DA(t,e={}){const{reset:n=!0,windowResize:s=!0,windowScroll:r=!0,immediate:o=!0}=e,a=U(0),i=U(0),l=U(0),u=U(0),c=U(0),d=U(0),f=U(0),h=U(0);function p(){const m=Mo(t);if(!m){n&&(a.value=0,i.value=0,l.value=0,u.value=0,c.value=0,d.value=0,f.value=0,h.value=0);return}const g=m.getBoundingClientRect();a.value=g.height,i.value=g.bottom,l.value=g.left,u.value=g.right,c.value=g.top,d.value=g.width,f.value=g.x,h.value=g.y}return Dr(t,p),Me(()=>Mo(t),m=>!m&&p()),r&&Rn("scroll",p,{passive:!0}),s&&Rn("resize",p,{passive:!0}),SC(()=>{o&&p()}),{height:a,bottom:i,left:l,right:u,top:c,width:d,x:f,y:h,update:p}}var FA;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(FA||(FA={}));var Sue=Object.defineProperty,MA=Object.getOwnPropertySymbols,Cue=Object.prototype.hasOwnProperty,kue=Object.prototype.propertyIsEnumerable,PA=(t,e,n)=>e in t?Sue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tue=(t,e)=>{for(var n in e||(e={}))Cue.call(e,n)&&PA(t,n,e[n]);if(MA)for(var n of MA(e))kue.call(e,n)&&PA(t,n,e[n]);return t};const Nue={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Tue({linear:hue},Nue);function Eue(t,e,n,s={}){var r,o,a;const{clone:i=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d}=s,f=Rt(),h=n||(f==null?void 0:f.emit)||((r=f==null?void 0:f.$emit)==null?void 0:r.bind(f))||((a=(o=f==null?void 0:f.proxy)==null?void 0:o.$emit)==null?void 0:a.bind(f==null?void 0:f.proxy));let p=u;e||(e="modelValue"),p=u||p||`update:${e.toString()}`;const m=y=>i?lue(i)?i(y):yue(y):y,g=()=>iue(t[e])?m(t[e]):d;if(l){const y=g(),w=U(y);return Me(()=>t[e],b=>w.value=m(b)),Me(w,b=>{(b!==t[e]||c)&&h(p,b)},{deep:c}),w}else return A({get(){return g()},set(y){h(p,y)}})}function Iue({window:t=Zh}={}){if(!t)return U(!1);const e=U(t.document.hasFocus());return Rn(t,"blur",()=>{e.value=!1}),Rn(t,"focus",()=>{e.value=!0}),e}function Aue(t={}){const{window:e=Zh,initialWidth:n=1/0,initialHeight:s=1/0,listenOrientation:r=!0,includeScrollbar:o=!0}=t,a=U(n),i=U(s),l=()=>{e&&(o?(a.value=e.innerWidth,i.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,i.value=e.document.documentElement.clientHeight))};return l(),SC(l),Rn("resize",l,{passive:!0}),r&&Rn("orientationchange",l,{passive:!0}),{width:a,height:i}}const Oue=(t,e)=>{if(!Kt||!t||!e)return!1;const n=t.getBoundingClientRect();let s;return e instanceof Element?s=e.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<s.bottom&&n.bottom>s.top&&n.right>s.left&&n.left<s.right},LA=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},Rue=(t,e)=>Math.abs(LA(t)-LA(e)),kC=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},er=t=>t===void 0,ia=t=>!t&&t!==0||Qe(t)&&t.length===0||Bt(t)&&!Object.keys(t).length,Qa=t=>typeof Element>"u"?!1:t instanceof Element,Due=t=>nr(t),Fue=t=>wt(t)?!Number.isNaN(Number(t)):!1,rP=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),la=t=>Sg(t),D0=t=>Object.keys(t),Mue=t=>Object.entries(t),Wv=(t,e,n)=>({get value(){return Pn(t,e,n)},set value(s){Wle(t,e,s)}});class Pue extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Ls(t,e){throw new Pue(`[${t}] ${e}`)}const oP=(t="")=>t.split(" ").filter(e=>!!e.trim()),ja=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},xi=(t,e)=>{!t||!e.trim()||t.classList.add(...oP(e))},mo=(t,e)=>{!t||!e.trim()||t.classList.remove(...oP(e))},dl=(t,e)=>{var n;if(!Kt||!t||!e)return"";let s=wa(e);s==="float"&&(s="cssFloat");try{const r=t.style[s];if(r)return r;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return o?o[s]:""}catch{return t.style[s]}};function Cs(t,e="px"){if(!t)return"";if(Ct(t)||Fue(t))return`${t}${e}`;if(wt(t))return t}const Lue=(t,e)=>{if(!Kt)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],s=dl(t,n);return["scroll","auto","overlay"].some(r=>s.includes(r))},TC=(t,e)=>{if(!Kt)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Lue(n,e))return n;n=n.parentNode}return n};let ev;const aP=t=>{var e;if(!Kt)return 0;if(ev!==void 0)return ev;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const s=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const o=r.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),ev=s-o,ev};function iP(t,e){if(!Kt)return;if(!e){t.scrollTop=0;return}const n=[];let s=e.offsetParent;for(;s!==null&&t!==s&&t.contains(s);)n.push(s),s=s.offsetParent;const r=e.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),o=r+e.offsetHeight,a=t.scrollTop,i=a+t.clientHeight;r<a?t.scrollTop=r:o>i&&(t.scrollTop=o-t.clientHeight)}var zue={name:"AddLocation"},ae=(t,e)=>{let n=t.__vccOpts||t;for(let[s,r]of e)n[s]=r;return n},Bue={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Vue=E("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),Hue=E("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),Wue=E("path",{fill:"currentColor",d:"M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"},null,-1),Uue=[Vue,Hue,Wue];function Gue(t,e,n,s,r,o){return S(),I("svg",Bue,Uue)}var jue=ae(zue,[["render",Gue],["__file","add-location.vue"]]),Kue={name:"Aim"},que={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Xue=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Yue=E("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1),Zue=[Xue,Yue];function Jue(t,e,n,s,r,o){return S(),I("svg",que,Zue)}var Que=ae(Kue,[["render",Jue],["__file","aim.vue"]]),ece={name:"AlarmClock"},tce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},nce=E("path",{fill:"currentColor",d:"M512 832a320 320 0 1 0 0-640 320 320 0 0 0 0 640zm0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768z"},null,-1),sce=E("path",{fill:"currentColor",d:"m292.288 824.576 55.424 32-48 83.136a32 32 0 1 1-55.424-32l48-83.136zm439.424 0-55.424 32 48 83.136a32 32 0 1 0 55.424-32l-48-83.136zM512 512h160a32 32 0 1 1 0 64H480a32 32 0 0 1-32-32V320a32 32 0 0 1 64 0v192zM90.496 312.256A160 160 0 0 1 312.32 90.496l-46.848 46.848a96 96 0 0 0-128 128L90.56 312.256zm835.264 0A160 160 0 0 0 704 90.496l46.848 46.848a96 96 0 0 1 128 128l46.912 46.912z"},null,-1),rce=[nce,sce];function oce(t,e,n,s,r,o){return S(),I("svg",tce,rce)}var ace=ae(ece,[["render",oce],["__file","alarm-clock.vue"]]),ice={name:"Apple"},lce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uce=E("path",{fill:"currentColor",d:"M599.872 203.776a189.44 189.44 0 0 1 64.384-4.672l2.624.128c31.168 1.024 51.2 4.096 79.488 16.32 37.632 16.128 74.496 45.056 111.488 89.344 96.384 115.264 82.752 372.8-34.752 521.728-7.68 9.728-32 41.6-30.72 39.936a426.624 426.624 0 0 1-30.08 35.776c-31.232 32.576-65.28 49.216-110.08 50.048-31.36.64-53.568-5.312-84.288-18.752l-6.528-2.88c-20.992-9.216-30.592-11.904-47.296-11.904-18.112 0-28.608 2.88-51.136 12.672l-6.464 2.816c-28.416 12.224-48.32 18.048-76.16 19.2-74.112 2.752-116.928-38.08-180.672-132.16-96.64-142.08-132.608-349.312-55.04-486.4 46.272-81.92 129.92-133.632 220.672-135.04 32.832-.576 60.288 6.848 99.648 22.72 27.136 10.88 34.752 13.76 37.376 14.272 16.256-20.16 27.776-36.992 34.56-50.24 13.568-26.304 27.2-59.968 40.704-100.8a32 32 0 1 1 60.8 20.224c-12.608 37.888-25.408 70.4-38.528 97.664zm-51.52 78.08c-14.528 17.792-31.808 37.376-51.904 58.816a32 32 0 1 1-46.72-43.776l12.288-13.248c-28.032-11.2-61.248-26.688-95.68-26.112-70.4 1.088-135.296 41.6-171.648 105.792C121.6 492.608 176 684.16 247.296 788.992c34.816 51.328 76.352 108.992 130.944 106.944 52.48-2.112 72.32-34.688 135.872-34.688 63.552 0 81.28 34.688 136.96 33.536 56.448-1.088 75.776-39.04 126.848-103.872 107.904-136.768 107.904-362.752 35.776-449.088-72.192-86.272-124.672-84.096-151.68-85.12-41.472-4.288-81.6 12.544-113.664 25.152z"},null,-1),cce=[uce];function dce(t,e,n,s,r,o){return S(),I("svg",lce,cce)}var fce=ae(ice,[["render",dce],["__file","apple.vue"]]),hce={name:"ArrowDownBold"},pce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mce=E("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496z"},null,-1),gce=[mce];function vce(t,e,n,s,r,o){return S(),I("svg",pce,gce)}var yce=ae(hce,[["render",vce],["__file","arrow-down-bold.vue"]]),bce={name:"ArrowDown"},wce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_ce=E("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),$ce=[_ce];function xce(t,e,n,s,r,o){return S(),I("svg",wce,$ce)}var zl=ae(bce,[["render",xce],["__file","arrow-down.vue"]]),Sce={name:"ArrowLeftBold"},Cce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kce=E("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"},null,-1),Tce=[kce];function Nce(t,e,n,s,r,o){return S(),I("svg",Cce,Tce)}var Ece=ae(Sce,[["render",Nce],["__file","arrow-left-bold.vue"]]),Ice={name:"ArrowLeft"},Ace={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Oce=E("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),Rce=[Oce];function Dce(t,e,n,s,r,o){return S(),I("svg",Ace,Rce)}var xl=ae(Ice,[["render",Dce],["__file","arrow-left.vue"]]),Fce={name:"ArrowRightBold"},Mce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Pce=E("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"},null,-1),Lce=[Pce];function zce(t,e,n,s,r,o){return S(),I("svg",Mce,Lce)}var Bce=ae(Fce,[["render",zce],["__file","arrow-right-bold.vue"]]),Vce={name:"ArrowRight"},Hce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Wce=E("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),Uce=[Wce];function Gce(t,e,n,s,r,o){return S(),I("svg",Hce,Uce)}var Rr=ae(Vce,[["render",Gce],["__file","arrow-right.vue"]]),jce={name:"ArrowUpBold"},Kce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qce=E("path",{fill:"currentColor",d:"M104.704 685.248a64 64 0 0 0 90.496 0l316.8-316.8 316.8 316.8a64 64 0 0 0 90.496-90.496L557.248 232.704a64 64 0 0 0-90.496 0L104.704 594.752a64 64 0 0 0 0 90.496z"},null,-1),Xce=[qce];function Yce(t,e,n,s,r,o){return S(),I("svg",Kce,Xce)}var Zce=ae(jce,[["render",Yce],["__file","arrow-up-bold.vue"]]),Jce={name:"ArrowUp"},Qce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ede=E("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),tde=[ede];function nde(t,e,n,s,r,o){return S(),I("svg",Qce,tde)}var Og=ae(Jce,[["render",nde],["__file","arrow-up.vue"]]),sde={name:"Avatar"},rde={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ode=E("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704l116.736-175.104zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0z"},null,-1),ade=[ode];function ide(t,e,n,s,r,o){return S(),I("svg",rde,ade)}var lde=ae(sde,[["render",ide],["__file","avatar.vue"]]),ude={name:"Back"},cde={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dde=E("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),fde=E("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),hde=[dde,fde];function pde(t,e,n,s,r,o){return S(),I("svg",cde,hde)}var lP=ae(ude,[["render",pde],["__file","back.vue"]]),mde={name:"Baseball"},gde={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vde=E("path",{fill:"currentColor",d:"M195.2 828.8a448 448 0 1 1 633.6-633.6 448 448 0 0 1-633.6 633.6zm45.248-45.248a384 384 0 1 0 543.104-543.104 384 384 0 0 0-543.104 543.104z"},null,-1),yde=E("path",{fill:"currentColor",d:"M497.472 96.896c22.784 4.672 44.416 9.472 64.896 14.528a256.128 256.128 0 0 0 350.208 350.208c5.056 20.48 9.856 42.112 14.528 64.896A320.128 320.128 0 0 1 497.472 96.896zM108.48 491.904a320.128 320.128 0 0 1 423.616 423.68c-23.04-3.648-44.992-7.424-65.728-11.52a256.128 256.128 0 0 0-346.496-346.432 1736.64 1736.64 0 0 1-11.392-65.728z"},null,-1),bde=[vde,yde];function wde(t,e,n,s,r,o){return S(),I("svg",gde,bde)}var _de=ae(mde,[["render",wde],["__file","baseball.vue"]]),$de={name:"Basketball"},xde={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Sde=E("path",{fill:"currentColor",d:"M778.752 788.224a382.464 382.464 0 0 0 116.032-245.632 256.512 256.512 0 0 0-241.728-13.952 762.88 762.88 0 0 1 125.696 259.584zm-55.04 44.224a699.648 699.648 0 0 0-125.056-269.632 256.128 256.128 0 0 0-56.064 331.968 382.72 382.72 0 0 0 181.12-62.336zm-254.08 61.248A320.128 320.128 0 0 1 557.76 513.6a715.84 715.84 0 0 0-48.192-48.128 320.128 320.128 0 0 1-379.264 88.384 382.4 382.4 0 0 0 110.144 229.696 382.4 382.4 0 0 0 229.184 110.08zM129.28 481.088a256.128 256.128 0 0 0 331.072-56.448 699.648 699.648 0 0 0-268.8-124.352 382.656 382.656 0 0 0-62.272 180.8zm106.56-235.84a762.88 762.88 0 0 1 258.688 125.056 256.512 256.512 0 0 0-13.44-241.088A382.464 382.464 0 0 0 235.84 245.248zm318.08-114.944c40.576 89.536 37.76 193.92-8.448 281.344a779.84 779.84 0 0 1 66.176 66.112 320.832 320.832 0 0 1 282.112-8.128 382.4 382.4 0 0 0-110.144-229.12 382.4 382.4 0 0 0-229.632-110.208zM828.8 828.8a448 448 0 1 1-633.6-633.6 448 448 0 0 1 633.6 633.6z"},null,-1),Cde=[Sde];function kde(t,e,n,s,r,o){return S(),I("svg",xde,Cde)}var Tde=ae($de,[["render",kde],["__file","basketball.vue"]]),Nde={name:"BellFilled"},Ede={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ide=E("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0h256zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8H832z"},null,-1),Ade=[Ide];function Ode(t,e,n,s,r,o){return S(),I("svg",Ede,Ade)}var Rde=ae(Nde,[["render",Ode],["__file","bell-filled.vue"]]),Dde={name:"Bell"},Fde={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Mde=E("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64z"},null,-1),Pde=E("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0v320zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320z"},null,-1),Lde=E("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm352 128h128a64 64 0 0 1-128 0z"},null,-1),zde=[Mde,Pde,Lde];function Bde(t,e,n,s,r,o){return S(),I("svg",Fde,zde)}var Vde=ae(Dde,[["render",Bde],["__file","bell.vue"]]),Hde={name:"Bicycle"},Wde={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ude=nte('<path fill="currentColor" d="M256 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"></path><path fill="currentColor" d="M288 672h320q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"></path><path fill="currentColor" d="M768 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"></path><path fill="currentColor" d="M480 192a32 32 0 0 1 0-64h160a32 32 0 0 1 31.04 24.256l96 384a32 32 0 0 1-62.08 15.488L615.04 192H480zM96 384a32 32 0 0 1 0-64h128a32 32 0 0 1 30.336 21.888l64 192a32 32 0 1 1-60.672 20.224L200.96 384H96z"></path><path fill="currentColor" d="m373.376 599.808-42.752-47.616 320-288 42.752 47.616z"></path>',5),Gde=[Ude];function jde(t,e,n,s,r,o){return S(),I("svg",Wde,Gde)}var Kde=ae(Hde,[["render",jde],["__file","bicycle.vue"]]),qde={name:"BottomLeft"},Xde={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Yde=E("path",{fill:"currentColor",d:"M256 768h416a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V352a32 32 0 0 1 64 0v416z"},null,-1),Zde=E("path",{fill:"currentColor",d:"M246.656 822.656a32 32 0 0 1-45.312-45.312l544-544a32 32 0 0 1 45.312 45.312l-544 544z"},null,-1),Jde=[Yde,Zde];function Qde(t,e,n,s,r,o){return S(),I("svg",Xde,Jde)}var efe=ae(qde,[["render",Qde],["__file","bottom-left.vue"]]),tfe={name:"BottomRight"},nfe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sfe=E("path",{fill:"currentColor",d:"M352 768a32 32 0 1 0 0 64h448a32 32 0 0 0 32-32V352a32 32 0 0 0-64 0v416H352z"},null,-1),rfe=E("path",{fill:"currentColor",d:"M777.344 822.656a32 32 0 0 0 45.312-45.312l-544-544a32 32 0 0 0-45.312 45.312l544 544z"},null,-1),ofe=[sfe,rfe];function afe(t,e,n,s,r,o){return S(),I("svg",nfe,ofe)}var ife=ae(tfe,[["render",afe],["__file","bottom-right.vue"]]),lfe={name:"Bottom"},ufe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cfe=E("path",{fill:"currentColor",d:"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z"},null,-1),dfe=[cfe];function ffe(t,e,n,s,r,o){return S(),I("svg",ufe,dfe)}var hfe=ae(lfe,[["render",ffe],["__file","bottom.vue"]]),pfe={name:"Bowl"},mfe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gfe=E("path",{fill:"currentColor",d:"M714.432 704a351.744 351.744 0 0 0 148.16-256H161.408a351.744 351.744 0 0 0 148.16 256h404.864zM288 766.592A415.68 415.68 0 0 1 96 416a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32 415.68 415.68 0 0 1-192 350.592V832a64 64 0 0 1-64 64H352a64 64 0 0 1-64-64v-65.408zM493.248 320h-90.496l254.4-254.4a32 32 0 1 1 45.248 45.248L493.248 320zm187.328 0h-128l269.696-155.712a32 32 0 0 1 32 55.424L680.576 320zM352 768v64h320v-64H352z"},null,-1),vfe=[gfe];function yfe(t,e,n,s,r,o){return S(),I("svg",mfe,vfe)}var bfe=ae(pfe,[["render",yfe],["__file","bowl.vue"]]),wfe={name:"Box"},_fe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$fe=E("path",{fill:"currentColor",d:"M317.056 128 128 344.064V896h768V344.064L706.944 128H317.056zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64z"},null,-1),xfe=E("path",{fill:"currentColor",d:"M64 320h896v64H64z"},null,-1),Sfe=E("path",{fill:"currentColor",d:"M448 327.872V640h128V327.872L526.08 128h-28.16L448 327.872zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320l64-256z"},null,-1),Cfe=[$fe,xfe,Sfe];function kfe(t,e,n,s,r,o){return S(),I("svg",_fe,Cfe)}var Tfe=ae(wfe,[["render",kfe],["__file","box.vue"]]),Nfe={name:"Briefcase"},Efe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ife=E("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320h192zM128 576h768v320H128V576zm256-256h256.064V192H384v128z"},null,-1),Afe=[Ife];function Ofe(t,e,n,s,r,o){return S(),I("svg",Efe,Afe)}var Rfe=ae(Nfe,[["render",Ofe],["__file","briefcase.vue"]]),Dfe={name:"BrushFilled"},Ffe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Mfe=E("path",{fill:"currentColor",d:"M608 704v160a96 96 0 0 1-192 0V704h-96a128 128 0 0 1-128-128h640a128 128 0 0 1-128 128h-96zM192 512V128.064h640V512H192z"},null,-1),Pfe=[Mfe];function Lfe(t,e,n,s,r,o){return S(),I("svg",Ffe,Pfe)}var zfe=ae(Dfe,[["render",Lfe],["__file","brush-filled.vue"]]),Bfe={name:"Brush"},Vfe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Hfe=E("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64V448zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a663.872 663.872 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384h61.248zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168z"},null,-1),Wfe=[Hfe];function Ufe(t,e,n,s,r,o){return S(),I("svg",Vfe,Wfe)}var Gfe=ae(Bfe,[["render",Ufe],["__file","brush.vue"]]),jfe={name:"Burger"},Kfe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qfe=E("path",{fill:"currentColor",d:"M160 512a32 32 0 0 0-32 32v64a32 32 0 0 0 30.08 32H864a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H160zm736-58.56A96 96 0 0 1 960 544v64a96 96 0 0 1-51.968 85.312L855.36 833.6a96 96 0 0 1-89.856 62.272H258.496A96 96 0 0 1 168.64 833.6l-52.608-140.224A96 96 0 0 1 64 608v-64a96 96 0 0 1 64-90.56V448a384 384 0 1 1 768 5.44zM832 448a320 320 0 0 0-640 0h640zM512 704H188.352l40.192 107.136a32 32 0 0 0 29.952 20.736h507.008a32 32 0 0 0 29.952-20.736L835.648 704H512z"},null,-1),Xfe=[qfe];function Yfe(t,e,n,s,r,o){return S(),I("svg",Kfe,Xfe)}var Zfe=ae(jfe,[["render",Yfe],["__file","burger.vue"]]),Jfe={name:"Calendar"},Qfe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ehe=E("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),the=[ehe];function nhe(t,e,n,s,r,o){return S(),I("svg",Qfe,the)}var uP=ae(Jfe,[["render",nhe],["__file","calendar.vue"]]),she={name:"CameraFilled"},rhe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ohe=E("path",{fill:"currentColor",d:"M160 224a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h704a64 64 0 0 0 64-64V288a64 64 0 0 0-64-64H748.416l-46.464-92.672A64 64 0 0 0 644.736 96H379.328a64 64 0 0 0-57.216 35.392L275.776 224H160zm352 435.2a115.2 115.2 0 1 0 0-230.4 115.2 115.2 0 0 0 0 230.4zm0 140.8a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),ahe=[ohe];function ihe(t,e,n,s,r,o){return S(),I("svg",rhe,ahe)}var lhe=ae(she,[["render",ihe],["__file","camera-filled.vue"]]),uhe={name:"Camera"},che={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dhe=E("path",{fill:"currentColor",d:"M896 256H128v576h768V256zm-199.424-64-32.064-64h-304.96l-32 64h369.024zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32zm416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448z"},null,-1),fhe=[dhe];function hhe(t,e,n,s,r,o){return S(),I("svg",che,fhe)}var phe=ae(uhe,[["render",hhe],["__file","camera.vue"]]),mhe={name:"CaretBottom"},ghe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vhe=E("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"},null,-1),yhe=[vhe];function bhe(t,e,n,s,r,o){return S(),I("svg",ghe,yhe)}var whe=ae(mhe,[["render",bhe],["__file","caret-bottom.vue"]]),_he={name:"CaretLeft"},$he={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xhe=E("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"},null,-1),She=[xhe];function Che(t,e,n,s,r,o){return S(),I("svg",$he,She)}var khe=ae(_he,[["render",Che],["__file","caret-left.vue"]]),The={name:"CaretRight"},Nhe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ehe=E("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),Ihe=[Ehe];function Ahe(t,e,n,s,r,o){return S(),I("svg",Nhe,Ihe)}var NC=ae(The,[["render",Ahe],["__file","caret-right.vue"]]),Ohe={name:"CaretTop"},Rhe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Dhe=E("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),Fhe=[Dhe];function Mhe(t,e,n,s,r,o){return S(),I("svg",Rhe,Fhe)}var cP=ae(Ohe,[["render",Mhe],["__file","caret-top.vue"]]),Phe={name:"Cellphone"},Lhe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zhe=E("path",{fill:"currentColor",d:"M256 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H256zm0-64h512a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V192A128 128 0 0 1 256 64zm128 128h256a32 32 0 1 1 0 64H384a32 32 0 0 1 0-64zm128 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"},null,-1),Bhe=[zhe];function Vhe(t,e,n,s,r,o){return S(),I("svg",Lhe,Bhe)}var Hhe=ae(Phe,[["render",Vhe],["__file","cellphone.vue"]]),Whe={name:"ChatDotRound"},Uhe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ghe=E("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),jhe=E("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"},null,-1),Khe=[Ghe,jhe];function qhe(t,e,n,s,r,o){return S(),I("svg",Uhe,Khe)}var Xhe=ae(Whe,[["render",qhe],["__file","chat-dot-round.vue"]]),Yhe={name:"ChatDotSquare"},Zhe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Jhe=E("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88L273.536 736zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),Qhe=E("path",{fill:"currentColor",d:"M512 499.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"},null,-1),epe=[Jhe,Qhe];function tpe(t,e,n,s,r,o){return S(),I("svg",Zhe,epe)}var npe=ae(Yhe,[["render",tpe],["__file","chat-dot-square.vue"]]),spe={name:"ChatLineRound"},rpe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ope=E("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),ape=E("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32z"},null,-1),ipe=[ope,ape];function lpe(t,e,n,s,r,o){return S(),I("svg",rpe,ipe)}var upe=ae(spe,[["render",lpe],["__file","chat-line-round.vue"]]),cpe={name:"ChatLineSquare"},dpe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fpe=E("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),hpe=E("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),ppe=[fpe,hpe];function mpe(t,e,n,s,r,o){return S(),I("svg",dpe,ppe)}var gpe=ae(cpe,[["render",mpe],["__file","chat-line-square.vue"]]),vpe={name:"ChatRound"},ype={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bpe=E("path",{fill:"currentColor",d:"m174.72 855.68 130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"},null,-1),wpe=[bpe];function _pe(t,e,n,s,r,o){return S(),I("svg",ype,wpe)}var $pe=ae(vpe,[["render",_pe],["__file","chat-round.vue"]]),xpe={name:"ChatSquare"},Spe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Cpe=E("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88L273.536 736zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),kpe=[Cpe];function Tpe(t,e,n,s,r,o){return S(),I("svg",Spe,kpe)}var Npe=ae(xpe,[["render",Tpe],["__file","chat-square.vue"]]),Epe={name:"Check"},Ipe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ape=E("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),Ope=[Ape];function Rpe(t,e,n,s,r,o){return S(),I("svg",Ipe,Ope)}var Jh=ae(Epe,[["render",Rpe],["__file","check.vue"]]),Dpe={name:"Checked"},Fpe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Mpe=E("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704v-64zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024 311.616 537.28zM384 192V96h256v96H384z"},null,-1),Ppe=[Mpe];function Lpe(t,e,n,s,r,o){return S(),I("svg",Fpe,Ppe)}var zpe=ae(Dpe,[["render",Lpe],["__file","checked.vue"]]),Bpe={name:"Cherry"},Vpe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Hpe=E("path",{fill:"currentColor",d:"M261.056 449.6c13.824-69.696 34.88-128.96 63.36-177.728 23.744-40.832 61.12-88.64 112.256-143.872H320a32 32 0 0 1 0-64h384a32 32 0 1 1 0 64H554.752c14.912 39.168 41.344 86.592 79.552 141.76 47.36 68.48 84.8 106.752 106.304 114.304a224 224 0 1 1-84.992 14.784c-22.656-22.912-47.04-53.76-73.92-92.608-38.848-56.128-67.008-105.792-84.352-149.312-55.296 58.24-94.528 107.52-117.76 147.2-23.168 39.744-41.088 88.768-53.568 147.072a224.064 224.064 0 1 1-64.96-1.6zM288 832a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm448-64a160 160 0 1 0 0-320 160 160 0 0 0 0 320z"},null,-1),Wpe=[Hpe];function Upe(t,e,n,s,r,o){return S(),I("svg",Vpe,Wpe)}var Gpe=ae(Bpe,[["render",Upe],["__file","cherry.vue"]]),jpe={name:"Chicken"},Kpe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qpe=E("path",{fill:"currentColor",d:"M349.952 716.992 478.72 588.16a106.688 106.688 0 0 1-26.176-19.072 106.688 106.688 0 0 1-19.072-26.176L304.704 671.744c.768 3.072 1.472 6.144 2.048 9.216l2.048 31.936 31.872 1.984c3.136.64 6.208 1.28 9.28 2.112zm57.344 33.152a128 128 0 1 1-216.32 114.432l-1.92-32-32-1.92a128 128 0 1 1 114.432-216.32L416.64 469.248c-2.432-101.44 58.112-239.104 149.056-330.048 107.328-107.328 231.296-85.504 316.8 0 85.44 85.44 107.328 209.408 0 316.8-91.008 90.88-228.672 151.424-330.112 149.056L407.296 750.08zm90.496-226.304c49.536 49.536 233.344-7.04 339.392-113.088 78.208-78.208 63.232-163.072 0-226.304-63.168-63.232-148.032-78.208-226.24 0C504.896 290.496 448.32 474.368 497.792 523.84zM244.864 708.928a64 64 0 1 0-59.84 59.84l56.32-3.52 3.52-56.32zm8.064 127.68a64 64 0 1 0 59.84-59.84l-56.32 3.52-3.52 56.32z"},null,-1),Xpe=[qpe];function Ype(t,e,n,s,r,o){return S(),I("svg",Kpe,Xpe)}var Zpe=ae(jpe,[["render",Ype],["__file","chicken.vue"]]),Jpe={name:"ChromeFilled"},Qpe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},eme=E("path",{d:"M938.67 512.01c0-44.59-6.82-87.6-19.54-128H682.67a212.372 212.372 0 0 1 42.67 128c.06 38.71-10.45 76.7-30.42 109.87l-182.91 316.8c235.65-.01 426.66-191.02 426.66-426.67z",fill:"currentColor"},null,-1),tme=E("path",{d:"M576.79 401.63a127.92 127.92 0 0 0-63.56-17.6c-22.36-.22-44.39 5.43-63.89 16.38s-35.79 26.82-47.25 46.02a128.005 128.005 0 0 0-2.16 127.44l1.24 2.13a127.906 127.906 0 0 0 46.36 46.61 127.907 127.907 0 0 0 63.38 17.44c22.29.2 44.24-5.43 63.68-16.33a127.94 127.94 0 0 0 47.16-45.79v-.01l1.11-1.92a127.984 127.984 0 0 0 .29-127.46 127.957 127.957 0 0 0-46.36-46.91z",fill:"currentColor"},null,-1),nme=E("path",{d:"M394.45 333.96A213.336 213.336 0 0 1 512 298.67h369.58A426.503 426.503 0 0 0 512 85.34a425.598 425.598 0 0 0-171.74 35.98 425.644 425.644 0 0 0-142.62 102.22l118.14 204.63a213.397 213.397 0 0 1 78.67-94.21zm117.56 604.72H512zm-97.25-236.73a213.284 213.284 0 0 1-89.54-86.81L142.48 298.6c-36.35 62.81-57.13 135.68-57.13 213.42 0 203.81 142.93 374.22 333.95 416.55h.04l118.19-204.71a213.315 213.315 0 0 1-122.77-21.91z",fill:"currentColor"},null,-1),sme=[eme,tme,nme];function rme(t,e,n,s,r,o){return S(),I("svg",Qpe,sme)}var ome=ae(Jpe,[["render",rme],["__file","chrome-filled.vue"]]),ame={name:"CircleCheckFilled"},ime={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lme=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),ume=[lme];function cme(t,e,n,s,r,o){return S(),I("svg",ime,ume)}var dP=ae(ame,[["render",cme],["__file","circle-check-filled.vue"]]),dme={name:"CircleCheck"},fme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hme=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),pme=E("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),mme=[hme,pme];function gme(t,e,n,s,r,o){return S(),I("svg",fme,mme)}var iw=ae(dme,[["render",gme],["__file","circle-check.vue"]]),vme={name:"CircleCloseFilled"},yme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bme=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),wme=[bme];function _me(t,e,n,s,r,o){return S(),I("svg",yme,wme)}var lw=ae(vme,[["render",_me],["__file","circle-close-filled.vue"]]),$me={name:"CircleClose"},xme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Sme=E("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),Cme=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),kme=[Sme,Cme];function Tme(t,e,n,s,r,o){return S(),I("svg",xme,kme)}var Bl=ae($me,[["render",Tme],["__file","circle-close.vue"]]),Nme={name:"CirclePlusFilled"},Eme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ime=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-38.4 409.6H326.4a38.4 38.4 0 1 0 0 76.8h147.2v147.2a38.4 38.4 0 0 0 76.8 0V550.4h147.2a38.4 38.4 0 0 0 0-76.8H550.4V326.4a38.4 38.4 0 1 0-76.8 0v147.2z"},null,-1),Ame=[Ime];function Ome(t,e,n,s,r,o){return S(),I("svg",Eme,Ame)}var Rme=ae(Nme,[["render",Ome],["__file","circle-plus-filled.vue"]]),Dme={name:"CirclePlus"},Fme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Mme=E("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),Pme=E("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0z"},null,-1),Lme=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),zme=[Mme,Pme,Lme];function Bme(t,e,n,s,r,o){return S(),I("svg",Fme,zme)}var Vme=ae(Dme,[["render",Bme],["__file","circle-plus.vue"]]),Hme={name:"Clock"},Wme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ume=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Gme=E("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),jme=E("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),Kme=[Ume,Gme,jme];function qme(t,e,n,s,r,o){return S(),I("svg",Wme,Kme)}var EC=ae(Hme,[["render",qme],["__file","clock.vue"]]),Xme={name:"CloseBold"},Yme={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Zme=E("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"},null,-1),Jme=[Zme];function Qme(t,e,n,s,r,o){return S(),I("svg",Yme,Jme)}var e0e=ae(Xme,[["render",Qme],["__file","close-bold.vue"]]),t0e={name:"Close"},n0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},s0e=E("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),r0e=[s0e];function o0e(t,e,n,s,r,o){return S(),I("svg",n0e,r0e)}var xa=ae(t0e,[["render",o0e],["__file","close.vue"]]),a0e={name:"Cloudy"},i0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l0e=E("path",{fill:"currentColor",d:"M598.4 831.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 831.872zm-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 381.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"},null,-1),u0e=[l0e];function c0e(t,e,n,s,r,o){return S(),I("svg",i0e,u0e)}var d0e=ae(a0e,[["render",c0e],["__file","cloudy.vue"]]),f0e={name:"CoffeeCup"},h0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},p0e=E("path",{fill:"currentColor",d:"M768 192a192 192 0 1 1-8 383.808A256.128 256.128 0 0 1 512 768H320A256 256 0 0 1 64 512V160a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v32zm0 64v256a128 128 0 1 0 0-256zM96 832h640a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64zm32-640v320a192 192 0 0 0 192 192h192a192 192 0 0 0 192-192V192H128z"},null,-1),m0e=[p0e];function g0e(t,e,n,s,r,o){return S(),I("svg",h0e,m0e)}var v0e=ae(f0e,[["render",g0e],["__file","coffee-cup.vue"]]),y0e={name:"Coffee"},b0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},w0e=E("path",{fill:"currentColor",d:"M822.592 192h14.272a32 32 0 0 1 31.616 26.752l21.312 128A32 32 0 0 1 858.24 384h-49.344l-39.04 546.304A32 32 0 0 1 737.92 960H285.824a32 32 0 0 1-32-29.696L214.912 384H165.76a32 32 0 0 1-31.552-37.248l21.312-128A32 32 0 0 1 187.136 192h14.016l-6.72-93.696A32 32 0 0 1 226.368 64h571.008a32 32 0 0 1 31.936 34.304L822.592 192zm-64.128 0 4.544-64H260.736l4.544 64h493.184zm-548.16 128H820.48l-10.688-64H214.208l-10.688 64h6.784zm68.736 64 36.544 512H708.16l36.544-512H279.04z"},null,-1),_0e=[w0e];function $0e(t,e,n,s,r,o){return S(),I("svg",b0e,_0e)}var x0e=ae(y0e,[["render",$0e],["__file","coffee.vue"]]),S0e={name:"Coin"},C0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},k0e=E("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),T0e=E("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),N0e=E("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224zm0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160z"},null,-1),E0e=[k0e,T0e,N0e];function I0e(t,e,n,s,r,o){return S(),I("svg",C0e,E0e)}var A0e=ae(S0e,[["render",I0e],["__file","coin.vue"]]),O0e={name:"ColdDrink"},R0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},D0e=E("path",{fill:"currentColor",d:"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64zM656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64 129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928 304-404.928H299.008z"},null,-1),F0e=[D0e];function M0e(t,e,n,s,r,o){return S(),I("svg",R0e,F0e)}var P0e=ae(O0e,[["render",M0e],["__file","cold-drink.vue"]]),L0e={name:"CollectionTag"},z0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},B0e=E("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128H256zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32z"},null,-1),V0e=[B0e];function H0e(t,e,n,s,r,o){return S(),I("svg",z0e,V0e)}var W0e=ae(L0e,[["render",H0e],["__file","collection-tag.vue"]]),U0e={name:"Collection"},G0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},j0e=E("path",{fill:"currentColor",d:"M192 736h640V128H256a64 64 0 0 0-64 64v544zm64-672h608a32 32 0 0 1 32 32v672a32 32 0 0 1-32 32H160l-32 57.536V192A128 128 0 0 1 256 64z"},null,-1),K0e=E("path",{fill:"currentColor",d:"M240 800a48 48 0 1 0 0 96h592v-96H240zm0-64h656v160a64 64 0 0 1-64 64H240a112 112 0 0 1 0-224zm144-608v250.88l96-76.8 96 76.8V128H384zm-64-64h320v381.44a32 32 0 0 1-51.968 24.96L480 384l-108.032 86.4A32 32 0 0 1 320 445.44V64z"},null,-1),q0e=[j0e,K0e];function X0e(t,e,n,s,r,o){return S(),I("svg",G0e,q0e)}var Y0e=ae(U0e,[["render",X0e],["__file","collection.vue"]]),Z0e={name:"Comment"},J0e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Q0e=E("path",{fill:"currentColor",d:"M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zM128 128v640h192v160l224-160h352V128H128z"},null,-1),ege=[Q0e];function tge(t,e,n,s,r,o){return S(),I("svg",J0e,ege)}var nge=ae(Z0e,[["render",tge],["__file","comment.vue"]]),sge={name:"Compass"},rge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oge=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),age=E("path",{fill:"currentColor",d:"M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832z"},null,-1),ige=[oge,age];function lge(t,e,n,s,r,o){return S(),I("svg",rge,ige)}var uge=ae(sge,[["render",lge],["__file","compass.vue"]]),cge={name:"Connection"},dge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fge=E("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192h192z"},null,-1),hge=E("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192H384z"},null,-1),pge=[fge,hge];function mge(t,e,n,s,r,o){return S(),I("svg",dge,pge)}var gge=ae(cge,[["render",mge],["__file","connection.vue"]]),vge={name:"Coordinate"},yge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bge=E("path",{fill:"currentColor",d:"M480 512h64v320h-64z"},null,-1),wge=E("path",{fill:"currentColor",d:"M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64zm64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128zm256-256a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),_ge=[bge,wge];function $ge(t,e,n,s,r,o){return S(),I("svg",yge,_ge)}var xge=ae(vge,[["render",$ge],["__file","coordinate.vue"]]),Sge={name:"CopyDocument"},Cge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kge=E("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"},null,-1),Tge=E("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"},null,-1),Nge=[kge,Tge];function Ege(t,e,n,s,r,o){return S(),I("svg",Cge,Nge)}var Ige=ae(Sge,[["render",Ege],["__file","copy-document.vue"]]),Age={name:"Cpu"},Oge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Rge=E("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H320zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128z"},null,-1),Dge=E("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zM64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32z"},null,-1),Fge=[Rge,Dge];function Mge(t,e,n,s,r,o){return S(),I("svg",Oge,Fge)}var Pge=ae(Age,[["render",Mge],["__file","cpu.vue"]]),Lge={name:"CreditCard"},zge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Bge=E("path",{fill:"currentColor",d:"M896 324.096c0-42.368-2.496-55.296-9.536-68.48a52.352 52.352 0 0 0-22.144-22.08c-13.12-7.04-26.048-9.536-68.416-9.536H228.096c-42.368 0-55.296 2.496-68.48 9.536a52.352 52.352 0 0 0-22.08 22.144c-7.04 13.12-9.536 26.048-9.536 68.416v375.808c0 42.368 2.496 55.296 9.536 68.48a52.352 52.352 0 0 0 22.144 22.08c13.12 7.04 26.048 9.536 68.416 9.536h567.808c42.368 0 55.296-2.496 68.48-9.536a52.352 52.352 0 0 0 22.08-22.144c7.04-13.12 9.536-26.048 9.536-68.416V324.096zm64 0v375.808c0 57.088-5.952 77.76-17.088 98.56-11.136 20.928-27.52 37.312-48.384 48.448-20.864 11.136-41.6 17.088-98.56 17.088H228.032c-57.088 0-77.76-5.952-98.56-17.088a116.288 116.288 0 0 1-48.448-48.384c-11.136-20.864-17.088-41.6-17.088-98.56V324.032c0-57.088 5.952-77.76 17.088-98.56 11.136-20.928 27.52-37.312 48.384-48.448 20.864-11.136 41.6-17.088 98.56-17.088H795.84c57.088 0 77.76 5.952 98.56 17.088 20.928 11.136 37.312 27.52 48.448 48.384 11.136 20.864 17.088 41.6 17.088 98.56z"},null,-1),Vge=E("path",{fill:"currentColor",d:"M64 320h896v64H64v-64zm0 128h896v64H64v-64zm128 192h256v64H192z"},null,-1),Hge=[Bge,Vge];function Wge(t,e,n,s,r,o){return S(),I("svg",zge,Hge)}var Uge=ae(Lge,[["render",Wge],["__file","credit-card.vue"]]),Gge={name:"Crop"},jge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Kge=E("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0v672z"},null,-1),qge=E("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32z"},null,-1),Xge=[Kge,qge];function Yge(t,e,n,s,r,o){return S(),I("svg",jge,Xge)}var Zge=ae(Gge,[["render",Yge],["__file","crop.vue"]]),Jge={name:"DArrowLeft"},Qge={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},e1e=E("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),t1e=[e1e];function n1e(t,e,n,s,r,o){return S(),I("svg",Qge,t1e)}var $d=ae(Jge,[["render",n1e],["__file","d-arrow-left.vue"]]),s1e={name:"DArrowRight"},r1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},o1e=E("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),a1e=[o1e];function i1e(t,e,n,s,r,o){return S(),I("svg",r1e,a1e)}var xd=ae(s1e,[["render",i1e],["__file","d-arrow-right.vue"]]),l1e={name:"DCaret"},u1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},c1e=E("path",{fill:"currentColor",d:"m512 128 288 320H224l288-320zM224 576h576L512 896 224 576z"},null,-1),d1e=[c1e];function f1e(t,e,n,s,r,o){return S(),I("svg",u1e,d1e)}var h1e=ae(l1e,[["render",f1e],["__file","d-caret.vue"]]),p1e={name:"DataAnalysis"},m1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},g1e=E("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216zM832 192H192v512h640V192zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32zm160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32zm160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32z"},null,-1),v1e=[g1e];function y1e(t,e,n,s,r,o){return S(),I("svg",m1e,v1e)}var b1e=ae(p1e,[["render",y1e],["__file","data-analysis.vue"]]),w1e={name:"DataBoard"},_1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$1e=E("path",{fill:"currentColor",d:"M32 128h960v64H32z"},null,-1),x1e=E("path",{fill:"currentColor",d:"M192 192v512h640V192H192zm-64-64h768v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V128z"},null,-1),S1e=E("path",{fill:"currentColor",d:"M322.176 960H248.32l144.64-250.56 55.424 32L322.176 960zm453.888 0h-73.856L576 741.44l55.424-32L776.064 960z"},null,-1),C1e=[$1e,x1e,S1e];function k1e(t,e,n,s,r,o){return S(),I("svg",_1e,C1e)}var T1e=ae(w1e,[["render",k1e],["__file","data-board.vue"]]),N1e={name:"DataLine"},E1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},I1e=E("path",{fill:"currentColor",d:"M359.168 768H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216l110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192zM832 192H192v512h640V192zM342.656 534.656a32 32 0 1 1-45.312-45.312L444.992 341.76l125.44 94.08L679.04 300.032a32 32 0 1 1 49.92 39.936L581.632 524.224 451.008 426.24 342.656 534.592z"},null,-1),A1e=[I1e];function O1e(t,e,n,s,r,o){return S(),I("svg",E1e,A1e)}var R1e=ae(N1e,[["render",O1e],["__file","data-line.vue"]]),D1e={name:"DeleteFilled"},F1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M1e=E("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64h256zm64 0h192v-64H416v64zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32H192zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32zm192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32z"},null,-1),P1e=[M1e];function L1e(t,e,n,s,r,o){return S(),I("svg",F1e,P1e)}var z1e=ae(D1e,[["render",L1e],["__file","delete-filled.vue"]]),B1e={name:"DeleteLocation"},V1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},H1e=E("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),W1e=E("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),U1e=E("path",{fill:"currentColor",d:"M384 384h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32z"},null,-1),G1e=[H1e,W1e,U1e];function j1e(t,e,n,s,r,o){return S(),I("svg",V1e,G1e)}var K1e=ae(B1e,[["render",j1e],["__file","delete-location.vue"]]),q1e={name:"Delete"},X1e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Y1e=E("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),Z1e=[Y1e];function J1e(t,e,n,s,r,o){return S(),I("svg",X1e,Z1e)}var fP=ae(q1e,[["render",J1e],["__file","delete.vue"]]),Q1e={name:"Dessert"},e2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},t2e=E("path",{fill:"currentColor",d:"M128 416v-48a144 144 0 0 1 168.64-141.888 224.128 224.128 0 0 1 430.72 0A144 144 0 0 1 896 368v48a384 384 0 0 1-352 382.72V896h-64v-97.28A384 384 0 0 1 128 416zm287.104-32.064h193.792a143.808 143.808 0 0 1 58.88-132.736 160.064 160.064 0 0 0-311.552 0 143.808 143.808 0 0 1 58.88 132.8zm-72.896 0a72 72 0 1 0-140.48 0h140.48zm339.584 0h140.416a72 72 0 1 0-140.48 0zM512 736a320 320 0 0 0 318.4-288.064H193.6A320 320 0 0 0 512 736zM384 896.064h256a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64z"},null,-1),n2e=[t2e];function s2e(t,e,n,s,r,o){return S(),I("svg",e2e,n2e)}var r2e=ae(Q1e,[["render",s2e],["__file","dessert.vue"]]),o2e={name:"Discount"},a2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},i2e=E("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336V704zm0 64v128h576V768H224zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"},null,-1),l2e=E("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),u2e=[i2e,l2e];function c2e(t,e,n,s,r,o){return S(),I("svg",a2e,u2e)}var d2e=ae(o2e,[["render",c2e],["__file","discount.vue"]]),f2e={name:"DishDot"},h2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},p2e=E("path",{fill:"currentColor",d:"m384.064 274.56.064-50.688A128 128 0 0 1 512.128 96c70.528 0 127.68 57.152 127.68 127.68v50.752A448.192 448.192 0 0 1 955.392 768H68.544A448.192 448.192 0 0 1 384 274.56zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64zm32-128h768a384 384 0 1 0-768 0zm447.808-448v-32.32a63.68 63.68 0 0 0-63.68-63.68 64 64 0 0 0-64 63.936V256h127.68z"},null,-1),m2e=[p2e];function g2e(t,e,n,s,r,o){return S(),I("svg",h2e,m2e)}var v2e=ae(f2e,[["render",g2e],["__file","dish-dot.vue"]]),y2e={name:"Dish"},b2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},w2e=E("path",{fill:"currentColor",d:"M480 257.152V192h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96v65.152A448 448 0 0 1 955.52 768H68.48A448 448 0 0 1 480 257.152zM128 704h768a384 384 0 1 0-768 0zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64z"},null,-1),_2e=[w2e];function $2e(t,e,n,s,r,o){return S(),I("svg",b2e,_2e)}var x2e=ae(y2e,[["render",$2e],["__file","dish.vue"]]),S2e={name:"DocumentAdd"},C2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},k2e=E("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm320 512V448h64v128h128v64H544v128h-64V640H352v-64h128z"},null,-1),T2e=[k2e];function N2e(t,e,n,s,r,o){return S(),I("svg",C2e,T2e)}var E2e=ae(S2e,[["render",N2e],["__file","document-add.vue"]]),I2e={name:"DocumentChecked"},A2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},O2e=E("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312L478.4 646.144z"},null,-1),R2e=[O2e];function D2e(t,e,n,s,r,o){return S(),I("svg",A2e,R2e)}var F2e=ae(I2e,[["render",D2e],["__file","document-checked.vue"]]),M2e={name:"DocumentCopy"},P2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},L2e=E("path",{fill:"currentColor",d:"M128 320v576h576V320H128zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zM960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32zM256 672h320v64H256v-64zm0-192h320v64H256v-64z"},null,-1),z2e=[L2e];function B2e(t,e,n,s,r,o){return S(),I("svg",P2e,z2e)}var V2e=ae(M2e,[["render",B2e],["__file","document-copy.vue"]]),H2e={name:"DocumentDelete"},W2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U2e=E("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm308.992 546.304-90.496-90.624 45.248-45.248 90.56 90.496 90.496-90.432 45.248 45.248-90.496 90.56 90.496 90.496-45.248 45.248-90.496-90.496-90.56 90.496-45.248-45.248 90.496-90.496z"},null,-1),G2e=[U2e];function j2e(t,e,n,s,r,o){return S(),I("svg",W2e,G2e)}var K2e=ae(H2e,[["render",j2e],["__file","document-delete.vue"]]),q2e={name:"DocumentRemove"},X2e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Y2e=E("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm192 512h320v64H352v-64z"},null,-1),Z2e=[Y2e];function J2e(t,e,n,s,r,o){return S(),I("svg",X2e,Z2e)}var Q2e=ae(q2e,[["render",J2e],["__file","document-remove.vue"]]),eve={name:"Document"},tve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},nve=E("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),sve=[nve];function rve(t,e,n,s,r,o){return S(),I("svg",tve,sve)}var hP=ae(eve,[["render",rve],["__file","document.vue"]]),ove={name:"Download"},ave={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ive=E("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64v450.304z"},null,-1),lve=[ive];function uve(t,e,n,s,r,o){return S(),I("svg",ave,lve)}var cve=ae(ove,[["render",uve],["__file","download.vue"]]),dve={name:"Drizzling"},fve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hve=E("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480zM288 800h64v64h-64v-64zm192 0h64v64h-64v-64zm-96 96h64v64h-64v-64zm192 0h64v64h-64v-64zm96-96h64v64h-64v-64z"},null,-1),pve=[hve];function mve(t,e,n,s,r,o){return S(),I("svg",fve,pve)}var gve=ae(dve,[["render",mve],["__file","drizzling.vue"]]),vve={name:"EditPen"},yve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bve=E("path",{d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z",fill:"currentColor"},null,-1),wve=[bve];function _ve(t,e,n,s,r,o){return S(),I("svg",yve,wve)}var $ve=ae(vve,[["render",_ve],["__file","edit-pen.vue"]]),xve={name:"Edit"},Sve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Cve=E("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),kve=E("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),Tve=[Cve,kve];function Nve(t,e,n,s,r,o){return S(),I("svg",Sve,Tve)}var Eve=ae(xve,[["render",Nve],["__file","edit.vue"]]),Ive={name:"ElemeFilled"},Ave={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ove=E("path",{fill:"currentColor",d:"M176 64h672c61.824 0 112 50.176 112 112v672a112 112 0 0 1-112 112H176A112 112 0 0 1 64 848V176c0-61.824 50.176-112 112-112zm150.528 173.568c-152.896 99.968-196.544 304.064-97.408 456.96a330.688 330.688 0 0 0 456.96 96.64c9.216-5.888 17.6-11.776 25.152-18.56a18.24 18.24 0 0 0 4.224-24.32L700.352 724.8a47.552 47.552 0 0 0-65.536-14.272A234.56 234.56 0 0 1 310.592 641.6C240 533.248 271.104 387.968 379.456 316.48a234.304 234.304 0 0 1 276.352 15.168c1.664.832 2.56 2.56 3.392 4.224 5.888 8.384 3.328 19.328-5.12 25.216L456.832 489.6a47.552 47.552 0 0 0-14.336 65.472l16 24.384c5.888 8.384 16.768 10.88 25.216 5.056l308.224-199.936a19.584 19.584 0 0 0 6.72-23.488v-.896c-4.992-9.216-10.048-17.6-15.104-26.88-99.968-151.168-304.064-194.88-456.96-95.744zM786.88 504.704l-62.208 40.32c-8.32 5.888-10.88 16.768-4.992 25.216L760 632.32c5.888 8.448 16.768 11.008 25.152 5.12l31.104-20.16a55.36 55.36 0 0 0 16-76.48l-20.224-31.04a19.52 19.52 0 0 0-25.152-5.12z"},null,-1),Rve=[Ove];function Dve(t,e,n,s,r,o){return S(),I("svg",Ave,Rve)}var Fve=ae(Ive,[["render",Dve],["__file","eleme-filled.vue"]]),Mve={name:"Eleme"},Pve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Lve=E("path",{fill:"currentColor",d:"M300.032 188.8c174.72-113.28 408-63.36 522.24 109.44 5.76 10.56 11.52 20.16 17.28 30.72v.96a22.4 22.4 0 0 1-7.68 26.88l-352.32 228.48c-9.6 6.72-22.08 3.84-28.8-5.76l-18.24-27.84a54.336 54.336 0 0 1 16.32-74.88l225.6-146.88c9.6-6.72 12.48-19.2 5.76-28.8-.96-1.92-1.92-3.84-3.84-4.8a267.84 267.84 0 0 0-315.84-17.28c-123.84 81.6-159.36 247.68-78.72 371.52a268.096 268.096 0 0 0 370.56 78.72 54.336 54.336 0 0 1 74.88 16.32l17.28 26.88c5.76 9.6 3.84 21.12-4.8 27.84-8.64 7.68-18.24 14.4-28.8 21.12a377.92 377.92 0 0 1-522.24-110.4c-113.28-174.72-63.36-408 111.36-522.24zm526.08 305.28a22.336 22.336 0 0 1 28.8 5.76l23.04 35.52a63.232 63.232 0 0 1-18.24 87.36l-35.52 23.04c-9.6 6.72-22.08 3.84-28.8-5.76l-46.08-71.04c-6.72-9.6-3.84-22.08 5.76-28.8l71.04-46.08z"},null,-1),zve=[Lve];function Bve(t,e,n,s,r,o){return S(),I("svg",Pve,zve)}var Vve=ae(Mve,[["render",Bve],["__file","eleme.vue"]]),Hve={name:"ElementPlus"},Wve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Uve=E("path",{d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6c12.8-5.1 25.6-5.1 38.4 0 0 0 279 161.3 309.8 179.2 17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8zM714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4l220.1-128zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64l-2.5-38.4z",fill:"currentColor"},null,-1),Gve=[Uve];function jve(t,e,n,s,r,o){return S(),I("svg",Wve,Gve)}var Kve=ae(Hve,[["render",jve],["__file","element-plus.vue"]]),qve={name:"Expand"},Xve={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Yve=E("path",{fill:"currentColor",d:"M128 192h768v128H128V192zm0 256h512v128H128V448zm0 256h768v128H128V704zm576-352 192 160-192 128V352z"},null,-1),Zve=[Yve];function Jve(t,e,n,s,r,o){return S(),I("svg",Xve,Zve)}var Qve=ae(qve,[["render",Jve],["__file","expand.vue"]]),eye={name:"Failed"},tye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},nye=E("path",{fill:"currentColor",d:"m557.248 608 135.744-135.744-45.248-45.248-135.68 135.744-135.808-135.68-45.248 45.184L466.752 608l-135.68 135.68 45.184 45.312L512 653.248l135.744 135.744 45.248-45.248L557.312 608zM704 192h160v736H160V192h160v64h384v-64zm-320 0V96h256v96H384z"},null,-1),sye=[nye];function rye(t,e,n,s,r,o){return S(),I("svg",tye,sye)}var oye=ae(eye,[["render",rye],["__file","failed.vue"]]),aye={name:"Female"},iye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lye=E("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),uye=E("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32z"},null,-1),cye=E("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),dye=[lye,uye,cye];function fye(t,e,n,s,r,o){return S(),I("svg",iye,dye)}var hye=ae(aye,[["render",fye],["__file","female.vue"]]),pye={name:"Files"},mye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gye=E("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1),vye=[gye];function yye(t,e,n,s,r,o){return S(),I("svg",mye,vye)}var bye=ae(pye,[["render",yye],["__file","files.vue"]]),wye={name:"Film"},_ye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$ye=E("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),xye=E("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64h192z"},null,-1),Sye=[$ye,xye];function Cye(t,e,n,s,r,o){return S(),I("svg",_ye,Sye)}var kye=ae(wye,[["render",Cye],["__file","film.vue"]]),Tye={name:"Filter"},Nye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Eye=E("path",{fill:"currentColor",d:"M384 523.392V928a32 32 0 0 0 46.336 28.608l192-96A32 32 0 0 0 640 832V523.392l280.768-343.104a32 32 0 1 0-49.536-40.576l-288 352A32 32 0 0 0 576 512v300.224l-128 64V512a32 32 0 0 0-7.232-20.288L195.52 192H704a32 32 0 1 0 0-64H128a32 32 0 0 0-24.768 52.288L384 523.392z"},null,-1),Iye=[Eye];function Aye(t,e,n,s,r,o){return S(),I("svg",Nye,Iye)}var Oye=ae(Tye,[["render",Aye],["__file","filter.vue"]]),Rye={name:"Finished"},Dye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Fye=E("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64H736zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64H608zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64H480z"},null,-1),Mye=[Fye];function Pye(t,e,n,s,r,o){return S(),I("svg",Dye,Mye)}var Lye=ae(Rye,[["render",Pye],["__file","finished.vue"]]),zye={name:"FirstAidKit"},Bye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Vye=E("path",{fill:"currentColor",d:"M192 256a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H192zm0-64h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128z"},null,-1),Hye=E("path",{fill:"currentColor",d:"M544 512h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96zM352 128v64h320v-64H352zm-32-64h384a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H320a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),Wye=[Vye,Hye];function Uye(t,e,n,s,r,o){return S(),I("svg",Bye,Wye)}var Gye=ae(zye,[["render",Uye],["__file","first-aid-kit.vue"]]),jye={name:"Flag"},Kye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qye=E("path",{fill:"currentColor",d:"M288 128h608L736 384l160 256H288v320h-96V64h96v64z"},null,-1),Xye=[qye];function Yye(t,e,n,s,r,o){return S(),I("svg",Kye,Xye)}var Zye=ae(jye,[["render",Yye],["__file","flag.vue"]]),Jye={name:"Fold"},Qye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ebe=E("path",{fill:"currentColor",d:"M896 192H128v128h768V192zm0 256H384v128h512V448zm0 256H128v128h768V704zM320 384 128 512l192 128V384z"},null,-1),tbe=[ebe];function nbe(t,e,n,s,r,o){return S(),I("svg",Qye,tbe)}var sbe=ae(Jye,[["render",nbe],["__file","fold.vue"]]),rbe={name:"FolderAdd"},obe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},abe=E("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm384 416V416h64v128h128v64H544v128h-64V608H352v-64h128z"},null,-1),ibe=[abe];function lbe(t,e,n,s,r,o){return S(),I("svg",obe,ibe)}var ube=ae(rbe,[["render",lbe],["__file","folder-add.vue"]]),cbe={name:"FolderChecked"},dbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fbe=E("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm414.08 502.144 180.992-180.992L736.32 494.4 510.08 720.64l-158.4-158.336 45.248-45.312L510.08 630.144z"},null,-1),hbe=[fbe];function pbe(t,e,n,s,r,o){return S(),I("svg",dbe,hbe)}var mbe=ae(cbe,[["render",pbe],["__file","folder-checked.vue"]]),gbe={name:"FolderDelete"},vbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ybe=E("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm370.752 448-90.496-90.496 45.248-45.248L512 530.752l90.496-90.496 45.248 45.248L557.248 576l90.496 90.496-45.248 45.248L512 621.248l-90.496 90.496-45.248-45.248L466.752 576z"},null,-1),bbe=[ybe];function wbe(t,e,n,s,r,o){return S(),I("svg",vbe,bbe)}var _be=ae(gbe,[["render",wbe],["__file","folder-delete.vue"]]),$be={name:"FolderOpened"},xbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Sbe=E("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"},null,-1),Cbe=[Sbe];function kbe(t,e,n,s,r,o){return S(),I("svg",xbe,Cbe)}var Tbe=ae($be,[["render",kbe],["__file","folder-opened.vue"]]),Nbe={name:"FolderRemove"},Ebe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ibe=E("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm256 416h320v64H352v-64z"},null,-1),Abe=[Ibe];function Obe(t,e,n,s,r,o){return S(),I("svg",Ebe,Abe)}var Rbe=ae(Nbe,[["render",Obe],["__file","folder-remove.vue"]]),Dbe={name:"Folder"},Fbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Mbe=E("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),Pbe=[Mbe];function Lbe(t,e,n,s,r,o){return S(),I("svg",Fbe,Pbe)}var zbe=ae(Dbe,[["render",Lbe],["__file","folder.vue"]]),Bbe={name:"Food"},Vbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Hbe=E("path",{fill:"currentColor",d:"M128 352.576V352a288 288 0 0 1 491.072-204.224 192 192 0 0 1 274.24 204.48 64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0zm128 0h192a96 96 0 0 0-192 0zm439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616 11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352zM672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32v-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288z"},null,-1),Wbe=[Hbe];function Ube(t,e,n,s,r,o){return S(),I("svg",Vbe,Wbe)}var Gbe=ae(Bbe,[["render",Ube],["__file","food.vue"]]),jbe={name:"Football"},Kbe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qbe=E("path",{fill:"currentColor",d:"M512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896zm0-64a384 384 0 1 0 0-768 384 384 0 0 0 0 768z"},null,-1),Xbe=E("path",{fill:"currentColor",d:"M186.816 268.288c16-16.384 31.616-31.744 46.976-46.08 17.472 30.656 39.808 58.112 65.984 81.28l-32.512 56.448a385.984 385.984 0 0 1-80.448-91.648zm653.696-5.312a385.92 385.92 0 0 1-83.776 96.96l-32.512-56.384a322.923 322.923 0 0 0 68.48-85.76c15.552 14.08 31.488 29.12 47.808 45.184zM465.984 445.248l11.136-63.104a323.584 323.584 0 0 0 69.76 0l11.136 63.104a387.968 387.968 0 0 1-92.032 0zm-62.72-12.8A381.824 381.824 0 0 1 320 396.544l32-55.424a319.885 319.885 0 0 0 62.464 27.712l-11.2 63.488zm300.8-35.84a381.824 381.824 0 0 1-83.328 35.84l-11.2-63.552A319.885 319.885 0 0 0 672 341.184l32 55.424zm-520.768 364.8a385.92 385.92 0 0 1 83.968-97.28l32.512 56.32c-26.88 23.936-49.856 52.352-67.52 84.032-16-13.44-32.32-27.712-48.96-43.072zm657.536.128a1442.759 1442.759 0 0 1-49.024 43.072 321.408 321.408 0 0 0-67.584-84.16l32.512-56.32c33.216 27.456 61.696 60.352 84.096 97.408zM465.92 578.752a387.968 387.968 0 0 1 92.032 0l-11.136 63.104a323.584 323.584 0 0 0-69.76 0l-11.136-63.104zm-62.72 12.8 11.2 63.552a319.885 319.885 0 0 0-62.464 27.712L320 627.392a381.824 381.824 0 0 1 83.264-35.84zm300.8 35.84-32 55.424a318.272 318.272 0 0 0-62.528-27.712l11.2-63.488c29.44 8.64 57.28 20.736 83.264 35.776z"},null,-1),Ybe=[qbe,Xbe];function Zbe(t,e,n,s,r,o){return S(),I("svg",Kbe,Ybe)}var Jbe=ae(jbe,[["render",Zbe],["__file","football.vue"]]),Qbe={name:"ForkSpoon"},ewe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},twe=E("path",{fill:"currentColor",d:"M256 410.304V96a32 32 0 0 1 64 0v314.304a96 96 0 0 0 64-90.56V96a32 32 0 0 1 64 0v223.744a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.544a160 160 0 0 1-128-156.8V96a32 32 0 0 1 64 0v223.744a96 96 0 0 0 64 90.56zM672 572.48C581.184 552.128 512 446.848 512 320c0-141.44 85.952-256 192-256s192 114.56 192 256c0 126.848-69.184 232.128-160 252.48V928a32 32 0 1 1-64 0V572.48zM704 512c66.048 0 128-82.56 128-192s-61.952-192-128-192-128 82.56-128 192 61.952 192 128 192z"},null,-1),nwe=[twe];function swe(t,e,n,s,r,o){return S(),I("svg",ewe,nwe)}var rwe=ae(Qbe,[["render",swe],["__file","fork-spoon.vue"]]),owe={name:"Fries"},awe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iwe=E("path",{fill:"currentColor",d:"M608 224v-64a32 32 0 0 0-64 0v336h26.88A64 64 0 0 0 608 484.096V224zm101.12 160A64 64 0 0 0 672 395.904V384h64V224a32 32 0 1 0-64 0v160h37.12zm74.88 0a92.928 92.928 0 0 1 91.328 110.08l-60.672 323.584A96 96 0 0 1 720.32 896H303.68a96 96 0 0 1-94.336-78.336L148.672 494.08A92.928 92.928 0 0 1 240 384h-16V224a96 96 0 0 1 188.608-25.28A95.744 95.744 0 0 1 480 197.44V160a96 96 0 0 1 188.608-25.28A96 96 0 0 1 800 224v160h-16zM670.784 512a128 128 0 0 1-99.904 48H453.12a128 128 0 0 1-99.84-48H352v-1.536a128.128 128.128 0 0 1-9.984-14.976L314.88 448H240a28.928 28.928 0 0 0-28.48 34.304L241.088 640h541.824l29.568-157.696A28.928 28.928 0 0 0 784 448h-74.88l-27.136 47.488A132.405 132.405 0 0 1 672 510.464V512h-1.216zM480 288a32 32 0 0 0-64 0v196.096A64 64 0 0 0 453.12 496H480V288zm-128 96V224a32 32 0 0 0-64 0v160h64-37.12A64 64 0 0 1 352 395.904zm-98.88 320 19.072 101.888A32 32 0 0 0 303.68 832h416.64a32 32 0 0 0 31.488-26.112L770.88 704H253.12z"},null,-1),lwe=[iwe];function uwe(t,e,n,s,r,o){return S(),I("svg",awe,lwe)}var cwe=ae(owe,[["render",uwe],["__file","fries.vue"]]),dwe={name:"FullScreen"},fwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hwe=E("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),pwe=[hwe];function mwe(t,e,n,s,r,o){return S(),I("svg",fwe,pwe)}var pP=ae(dwe,[["render",mwe],["__file","full-screen.vue"]]),gwe={name:"GobletFull"},vwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ywe=E("path",{fill:"currentColor",d:"M256 320h512c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320zm503.936 64H264.064a256.128 256.128 0 0 0 495.872 0zM544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4z"},null,-1),bwe=[ywe];function wwe(t,e,n,s,r,o){return S(),I("svg",vwe,bwe)}var _we=ae(gwe,[["render",wwe],["__file","goblet-full.vue"]]),$we={name:"GobletSquareFull"},xwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Swe=E("path",{fill:"currentColor",d:"M256 270.912c10.048 6.72 22.464 14.912 28.992 18.624a220.16 220.16 0 0 0 114.752 30.72c30.592 0 49.408-9.472 91.072-41.152l.64-.448c52.928-40.32 82.368-55.04 132.288-54.656 55.552.448 99.584 20.8 142.72 57.408l1.536 1.28V128H256v142.912zm.96 76.288C266.368 482.176 346.88 575.872 512 576c157.44.064 237.952-85.056 253.248-209.984a952.32 952.32 0 0 1-40.192-35.712c-32.704-27.776-63.36-41.92-101.888-42.24-31.552-.256-50.624 9.28-93.12 41.6l-.576.448c-52.096 39.616-81.024 54.208-129.792 54.208-54.784 0-100.48-13.376-142.784-37.056zM480 638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848z"},null,-1),Cwe=[Swe];function kwe(t,e,n,s,r,o){return S(),I("svg",xwe,Cwe)}var Twe=ae($we,[["render",kwe],["__file","goblet-square-full.vue"]]),Nwe={name:"GobletSquare"},Ewe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Iwe=E("path",{fill:"currentColor",d:"M544 638.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912zM256 319.68c0 149.568 80 256.192 256 256.256C688.128 576 768 469.568 768 320V128H256v191.68z"},null,-1),Awe=[Iwe];function Owe(t,e,n,s,r,o){return S(),I("svg",Ewe,Awe)}var Rwe=ae(Nwe,[["render",Owe],["__file","goblet-square.vue"]]),Dwe={name:"Goblet"},Fwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Mwe=E("path",{fill:"currentColor",d:"M544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4zM256 320a256 256 0 1 0 512 0c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320z"},null,-1),Pwe=[Mwe];function Lwe(t,e,n,s,r,o){return S(),I("svg",Fwe,Pwe)}var zwe=ae(Dwe,[["render",Lwe],["__file","goblet.vue"]]),Bwe={name:"GoldMedal"},Vwe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},Hwe=E("path",{d:"m772.13 452.84 53.86-351.81c1.32-10.01-1.17-18.68-7.49-26.02S804.35 64 795.01 64H228.99v-.01h-.06c-9.33 0-17.15 3.67-23.49 11.01s-8.83 16.01-7.49 26.02l53.87 351.89C213.54 505.73 193.59 568.09 192 640c2 90.67 33.17 166.17 93.5 226.5S421.33 957.99 512 960c90.67-2 166.17-33.17 226.5-93.5 60.33-60.34 91.49-135.83 93.5-226.5-1.59-71.94-21.56-134.32-59.87-187.16zM640.01 128h117.02l-39.01 254.02c-20.75-10.64-40.74-19.73-59.94-27.28-5.92-3-11.95-5.8-18.08-8.41V128h.01zM576 128v198.76c-13.18-2.58-26.74-4.43-40.67-5.55-8.07-.8-15.85-1.2-23.33-1.2-10.54 0-21.09.66-31.64 1.96a359.844 359.844 0 0 0-32.36 4.79V128h128zm-192 0h.04v218.3c-6.22 2.66-12.34 5.5-18.36 8.56-19.13 7.54-39.02 16.6-59.66 27.16L267.01 128H384zm308.99 692.99c-48 48-108.33 73-180.99 75.01-72.66-2.01-132.99-27.01-180.99-75.01S258.01 712.66 256 640c2.01-72.66 27.01-132.99 75.01-180.99 19.67-19.67 41.41-35.47 65.22-47.41 38.33-15.04 71.15-23.92 98.44-26.65 5.07-.41 10.2-.7 15.39-.88.63-.01 1.28-.03 1.91-.03.66 0 1.35.03 2.02.04 5.11.17 10.15.46 15.13.86 27.4 2.71 60.37 11.65 98.91 26.79 23.71 11.93 45.36 27.69 64.96 47.29 48 48 73 108.33 75.01 180.99-2.01 72.65-27.01 132.98-75.01 180.98z",fill:"currentColor"},null,-1),Wwe=E("path",{d:"M544 480H416v64h64v192h-64v64h192v-64h-64z",fill:"currentColor"},null,-1),Uwe=[Hwe,Wwe];function Gwe(t,e,n,s,r,o){return S(),I("svg",Vwe,Uwe)}var jwe=ae(Bwe,[["render",Gwe],["__file","gold-medal.vue"]]),Kwe={name:"GoodsFilled"},qwe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Xwe=E("path",{fill:"currentColor",d:"M192 352h640l64 544H128l64-544zm128 224h64V448h-64v128zm320 0h64V448h-64v128zM384 288h-64a192 192 0 1 1 384 0h-64a128 128 0 1 0-256 0z"},null,-1),Ywe=[Xwe];function Zwe(t,e,n,s,r,o){return S(),I("svg",qwe,Ywe)}var Jwe=ae(Kwe,[["render",Zwe],["__file","goods-filled.vue"]]),Qwe={name:"Goods"},e_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},t_e=E("path",{fill:"currentColor",d:"M320 288v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4h131.072a32 32 0 0 1 31.808 28.8l57.6 576a32 32 0 0 1-31.808 35.2H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320zm64 0h256v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4zm-64 64H217.92l-51.2 512h690.56l-51.264-512H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96z"},null,-1),n_e=[t_e];function s_e(t,e,n,s,r,o){return S(),I("svg",e_e,n_e)}var r_e=ae(Qwe,[["render",s_e],["__file","goods.vue"]]),o_e={name:"Grape"},a_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},i_e=E("path",{fill:"currentColor",d:"M544 195.2a160 160 0 0 1 96 60.8 160 160 0 1 1 146.24 254.976 160 160 0 0 1-128 224 160 160 0 1 1-292.48 0 160 160 0 0 1-128-224A160 160 0 1 1 384 256a160 160 0 0 1 96-60.8V128h-64a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64h-64v67.2zM512 448a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm-256 0a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),l_e=[i_e];function u_e(t,e,n,s,r,o){return S(),I("svg",a_e,l_e)}var c_e=ae(o_e,[["render",u_e],["__file","grape.vue"]]),d_e={name:"Grid"},f_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},h_e=E("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1),p_e=[h_e];function m_e(t,e,n,s,r,o){return S(),I("svg",f_e,p_e)}var g_e=ae(d_e,[["render",m_e],["__file","grid.vue"]]),v_e={name:"Guide"},y_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},b_e=E("path",{fill:"currentColor",d:"M640 608h-64V416h64v192zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768h64zM384 608V416h64v192h-64zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32v160z"},null,-1),w_e=E("path",{fill:"currentColor",d:"m220.8 256-71.232 80 71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192zm678.784 496-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"},null,-1),__e=[b_e,w_e];function $_e(t,e,n,s,r,o){return S(),I("svg",y_e,__e)}var x_e=ae(v_e,[["render",$_e],["__file","guide.vue"]]),S_e={name:"Handbag"},C_e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},k_e=E("path",{d:"M887.01 264.99c-6-5.99-13.67-8.99-23.01-8.99H704c-1.34-54.68-20.01-100.01-56-136s-81.32-54.66-136-56c-54.68 1.34-100.01 20.01-136 56s-54.66 81.32-56 136H160c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.67-8.99 23.01v640c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V288c0-9.35-2.99-17.02-8.99-23.01zM421.5 165.5c24.32-24.34 54.49-36.84 90.5-37.5 35.99.68 66.16 13.18 90.5 37.5s36.84 54.49 37.5 90.5H384c.68-35.99 13.18-66.16 37.5-90.5zM832 896H192V320h128v128h64V320h256v128h64V320h128v576z",fill:"currentColor"},null,-1),T_e=[k_e];function N_e(t,e,n,s,r,o){return S(),I("svg",C_e,T_e)}var E_e=ae(S_e,[["render",N_e],["__file","handbag.vue"]]),I_e={name:"Headset"},A_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},O_e=E("path",{fill:"currentColor",d:"M896 529.152V512a384 384 0 1 0-768 0v17.152A128 128 0 0 1 320 640v128a128 128 0 1 1-256 0V512a448 448 0 1 1 896 0v256a128 128 0 1 1-256 0V640a128 128 0 0 1 192-110.848zM896 640a64 64 0 0 0-128 0v128a64 64 0 0 0 128 0V640zm-768 0v128a64 64 0 0 0 128 0V640a64 64 0 1 0-128 0z"},null,-1),R_e=[O_e];function D_e(t,e,n,s,r,o){return S(),I("svg",A_e,R_e)}var F_e=ae(I_e,[["render",D_e],["__file","headset.vue"]]),M_e={name:"HelpFilled"},P_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},L_e=E("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480zm0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544h225.472zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"},null,-1),z_e=[L_e];function B_e(t,e,n,s,r,o){return S(),I("svg",P_e,z_e)}var V_e=ae(M_e,[["render",B_e],["__file","help-filled.vue"]]),H_e={name:"Help"},W_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U_e=E("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752zm45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992l-91.008-90.944zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),G_e=[U_e];function j_e(t,e,n,s,r,o){return S(),I("svg",W_e,G_e)}var K_e=ae(H_e,[["render",j_e],["__file","help.vue"]]),q_e={name:"Hide"},X_e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Y_e=E("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),Z_e=E("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),J_e=[Y_e,Z_e];function Q_e(t,e,n,s,r,o){return S(),I("svg",X_e,J_e)}var mP=ae(q_e,[["render",Q_e],["__file","hide.vue"]]),e3e={name:"Histogram"},t3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},n3e=E("path",{fill:"currentColor",d:"M416 896V128h192v768H416zm-288 0V448h192v448H128zm576 0V320h192v576H704z"},null,-1),s3e=[n3e];function r3e(t,e,n,s,r,o){return S(),I("svg",t3e,s3e)}var o3e=ae(e3e,[["render",r3e],["__file","histogram.vue"]]),a3e={name:"HomeFilled"},i3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l3e=E("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"},null,-1),u3e=[l3e];function c3e(t,e,n,s,r,o){return S(),I("svg",i3e,u3e)}var d3e=ae(a3e,[["render",c3e],["__file","home-filled.vue"]]),f3e={name:"HotWater"},h3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},p3e=E("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067v68.267zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133zm273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133zM170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"},null,-1),m3e=[p3e];function g3e(t,e,n,s,r,o){return S(),I("svg",h3e,m3e)}var v3e=ae(f3e,[["render",g3e],["__file","hot-water.vue"]]),y3e={name:"House"},b3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},w3e=E("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328 192 413.952zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576z"},null,-1),_3e=[w3e];function $3e(t,e,n,s,r,o){return S(),I("svg",b3e,_3e)}var x3e=ae(y3e,[["render",$3e],["__file","house.vue"]]),S3e={name:"IceCreamRound"},C3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},k3e=E("path",{fill:"currentColor",d:"m308.352 489.344 226.304 226.304a32 32 0 0 0 45.248 0L783.552 512A192 192 0 1 0 512 240.448L308.352 444.16a32 32 0 0 0 0 45.248zm135.744 226.304L308.352 851.392a96 96 0 0 1-135.744-135.744l135.744-135.744-45.248-45.248a96 96 0 0 1 0-135.808L466.752 195.2A256 256 0 0 1 828.8 557.248L625.152 760.96a96 96 0 0 1-135.808 0l-45.248-45.248zM398.848 670.4 353.6 625.152 217.856 760.896a32 32 0 0 0 45.248 45.248L398.848 670.4zm248.96-384.64a32 32 0 0 1 0 45.248L466.624 512a32 32 0 1 1-45.184-45.248l180.992-181.056a32 32 0 0 1 45.248 0zm90.496 90.496a32 32 0 0 1 0 45.248L557.248 602.496A32 32 0 1 1 512 557.248l180.992-180.992a32 32 0 0 1 45.312 0z"},null,-1),T3e=[k3e];function N3e(t,e,n,s,r,o){return S(),I("svg",C3e,T3e)}var E3e=ae(S3e,[["render",N3e],["__file","ice-cream-round.vue"]]),I3e={name:"IceCreamSquare"},A3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},O3e=E("path",{fill:"currentColor",d:"M416 640h256a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32H352a32 32 0 0 0-32 32v448a32 32 0 0 0 32 32h64zm192 64v160a96 96 0 0 1-192 0V704h-64a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h320a96 96 0 0 1 96 96v448a96 96 0 0 1-96 96h-64zm-64 0h-64v160a32 32 0 1 0 64 0V704z"},null,-1),R3e=[O3e];function D3e(t,e,n,s,r,o){return S(),I("svg",A3e,R3e)}var F3e=ae(I3e,[["render",D3e],["__file","ice-cream-square.vue"]]),M3e={name:"IceCream"},P3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},L3e=E("path",{fill:"currentColor",d:"M128.64 448a208 208 0 0 1 193.536-191.552 224 224 0 0 1 445.248 15.488A208.128 208.128 0 0 1 894.784 448H896L548.8 983.68a32 32 0 0 1-53.248.704L128 448h.64zm64.256 0h286.208a144 144 0 0 0-286.208 0zm351.36 0h286.272a144 144 0 0 0-286.272 0zm-294.848 64 271.808 396.608L778.24 512H249.408zM511.68 352.64a207.872 207.872 0 0 1 189.184-96.192 160 160 0 0 0-314.752 5.632c52.608 12.992 97.28 46.08 125.568 90.56z"},null,-1),z3e=[L3e];function B3e(t,e,n,s,r,o){return S(),I("svg",P3e,z3e)}var V3e=ae(M3e,[["render",B3e],["__file","ice-cream.vue"]]),H3e={name:"IceDrink"},W3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U3e=E("path",{fill:"currentColor",d:"M512 448v128h239.68l16.064-128H512zm-64 0H256.256l16.064 128H448V448zm64-255.36V384h247.744A256.128 256.128 0 0 0 512 192.64zm-64 8.064A256.448 256.448 0 0 0 264.256 384H448V200.704zm64-72.064A320.128 320.128 0 0 1 825.472 384H896a32 32 0 1 1 0 64h-64v1.92l-56.96 454.016A64 64 0 0 1 711.552 960H312.448a64 64 0 0 1-63.488-56.064L192 449.92V448h-64a32 32 0 0 1 0-64h70.528A320.384 320.384 0 0 1 448 135.04V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H544a32 32 0 0 0-32 32v32.64zM743.68 640H280.32l32.128 256h399.104l32.128-256z"},null,-1),G3e=[U3e];function j3e(t,e,n,s,r,o){return S(),I("svg",W3e,G3e)}var K3e=ae(H3e,[["render",j3e],["__file","ice-drink.vue"]]),q3e={name:"IceTea"},X3e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Y3e=E("path",{fill:"currentColor",d:"M197.696 259.648a320.128 320.128 0 0 1 628.608 0A96 96 0 0 1 896 352v64a96 96 0 0 1-71.616 92.864l-49.408 395.072A64 64 0 0 1 711.488 960H312.512a64 64 0 0 1-63.488-56.064l-49.408-395.072A96 96 0 0 1 128 416v-64a96 96 0 0 1 69.696-92.352zM264.064 256h495.872a256.128 256.128 0 0 0-495.872 0zm495.424 256H264.512l48 384h398.976l48-384zM224 448h576a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H224a32 32 0 0 0-32 32v64a32 32 0 0 0 32 32zm160 192h64v64h-64v-64zm192 64h64v64h-64v-64zm-128 64h64v64h-64v-64zm64-192h64v64h-64v-64z"},null,-1),Z3e=[Y3e];function J3e(t,e,n,s,r,o){return S(),I("svg",X3e,Z3e)}var Q3e=ae(q3e,[["render",J3e],["__file","ice-tea.vue"]]),e4e={name:"InfoFilled"},t4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},n4e=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),s4e=[n4e];function r4e(t,e,n,s,r,o){return S(),I("svg",t4e,s4e)}var uw=ae(e4e,[["render",r4e],["__file","info-filled.vue"]]),o4e={name:"Iphone"},a4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},i4e=E("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768H224zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64v544zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96H256zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0z"},null,-1),l4e=[i4e];function u4e(t,e,n,s,r,o){return S(),I("svg",a4e,l4e)}var c4e=ae(o4e,[["render",u4e],["__file","iphone.vue"]]),d4e={name:"Key"},f4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},h4e=E("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064zM512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384z"},null,-1),p4e=[h4e];function m4e(t,e,n,s,r,o){return S(),I("svg",f4e,p4e)}var g4e=ae(d4e,[["render",m4e],["__file","key.vue"]]),v4e={name:"KnifeFork"},y4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},b4e=E("path",{fill:"currentColor",d:"M256 410.56V96a32 32 0 0 1 64 0v314.56A96 96 0 0 0 384 320V96a32 32 0 0 1 64 0v224a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.8A160 160 0 0 1 128 320V96a32 32 0 0 1 64 0v224a96 96 0 0 0 64 90.56zm384-250.24V544h126.72c-3.328-78.72-12.928-147.968-28.608-207.744-14.336-54.528-46.848-113.344-98.112-175.872zM640 608v320a32 32 0 1 1-64 0V64h64c85.312 89.472 138.688 174.848 160 256 21.312 81.152 32 177.152 32 288H640z"},null,-1),w4e=[b4e];function _4e(t,e,n,s,r,o){return S(),I("svg",y4e,w4e)}var $4e=ae(v4e,[["render",_4e],["__file","knife-fork.vue"]]),x4e={name:"Lightning"},S4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C4e=E("path",{fill:"currentColor",d:"M288 671.36v64.128A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 736 734.016v-64.768a192 192 0 0 0 3.328-377.92l-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 91.968 70.464 167.36 160.256 175.232z"},null,-1),k4e=E("path",{fill:"currentColor",d:"M416 736a32 32 0 0 1-27.776-47.872l128-224a32 32 0 1 1 55.552 31.744L471.168 672H608a32 32 0 0 1 27.776 47.872l-128 224a32 32 0 1 1-55.68-31.744L552.96 736H416z"},null,-1),T4e=[C4e,k4e];function N4e(t,e,n,s,r,o){return S(),I("svg",S4e,T4e)}var E4e=ae(x4e,[["render",N4e],["__file","lightning.vue"]]),I4e={name:"Link"},A4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},O4e=E("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496 45.248 45.248zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152 625.152 353.6z"},null,-1),R4e=[O4e];function D4e(t,e,n,s,r,o){return S(),I("svg",A4e,R4e)}var F4e=ae(I4e,[["render",D4e],["__file","link.vue"]]),M4e={name:"List"},P4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},L4e=E("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384v-64zM288 512h448v-64H288v64zm0 256h448v-64H288v64zm96-576V96h256v96H384z"},null,-1),z4e=[L4e];function B4e(t,e,n,s,r,o){return S(),I("svg",P4e,z4e)}var V4e=ae(M4e,[["render",B4e],["__file","list.vue"]]),H4e={name:"Loading"},W4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},U4e=E("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),G4e=[U4e];function j4e(t,e,n,s,r,o){return S(),I("svg",W4e,G4e)}var Vl=ae(H4e,[["render",j4e],["__file","loading.vue"]]),K4e={name:"LocationFilled"},q4e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},X4e=E("path",{fill:"currentColor",d:"M512 928c23.936 0 117.504-68.352 192.064-153.152C803.456 661.888 864 535.808 864 416c0-189.632-155.84-320-352-320S160 226.368 160 416c0 120.32 60.544 246.4 159.936 359.232C394.432 859.84 488 928 512 928zm0-435.2a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 140.8a204.8 204.8 0 1 1 0-409.6 204.8 204.8 0 0 1 0 409.6z"},null,-1),Y4e=[X4e];function Z4e(t,e,n,s,r,o){return S(),I("svg",q4e,Y4e)}var J4e=ae(K4e,[["render",Z4e],["__file","location-filled.vue"]]),Q4e={name:"LocationInformation"},e$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},t$e=E("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),n$e=E("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),s$e=E("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),r$e=[t$e,n$e,s$e];function o$e(t,e,n,s,r,o){return S(),I("svg",e$e,r$e)}var a$e=ae(Q4e,[["render",o$e],["__file","location-information.vue"]]),i$e={name:"Location"},l$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},u$e=E("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),c$e=E("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),d$e=[u$e,c$e];function f$e(t,e,n,s,r,o){return S(),I("svg",l$e,d$e)}var h$e=ae(i$e,[["render",f$e],["__file","location.vue"]]),p$e={name:"Lock"},m$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},g$e=E("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),v$e=E("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm192-160v-64a192 192 0 1 0-384 0v64h384zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64z"},null,-1),y$e=[g$e,v$e];function b$e(t,e,n,s,r,o){return S(),I("svg",m$e,y$e)}var w$e=ae(p$e,[["render",b$e],["__file","lock.vue"]]),_$e={name:"Lollipop"},$$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},x$e=E("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0h1.28zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696zm105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"},null,-1),S$e=[x$e];function C$e(t,e,n,s,r,o){return S(),I("svg",$$e,S$e)}var k$e=ae(_$e,[["render",C$e],["__file","lollipop.vue"]]),T$e={name:"MagicStick"},N$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},E$e=E("path",{fill:"currentColor",d:"M512 64h64v192h-64V64zm0 576h64v192h-64V640zM160 480v-64h192v64H160zm576 0v-64h192v64H736zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248L657.152 606.4zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248-316.8 316.8zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248L702.4 334.848z"},null,-1),I$e=[E$e];function A$e(t,e,n,s,r,o){return S(),I("svg",N$e,I$e)}var O$e=ae(T$e,[["render",A$e],["__file","magic-stick.vue"]]),R$e={name:"Magnet"},D$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},F$e=E("path",{fill:"currentColor",d:"M832 320V192H704v320a192 192 0 1 1-384 0V192H192v128h128v64H192v128a320 320 0 0 0 640 0V384H704v-64h128zM640 512V128h256v384a384 384 0 1 1-768 0V128h256v384a128 128 0 1 0 256 0z"},null,-1),M$e=[F$e];function P$e(t,e,n,s,r,o){return S(),I("svg",D$e,M$e)}var L$e=ae(R$e,[["render",P$e],["__file","magnet.vue"]]),z$e={name:"Male"},B$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},V$e=E("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450zm0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5zm253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125z"},null,-1),H$e=E("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125z"},null,-1),W$e=E("path",{fill:"currentColor",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"},null,-1),U$e=[V$e,H$e,W$e];function G$e(t,e,n,s,r,o){return S(),I("svg",B$e,U$e)}var j$e=ae(z$e,[["render",G$e],["__file","male.vue"]]),K$e={name:"Management"},q$e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},X$e=E("path",{fill:"currentColor",d:"M576 128v288l96-96 96 96V128h128v768H320V128h256zm-448 0h128v768H128V128z"},null,-1),Y$e=[X$e];function Z$e(t,e,n,s,r,o){return S(),I("svg",q$e,Y$e)}var J$e=ae(K$e,[["render",Z$e],["__file","management.vue"]]),Q$e={name:"MapLocation"},e6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},t6e=E("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),n6e=E("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256zm345.6 192L960 960H672v-64H352v64H64l102.4-256h691.2zm-68.928 0H235.328l-76.8 192h706.944l-76.8-192z"},null,-1),s6e=[t6e,n6e];function r6e(t,e,n,s,r,o){return S(),I("svg",e6e,s6e)}var o6e=ae(Q$e,[["render",r6e],["__file","map-location.vue"]]),a6e={name:"Medal"},i6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l6e=E("path",{fill:"currentColor",d:"M512 896a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),u6e=E("path",{fill:"currentColor",d:"M576 128H448v200a286.72 286.72 0 0 1 64-8c19.52 0 40.832 2.688 64 8V128zm64 0v219.648c24.448 9.088 50.56 20.416 78.4 33.92L757.44 128H640zm-256 0H266.624l39.04 253.568c27.84-13.504 53.888-24.832 78.336-33.92V128zM229.312 64h565.376a32 32 0 0 1 31.616 36.864L768 480c-113.792-64-199.104-96-256-96-56.896 0-142.208 32-256 96l-58.304-379.136A32 32 0 0 1 229.312 64z"},null,-1),c6e=[l6e,u6e];function d6e(t,e,n,s,r,o){return S(),I("svg",i6e,c6e)}var f6e=ae(a6e,[["render",d6e],["__file","medal.vue"]]),h6e={name:"Memo"},p6e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},m6e=E("path",{d:"M480 320h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32z",fill:"currentColor"},null,-1),g6e=E("path",{d:"M887.01 72.99C881.01 67 873.34 64 864 64H160c-9.35 0-17.02 3-23.01 8.99C131 78.99 128 86.66 128 96v832c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V96c0-9.35-3-17.02-8.99-23.01zM192 896V128h96v768h-96zm640 0H352V128h480v768z",fill:"currentColor"},null,-1),v6e=E("path",{d:"M480 512h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32zm0 192h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32z",fill:"currentColor"},null,-1),y6e=[m6e,g6e,v6e];function b6e(t,e,n,s,r,o){return S(),I("svg",p6e,y6e)}var w6e=ae(h6e,[["render",b6e],["__file","memo.vue"]]),_6e={name:"Menu"},$6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},x6e=E("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1),S6e=[x6e];function C6e(t,e,n,s,r,o){return S(),I("svg",$6e,S6e)}var k6e=ae(_6e,[["render",C6e],["__file","menu.vue"]]),T6e={name:"MessageBox"},N6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},E6e=E("path",{fill:"currentColor",d:"M288 384h448v64H288v-64zm96-128h256v64H384v-64zM131.456 512H384v128h256V512h252.544L721.856 192H302.144L131.456 512zM896 576H704v128H320V576H128v256h768V576zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"},null,-1),I6e=[E6e];function A6e(t,e,n,s,r,o){return S(),I("svg",N6e,I6e)}var O6e=ae(T6e,[["render",A6e],["__file","message-box.vue"]]),R6e={name:"Message"},D6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},F6e=E("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224H128zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64z"},null,-1),M6e=E("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224h784zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056z"},null,-1),P6e=[F6e,M6e];function L6e(t,e,n,s,r,o){return S(),I("svg",D6e,P6e)}var z6e=ae(R6e,[["render",L6e],["__file","message.vue"]]),B6e={name:"Mic"},V6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},H6e=E("path",{fill:"currentColor",d:"M480 704h160a64 64 0 0 0 64-64v-32h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-32a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v32h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v32a64 64 0 0 0 64 64h96zm64 64v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768h-96a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64h256a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128h-96z"},null,-1),W6e=[H6e];function U6e(t,e,n,s,r,o){return S(),I("svg",V6e,W6e)}var G6e=ae(B6e,[["render",U6e],["__file","mic.vue"]]),j6e={name:"Microphone"},K6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},q6e=E("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128zm0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64zm-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64z"},null,-1),X6e=[q6e];function Y6e(t,e,n,s,r,o){return S(),I("svg",K6e,X6e)}var Z6e=ae(j6e,[["render",Y6e],["__file","microphone.vue"]]),J6e={name:"MilkTea"},Q6e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},exe=E("path",{fill:"currentColor",d:"M416 128V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H512a32 32 0 0 0-32 32v32h320a96 96 0 0 1 11.712 191.296l-39.68 581.056A64 64 0 0 1 708.224 960H315.776a64 64 0 0 1-63.872-59.648l-39.616-581.056A96 96 0 0 1 224 128h192zM276.48 320l39.296 576h392.448l4.8-70.784a224.064 224.064 0 0 1 30.016-439.808L747.52 320H276.48zM224 256h576a32 32 0 1 0 0-64H224a32 32 0 0 0 0 64zm493.44 503.872 21.12-309.12a160 160 0 0 0-21.12 309.12z"},null,-1),txe=[exe];function nxe(t,e,n,s,r,o){return S(),I("svg",Q6e,txe)}var sxe=ae(J6e,[["render",nxe],["__file","milk-tea.vue"]]),rxe={name:"Minus"},oxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},axe=E("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),ixe=[axe];function lxe(t,e,n,s,r,o){return S(),I("svg",oxe,ixe)}var gP=ae(rxe,[["render",lxe],["__file","minus.vue"]]),uxe={name:"Money"},cxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dxe=E("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640h64z"},null,-1),fxe=E("path",{fill:"currentColor",d:"M768 192H128v448h640V192zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"},null,-1),hxe=E("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320zm0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),pxe=[dxe,fxe,hxe];function mxe(t,e,n,s,r,o){return S(),I("svg",cxe,pxe)}var gxe=ae(uxe,[["render",mxe],["__file","money.vue"]]),vxe={name:"Monitor"},yxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bxe=E("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H544zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H192z"},null,-1),wxe=[bxe];function _xe(t,e,n,s,r,o){return S(),I("svg",yxe,wxe)}var $xe=ae(vxe,[["render",_xe],["__file","monitor.vue"]]),xxe={name:"MoonNight"},Sxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Cxe=E("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512zM171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"},null,-1),kxe=E("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"},null,-1),Txe=[Cxe,kxe];function Nxe(t,e,n,s,r,o){return S(),I("svg",Sxe,Txe)}var Exe=ae(xxe,[["render",Nxe],["__file","moon-night.vue"]]),Ixe={name:"Moon"},Axe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Oxe=E("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696z"},null,-1),Rxe=[Oxe];function Dxe(t,e,n,s,r,o){return S(),I("svg",Axe,Rxe)}var Fxe=ae(Ixe,[["render",Dxe],["__file","moon.vue"]]),Mxe={name:"MoreFilled"},Pxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Lxe=E("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),zxe=[Lxe];function Bxe(t,e,n,s,r,o){return S(),I("svg",Pxe,zxe)}var c6=ae(Mxe,[["render",Bxe],["__file","more-filled.vue"]]),Vxe={name:"More"},Hxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Wxe=E("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),Uxe=[Wxe];function Gxe(t,e,n,s,r,o){return S(),I("svg",Hxe,Uxe)}var vP=ae(Vxe,[["render",Gxe],["__file","more.vue"]]),jxe={name:"MostlyCloudy"},Kxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qxe=E("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.808 207.808 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048zm15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.808 271.808 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72z"},null,-1),Xxe=[qxe];function Yxe(t,e,n,s,r,o){return S(),I("svg",Kxe,Xxe)}var Zxe=ae(jxe,[["render",Yxe],["__file","mostly-cloudy.vue"]]),Jxe={name:"Mouse"},Qxe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eSe=E("path",{fill:"currentColor",d:"M438.144 256c-68.352 0-92.736 4.672-117.76 18.112-20.096 10.752-35.52 26.176-46.272 46.272C260.672 345.408 256 369.792 256 438.144v275.712c0 68.352 4.672 92.736 18.112 117.76 10.752 20.096 26.176 35.52 46.272 46.272C345.408 891.328 369.792 896 438.144 896h147.712c68.352 0 92.736-4.672 117.76-18.112 20.096-10.752 35.52-26.176 46.272-46.272C763.328 806.592 768 782.208 768 713.856V438.144c0-68.352-4.672-92.736-18.112-117.76a110.464 110.464 0 0 0-46.272-46.272C678.592 260.672 654.208 256 585.856 256H438.144zm0-64h147.712c85.568 0 116.608 8.96 147.904 25.6 31.36 16.768 55.872 41.344 72.576 72.64C823.104 321.536 832 352.576 832 438.08v275.84c0 85.504-8.96 116.544-25.6 147.84a174.464 174.464 0 0 1-72.64 72.576C702.464 951.104 671.424 960 585.92 960H438.08c-85.504 0-116.544-8.96-147.84-25.6a174.464 174.464 0 0 1-72.64-72.704c-16.768-31.296-25.664-62.336-25.664-147.84v-275.84c0-85.504 8.96-116.544 25.6-147.84a174.464 174.464 0 0 1 72.768-72.576c31.232-16.704 62.272-25.6 147.776-25.6z"},null,-1),tSe=E("path",{fill:"currentColor",d:"M512 320q32 0 32 32v128q0 32-32 32t-32-32V352q0-32 32-32zm32-96a32 32 0 0 1-64 0v-64a32 32 0 0 0-32-32h-96a32 32 0 0 1 0-64h96a96 96 0 0 1 96 96v64z"},null,-1),nSe=[eSe,tSe];function sSe(t,e,n,s,r,o){return S(),I("svg",Qxe,nSe)}var rSe=ae(Jxe,[["render",sSe],["__file","mouse.vue"]]),oSe={name:"Mug"},aSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},iSe=E("path",{fill:"currentColor",d:"M736 800V160H160v640a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64zm64-544h63.552a96 96 0 0 1 96 96v224a96 96 0 0 1-96 96H800v128a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V128a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 64v288h63.552a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32H800z"},null,-1),lSe=[iSe];function uSe(t,e,n,s,r,o){return S(),I("svg",aSe,lSe)}var cSe=ae(oSe,[["render",uSe],["__file","mug.vue"]]),dSe={name:"MuteNotification"},fSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hSe=E("path",{fill:"currentColor",d:"m241.216 832 63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 1 1 0 64H241.216zm-90.24 0H96a32 32 0 1 1 0-64h96V448a320.128 320.128 0 0 1 256-313.6V128a64 64 0 1 1 128 0v6.4a319.552 319.552 0 0 1 171.648 97.088l-45.184 45.44A256 256 0 0 0 256 448v278.336L151.04 832zM448 896h128a64 64 0 0 1-128 0z"},null,-1),pSe=E("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),mSe=[hSe,pSe];function gSe(t,e,n,s,r,o){return S(),I("svg",fSe,mSe)}var vSe=ae(dSe,[["render",gSe],["__file","mute-notification.vue"]]),ySe={name:"Mute"},bSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wSe=E("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128zm51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528l47.808-47.808zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032zM266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288L266.752 737.6z"},null,-1),_Se=E("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),$Se=[wSe,_Se];function xSe(t,e,n,s,r,o){return S(),I("svg",bSe,$Se)}var SSe=ae(ySe,[["render",xSe],["__file","mute.vue"]]),CSe={name:"NoSmoking"},kSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TSe=E("path",{fill:"currentColor",d:"M440.256 576H256v128h56.256l-64 64H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32h280.256l-64 64zm143.488 128H704V583.744L775.744 512H928a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H519.744l64-64zM768 576v128h128V576H768zm-29.696-207.552 45.248 45.248-497.856 497.856-45.248-45.248zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"},null,-1),NSe=[TSe];function ESe(t,e,n,s,r,o){return S(),I("svg",kSe,NSe)}var ISe=ae(CSe,[["render",ESe],["__file","no-smoking.vue"]]),ASe={name:"Notebook"},OSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RSe=E("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),DSe=E("path",{fill:"currentColor",d:"M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),FSe=[RSe,DSe];function MSe(t,e,n,s,r,o){return S(),I("svg",OSe,FSe)}var PSe=ae(ASe,[["render",MSe],["__file","notebook.vue"]]),LSe={name:"Notification"},zSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},BSe=E("path",{fill:"currentColor",d:"M512 128v64H256a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V512h64v256a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V256a128 128 0 0 1 128-128h256z"},null,-1),VSe=E("path",{fill:"currentColor",d:"M768 384a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"},null,-1),HSe=[BSe,VSe];function WSe(t,e,n,s,r,o){return S(),I("svg",zSe,HSe)}var USe=ae(LSe,[["render",WSe],["__file","notification.vue"]]),GSe={name:"Odometer"},jSe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},KSe=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),qSe=E("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0z"},null,-1),XSe=E("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928z"},null,-1),YSe=[KSe,qSe,XSe];function ZSe(t,e,n,s,r,o){return S(),I("svg",jSe,YSe)}var JSe=ae(GSe,[["render",ZSe],["__file","odometer.vue"]]),QSe={name:"OfficeBuilding"},eCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tCe=E("path",{fill:"currentColor",d:"M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),nCe=E("path",{fill:"currentColor",d:"M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"},null,-1),sCe=E("path",{fill:"currentColor",d:"M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"},null,-1),rCe=[tCe,nCe,sCe];function oCe(t,e,n,s,r,o){return S(),I("svg",eCe,rCe)}var aCe=ae(QSe,[["render",oCe],["__file","office-building.vue"]]),iCe={name:"Open"},lCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uCe=E("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724H329.956zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"},null,-1),cCe=E("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454zm0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088z"},null,-1),dCe=[uCe,cCe];function fCe(t,e,n,s,r,o){return S(),I("svg",lCe,dCe)}var hCe=ae(iCe,[["render",fCe],["__file","open.vue"]]),pCe={name:"Operation"},mCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gCe=E("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64h261.44zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64h453.44zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64h133.44z"},null,-1),vCe=[gCe];function yCe(t,e,n,s,r,o){return S(),I("svg",mCe,vCe)}var bCe=ae(pCe,[["render",yCe],["__file","operation.vue"]]),wCe={name:"Opportunity"},_Ce={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$Ce=E("path",{fill:"currentColor",d:"M384 960v-64h192.064v64H384zm448-544a350.656 350.656 0 0 1-128.32 271.424C665.344 719.04 640 763.776 640 813.504V832H320v-14.336c0-48-19.392-95.36-57.216-124.992a351.552 351.552 0 0 1-128.448-344.256c25.344-136.448 133.888-248.128 269.76-276.48A352.384 352.384 0 0 1 832 416zm-544 32c0-132.288 75.904-224 192-224v-64c-154.432 0-256 122.752-256 288h64z"},null,-1),xCe=[$Ce];function SCe(t,e,n,s,r,o){return S(),I("svg",_Ce,xCe)}var CCe=ae(wCe,[["render",SCe],["__file","opportunity.vue"]]),kCe={name:"Orange"},TCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},NCe=E("path",{fill:"currentColor",d:"M544 894.72a382.336 382.336 0 0 0 215.936-89.472L577.024 622.272c-10.24 6.016-21.248 10.688-33.024 13.696v258.688zm261.248-134.784A382.336 382.336 0 0 0 894.656 544H635.968c-3.008 11.776-7.68 22.848-13.696 33.024l182.976 182.912zM894.656 480a382.336 382.336 0 0 0-89.408-215.936L622.272 446.976c6.016 10.24 10.688 21.248 13.696 33.024h258.688zm-134.72-261.248A382.336 382.336 0 0 0 544 129.344v258.688c11.776 3.008 22.848 7.68 33.024 13.696l182.912-182.976zM480 129.344a382.336 382.336 0 0 0-215.936 89.408l182.912 182.976c10.24-6.016 21.248-10.688 33.024-13.696V129.344zm-261.248 134.72A382.336 382.336 0 0 0 129.344 480h258.688c3.008-11.776 7.68-22.848 13.696-33.024L218.752 264.064zM129.344 544a382.336 382.336 0 0 0 89.408 215.936l182.976-182.912A127.232 127.232 0 0 1 388.032 544H129.344zm134.72 261.248A382.336 382.336 0 0 0 480 894.656V635.968a127.232 127.232 0 0 1-33.024-13.696L264.064 805.248zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896zm0-384a64 64 0 1 0 0-128 64 64 0 0 0 0 128z"},null,-1),ECe=[NCe];function ICe(t,e,n,s,r,o){return S(),I("svg",TCe,ECe)}var ACe=ae(kCe,[["render",ICe],["__file","orange.vue"]]),OCe={name:"Paperclip"},RCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DCe=E("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144 45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"},null,-1),FCe=[DCe];function MCe(t,e,n,s,r,o){return S(),I("svg",RCe,FCe)}var PCe=ae(OCe,[["render",MCe],["__file","paperclip.vue"]]),LCe={name:"PartlyCloudy"},zCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},BCe=E("path",{fill:"currentColor",d:"M598.4 895.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 895.872zm-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 445.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"},null,-1),VCe=E("path",{fill:"currentColor",d:"M139.84 501.888a256 256 0 1 1 417.856-277.12c-17.728 2.176-38.208 8.448-61.504 18.816A192 192 0 1 0 189.12 460.48a6003.84 6003.84 0 0 0-49.28 41.408z"},null,-1),HCe=[BCe,VCe];function WCe(t,e,n,s,r,o){return S(),I("svg",zCe,HCe)}var UCe=ae(LCe,[["render",WCe],["__file","partly-cloudy.vue"]]),GCe={name:"Pear"},jCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},KCe=E("path",{fill:"currentColor",d:"M542.336 258.816a443.255 443.255 0 0 0-9.024 25.088 32 32 0 1 1-60.8-20.032l1.088-3.328a162.688 162.688 0 0 0-122.048 131.392l-17.088 102.72-20.736 15.36C256.192 552.704 224 610.88 224 672c0 120.576 126.4 224 288 224s288-103.424 288-224c0-61.12-32.192-119.296-89.728-161.92l-20.736-15.424-17.088-102.72a162.688 162.688 0 0 0-130.112-133.12zm-40.128-66.56c7.936-15.552 16.576-30.08 25.92-43.776 23.296-33.92 49.408-59.776 78.528-77.12a32 32 0 1 1 32.704 55.04c-20.544 12.224-40.064 31.552-58.432 58.304a316.608 316.608 0 0 0-9.792 15.104 226.688 226.688 0 0 1 164.48 181.568l12.8 77.248C819.456 511.36 864 587.392 864 672c0 159.04-157.568 288-352 288S160 831.04 160 672c0-84.608 44.608-160.64 115.584-213.376l12.8-77.248a226.624 226.624 0 0 1 213.76-189.184z"},null,-1),qCe=[KCe];function XCe(t,e,n,s,r,o){return S(),I("svg",jCe,qCe)}var YCe=ae(GCe,[["render",XCe],["__file","pear.vue"]]),ZCe={name:"PhoneFilled"},JCe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},QCe=E("path",{fill:"currentColor",d:"M199.232 125.568 90.624 379.008a32 32 0 0 0 6.784 35.2l512.384 512.384a32 32 0 0 0 35.2 6.784l253.44-108.608a32 32 0 0 0 10.048-52.032L769.6 633.92a32 32 0 0 0-36.928-5.952l-130.176 65.088-271.488-271.552 65.024-130.176a32 32 0 0 0-5.952-36.928L251.2 115.52a32 32 0 0 0-51.968 10.048z"},null,-1),eke=[QCe];function tke(t,e,n,s,r,o){return S(),I("svg",JCe,eke)}var nke=ae(ZCe,[["render",tke],["__file","phone-filled.vue"]]),ske={name:"Phone"},rke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oke=E("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192zm0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384z"},null,-1),ake=[oke];function ike(t,e,n,s,r,o){return S(),I("svg",rke,ake)}var lke=ae(ske,[["render",ike],["__file","phone.vue"]]),uke={name:"PictureFilled"},cke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dke=E("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),fke=[dke];function hke(t,e,n,s,r,o){return S(),I("svg",cke,fke)}var yP=ae(uke,[["render",hke],["__file","picture-filled.vue"]]),pke={name:"PictureRounded"},mke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gke=E("path",{fill:"currentColor",d:"M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768zm0-64a448 448 0 1 1 0 896 448 448 0 0 1 0-896z"},null,-1),vke=E("path",{fill:"currentColor",d:"M640 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM214.656 790.656l-45.312-45.312 185.664-185.6a96 96 0 0 1 123.712-10.24l138.24 98.688a32 32 0 0 0 39.872-2.176L906.688 422.4l42.624 47.744L699.52 693.696a96 96 0 0 1-119.808 6.592l-138.24-98.752a32 32 0 0 0-41.152 3.456l-185.664 185.6z"},null,-1),yke=[gke,vke];function bke(t,e,n,s,r,o){return S(),I("svg",mke,yke)}var wke=ae(pke,[["render",bke],["__file","picture-rounded.vue"]]),_ke={name:"Picture"},$ke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xke=E("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),Ske=E("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1),Cke=[xke,Ske];function kke(t,e,n,s,r,o){return S(),I("svg",$ke,Cke)}var Tke=ae(_ke,[["render",kke],["__file","picture.vue"]]),Nke={name:"PieChart"},Eke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ike=E("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.128 384.128 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512 448.128 448.128 0 0 1 448 68.48z"},null,-1),Ake=E("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28zM512 64V33.152A448 448 0 0 1 990.848 512H512V64z"},null,-1),Oke=[Ike,Ake];function Rke(t,e,n,s,r,o){return S(),I("svg",Eke,Oke)}var Dke=ae(Nke,[["render",Rke],["__file","pie-chart.vue"]]),Fke={name:"Place"},Mke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Pke=E("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),Lke=E("path",{fill:"currentColor",d:"M512 512a32 32 0 0 1 32 32v256a32 32 0 1 1-64 0V544a32 32 0 0 1 32-32z"},null,-1),zke=E("path",{fill:"currentColor",d:"M384 649.088v64.96C269.76 732.352 192 771.904 192 800c0 37.696 139.904 96 320 96s320-58.304 320-96c0-28.16-77.76-67.648-192-85.952v-64.96C789.12 671.04 896 730.368 896 800c0 88.32-171.904 160-384 160s-384-71.68-384-160c0-69.696 106.88-128.96 256-150.912z"},null,-1),Bke=[Pke,Lke,zke];function Vke(t,e,n,s,r,o){return S(),I("svg",Mke,Bke)}var Hke=ae(Fke,[["render",Vke],["__file","place.vue"]]),Wke={name:"Platform"},Uke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Gke=E("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64h192zM128 704V128h768v576H128z"},null,-1),jke=[Gke];function Kke(t,e,n,s,r,o){return S(),I("svg",Uke,jke)}var qke=ae(Wke,[["render",Kke],["__file","platform.vue"]]),Xke={name:"Plus"},Yke={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Zke=E("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),Jke=[Zke];function Qke(t,e,n,s,r,o){return S(),I("svg",Yke,Jke)}var IC=ae(Xke,[["render",Qke],["__file","plus.vue"]]),e8e={name:"Pointer"},t8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},n8e=E("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128zM359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32L359.04 556.8z"},null,-1),s8e=[n8e];function r8e(t,e,n,s,r,o){return S(),I("svg",t8e,s8e)}var o8e=ae(e8e,[["render",r8e],["__file","pointer.vue"]]),a8e={name:"Position"},i8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},l8e=E("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"},null,-1),u8e=[l8e];function c8e(t,e,n,s,r,o){return S(),I("svg",i8e,u8e)}var d8e=ae(a8e,[["render",c8e],["__file","position.vue"]]),f8e={name:"Postcard"},h8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},p8e=E("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32H160zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96z"},null,-1),m8e=E("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128 64 64 0 0 1 0-128zM288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32zm0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),g8e=[p8e,m8e];function v8e(t,e,n,s,r,o){return S(),I("svg",h8e,g8e)}var y8e=ae(f8e,[["render",v8e],["__file","postcard.vue"]]),b8e={name:"Pouring"},w8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_8e=E("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480zM224 800a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32z"},null,-1),$8e=[_8e];function x8e(t,e,n,s,r,o){return S(),I("svg",w8e,$8e)}var S8e=ae(b8e,[["render",x8e],["__file","pouring.vue"]]),C8e={name:"Present"},k8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},T8e=E("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576h288zm64 0h288V320H544v256h288v64H544v256zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V256z"},null,-1),N8e=E("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),E8e=E("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),I8e=E("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),A8e=[T8e,N8e,E8e,I8e];function O8e(t,e,n,s,r,o){return S(),I("svg",k8e,A8e)}var R8e=ae(C8e,[["render",O8e],["__file","present.vue"]]),D8e={name:"PriceTag"},F8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M8e=E("path",{fill:"currentColor",d:"M224 318.336V896h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"},null,-1),P8e=E("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),L8e=[M8e,P8e];function z8e(t,e,n,s,r,o){return S(),I("svg",F8e,L8e)}var B8e=ae(D8e,[["render",z8e],["__file","price-tag.vue"]]),V8e={name:"Printer"},H8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},W8e=E("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256V768zm64-192v320h384V576H320zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704h128zm64-448h384V128H320v128zm-64 128h64v64h-64v-64zm128 0h64v64h-64v-64z"},null,-1),U8e=[W8e];function G8e(t,e,n,s,r,o){return S(),I("svg",H8e,U8e)}var j8e=ae(V8e,[["render",G8e],["__file","printer.vue"]]),K8e={name:"Promotion"},q8e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},X8e=E("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472 64 448zm256 512V657.024L512 768 320 960z"},null,-1),Y8e=[X8e];function Z8e(t,e,n,s,r,o){return S(),I("svg",q8e,Y8e)}var J8e=ae(K8e,[["render",Z8e],["__file","promotion.vue"]]),Q8e={name:"QuartzWatch"},eTe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},tTe=E("path",{d:"M422.02 602.01v-.03c-6.68-5.99-14.35-8.83-23.01-8.51-8.67.32-16.17 3.66-22.5 10.02-6.33 6.36-9.5 13.7-9.5 22.02s3 15.82 8.99 22.5c8.68 8.68 19.02 11.35 31.01 8s19.49-10.85 22.5-22.5c3.01-11.65.51-22.15-7.49-31.49v-.01zM384 512c0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.67 8.99-23.01zm6.53-82.49c11.65 3.01 22.15.51 31.49-7.49h.04c5.99-6.68 8.83-14.34 8.51-23.01-.32-8.67-3.66-16.16-10.02-22.5-6.36-6.33-13.7-9.5-22.02-9.5s-15.82 3-22.5 8.99c-8.68 8.69-11.35 19.02-8 31.01 3.35 11.99 10.85 19.49 22.5 22.5zm242.94 0c11.67-3.03 19.01-10.37 22.02-22.02 3.01-11.65.51-22.15-7.49-31.49h.01c-6.68-5.99-14.18-8.99-22.5-8.99s-15.66 3.16-22.02 9.5c-6.36 6.34-9.7 13.84-10.02 22.5-.32 8.66 2.52 16.33 8.51 23.01 9.32 8.02 19.82 10.52 31.49 7.49zM512 640c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01s-3-17.02-8.99-23.01c-6-5.99-13.66-8.99-23.01-8.99zm183.01-151.01c-6-5.99-13.66-8.99-23.01-8.99s-17.02 3-23.01 8.99c-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99s17.02-3 23.01-8.99c5.99-6 8.99-13.67 8.99-23.01 0-9.35-3-17.02-8.99-23.01z",fill:"currentColor"},null,-1),nTe=E("path",{d:"M832 512c-2-90.67-33.17-166.17-93.5-226.5-20.43-20.42-42.6-37.49-66.5-51.23V64H352v170.26c-23.9 13.74-46.07 30.81-66.5 51.24-60.33 60.33-91.49 135.83-93.5 226.5 2 90.67 33.17 166.17 93.5 226.5 20.43 20.43 42.6 37.5 66.5 51.24V960h320V789.74c23.9-13.74 46.07-30.81 66.5-51.24 60.33-60.34 91.49-135.83 93.5-226.5zM416 128h192v78.69c-29.85-9.03-61.85-13.93-96-14.69-34.15.75-66.15 5.65-96 14.68V128zm192 768H416v-78.68c29.85 9.03 61.85 13.93 96 14.68 34.15-.75 66.15-5.65 96-14.68V896zm-96-128c-72.66-2.01-132.99-27.01-180.99-75.01S258.01 584.66 256 512c2.01-72.66 27.01-132.99 75.01-180.99S439.34 258.01 512 256c72.66 2.01 132.99 27.01 180.99 75.01S765.99 439.34 768 512c-2.01 72.66-27.01 132.99-75.01 180.99S584.66 765.99 512 768z",fill:"currentColor"},null,-1),sTe=E("path",{d:"M512 320c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01 0 9.35 3 17.02 8.99 23.01 6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01 0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99zm112.99 273.5c-8.66-.32-16.33 2.52-23.01 8.51-7.98 9.32-10.48 19.82-7.49 31.49s10.49 19.17 22.5 22.5 22.35.66 31.01-8v.04c5.99-6.68 8.99-14.18 8.99-22.5s-3.16-15.66-9.5-22.02-13.84-9.7-22.5-10.02z",fill:"currentColor"},null,-1),rTe=[tTe,nTe,sTe];function oTe(t,e,n,s,r,o){return S(),I("svg",eTe,rTe)}var aTe=ae(Q8e,[["render",oTe],["__file","quartz-watch.vue"]]),iTe={name:"QuestionFilled"},lTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uTe=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),cTe=[uTe];function dTe(t,e,n,s,r,o){return S(),I("svg",lTe,cTe)}var bP=ae(iTe,[["render",dTe],["__file","question-filled.vue"]]),fTe={name:"Rank"},hTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pTe=E("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"},null,-1),mTe=[pTe];function gTe(t,e,n,s,r,o){return S(),I("svg",hTe,mTe)}var vTe=ae(fTe,[["render",gTe],["__file","rank.vue"]]),yTe={name:"ReadingLamp"},bTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wTe=E("path",{fill:"currentColor",d:"M352 896h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm-44.672-768-99.52 448h608.384l-99.52-448H307.328zm-25.6-64h460.608a32 32 0 0 1 31.232 25.088l113.792 512A32 32 0 0 1 856.128 640H167.872a32 32 0 0 1-31.232-38.912l113.792-512A32 32 0 0 1 281.664 64z"},null,-1),_Te=E("path",{fill:"currentColor",d:"M672 576q32 0 32 32v128q0 32-32 32t-32-32V608q0-32 32-32zm-192-.064h64V960h-64z"},null,-1),$Te=[wTe,_Te];function xTe(t,e,n,s,r,o){return S(),I("svg",bTe,$Te)}var STe=ae(yTe,[["render",xTe],["__file","reading-lamp.vue"]]),CTe={name:"Reading"},kTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TTe=E("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72l384 54.848zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"},null,-1),NTe=E("path",{fill:"currentColor",d:"M480 192h64v704h-64z"},null,-1),ETe=[TTe,NTe];function ITe(t,e,n,s,r,o){return S(),I("svg",kTe,ETe)}var ATe=ae(CTe,[["render",ITe],["__file","reading.vue"]]),OTe={name:"RefreshLeft"},RTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DTe=E("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),FTe=[DTe];function MTe(t,e,n,s,r,o){return S(),I("svg",RTe,FTe)}var wP=ae(OTe,[["render",MTe],["__file","refresh-left.vue"]]),PTe={name:"RefreshRight"},LTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zTe=E("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),BTe=[zTe];function VTe(t,e,n,s,r,o){return S(),I("svg",LTe,BTe)}var _P=ae(PTe,[["render",VTe],["__file","refresh-right.vue"]]),HTe={name:"Refresh"},WTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},UTe=E("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),GTe=[UTe];function jTe(t,e,n,s,r,o){return S(),I("svg",WTe,GTe)}var KTe=ae(HTe,[["render",jTe],["__file","refresh.vue"]]),qTe={name:"Refrigerator"},XTe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YTe=E("path",{fill:"currentColor",d:"M256 448h512V160a32 32 0 0 0-32-32H288a32 32 0 0 0-32 32v288zm0 64v352a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32V512H256zm32-448h448a96 96 0 0 1 96 96v704a96 96 0 0 1-96 96H288a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96zm32 224h64v96h-64v-96zm0 288h64v96h-64v-96z"},null,-1),ZTe=[YTe];function JTe(t,e,n,s,r,o){return S(),I("svg",XTe,ZTe)}var QTe=ae(qTe,[["render",JTe],["__file","refrigerator.vue"]]),eNe={name:"RemoveFilled"},tNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},nNe=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zM288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512z"},null,-1),sNe=[nNe];function rNe(t,e,n,s,r,o){return S(),I("svg",tNe,sNe)}var oNe=ae(eNe,[["render",rNe],["__file","remove-filled.vue"]]),aNe={name:"Remove"},iNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lNe=E("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),uNe=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),cNe=[lNe,uNe];function dNe(t,e,n,s,r,o){return S(),I("svg",iNe,cNe)}var fNe=ae(aNe,[["render",dNe],["__file","remove.vue"]]),hNe={name:"Right"},pNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mNe=E("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1),gNe=[mNe];function vNe(t,e,n,s,r,o){return S(),I("svg",pNe,gNe)}var yNe=ae(hNe,[["render",vNe],["__file","right.vue"]]),bNe={name:"ScaleToOriginal"},wNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_Ne=E("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),$Ne=[_Ne];function xNe(t,e,n,s,r,o){return S(),I("svg",wNe,$Ne)}var $P=ae(bNe,[["render",xNe],["__file","scale-to-original.vue"]]),SNe={name:"School"},CNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kNe=E("path",{fill:"currentColor",d:"M224 128v704h576V128H224zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),TNe=E("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"},null,-1),NNe=E("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0v64zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192zM320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"},null,-1),ENe=[kNe,TNe,NNe];function INe(t,e,n,s,r,o){return S(),I("svg",CNe,ENe)}var ANe=ae(SNe,[["render",INe],["__file","school.vue"]]),ONe={name:"Scissor"},RNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},DNe=E("path",{fill:"currentColor",d:"m512.064 578.368-106.88 152.768a160 160 0 1 1-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1 1 52.48-36.736l393.024 561.344a160 160 0 1 1-23.36 78.208l-106.88-152.704zm54.4-189.248 208.384-297.6a32 32 0 0 1 52.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 1 0 110.144-157.248 96 96 0 0 0-110.08 157.248zm643.84 0a96 96 0 1 0-110.08-157.248 96 96 0 0 0 110.08 157.248z"},null,-1),FNe=[DNe];function MNe(t,e,n,s,r,o){return S(),I("svg",RNe,FNe)}var PNe=ae(ONe,[["render",MNe],["__file","scissor.vue"]]),LNe={name:"Search"},zNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},BNe=E("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),VNe=[BNe];function HNe(t,e,n,s,r,o){return S(),I("svg",zNe,VNe)}var xP=ae(LNe,[["render",HNe],["__file","search.vue"]]),WNe={name:"Select"},UNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GNe=E("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),jNe=[GNe];function KNe(t,e,n,s,r,o){return S(),I("svg",UNe,jNe)}var qNe=ae(WNe,[["render",KNe],["__file","select.vue"]]),XNe={name:"Sell"},YNe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZNe=E("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 483.84L768 698.496V928a32 32 0 1 1-64 0V698.496l-73.344 73.344a32 32 0 1 1-45.248-45.248l128-128a32 32 0 0 1 45.248 0l128 128a32 32 0 1 1-45.248 45.248z"},null,-1),JNe=[ZNe];function QNe(t,e,n,s,r,o){return S(),I("svg",YNe,JNe)}var eEe=ae(XNe,[["render",QNe],["__file","sell.vue"]]),tEe={name:"SemiSelect"},nEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sEe=E("path",{fill:"currentColor",d:"M128 448h768q64 0 64 64t-64 64H128q-64 0-64-64t64-64z"},null,-1),rEe=[sEe];function oEe(t,e,n,s,r,o){return S(),I("svg",nEe,rEe)}var aEe=ae(tEe,[["render",oEe],["__file","semi-select.vue"]]),iEe={name:"Service"},lEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uEe=E("path",{fill:"currentColor",d:"M864 409.6a192 192 0 0 1-37.888 349.44A256.064 256.064 0 0 1 576 960h-96a32 32 0 1 1 0-64h96a192.064 192.064 0 0 0 181.12-128H736a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h32c10.368 0 20.544.832 30.528 2.432a288 288 0 0 0-573.056 0A193.235 193.235 0 0 1 256 384h32a32 32 0 0 1 32 32v320a32 32 0 0 1-32 32h-32a192 192 0 0 1-96-358.4 352 352 0 0 1 704 0zM256 448a128 128 0 1 0 0 256V448zm640 128a128 128 0 0 0-128-128v256a128 128 0 0 0 128-128z"},null,-1),cEe=[uEe];function dEe(t,e,n,s,r,o){return S(),I("svg",lEe,cEe)}var fEe=ae(iEe,[["render",dEe],["__file","service.vue"]]),hEe={name:"SetUp"},pEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mEe=E("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64H224zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96z"},null,-1),gEe=E("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),vEe=E("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),yEe=E("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),bEe=[mEe,gEe,vEe,yEe];function wEe(t,e,n,s,r,o){return S(),I("svg",pEe,bEe)}var _Ee=ae(hEe,[["render",wEe],["__file","set-up.vue"]]),$Ee={name:"Setting"},xEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},SEe=E("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1),CEe=[SEe];function kEe(t,e,n,s,r,o){return S(),I("svg",xEe,CEe)}var TEe=ae($Ee,[["render",kEe],["__file","setting.vue"]]),NEe={name:"Share"},EEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},IEe=E("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"},null,-1),AEe=[IEe];function OEe(t,e,n,s,r,o){return S(),I("svg",EEe,AEe)}var REe=ae(NEe,[["render",OEe],["__file","share.vue"]]),DEe={name:"Ship"},FEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MEe=E("path",{fill:"currentColor",d:"M512 386.88V448h405.568a32 32 0 0 1 30.72 40.768l-76.48 267.968A192 192 0 0 1 687.168 896H336.832a192 192 0 0 1-184.64-139.264L75.648 488.768A32 32 0 0 1 106.368 448H448V117.888a32 32 0 0 1 47.36-28.096l13.888 7.616L512 96v2.88l231.68 126.4a32 32 0 0 1-2.048 57.216L512 386.88zm0-70.272 144.768-65.792L512 171.84v144.768zM512 512H148.864l18.24 64H856.96l18.24-64H512zM185.408 640l28.352 99.2A128 128 0 0 0 336.832 832h350.336a128 128 0 0 0 123.072-92.8l28.352-99.2H185.408z"},null,-1),PEe=[MEe];function LEe(t,e,n,s,r,o){return S(),I("svg",FEe,PEe)}var zEe=ae(DEe,[["render",LEe],["__file","ship.vue"]]),BEe={name:"Shop"},VEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HEe=E("path",{fill:"currentColor",d:"M704 704h64v192H256V704h64v64h384v-64zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640l60.544 423.808z"},null,-1),WEe=[HEe];function UEe(t,e,n,s,r,o){return S(),I("svg",VEe,WEe)}var GEe=ae(BEe,[["render",UEe],["__file","shop.vue"]]),jEe={name:"ShoppingBag"},KEe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qEe=E("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320H704zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32h160zm64 0h256a128 128 0 1 0-256 0z"},null,-1),XEe=E("path",{fill:"currentColor",d:"M192 704h640v64H192z"},null,-1),YEe=[qEe,XEe];function ZEe(t,e,n,s,r,o){return S(),I("svg",KEe,YEe)}var JEe=ae(jEe,[["render",ZEe],["__file","shopping-bag.vue"]]),QEe={name:"ShoppingCartFull"},eIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tIe=E("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96zm320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96zM96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128H96zm314.24 576h395.904l82.304-384H333.44l76.8 384z"},null,-1),nIe=E("path",{fill:"currentColor",d:"M699.648 256 608 145.984 516.352 256h183.296zm-140.8-151.04a64 64 0 0 1 98.304 0L836.352 320H379.648l179.2-215.04z"},null,-1),sIe=[tIe,nIe];function rIe(t,e,n,s,r,o){return S(),I("svg",eIe,sIe)}var oIe=ae(QEe,[["render",rIe],["__file","shopping-cart-full.vue"]]),aIe={name:"ShoppingCart"},iIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lIe=E("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96zm320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96zM96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128H96zm314.24 576h395.904l82.304-384H333.44l76.8 384z"},null,-1),uIe=[lIe];function cIe(t,e,n,s,r,o){return S(),I("svg",iIe,uIe)}var dIe=ae(aIe,[["render",cIe],["__file","shopping-cart.vue"]]),fIe={name:"ShoppingTrolley"},hIe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},pIe=E("path",{d:"M368 833c-13.3 0-24.5 4.5-33.5 13.5S321 866.7 321 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S415 893.3 415 880s-4.5-24.5-13.5-33.5S381.3 833 368 833zm439-193c7.4 0 13.8-2.2 19.5-6.5S836 623.3 838 616l112-448c2-10-.2-19.2-6.5-27.5S929 128 919 128H96c-9.3 0-17 3-23 9s-9 13.7-9 23 3 17 9 23 13.7 9 23 9h96v576h672c9.3 0 17-3 23-9s9-13.7 9-23-3-17-9-23-13.7-9-23-9H256v-64h551zM256 192h622l-96 384H256V192zm432 641c-13.3 0-24.5 4.5-33.5 13.5S641 866.7 641 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S735 893.3 735 880s-4.5-24.5-13.5-33.5S701.3 833 688 833z",fill:"currentColor"},null,-1),mIe=[pIe];function gIe(t,e,n,s,r,o){return S(),I("svg",hIe,mIe)}var vIe=ae(fIe,[["render",gIe],["__file","shopping-trolley.vue"]]),yIe={name:"Smoking"},bIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wIe=E("path",{fill:"currentColor",d:"M256 576v128h640V576H256zm-32-64h704a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32z"},null,-1),_Ie=E("path",{fill:"currentColor",d:"M704 576h64v128h-64zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"},null,-1),$Ie=[wIe,_Ie];function xIe(t,e,n,s,r,o){return S(),I("svg",bIe,$Ie)}var SIe=ae(yIe,[["render",xIe],["__file","smoking.vue"]]),CIe={name:"Soccer"},kIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TIe=E("path",{fill:"currentColor",d:"M418.496 871.04 152.256 604.8c-16.512 94.016-2.368 178.624 42.944 224 44.928 44.928 129.344 58.752 223.296 42.24zm72.32-18.176a573.056 573.056 0 0 0 224.832-137.216 573.12 573.12 0 0 0 137.216-224.832L533.888 171.84a578.56 578.56 0 0 0-227.52 138.496A567.68 567.68 0 0 0 170.432 532.48l320.384 320.384zM871.04 418.496c16.512-93.952 2.688-178.368-42.24-223.296-44.544-44.544-128.704-58.048-222.592-41.536L871.04 418.496zM149.952 874.048c-112.96-112.96-88.832-408.96 111.168-608.96C461.056 65.152 760.96 36.928 874.048 149.952c113.024 113.024 86.784 411.008-113.152 610.944-199.936 199.936-497.92 226.112-610.944 113.152zm452.544-497.792 22.656-22.656a32 32 0 0 1 45.248 45.248l-22.656 22.656 45.248 45.248A32 32 0 1 1 647.744 512l-45.248-45.248L557.248 512l45.248 45.248a32 32 0 1 1-45.248 45.248L512 557.248l-45.248 45.248L512 647.744a32 32 0 1 1-45.248 45.248l-45.248-45.248-22.656 22.656a32 32 0 1 1-45.248-45.248l22.656-22.656-45.248-45.248A32 32 0 1 1 376.256 512l45.248 45.248L466.752 512l-45.248-45.248a32 32 0 1 1 45.248-45.248L512 466.752l45.248-45.248L512 376.256a32 32 0 0 1 45.248-45.248l45.248 45.248z"},null,-1),NIe=[TIe];function EIe(t,e,n,s,r,o){return S(),I("svg",kIe,NIe)}var IIe=ae(CIe,[["render",EIe],["__file","soccer.vue"]]),AIe={name:"SoldOut"},OIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RIe=E("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 476.16a32 32 0 1 1 45.248 45.184l-128 128a32 32 0 0 1-45.248 0l-128-128a32 32 0 1 1 45.248-45.248L704 837.504V608a32 32 0 1 1 64 0v229.504l73.408-73.408z"},null,-1),DIe=[RIe];function FIe(t,e,n,s,r,o){return S(),I("svg",OIe,DIe)}var MIe=ae(AIe,[["render",FIe],["__file","sold-out.vue"]]),PIe={name:"SortDown"},LIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zIe=E("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),BIe=[zIe];function VIe(t,e,n,s,r,o){return S(),I("svg",LIe,BIe)}var SP=ae(PIe,[["render",VIe],["__file","sort-down.vue"]]),HIe={name:"SortUp"},WIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},UIe=E("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),GIe=[UIe];function jIe(t,e,n,s,r,o){return S(),I("svg",WIe,GIe)}var CP=ae(HIe,[["render",jIe],["__file","sort-up.vue"]]),KIe={name:"Sort"},qIe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},XIe=E("path",{fill:"currentColor",d:"M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632V96zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z"},null,-1),YIe=[XIe];function ZIe(t,e,n,s,r,o){return S(),I("svg",qIe,YIe)}var JIe=ae(KIe,[["render",ZIe],["__file","sort.vue"]]),QIe={name:"Stamp"},e5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},t5e=E("path",{fill:"currentColor",d:"M624 475.968V640h144a128 128 0 0 1 128 128H128a128 128 0 0 1 128-128h144V475.968a192 192 0 1 1 224 0zM128 896v-64h768v64H128z"},null,-1),n5e=[t5e];function s5e(t,e,n,s,r,o){return S(),I("svg",e5e,n5e)}var r5e=ae(QIe,[["render",s5e],["__file","stamp.vue"]]),o5e={name:"StarFilled"},a5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},i5e=E("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),l5e=[i5e];function u5e(t,e,n,s,r,o){return S(),I("svg",a5e,l5e)}var Hm=ae(o5e,[["render",u5e],["__file","star-filled.vue"]]),c5e={name:"Star"},d5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},f5e=E("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),h5e=[f5e];function p5e(t,e,n,s,r,o){return S(),I("svg",d5e,h5e)}var kP=ae(c5e,[["render",p5e],["__file","star.vue"]]),m5e={name:"Stopwatch"},g5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},v5e=E("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),y5e=E("path",{fill:"currentColor",d:"M672 234.88c-39.168 174.464-80 298.624-122.688 372.48-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"},null,-1),b5e=[v5e,y5e];function w5e(t,e,n,s,r,o){return S(),I("svg",g5e,b5e)}var _5e=ae(m5e,[["render",w5e],["__file","stopwatch.vue"]]),$5e={name:"SuccessFilled"},x5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},S5e=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),C5e=[S5e];function k5e(t,e,n,s,r,o){return S(),I("svg",x5e,C5e)}var AC=ae($5e,[["render",k5e],["__file","success-filled.vue"]]),T5e={name:"Sugar"},N5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},E5e=E("path",{fill:"currentColor",d:"m801.728 349.184 4.48 4.48a128 128 0 0 1 0 180.992L534.656 806.144a128 128 0 0 1-181.056 0l-4.48-4.48-19.392 109.696a64 64 0 0 1-108.288 34.176L78.464 802.56a64 64 0 0 1 34.176-108.288l109.76-19.328-4.544-4.544a128 128 0 0 1 0-181.056l271.488-271.488a128 128 0 0 1 181.056 0l4.48 4.48 19.392-109.504a64 64 0 0 1 108.352-34.048l142.592 143.04a64 64 0 0 1-34.24 108.16l-109.248 19.2zm-548.8 198.72h447.168v2.24l60.8-60.8a63.808 63.808 0 0 0 18.752-44.416h-426.88l-89.664 89.728a64.064 64.064 0 0 0-10.24 13.248zm0 64c2.752 4.736 6.144 9.152 10.176 13.248l135.744 135.744a64 64 0 0 0 90.496 0L638.4 611.904H252.928zm490.048-230.976L625.152 263.104a64 64 0 0 0-90.496 0L416.768 380.928h326.208zM123.712 757.312l142.976 142.976 24.32-137.6a25.6 25.6 0 0 0-29.696-29.632l-137.6 24.256zm633.6-633.344-24.32 137.472a25.6 25.6 0 0 0 29.632 29.632l137.28-24.064-142.656-143.04z"},null,-1),I5e=[E5e];function A5e(t,e,n,s,r,o){return S(),I("svg",N5e,I5e)}var O5e=ae(T5e,[["render",A5e],["__file","sugar.vue"]]),R5e={name:"SuitcaseLine"},D5e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},F5e=E("path",{d:"M922.5 229.5c-24.32-24.34-54.49-36.84-90.5-37.5H704v-64c-.68-17.98-7.02-32.98-19.01-44.99S658.01 64.66 640 64H384c-17.98.68-32.98 7.02-44.99 19.01S320.66 110 320 128v64H192c-35.99.68-66.16 13.18-90.5 37.5C77.16 253.82 64.66 283.99 64 320v448c.68 35.99 13.18 66.16 37.5 90.5s54.49 36.84 90.5 37.5h640c35.99-.68 66.16-13.18 90.5-37.5s36.84-54.49 37.5-90.5V320c-.68-35.99-13.18-66.16-37.5-90.5zM384 128h256v64H384v-64zM256 832h-64c-17.98-.68-32.98-7.02-44.99-19.01S128.66 786.01 128 768V448h128v384zm448 0H320V448h384v384zm192-64c-.68 17.98-7.02 32.98-19.01 44.99S850.01 831.34 832 832h-64V448h128v320zm0-384H128v-64c.69-17.98 7.02-32.98 19.01-44.99S173.99 256.66 192 256h640c17.98.69 32.98 7.02 44.99 19.01S895.34 301.99 896 320v64z",fill:"currentColor"},null,-1),M5e=[F5e];function P5e(t,e,n,s,r,o){return S(),I("svg",D5e,M5e)}var L5e=ae(R5e,[["render",P5e],["__file","suitcase-line.vue"]]),z5e={name:"Suitcase"},B5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},V5e=E("path",{fill:"currentColor",d:"M128 384h768v-64a64 64 0 0 0-64-64H192a64 64 0 0 0-64 64v64zm0 64v320a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V448H128zm64-256h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128z"},null,-1),H5e=E("path",{fill:"currentColor",d:"M384 128v64h256v-64H384zm0-64h256a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z"},null,-1),W5e=[V5e,H5e];function U5e(t,e,n,s,r,o){return S(),I("svg",B5e,W5e)}var G5e=ae(z5e,[["render",U5e],["__file","suitcase.vue"]]),j5e={name:"Sunny"},K5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},q5e=E("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32zM195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248zM64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32zm768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32zM195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0z"},null,-1),X5e=[q5e];function Y5e(t,e,n,s,r,o){return S(),I("svg",K5e,X5e)}var Z5e=ae(j5e,[["render",Y5e],["__file","sunny.vue"]]),J5e={name:"Sunrise"},Q5e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eAe=E("path",{fill:"currentColor",d:"M32 768h960a32 32 0 1 1 0 64H32a32 32 0 1 1 0-64zm129.408-96a352 352 0 0 1 701.184 0h-64.32a288 288 0 0 0-572.544 0h-64.32zM512 128a32 32 0 0 1 32 32v96a32 32 0 0 1-64 0v-96a32 32 0 0 1 32-32zm407.296 168.704a32 32 0 0 1 0 45.248l-67.84 67.84a32 32 0 1 1-45.248-45.248l67.84-67.84a32 32 0 0 1 45.248 0zm-814.592 0a32 32 0 0 1 45.248 0l67.84 67.84a32 32 0 1 1-45.248 45.248l-67.84-67.84a32 32 0 0 1 0-45.248z"},null,-1),tAe=[eAe];function nAe(t,e,n,s,r,o){return S(),I("svg",Q5e,tAe)}var sAe=ae(J5e,[["render",nAe],["__file","sunrise.vue"]]),rAe={name:"Sunset"},oAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},aAe=E("path",{fill:"currentColor",d:"M82.56 640a448 448 0 1 1 858.88 0h-67.2a384 384 0 1 0-724.288 0H82.56zM32 704h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm256 128h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),iAe=[aAe];function lAe(t,e,n,s,r,o){return S(),I("svg",oAe,iAe)}var uAe=ae(rAe,[["render",lAe],["__file","sunset.vue"]]),cAe={name:"SwitchButton"},dAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fAe=E("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"},null,-1),hAe=E("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32z"},null,-1),pAe=[fAe,hAe];function mAe(t,e,n,s,r,o){return S(),I("svg",dAe,pAe)}var gAe=ae(cAe,[["render",mAe],["__file","switch-button.vue"]]),vAe={name:"SwitchFilled"},yAe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},bAe=E("path",{d:"M247.47 358.4v.04c.07 19.17 7.72 37.53 21.27 51.09s31.92 21.2 51.09 21.27c39.86 0 72.41-32.6 72.41-72.4s-32.6-72.36-72.41-72.36-72.36 32.55-72.36 72.36z",fill:"currentColor"},null,-1),wAe=E("path",{d:"M492.38 128H324.7c-52.16 0-102.19 20.73-139.08 57.61a196.655 196.655 0 0 0-57.61 139.08V698.7c-.01 25.84 5.08 51.42 14.96 75.29s24.36 45.56 42.63 63.83 39.95 32.76 63.82 42.65a196.67 196.67 0 0 0 75.28 14.98h167.68c3.03 0 5.46-2.43 5.46-5.42V133.42c.6-2.99-1.83-5.42-5.46-5.42zm-56.11 705.88H324.7c-17.76.13-35.36-3.33-51.75-10.18s-31.22-16.94-43.61-29.67c-25.3-25.35-39.81-59.1-39.81-95.32V324.69c-.13-17.75 3.33-35.35 10.17-51.74a131.695 131.695 0 0 1 29.64-43.62c25.39-25.3 59.14-39.81 95.36-39.81h111.57v644.36zm402.12-647.67a196.655 196.655 0 0 0-139.08-57.61H580.48c-3.03 0-4.82 2.43-4.82 4.82v757.16c-.6 2.99 1.79 5.42 5.42 5.42h118.23a196.69 196.69 0 0 0 139.08-57.61A196.655 196.655 0 0 0 896 699.31V325.29a196.69 196.69 0 0 0-57.61-139.08zm-111.3 441.92c-42.83 0-77.82-34.99-77.82-77.82s34.98-77.82 77.82-77.82c42.83 0 77.82 34.99 77.82 77.82s-34.99 77.82-77.82 77.82z",fill:"currentColor"},null,-1),_Ae=[bAe,wAe];function $Ae(t,e,n,s,r,o){return S(),I("svg",yAe,_Ae)}var xAe=ae(vAe,[["render",$Ae],["__file","switch-filled.vue"]]),SAe={name:"Switch"},CAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kAe=E("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32z"},null,-1),TAe=[kAe];function NAe(t,e,n,s,r,o){return S(),I("svg",CAe,TAe)}var EAe=ae(SAe,[["render",NAe],["__file","switch.vue"]]),IAe={name:"TakeawayBox"},AAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},OAe=E("path",{fill:"currentColor",d:"M832 384H192v448h640V384zM96 320h832V128H96v192zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32h-64zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64z"},null,-1),RAe=[OAe];function DAe(t,e,n,s,r,o){return S(),I("svg",AAe,RAe)}var FAe=ae(IAe,[["render",DAe],["__file","takeaway-box.vue"]]),MAe={name:"Ticket"},PAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},LAe=E("path",{fill:"currentColor",d:"M640 832H64V640a128 128 0 1 0 0-256V192h576v160h64V192h256v192a128 128 0 1 0 0 256v192H704V672h-64v160zm0-416v192h64V416h-64z"},null,-1),zAe=[LAe];function BAe(t,e,n,s,r,o){return S(),I("svg",PAe,zAe)}var VAe=ae(MAe,[["render",BAe],["__file","ticket.vue"]]),HAe={name:"Tickets"},WAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},UAe=E("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h192v64H320v-64zm0 384h384v64H320v-64z"},null,-1),GAe=[UAe];function jAe(t,e,n,s,r,o){return S(),I("svg",WAe,GAe)}var KAe=ae(HAe,[["render",jAe],["__file","tickets.vue"]]),qAe={name:"Timer"},XAe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},YAe=E("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640zm0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768z"},null,-1),ZAe=E("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32z"},null,-1),JAe=E("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0zm96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96z"},null,-1),QAe=[YAe,ZAe,JAe];function eOe(t,e,n,s,r,o){return S(),I("svg",XAe,QAe)}var tOe=ae(qAe,[["render",eOe],["__file","timer.vue"]]),nOe={name:"ToiletPaper"},sOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rOe=E("path",{fill:"currentColor",d:"M595.2 128H320a192 192 0 0 0-192 192v576h384V352c0-90.496 32.448-171.2 83.2-224zM736 64c123.712 0 224 128.96 224 288S859.712 640 736 640H576v320H64V320A256 256 0 0 1 320 64h416zM576 352v224h160c84.352 0 160-97.28 160-224s-75.648-224-160-224-160 97.28-160 224z"},null,-1),oOe=E("path",{fill:"currentColor",d:"M736 448c-35.328 0-64-43.008-64-96s28.672-96 64-96 64 43.008 64 96-28.672 96-64 96z"},null,-1),aOe=[rOe,oOe];function iOe(t,e,n,s,r,o){return S(),I("svg",sOe,aOe)}var lOe=ae(nOe,[["render",iOe],["__file","toilet-paper.vue"]]),uOe={name:"Tools"},cOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dOe=E("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1),fOe=[dOe];function hOe(t,e,n,s,r,o){return S(),I("svg",cOe,fOe)}var pOe=ae(uOe,[["render",hOe],["__file","tools.vue"]]),mOe={name:"TopLeft"},gOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vOe=E("path",{fill:"currentColor",d:"M256 256h416a32 32 0 1 0 0-64H224a32 32 0 0 0-32 32v448a32 32 0 0 0 64 0V256z"},null,-1),yOe=E("path",{fill:"currentColor",d:"M246.656 201.344a32 32 0 0 0-45.312 45.312l544 544a32 32 0 0 0 45.312-45.312l-544-544z"},null,-1),bOe=[vOe,yOe];function wOe(t,e,n,s,r,o){return S(),I("svg",gOe,bOe)}var _Oe=ae(mOe,[["render",wOe],["__file","top-left.vue"]]),$Oe={name:"TopRight"},xOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},SOe=E("path",{fill:"currentColor",d:"M768 256H353.6a32 32 0 1 1 0-64H800a32 32 0 0 1 32 32v448a32 32 0 0 1-64 0V256z"},null,-1),COe=E("path",{fill:"currentColor",d:"M777.344 201.344a32 32 0 0 1 45.312 45.312l-544 544a32 32 0 0 1-45.312-45.312l544-544z"},null,-1),kOe=[SOe,COe];function TOe(t,e,n,s,r,o){return S(),I("svg",xOe,kOe)}var NOe=ae($Oe,[["render",TOe],["__file","top-right.vue"]]),EOe={name:"Top"},IOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},AOe=E("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"},null,-1),OOe=[AOe];function ROe(t,e,n,s,r,o){return S(),I("svg",IOe,OOe)}var DOe=ae(EOe,[["render",ROe],["__file","top.vue"]]),FOe={name:"TrendCharts"},MOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},POe=E("path",{fill:"currentColor",d:"M128 896V128h768v768H128zm291.712-327.296 128 102.4 180.16-201.792-47.744-42.624-139.84 156.608-128-102.4-180.16 201.792 47.744 42.624 139.84-156.608zM816 352a48 48 0 1 0-96 0 48 48 0 0 0 96 0z"},null,-1),LOe=[POe];function zOe(t,e,n,s,r,o){return S(),I("svg",MOe,LOe)}var BOe=ae(FOe,[["render",zOe],["__file","trend-charts.vue"]]),VOe={name:"TrophyBase"},HOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},WOe=E("path",{d:"M918.4 201.6c-6.4-6.4-12.8-9.6-22.4-9.6H768V96c0-9.6-3.2-16-9.6-22.4C752 67.2 745.6 64 736 64H288c-9.6 0-16 3.2-22.4 9.6C259.2 80 256 86.4 256 96v96H128c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 16-9.6 22.4 3.2 108.8 25.6 185.6 64 224 34.4 34.4 77.56 55.65 127.65 61.99 10.91 20.44 24.78 39.25 41.95 56.41 40.86 40.86 91 65.47 150.4 71.9V768h-96c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h256c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6h-96V637.26c59.4-7.71 109.54-30.01 150.4-70.86 17.2-17.2 31.51-36.06 42.81-56.55 48.93-6.51 90.02-27.7 126.79-61.85 38.4-38.4 60.8-112 64-224 0-6.4-3.2-16-9.6-22.4zM256 438.4c-19.2-6.4-35.2-19.2-51.2-35.2-22.4-22.4-35.2-70.4-41.6-147.2H256v182.4zm390.4 80C608 553.6 566.4 576 512 576s-99.2-19.2-134.4-57.6C342.4 480 320 438.4 320 384V128h384v256c0 54.4-19.2 99.2-57.6 134.4zm172.8-115.2c-16 16-32 25.6-51.2 35.2V256h92.8c-6.4 76.8-19.2 124.8-41.6 147.2zM768 896H256c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h512c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6z",fill:"currentColor"},null,-1),UOe=[WOe];function GOe(t,e,n,s,r,o){return S(),I("svg",HOe,UOe)}var jOe=ae(VOe,[["render",GOe],["__file","trophy-base.vue"]]),KOe={name:"Trophy"},qOe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},XOe=E("path",{fill:"currentColor",d:"M480 896V702.08A256.256 256.256 0 0 1 264.064 512h-32.64a96 96 0 0 1-91.968-68.416L93.632 290.88a76.8 76.8 0 0 1 73.6-98.88H256V96a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32v96h88.768a76.8 76.8 0 0 1 73.6 98.88L884.48 443.52A96 96 0 0 1 792.576 512h-32.64A256.256 256.256 0 0 1 544 702.08V896h128a32 32 0 1 1 0 64H352a32 32 0 1 1 0-64h128zm224-448V128H320v320a192 192 0 1 0 384 0zm64 0h24.576a32 32 0 0 0 30.656-22.784l45.824-152.768A12.8 12.8 0 0 0 856.768 256H768v192zm-512 0V256h-88.768a12.8 12.8 0 0 0-12.288 16.448l45.824 152.768A32 32 0 0 0 231.424 448H256z"},null,-1),YOe=[XOe];function ZOe(t,e,n,s,r,o){return S(),I("svg",qOe,YOe)}var JOe=ae(KOe,[["render",ZOe],["__file","trophy.vue"]]),QOe={name:"TurnOff"},eRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tRe=E("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724H329.956zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"},null,-1),nRe=E("path",{fill:"currentColor",d:"M329.956 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454zm0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088z"},null,-1),sRe=[tRe,nRe];function rRe(t,e,n,s,r,o){return S(),I("svg",eRe,sRe)}var oRe=ae(QOe,[["render",rRe],["__file","turn-off.vue"]]),aRe={name:"Umbrella"},iRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lRe=E("path",{fill:"currentColor",d:"M320 768a32 32 0 1 1 64 0 64 64 0 0 0 128 0V512H64a448 448 0 1 1 896 0H576v256a128 128 0 1 1-256 0zm570.688-320a384.128 384.128 0 0 0-757.376 0h757.376z"},null,-1),uRe=[lRe];function cRe(t,e,n,s,r,o){return S(),I("svg",iRe,uRe)}var dRe=ae(aRe,[["render",cRe],["__file","umbrella.vue"]]),fRe={name:"Unlock"},hRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pRe=E("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),mRe=E("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104l-59.456 23.808z"},null,-1),gRe=[pRe,mRe];function vRe(t,e,n,s,r,o){return S(),I("svg",hRe,gRe)}var yRe=ae(fRe,[["render",vRe],["__file","unlock.vue"]]),bRe={name:"UploadFilled"},wRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_Re=E("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),$Re=[_Re];function xRe(t,e,n,s,r,o){return S(),I("svg",wRe,$Re)}var SRe=ae(bRe,[["render",xRe],["__file","upload-filled.vue"]]),CRe={name:"Upload"},kRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},TRe=E("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248L544 253.696z"},null,-1),NRe=[TRe];function ERe(t,e,n,s,r,o){return S(),I("svg",kRe,NRe)}var IRe=ae(CRe,[["render",ERe],["__file","upload.vue"]]),ARe={name:"UserFilled"},ORe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RRe=E("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0zm544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"},null,-1),DRe=[RRe];function FRe(t,e,n,s,r,o){return S(),I("svg",ORe,DRe)}var MRe=ae(ARe,[["render",FRe],["__file","user-filled.vue"]]),PRe={name:"User"},LRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zRe=E("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"},null,-1),BRe=[zRe];function VRe(t,e,n,s,r,o){return S(),I("svg",LRe,BRe)}var HRe=ae(PRe,[["render",VRe],["__file","user.vue"]]),WRe={name:"Van"},URe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GRe=E("path",{fill:"currentColor",d:"M128.896 736H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v96h164.544a32 32 0 0 1 31.616 27.136l54.144 352A32 32 0 0 1 922.688 736h-91.52a144 144 0 1 1-286.272 0H415.104a144 144 0 1 1-286.272 0zm23.36-64a143.872 143.872 0 0 1 239.488 0H568.32c17.088-25.6 42.24-45.376 71.744-55.808V256H128v416h24.256zm655.488 0h77.632l-19.648-128H704v64.896A144 144 0 0 1 807.744 672zm48.128-192-14.72-96H704v96h151.872zM688 832a80 80 0 1 0 0-160 80 80 0 0 0 0 160zm-416 0a80 80 0 1 0 0-160 80 80 0 0 0 0 160z"},null,-1),jRe=[GRe];function KRe(t,e,n,s,r,o){return S(),I("svg",URe,jRe)}var qRe=ae(WRe,[["render",KRe],["__file","van.vue"]]),XRe={name:"VideoCameraFilled"},YRe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZRe=E("path",{fill:"currentColor",d:"m768 576 192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v96zM192 768v64h384v-64H192zm192-480a160 160 0 0 1 320 0 160 160 0 0 1-320 0zm64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288zm-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320zm64 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0z"},null,-1),JRe=[ZRe];function QRe(t,e,n,s,r,o){return S(),I("svg",YRe,JRe)}var eDe=ae(XRe,[["render",QRe],["__file","video-camera-filled.vue"]]),tDe={name:"VideoCamera"},nDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sDe=E("path",{fill:"currentColor",d:"M704 768V256H128v512h576zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 71.552v176.896l128 64V359.552l-128 64zM192 320h192v64H192v-64z"},null,-1),rDe=[sDe];function oDe(t,e,n,s,r,o){return S(),I("svg",nDe,rDe)}var aDe=ae(tDe,[["render",oDe],["__file","video-camera.vue"]]),iDe={name:"VideoPause"},lDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uDe=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32zm192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32z"},null,-1),cDe=[uDe];function dDe(t,e,n,s,r,o){return S(),I("svg",lDe,cDe)}var fDe=ae(iDe,[["render",dDe],["__file","video-pause.vue"]]),hDe={name:"VideoPlay"},pDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mDe=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-48-247.616L668.608 512 464 375.616v272.768zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"},null,-1),gDe=[mDe];function vDe(t,e,n,s,r,o){return S(),I("svg",pDe,gDe)}var yDe=ae(hDe,[["render",vDe],["__file","video-play.vue"]]),bDe={name:"View"},wDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_De=E("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),$De=[_De];function xDe(t,e,n,s,r,o){return S(),I("svg",wDe,$De)}var TP=ae(bDe,[["render",xDe],["__file","view.vue"]]),SDe={name:"WalletFilled"},CDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kDe=E("path",{fill:"currentColor",d:"M688 512a112 112 0 1 0 0 224h208v160H128V352h768v160H688zm32 160h-32a48 48 0 0 1 0-96h32a48 48 0 0 1 0 96zm-80-544 128 160H384l256-160z"},null,-1),TDe=[kDe];function NDe(t,e,n,s,r,o){return S(),I("svg",CDe,TDe)}var EDe=ae(SDe,[["render",NDe],["__file","wallet-filled.vue"]]),IDe={name:"Wallet"},ADe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ODe=E("path",{fill:"currentColor",d:"M640 288h-64V128H128v704h384v32a32 32 0 0 0 32 32H96a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32v192z"},null,-1),RDe=E("path",{fill:"currentColor",d:"M128 320v512h768V320H128zm-32-64h832a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32z"},null,-1),DDe=E("path",{fill:"currentColor",d:"M704 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"},null,-1),FDe=[ODe,RDe,DDe];function MDe(t,e,n,s,r,o){return S(),I("svg",ADe,FDe)}var PDe=ae(IDe,[["render",MDe],["__file","wallet.vue"]]),LDe={name:"WarnTriangleFilled"},zDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",style:{"enable-background":"new 0 0 1024 1024"},"xml:space":"preserve"},BDe=E("path",{d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03zM554.67 768h-85.33v-85.33h85.33V768zm0-426.67v298.66h-85.33V341.32l85.33.01z",fill:"currentColor"},null,-1),VDe=[BDe];function HDe(t,e,n,s,r,o){return S(),I("svg",zDe,VDe)}var WDe=ae(LDe,[["render",HDe],["__file","warn-triangle-filled.vue"]]),UDe={name:"WarningFilled"},GDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jDe=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),KDe=[jDe];function qDe(t,e,n,s,r,o){return S(),I("svg",GDe,KDe)}var Rg=ae(UDe,[["render",qDe],["__file","warning-filled.vue"]]),XDe={name:"Warning"},YDe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZDe=E("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),JDe=[ZDe];function QDe(t,e,n,s,r,o){return S(),I("svg",YDe,JDe)}var e9e=ae(XDe,[["render",QDe],["__file","warning.vue"]]),t9e={name:"Watch"},n9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},s9e=E("path",{fill:"currentColor",d:"M512 768a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),r9e=E("path",{fill:"currentColor",d:"M480 352a32 32 0 0 1 32 32v160a32 32 0 0 1-64 0V384a32 32 0 0 1 32-32z"},null,-1),o9e=E("path",{fill:"currentColor",d:"M480 512h128q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm128-256V128H416v128h-64V64h320v192h-64zM416 768v128h192V768h64v192H352V768h64z"},null,-1),a9e=[s9e,r9e,o9e];function i9e(t,e,n,s,r,o){return S(),I("svg",n9e,a9e)}var l9e=ae(t9e,[["render",i9e],["__file","watch.vue"]]),u9e={name:"Watermelon"},c9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},d9e=E("path",{fill:"currentColor",d:"m683.072 600.32-43.648 162.816-61.824-16.512 53.248-198.528L576 493.248l-158.4 158.4-45.248-45.248 158.4-158.4-55.616-55.616-198.528 53.248-16.512-61.824 162.816-43.648L282.752 200A384 384 0 0 0 824 741.248L683.072 600.32zm231.552 141.056a448 448 0 1 1-632-632l632 632z"},null,-1),f9e=[d9e];function h9e(t,e,n,s,r,o){return S(),I("svg",c9e,f9e)}var p9e=ae(u9e,[["render",h9e],["__file","watermelon.vue"]]),m9e={name:"WindPower"},g9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},v9e=E("path",{fill:"currentColor",d:"M160 64q32 0 32 32v832q0 32-32 32t-32-32V96q0-32 32-32zm416 354.624 128-11.584V168.96l-128-11.52v261.12zm-64 5.824V151.552L320 134.08V160h-64V64l616.704 56.064A96 96 0 0 1 960 215.68v144.64a96 96 0 0 1-87.296 95.616L256 512V224h64v217.92l192-17.472zm256-23.232 98.88-8.96A32 32 0 0 0 896 360.32V215.68a32 32 0 0 0-29.12-31.872l-98.88-8.96v226.368z"},null,-1),y9e=[v9e];function b9e(t,e,n,s,r,o){return S(),I("svg",g9e,y9e)}var w9e=ae(m9e,[["render",b9e],["__file","wind-power.vue"]]),_9e={name:"ZoomIn"},$9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},x9e=E("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),S9e=[x9e];function C9e(t,e,n,s,r,o){return S(),I("svg",$9e,S9e)}var OC=ae(_9e,[["render",C9e],["__file","zoom-in.vue"]]),k9e={name:"ZoomOut"},T9e={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},N9e=E("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),E9e=[N9e];function I9e(t,e,n,s,r,o){return S(),I("svg",T9e,E9e)}var NP=ae(k9e,[["render",I9e],["__file","zoom-out.vue"]]);const A9e=Object.freeze(Object.defineProperty({__proto__:null,AddLocation:jue,Aim:Que,AlarmClock:ace,Apple:fce,ArrowDown:zl,ArrowDownBold:yce,ArrowLeft:xl,ArrowLeftBold:Ece,ArrowRight:Rr,ArrowRightBold:Bce,ArrowUp:Og,ArrowUpBold:Zce,Avatar:lde,Back:lP,Baseball:_de,Basketball:Tde,Bell:Vde,BellFilled:Rde,Bicycle:Kde,Bottom:hfe,BottomLeft:efe,BottomRight:ife,Bowl:bfe,Box:Tfe,Briefcase:Rfe,Brush:Gfe,BrushFilled:zfe,Burger:Zfe,Calendar:uP,Camera:phe,CameraFilled:lhe,CaretBottom:whe,CaretLeft:khe,CaretRight:NC,CaretTop:cP,Cellphone:Hhe,ChatDotRound:Xhe,ChatDotSquare:npe,ChatLineRound:upe,ChatLineSquare:gpe,ChatRound:$pe,ChatSquare:Npe,Check:Jh,Checked:zpe,Cherry:Gpe,Chicken:Zpe,ChromeFilled:ome,CircleCheck:iw,CircleCheckFilled:dP,CircleClose:Bl,CircleCloseFilled:lw,CirclePlus:Vme,CirclePlusFilled:Rme,Clock:EC,Close:xa,CloseBold:e0e,Cloudy:d0e,Coffee:x0e,CoffeeCup:v0e,Coin:A0e,ColdDrink:P0e,Collection:Y0e,CollectionTag:W0e,Comment:nge,Compass:uge,Connection:gge,Coordinate:xge,CopyDocument:Ige,Cpu:Pge,CreditCard:Uge,Crop:Zge,DArrowLeft:$d,DArrowRight:xd,DCaret:h1e,DataAnalysis:b1e,DataBoard:T1e,DataLine:R1e,Delete:fP,DeleteFilled:z1e,DeleteLocation:K1e,Dessert:r2e,Discount:d2e,Dish:x2e,DishDot:v2e,Document:hP,DocumentAdd:E2e,DocumentChecked:F2e,DocumentCopy:V2e,DocumentDelete:K2e,DocumentRemove:Q2e,Download:cve,Drizzling:gve,Edit:Eve,EditPen:$ve,Eleme:Vve,ElemeFilled:Fve,ElementPlus:Kve,Expand:Qve,Failed:oye,Female:hye,Files:bye,Film:kye,Filter:Oye,Finished:Lye,FirstAidKit:Gye,Flag:Zye,Fold:sbe,Folder:zbe,FolderAdd:ube,FolderChecked:mbe,FolderDelete:_be,FolderOpened:Tbe,FolderRemove:Rbe,Food:Gbe,Football:Jbe,ForkSpoon:rwe,Fries:cwe,FullScreen:pP,Goblet:zwe,GobletFull:_we,GobletSquare:Rwe,GobletSquareFull:Twe,GoldMedal:jwe,Goods:r_e,GoodsFilled:Jwe,Grape:c_e,Grid:g_e,Guide:x_e,Handbag:E_e,Headset:F_e,Help:K_e,HelpFilled:V_e,Hide:mP,Histogram:o3e,HomeFilled:d3e,HotWater:v3e,House:x3e,IceCream:V3e,IceCreamRound:E3e,IceCreamSquare:F3e,IceDrink:K3e,IceTea:Q3e,InfoFilled:uw,Iphone:c4e,Key:g4e,KnifeFork:$4e,Lightning:E4e,Link:F4e,List:V4e,Loading:Vl,Location:h$e,LocationFilled:J4e,LocationInformation:a$e,Lock:w$e,Lollipop:k$e,MagicStick:O$e,Magnet:L$e,Male:j$e,Management:J$e,MapLocation:o6e,Medal:f6e,Memo:w6e,Menu:k6e,Message:z6e,MessageBox:O6e,Mic:G6e,Microphone:Z6e,MilkTea:sxe,Minus:gP,Money:gxe,Monitor:$xe,Moon:Fxe,MoonNight:Exe,More:vP,MoreFilled:c6,MostlyCloudy:Zxe,Mouse:rSe,Mug:cSe,Mute:SSe,MuteNotification:vSe,NoSmoking:ISe,Notebook:PSe,Notification:USe,Odometer:JSe,OfficeBuilding:aCe,Open:hCe,Operation:bCe,Opportunity:CCe,Orange:ACe,Paperclip:PCe,PartlyCloudy:UCe,Pear:YCe,Phone:lke,PhoneFilled:nke,Picture:Tke,PictureFilled:yP,PictureRounded:wke,PieChart:Dke,Place:Hke,Platform:qke,Plus:IC,Pointer:o8e,Position:d8e,Postcard:y8e,Pouring:S8e,Present:R8e,PriceTag:B8e,Printer:j8e,Promotion:J8e,QuartzWatch:aTe,QuestionFilled:bP,Rank:vTe,Reading:ATe,ReadingLamp:STe,Refresh:KTe,RefreshLeft:wP,RefreshRight:_P,Refrigerator:QTe,Remove:fNe,RemoveFilled:oNe,Right:yNe,ScaleToOriginal:$P,School:ANe,Scissor:PNe,Search:xP,Select:qNe,Sell:eEe,SemiSelect:aEe,Service:fEe,SetUp:_Ee,Setting:TEe,Share:REe,Ship:zEe,Shop:GEe,ShoppingBag:JEe,ShoppingCart:dIe,ShoppingCartFull:oIe,ShoppingTrolley:vIe,Smoking:SIe,Soccer:IIe,SoldOut:MIe,Sort:JIe,SortDown:SP,SortUp:CP,Stamp:r5e,Star:kP,StarFilled:Hm,Stopwatch:_5e,SuccessFilled:AC,Sugar:O5e,Suitcase:G5e,SuitcaseLine:L5e,Sunny:Z5e,Sunrise:sAe,Sunset:uAe,Switch:EAe,SwitchButton:gAe,SwitchFilled:xAe,TakeawayBox:FAe,Ticket:VAe,Tickets:KAe,Timer:tOe,ToiletPaper:lOe,Tools:pOe,Top:DOe,TopLeft:_Oe,TopRight:NOe,TrendCharts:BOe,Trophy:JOe,TrophyBase:jOe,TurnOff:oRe,Umbrella:dRe,Unlock:yRe,Upload:IRe,UploadFilled:SRe,User:HRe,UserFilled:MRe,Van:qRe,VideoCamera:aDe,VideoCameraFilled:eDe,VideoPause:fDe,VideoPlay:yDe,View:TP,Wallet:PDe,WalletFilled:EDe,WarnTriangleFilled:WDe,Warning:e9e,WarningFilled:Rg,Watch:l9e,Watermelon:p9e,WindPower:w9e,ZoomIn:OC,ZoomOut:NP},Symbol.toStringTag,{value:"Module"})),EP="__epPropKey",Se=t=>t,O9e=t=>Bt(t)&&!!t[EP],oi=(t,e)=>{if(!Bt(t)||O9e(t))return t;const{values:n,required:s,default:r,type:o,validator:a}=t,l={type:o,required:!!s,validator:n||a?u=>{let c=!1,d=[];if(n&&(d=Array.from(n),Ut(t,"default")&&d.push(r),c||(c=d.includes(u))),a&&(c||(c=a(u))),!c&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");fee(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[EP]:!0};return Ut(t,"default")&&(l.default=r),l},qe=t=>JM(Object.entries(t).map(([e,n])=>[e,oi(n,e)])),En=Se([String,Object,Function]),IP={Close:xa},RC={Close:xa,SuccessFilled:AC,InfoFilled:uw,WarningFilled:Rg,CircleCloseFilled:lw},Gu={success:AC,warning:Rg,error:lw,info:uw},AP={validating:Vl,success:iw,error:Bl},Dt=(t,e)=>{if(t.install=n=>{for(const s of[t,...Object.values(e??{})])n.component(s.name,s)},e)for(const[n,s]of Object.entries(e))t[n]=s;return t},OP=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),R9e=(t,e)=>(t.install=n=>{n.directive(e,t)},t),ns=t=>(t.install=gn,t),cw=(...t)=>e=>{t.forEach(n=>{vt(n)?n(e):n.value=e})},ut={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},D9e=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],H4=["sun","mon","tue","wed","thu","fri","sat"],Ot="update:modelValue",Fn="change",jr="input",zA=Symbol("INSTALLED_KEY"),Hl=["","default","small","large"],F9e={large:40,default:32,small:24},M9e=t=>F9e[t||"default"],Qh=t=>["",...Hl].includes(t);var ra=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(ra||{});function d6(t){return Bn(t)&&t.type===lt}function P9e(t){return Bn(t)&&t.type===Gr}function L9e(t){return Bn(t)&&!d6(t)&&!P9e(t)}const z9e=t=>{if(!Bn(t))return{};const e=t.props||{},n=(Bn(t.type)?t.type.props:void 0)||{},s={};return Object.keys(n).forEach(r=>{Ut(n[r],"default")&&(s[r]=n[r].default)}),Object.keys(e).forEach(r=>{s[wa(r)]=e[r]}),s},B9e=t=>{if(!Qe(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},Gf=t=>{const e=Qe(t)?t:[t],n=[];return e.forEach(s=>{var r;Qe(s)?n.push(...Gf(s)):Bn(s)&&Qe(s.children)?n.push(...Gf(s.children)):(n.push(s),Bn(s)&&((r=s.component)==null?void 0:r.subTree)&&n.push(...Gf(s.component.subTree)))}),n},BA=t=>t**3,V9e=t=>t<.5?BA(t*2)/2:1-BA((1-t)*2)/2,VA=t=>[...new Set(t)],vl=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],DC=()=>Kt&&/firefox/i.test(window.navigator.userAgent),dw=t=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t),FC=t=>Kt?window.requestAnimationFrame(t):setTimeout(t,16),MC=t=>Kt?window.cancelAnimationFrame(t):clearTimeout(t),fw=()=>Math.floor(Math.random()*1e4),Ln=t=>t,H9e=["class","style"],W9e=/^on[A-Z]/,PC=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,s=A(()=>((n==null?void 0:n.value)||[]).concat(H9e)),r=Rt();return A(r?()=>{var o;return JM(Object.entries((o=r.proxy)==null?void 0:o.$attrs).filter(([a])=>!s.value.includes(a)&&!(e&&W9e.test(a))))}:()=>({}))},RP=Symbol("breadcrumbKey"),DP=Symbol("buttonGroupContextKey"),FP=Symbol("carouselContextKey"),ep=Symbol("checkboxGroupContextKey"),MP=Symbol("collapseContextKey"),PP=Symbol(),LP=Symbol("dialogInjectionKey"),Jd=Symbol("formContextKey"),Li=Symbol("formItemContextKey"),zP=Symbol("elPaginationKey"),BP=Symbol("radioGroupKey"),VP=Symbol("rowContextKey"),HP=Symbol("scrollbarContextKey"),WP=Symbol("sliderContextKey"),hw=Symbol("tabsRootContextKey"),UP=Symbol("uploadContextKey"),LC=Symbol("popper"),GP=Symbol("popperContent"),pw=Symbol("elTooltip"),mw=Symbol("tooltipV2"),jP=Symbol("tooltipV2Content"),W4="tooltip_v2.open",zC=Symbol(),KP=t=>{const e=Rt();return A(()=>{var n,s;return(s=((n=e.proxy)==null?void 0:n.$props)[t])!=null?s:void 0})},Ey=U();function Wl(t,e=void 0){const n=Rt()?et(PP,Ey):Ey;return t?A(()=>{var s,r;return(r=(s=n.value)==null?void 0:s[t])!=null?r:e}):n}const qP=(t,e,n=!1)=>{var s;const r=!!Rt(),o=r?Wl():void 0,a=(s=e==null?void 0:e.provide)!=null?s:r?Lt:void 0;if(!a)return;const i=A(()=>{const l=v(t);return o!=null&&o.value?U9e(o.value,l):l});return a(PP,i),(n||!Ey.value)&&(Ey.value=i.value),i},U9e=(t,e)=>{var n;const s=[...new Set([...D0(t),...D0(e)])],r={};for(const o of s)r[o]=(n=e[o])!=null?n:t[o];return r},wo=oi({type:String,values:Hl,required:!1}),ks=(t,e={})=>{const n=U(void 0),s=e.prop?n:KP("size"),r=e.global?n:Wl("size"),o=e.form?{size:void 0}:et(Jd,void 0),a=e.formItem?{size:void 0}:et(Li,void 0);return A(()=>s.value||v(t)||(a==null?void 0:a.size)||(o==null?void 0:o.size)||r.value||"")},To=t=>{const e=KP("disabled"),n=et(Jd,void 0);return A(()=>e.value||v(t)||(n==null?void 0:n.disabled)||!1)},Sl=({from:t,replacement:e,scope:n,version:s,ref:r,type:o="API"},a)=>{Me(()=>v(a),i=>{},{immediate:!0})},XP=(t,e,n)=>{let s={offsetX:0,offsetY:0};const r=i=>{const l=i.clientX,u=i.clientY,{offsetX:c,offsetY:d}=s,f=t.value.getBoundingClientRect(),h=f.left,p=f.top,m=f.width,g=f.height,y=document.documentElement.clientWidth,w=document.documentElement.clientHeight,b=-h+c,_=-p+d,$=y-h-m+c,x=w-p-g+d,k=T=>{const N=Math.min(Math.max(c+T.clientX-l,b),$),M=Math.min(Math.max(d+T.clientY-u,_),x);s={offsetX:N,offsetY:M},t.value.style.transform=`translate(${Cs(N)}, ${Cs(M)})`},C=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",C)},o=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",r)},a=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",r)};Et(()=>{Ho(()=>{n.value?o():a()})}),ts(()=>{a()})},G9e=t=>({focus:()=>{var e,n;(n=(e=t.value)==null?void 0:e.focus)==null||n.call(e)}}),gw="el",j9e="is-",kc=(t,e,n,s,r)=>{let o=`${t}-${e}`;return n&&(o+=`-${n}`),s&&(o+=`__${s}`),r&&(o+=`--${r}`),o},Fe=t=>{const e=Wl("namespace",gw);return{namespace:e,b:(p="")=>kc(e.value,t,p,"",""),e:p=>p?kc(e.value,t,"",p,""):"",m:p=>p?kc(e.value,t,"","",p):"",be:(p,m)=>p&&m?kc(e.value,t,p,m,""):"",em:(p,m)=>p&&m?kc(e.value,t,"",p,m):"",bm:(p,m)=>p&&m?kc(e.value,t,p,"",m):"",bem:(p,m,g)=>p&&m&&g?kc(e.value,t,p,m,g):"",is:(p,...m)=>{const g=m.length>=1?m[0]:!0;return p&&g?`${j9e}${p}`:""},cssVar:p=>{const m={};for(const g in p)p[g]&&(m[`--${e.value}-${g}`]=p[g]);return m},cssVarName:p=>`--${e.value}-${p}`,cssVarBlock:p=>{const m={};for(const g in p)p[g]&&(m[`--${e.value}-${t}-${g}`]=p[g]);return m},cssVarBlockName:p=>`--${e.value}-${t}-${p}`}},HA={prefix:Math.floor(Math.random()*1e4),current:0},K9e=Symbol("elIdInjection"),YP=()=>Rt()?et(K9e,HA):HA,ei=t=>{const e=YP(),n=Wl("namespace",gw);return A(()=>v(t)||`${n.value}-id-${e.prefix}-${e.current++}`)},to=()=>{const t=et(Jd,void 0),e=et(Li,void 0);return{form:t,formItem:e}},ic=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:s})=>{n||(n=U(!1)),s||(s=U(!1));const r=U();let o;const a=A(()=>{var i;return!!(!t.label&&e&&e.inputIds&&((i=e.inputIds)==null?void 0:i.length)<=1)});return Et(()=>{o=Me([Un(t,"id"),n],([i,l])=>{const u=i??(l?void 0:ei().value);u!==r.value&&(e!=null&&e.removeInputId&&(r.value&&e.removeInputId(r.value),!(s!=null&&s.value)&&!l&&u&&e.addInputId(u)),r.value=u)},{immediate:!0})}),Xd(()=>{o&&o(),e!=null&&e.removeInputId&&r.value&&e.removeInputId(r.value)}),{isLabeledByFormItem:a,inputId:r}};var q9e={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const X9e=t=>(e,n)=>Y9e(e,n,v(t)),Y9e=(t,e,n)=>Pn(n,t,t).replace(/\{(\w+)\}/g,(s,r)=>{var o;return`${(o=e==null?void 0:e[r])!=null?o:`{${r}}`}`}),Z9e=t=>{const e=A(()=>v(t).name),n=kn(t)?t:U(t);return{lang:e,locale:n,t:X9e(t)}},nn=()=>{const t=Wl("locale");return Z9e(A(()=>t.value||q9e))},ZP=t=>{kn(t)||Ls("[useLockscreen]","You need to pass a ref param to this function");const e=Fe("popup"),n=CF(()=>e.bm("parent","hidden"));if(!Kt||ja(document.body,n.value))return;let s=0,r=!1,o="0";const a=()=>{setTimeout(()=>{mo(document.body,n.value),r&&(document.body.style.width=o)},200)};Me(t,i=>{if(!i){a();return}r=!ja(document.body,n.value),r&&(o=document.body.style.width),s=aP(e.namespace.value);const l=document.documentElement.clientHeight<document.body.scrollHeight,u=dl(document.body,"overflowY");s>0&&(l||u==="scroll")&&r&&(document.body.style.width=`calc(100% - ${s}px)`),xi(document.body,n.value)}),lF(()=>a())},J9e=oi({type:Se(Boolean),default:null}),Q9e=oi({type:Se(Function)}),eFe=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,s=[e],r={[t]:J9e,[n]:Q9e};return{useModelToggle:({indicator:a,toggleReason:i,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:d})=>{const f=Rt(),{emit:h}=f,p=f.props,m=A(()=>vt(p[n])),g=A(()=>p[t]===null),y=k=>{a.value!==!0&&(a.value=!0,i&&(i.value=k),vt(c)&&c(k))},w=k=>{a.value!==!1&&(a.value=!1,i&&(i.value=k),vt(d)&&d(k))},b=k=>{if(p.disabled===!0||vt(u)&&!u())return;const C=m.value&&Kt;C&&h(e,!0),(g.value||!C)&&y(k)},_=k=>{if(p.disabled===!0||!Kt)return;const C=m.value&&Kt;C&&h(e,!1),(g.value||!C)&&w(k)},$=k=>{!Rs(k)||(p.disabled&&k?m.value&&h(e,!1):a.value!==k&&(k?y():w()))},x=()=>{a.value?_():b()};return Me(()=>p[t],$),l&&f.appContext.config.globalProperties.$route!==void 0&&Me(()=>({...f.proxy.$route}),()=>{l.value&&a.value&&_()}),Et(()=>{$(p[t])}),{hide:_,show:b,toggle:x,hasUpdateHandler:m}},useModelToggleProps:r,useModelToggleEmits:s}},tFe=(t,e)=>{let n;Me(()=>t.value,s=>{var r,o;s?(n=document.activeElement,kn(e)&&((o=(r=e.value).focus)==null||o.call(r))):n.focus()})},BC=t=>{if(!t)return{onClick:gn,onMousedown:gn,onMouseup:gn};let e=!1,n=!1;return{onClick:a=>{e&&n&&t(a),e=n=!1},onMousedown:a=>{e=a.target===a.currentTarget},onMouseup:a=>{n=a.target===a.currentTarget}}},nFe=(t,e=0)=>{if(e===0)return t;const n=U(!1);let s=0;const r=()=>{s&&clearTimeout(s),s=window.setTimeout(()=>{n.value=t.value},e)};return Et(r),Me(()=>t.value,o=>{o?r():n.value=o}),n};function sFe(){let t;const e=(s,r)=>{n(),t=window.setTimeout(s,r)},n=()=>window.clearTimeout(t);return aw(()=>n()),{registerTimeout:e,cancelTimeout:n}}let kf=[];const WA=t=>{const e=t;e.key===ut.esc&&kf.forEach(n=>n(e))},rFe=t=>{Et(()=>{kf.length===0&&document.addEventListener("keydown",WA),Kt&&kf.push(t)}),ts(()=>{kf=kf.filter(e=>e!==t),kf.length===0&&Kt&&document.removeEventListener("keydown",WA)})};let UA;const JP=()=>{const t=Wl("namespace",gw),e=YP(),n=A(()=>`${t.value}-popper-container-${e.prefix}`),s=A(()=>`#${n.value}`);return{id:n,selector:s}},oFe=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},aFe=()=>{qb(()=>{if(!Kt)return;const{id:t,selector:e}=JP();!UA&&!document.body.querySelector(e.value)&&(UA=oFe(t.value))})},iFe=qe({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),lFe=({showAfter:t,hideAfter:e,open:n,close:s})=>{const{registerTimeout:r}=sFe();return{onOpen:i=>{r(()=>{n(i)},v(t))},onClose:i=>{r(()=>{s(i)},v(e))}}},QP=Symbol("elForwardRef"),uFe=t=>{Lt(QP,{setForwardRef:n=>{t.value=n}})},cFe=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),GA=U(0),Ul=()=>{const t=Wl("zIndex",2e3),e=A(()=>t.value+GA.value);return{initialZIndex:t,currentZIndex:e,nextZIndex:()=>(GA.value++,e.value)}};function VC(t){return t.split("-")[0]}function HC(t){return t.split("-")[1]}function WC(t){return["top","bottom"].includes(VC(t))?"x":"y"}function eL(t){return t==="y"?"height":"width"}function jA(t,e,n){let{reference:s,floating:r}=t;const o=s.x+s.width/2-r.width/2,a=s.y+s.height/2-r.height/2,i=WC(e),l=eL(i),u=s[l]/2-r[l]/2,c=VC(e),d=i==="x";let f;switch(c){case"top":f={x:o,y:s.y-r.height};break;case"bottom":f={x:o,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:a};break;case"left":f={x:s.x-r.width,y:a};break;default:f={x:s.x,y:s.y}}switch(HC(e)){case"start":f[i]-=u*(n&&d?-1:1);break;case"end":f[i]+=u*(n&&d?-1:1);break}return f}const dFe=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:a}=n,i=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:c,y:d}=jA(u,s,l),f=s,h={},p=0;for(let m=0;m<i.length;m++){const{name:g,fn:y}=i[m],{x:w,y:b,data:_,reset:$}=await y({x:c,y:d,initialPlacement:s,placement:f,strategy:r,middlewareData:h,rects:u,platform:a,elements:{reference:t,floating:e}});if(c=w??c,d=b??d,h={...h,[g]:{...h[g],..._}},$&&p<=50){p++,typeof $=="object"&&($.placement&&(f=$.placement),$.rects&&(u=$.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):$.rects),{x:c,y:d}=jA(u,f,l)),m=-1;continue}}return{x:c,y:d,placement:f,strategy:r,middlewareData:h}};function fFe(t){return{top:0,right:0,bottom:0,left:0,...t}}function hFe(t){return typeof t!="number"?fFe(t):{top:t,right:t,bottom:t,left:t}}function KA(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const pFe=Math.min,mFe=Math.max;function gFe(t,e,n){return mFe(t,pFe(e,n))}const vFe=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:s=0}=t??{},{x:r,y:o,placement:a,rects:i,platform:l}=e;if(n==null)return{};const u=hFe(s),c={x:r,y:o},d=WC(a),f=HC(a),h=eL(d),p=await l.getDimensions(n),m=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=i.reference[h]+i.reference[d]-c[d]-i.floating[h],w=c[d]-i.reference[d],b=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let _=b?d==="y"?b.clientHeight||0:b.clientWidth||0:0;_===0&&(_=i.floating[h]);const $=y/2-w/2,x=u[m],k=_-p[h]-u[g],C=_/2-p[h]/2+$,T=gFe(x,C,k),R=(f==="start"?u[m]:u[g])>0&&C!==T&&i.reference[h]<=i.floating[h]?C<x?x-C:k-C:0;return{[d]:c[d]-R,data:{[d]:T,centerOffset:C-T}}}});async function yFe(t,e){const{placement:n,platform:s,elements:r}=t,o=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=VC(n),i=HC(n),l=WC(n)==="x",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,d=typeof e=="function"?e(t):e;let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return i&&typeof p=="number"&&(h=i==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const bFe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:s}=e,r=await yFe(e,t);return{x:n+r.x,y:s+r.y,data:r}}}},qA=Math.min,l0=Math.max,Iy=Math.round;function vw(t,e){const n=e||t.getBoundingClientRect();return{x:t.offsetWidth>0&&Iy(n.width)/t.offsetWidth||1,y:t.offsetHeight>0&&Iy(n.height)/t.offsetHeight||1}}function Gl(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cl(t){return Gl(t).getComputedStyle(t)}function ju(t){return nL(t)?(t.nodeName||"").toLowerCase():""}function tL(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function zi(t){return t instanceof Gl(t).HTMLElement}function Sd(t){return t instanceof Gl(t).Element}function nL(t){return t instanceof Gl(t).Node}function XA(t){if(typeof ShadowRoot>"u")return!1;const e=Gl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function yw(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=Cl(t);return/auto|scroll|overlay|hidden/.test(e+s+n)&&!["inline","contents"].includes(r)}function wFe(t){return["table","td","th"].includes(ju(t))}function UC(t){const e=/firefox/i.test(tL()),n=Cl(t),s=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||(s?s!=="none":!1)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)||["transform","perspective"].some(r=>n.willChange.includes(r))||["paint","layout","strict","content"].some(r=>{const o=n.contain;return o!=null?o.includes(r):!1})}function sL(){return!/^((?!chrome|android).)*safari/i.test(tL())}function GC(t){return["html","body","#document"].includes(ju(t))}function Cd(t,e,n){var s,r,o,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect();let l=i,u=t,c={x:1,y:1};!Sd(t)&&t.contextElement&&(l=t.contextElement.getBoundingClientRect(),u=t.contextElement),e&&zi(u)&&(c=vw(u,l));const d=Sd(t)?Gl(t):window,f=!sL()&&n,h=(i.left+(f&&(s=(r=d.visualViewport)==null?void 0:r.offsetLeft)!=null?s:0))/c.x,p=(i.top+(f&&(o=(a=d.visualViewport)==null?void 0:a.offsetTop)!=null?o:0))/c.y,m=i.width/c.x,g=i.height/c.y;return{width:m,height:g,top:p,right:h+m,bottom:p+g,left:h,x:h,y:p}}function lc(t){return((nL(t)?t.ownerDocument:t.document)||window.document).documentElement}function bw(t){return Sd(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function rL(t){return Cd(lc(t)).left+bw(t).scrollLeft}function _Fe(t){const e=Cd(t);return Iy(e.width)!==t.offsetWidth||Iy(e.height)!==t.offsetHeight}function $Fe(t,e,n){const s=zi(e),r=lc(e),o=Cd(t,s&&_Fe(e),n==="fixed");let a={scrollLeft:0,scrollTop:0};const i={x:0,y:0};if(s||!s&&n!=="fixed")if((ju(e)!=="body"||yw(r))&&(a=bw(e)),zi(e)){const l=Cd(e,!0);i.x=l.x+e.clientLeft,i.y=l.y+e.clientTop}else r&&(i.x=rL(r));return{x:o.left+a.scrollLeft-i.x,y:o.top+a.scrollTop-i.y,width:o.width,height:o.height}}function F0(t){if(ju(t)==="html")return t;const e=t.assignedSlot||t.parentNode||(XA(t)?t.host:null)||lc(t);return XA(e)?e.host:e}function YA(t){return!zi(t)||Cl(t).position==="fixed"?null:t.offsetParent}function xFe(t){let e=F0(t);for(;zi(e)&&!GC(e);){if(UC(e))return e;e=F0(e)}return null}function ZA(t){const e=Gl(t);let n=YA(t);for(;n&&wFe(n)&&Cl(n).position==="static";)n=YA(n);return n&&(ju(n)==="html"||ju(n)==="body"&&Cl(n).position==="static"&&!UC(n))?e:n||xFe(t)||e}function SFe(t){if(zi(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Cd(t);return{width:e.width,height:e.height}}function CFe(t){let{rect:e,offsetParent:n,strategy:s}=t;const r=zi(n),o=lc(n);if(n===o)return e;let a={scrollLeft:0,scrollTop:0},i={x:1,y:1};const l={x:0,y:0};if((r||!r&&s!=="fixed")&&((ju(n)!=="body"||yw(o))&&(a=bw(n)),zi(n))){const u=Cd(n);i=vw(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*i.x,height:e.height*i.y,x:e.x*i.x-a.scrollLeft*i.x+l.x,y:e.y*i.y-a.scrollTop*i.y+l.y}}function kFe(t,e){const n=Gl(t),s=lc(t),r=n.visualViewport;let o=s.clientWidth,a=s.clientHeight,i=0,l=0;if(r){o=r.width,a=r.height;const u=sL();(u||!u&&e==="fixed")&&(i=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:i,y:l}}function TFe(t){var e;const n=lc(t),s=bw(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=l0(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=l0(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let i=-s.scrollLeft+rL(t);const l=-s.scrollTop;return Cl(r||n).direction==="rtl"&&(i+=l0(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:i,y:l}}function oL(t){const e=F0(t);return GC(e)?t.ownerDocument.body:zi(e)&&yw(e)?e:oL(e)}function aL(t,e){var n;e===void 0&&(e=[]);const s=oL(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),o=Gl(s);return r?e.concat(o,o.visualViewport||[],yw(s)?s:[]):e.concat(s,aL(s))}function NFe(t,e){const n=Cd(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,o=zi(t)?vw(t):{x:1,y:1},a=t.clientWidth*o.x,i=t.clientHeight*o.y,l=r*o.x,u=s*o.y;return{top:u,left:l,right:l+a,bottom:u+i,x:l,y:u,width:a,height:i}}function JA(t,e,n){return e==="viewport"?KA(kFe(t,n)):Sd(e)?NFe(e,n):KA(TFe(lc(t)))}function EFe(t){let e=aL(t).filter(o=>Sd(o)&&ju(o)!=="body"),n=null;const s=Cl(t).position==="fixed";let r=s?F0(t):t;for(;Sd(r)&&!GC(r);){const o=Cl(r),a=UC(r);(s?!a&&!n:!a&&o.position==="static"&&!!n&&["absolute","fixed"].includes(n.position))?e=e.filter(l=>l!==r):n=o,r=F0(r)}return e}function IFe(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?EFe(e):[].concat(n),s],i=a[0],l=a.reduce((u,c)=>{const d=JA(e,c,r);return u.top=l0(d.top,u.top),u.right=qA(d.right,u.right),u.bottom=qA(d.bottom,u.bottom),u.left=l0(d.left,u.left),u},JA(e,i,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}const AFe={getClippingRect:IFe,convertOffsetParentRelativeRectToViewportRelativeRect:CFe,isElement:Sd,getDimensions:SFe,getOffsetParent:ZA,getDocumentElement:lc,getScale:vw,async getElementRects(t){let{reference:e,floating:n,strategy:s}=t;const r=this.getOffsetParent||ZA,o=this.getDimensions;return{reference:$Fe(e,await r(n),s),floating:{x:0,y:0,...await o(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Cl(t).direction==="rtl"},OFe=(t,e,n)=>dFe(t,e,{platform:AFe,...n});qe({});const RFe=t=>{if(!Kt)return;if(!t)return t;const e=Mo(t);return e||(kn(t)?e:t)},DFe=({middleware:t,placement:e,strategy:n})=>{const s=U(),r=U(),o=U(),a=U(),i=U({}),l={x:o,y:a,placement:e,strategy:n,middlewareData:i},u=async()=>{if(!Kt)return;const c=RFe(s),d=Mo(r);if(!c||!d)return;const f=await OFe(c,d,{placement:v(e),strategy:v(n),middleware:v(t)});D0(l).forEach(h=>{l[h].value=f[h]})};return Et(()=>{Ho(()=>{u()})}),{...l,update:u,referenceRef:s,contentRef:r}},FFe=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const s=v(t);return s?vFe({element:s,padding:e}).fn(n):{}}});function MFe(t){const e=U();function n(){if(t.value==null)return;const{selectionStart:r,selectionEnd:o,value:a}=t.value;if(r==null||o==null)return;const i=a.slice(0,Math.max(0,r)),l=a.slice(Math.max(0,o));e.value={selectionStart:r,selectionEnd:o,value:a,beforeTxt:i,afterTxt:l}}function s(){if(t.value==null||e.value==null)return;const{value:r}=t.value,{beforeTxt:o,afterTxt:a,selectionStart:i}=e.value;if(o==null||a==null||i==null)return;let l=r.length;if(r.endsWith(a))l=r.length-a.length;else if(r.startsWith(o))l=o.length;else{const u=o[i-1],c=r.indexOf(u,i-1);c!==-1&&(l=c+1)}t.value.setSelectionRange(l,l)}return[n,s]}const PFe=(t,e,n)=>Gf(t.subTree).filter(o=>{var a;return Bn(o)&&((a=o.type)==null?void 0:a.name)===e&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),iL=(t,e)=>{const n={},s=Nn([]);return{children:s,addChild:a=>{n[a.uid]=a,s.value=PFe(t,e,n)},removeChild:a=>{delete n[a],s.value=s.value.filter(i=>i.uid!==a)}}},LFe="2.2.26",zFe=(t=[])=>({version:LFe,install:(n,s)=>{n[zA]||(n[zA]=!0,t.forEach(r=>n.use(r)),s&&qP(s,n,!0))}}),BFe=qe({zIndex:{type:Se([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),VFe={scroll:({scrollTop:t,fixed:e})=>Ct(t)&&Rs(e),[Fn]:t=>Rs(t)};var je=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n};const lL="ElAffix",HFe=ue({name:lL}),WFe=ue({...HFe,props:BFe,emits:VFe,setup(t,{expose:e,emit:n}){const s=t,r=Fe("affix"),o=Nn(),a=Nn(),i=Nn(),{height:l}=Aue(),{height:u,width:c,top:d,bottom:f,update:h}=DA(a,{windowScroll:!1}),p=DA(o),m=U(!1),g=U(0),y=U(0),w=A(()=>({height:m.value?`${u.value}px`:"",width:m.value?`${c.value}px`:""})),b=A(()=>{if(!m.value)return{};const x=s.offset?Cs(s.offset):0;return{height:`${u.value}px`,width:`${c.value}px`,top:s.position==="top"?x:"",bottom:s.position==="bottom"?x:"",transform:y.value?`translateY(${y.value}px)`:"",zIndex:s.zIndex}}),_=()=>{if(!!i.value)if(g.value=i.value instanceof Window?document.documentElement.scrollTop:i.value.scrollTop||0,s.position==="top")if(s.target){const x=p.bottom.value-s.offset-u.value;m.value=s.offset>d.value&&p.bottom.value>0,y.value=x<0?x:0}else m.value=s.offset>d.value;else if(s.target){const x=l.value-p.top.value-s.offset-u.value;m.value=l.value-s.offset<f.value&&l.value>p.top.value,y.value=x<0?-x:0}else m.value=l.value-s.offset<f.value},$=()=>{h(),n("scroll",{scrollTop:g.value,fixed:m.value})};return Me(m,x=>n("change",x)),Et(()=>{var x;s.target?(o.value=(x=document.querySelector(s.target))!=null?x:void 0,o.value||Ls(lL,`Target is not existed: ${s.target}`)):o.value=document.documentElement,i.value=TC(a.value,!0),h()}),Rn(i,"scroll",$),Ho(_),e({update:_,updateRoot:h}),(x,k)=>(S(),I("div",{ref_key:"root",ref:a,class:P(v(r).b()),style:ot(v(w))},[E("div",{class:P({[v(r).m("fixed")]:m.value}),style:ot(v(b))},[Oe(x.$slots,"default")],6)],6))}});var UFe=je(WFe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const GFe=Dt(UFe),jFe=qe({size:{type:Se([Number,String])},color:{type:String}}),KFe=ue({name:"ElIcon",inheritAttrs:!1}),qFe=ue({...KFe,props:jFe,setup(t){const e=t,n=Fe("icon"),s=A(()=>{const{size:r,color:o}=e;return!r&&!o?{}:{fontSize:er(r)?void 0:Cs(r),"--color":o}});return(r,o)=>(S(),I("i",zt({class:v(n).b(),style:v(s)},r.$attrs),[Oe(r.$slots,"default")],16))}});var XFe=je(qFe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const rt=Dt(XFe),YFe=["light","dark"],ZFe=qe({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:D0(Gu),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:YFe,default:"light"}}),JFe={close:t=>t instanceof MouseEvent},QFe=ue({name:"ElAlert"}),eMe=ue({...QFe,props:ZFe,emits:JFe,setup(t,{emit:e}){const n=t,{Close:s}=RC,r=ir(),o=Fe("alert"),a=U(!0),i=A(()=>Gu[n.type]),l=A(()=>[o.e("icon"),{[o.is("big")]:!!n.description||!!r.default}]),u=A(()=>({[o.is("bold")]:n.description||r.default})),c=d=>{a.value=!1,e("close",d)};return(d,f)=>(S(),$e(ms,{name:v(o).b("fade"),persisted:""},{default:ce(()=>[St(E("div",{class:P([v(o).b(),v(o).m(d.type),v(o).is("center",d.center),v(o).is(d.effect)]),role:"alert"},[d.showIcon&&v(i)?(S(),$e(v(rt),{key:0,class:P(v(l))},{default:ce(()=>[(S(),$e(Vt(v(i))))]),_:1},8,["class"])):ge("v-if",!0),E("div",{class:P(v(o).e("content"))},[d.title||d.$slots.title?(S(),I("span",{key:0,class:P([v(o).e("title"),v(u)])},[Oe(d.$slots,"title",{},()=>[Jt(Ue(d.title),1)])],2)):ge("v-if",!0),d.$slots.default||d.description?(S(),I("p",{key:1,class:P(v(o).e("description"))},[Oe(d.$slots,"default",{},()=>[Jt(Ue(d.description),1)])],2)):ge("v-if",!0),d.closable?(S(),I(lt,{key:2},[d.closeText?(S(),I("div",{key:0,class:P([v(o).e("close-btn"),v(o).is("customed")]),onClick:c},Ue(d.closeText),3)):(S(),$e(v(rt),{key:1,class:P(v(o).e("close-btn")),onClick:c},{default:ce(()=>[se(v(s))]),_:1},8,["class"]))],64)):ge("v-if",!0)],2)],2),[[Qt,a.value]])]),_:3},8,["name"]))}});var tMe=je(eMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const nMe=Dt(tMe);let Oa;const sMe=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,rMe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function oMe(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),s=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:rMe.map(a=>`${a}:${e.getPropertyValue(a)}`).join(";"),paddingSize:s,borderSize:r,boxSizing:n}}function QA(t,e=1,n){var s;Oa||(Oa=document.createElement("textarea"),document.body.appendChild(Oa));const{paddingSize:r,borderSize:o,boxSizing:a,contextStyle:i}=oMe(t);Oa.setAttribute("style",`${i};${sMe}`),Oa.value=t.value||t.placeholder||"";let l=Oa.scrollHeight;const u={};a==="border-box"?l=l+o:a==="content-box"&&(l=l-r),Oa.value="";const c=Oa.scrollHeight-r;if(Ct(e)){let d=c*e;a==="border-box"&&(d=d+r+o),l=Math.max(d,l),u.minHeight=`${d}px`}if(Ct(n)){let d=c*n;a==="border-box"&&(d=d+r+o),l=Math.min(d,l)}return u.height=`${l}px`,(s=Oa.parentNode)==null||s.removeChild(Oa),Oa=void 0,u}const aMe=qe({id:{type:String,default:void 0},size:wo,disabled:Boolean,modelValue:{type:Se([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Se([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:En},prefixIcon:{type:En},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Se([Object,Array,String]),default:()=>Ln({})}}),iMe={[Ot]:t=>wt(t),input:t=>wt(t),change:t=>wt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},lMe=["role"],uMe=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],cMe=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],dMe=ue({name:"ElInput",inheritAttrs:!1}),fMe=ue({...dMe,props:aMe,emits:iMe,setup(t,{expose:e,emit:n}){const s=t,r=Tg(),o=ir(),a=A(()=>{const me={};return s.containerRole==="combobox"&&(me["aria-haspopup"]=r["aria-haspopup"],me["aria-owns"]=r["aria-owns"],me["aria-expanded"]=r["aria-expanded"]),me}),i=A(()=>[s.type==="textarea"?g.b():m.b(),m.m(h.value),m.is("disabled",p.value),m.is("exceed",Z.value),{[m.b("group")]:o.prepend||o.append,[m.bm("group","append")]:o.append,[m.bm("group","prepend")]:o.prepend,[m.m("prefix")]:o.prefix||s.prefixIcon,[m.m("suffix")]:o.suffix||s.suffixIcon||s.clearable||s.showPassword,[m.bm("suffix","password-clear")]:O.value&&F.value},r.class]),l=A(()=>[m.e("wrapper"),m.is("focus",b.value)]),u=PC({excludeKeys:A(()=>Object.keys(a.value))}),{form:c,formItem:d}=to(),{inputId:f}=ic(s,{formItemContext:d}),h=ks(),p=To(),m=Fe("input"),g=Fe("textarea"),y=Nn(),w=Nn(),b=U(!1),_=U(!1),$=U(!1),x=U(!1),k=U(),C=Nn(s.inputStyle),T=A(()=>y.value||w.value),N=A(()=>{var me;return(me=c==null?void 0:c.statusIcon)!=null?me:!1}),M=A(()=>(d==null?void 0:d.validateState)||""),R=A(()=>M.value&&AP[M.value]),D=A(()=>x.value?TP:mP),z=A(()=>[r.style,s.inputStyle]),B=A(()=>[s.inputStyle,C.value,{resize:s.resize}]),V=A(()=>nr(s.modelValue)?"":String(s.modelValue)),O=A(()=>s.clearable&&!p.value&&!s.readonly&&!!V.value&&(b.value||_.value)),F=A(()=>s.showPassword&&!p.value&&!s.readonly&&!!V.value&&(!!V.value||b.value)),L=A(()=>s.showWordLimit&&!!u.value.maxlength&&(s.type==="text"||s.type==="textarea")&&!p.value&&!s.readonly&&!s.showPassword),G=A(()=>Array.from(V.value).length),Z=A(()=>!!L.value&&G.value>Number(u.value.maxlength)),j=A(()=>!!o.suffix||!!s.suffixIcon||O.value||s.showPassword||L.value||!!M.value&&N.value),[J,fe]=MFe(y);Dr(w,me=>{if(!L.value||s.resize!=="both")return;const Ve=me[0],{width:Ye}=Ve.contentRect;k.value={right:`calc(100% - ${Ye+15+6}px)`}});const X=()=>{const{type:me,autosize:Ve}=s;if(!(!Kt||me!=="textarea"))if(Ve){const Ye=Bt(Ve)?Ve.minRows:void 0,Je=Bt(Ve)?Ve.maxRows:void 0;C.value={...QA(w.value,Ye,Je)}}else C.value={minHeight:QA(w.value).minHeight}},oe=()=>{const me=T.value;!me||me.value===V.value||(me.value=V.value)},ee=async me=>{J();let{value:Ve}=me.target;if(s.formatter&&(Ve=s.parser?s.parser(Ve):Ve,Ve=s.formatter(Ve)),!$.value){if(Ve===V.value){oe();return}n(Ot,Ve),n("input",Ve),await nt(),oe(),fe()}},Q=me=>{n("change",me.target.value)},ie=me=>{n("compositionstart",me),$.value=!0},pe=me=>{var Ve;n("compositionupdate",me);const Ye=(Ve=me.target)==null?void 0:Ve.value,Je=Ye[Ye.length-1]||"";$.value=!dw(Je)},Re=me=>{n("compositionend",me),$.value&&($.value=!1,ee(me))},K=()=>{x.value=!x.value,re()},re=async()=>{var me;await nt(),(me=T.value)==null||me.focus()},we=()=>{var me;return(me=T.value)==null?void 0:me.blur()},Ie=me=>{b.value=!0,n("focus",me)},De=me=>{var Ve;b.value=!1,n("blur",me),s.validateEvent&&((Ve=d==null?void 0:d.validate)==null||Ve.call(d,"blur").catch(Ye=>void 0))},_e=me=>{_.value=!1,n("mouseleave",me)},ze=me=>{_.value=!0,n("mouseenter",me)},Ae=me=>{n("keydown",me)},he=()=>{var me;(me=T.value)==null||me.select()},ve=()=>{n(Ot,""),n("change",""),n("clear"),n("input","")};return Me(()=>s.modelValue,()=>{var me;nt(()=>X()),s.validateEvent&&((me=d==null?void 0:d.validate)==null||me.call(d,"change").catch(Ve=>void 0))}),Me(V,()=>oe()),Me(()=>s.type,async()=>{await nt(),oe(),X()}),Et(()=>{!s.formatter&&s.parser,oe(),nt(X)}),e({input:y,textarea:w,ref:T,textareaStyle:B,autosize:Un(s,"autosize"),focus:re,blur:we,select:he,clear:ve,resizeTextarea:X}),(me,Ve)=>St((S(),I("div",zt(v(a),{class:v(i),style:v(z),role:me.containerRole,onMouseenter:ze,onMouseleave:_e}),[ge(" input "),me.type!=="textarea"?(S(),I(lt,{key:0},[ge(" prepend slot "),me.$slots.prepend?(S(),I("div",{key:0,class:P(v(m).be("group","prepend"))},[Oe(me.$slots,"prepend")],2)):ge("v-if",!0),E("div",{class:P(v(l))},[ge(" prefix slot "),me.$slots.prefix||me.prefixIcon?(S(),I("span",{key:0,class:P(v(m).e("prefix"))},[E("span",{class:P(v(m).e("prefix-inner")),onClick:re},[Oe(me.$slots,"prefix"),me.prefixIcon?(S(),$e(v(rt),{key:0,class:P(v(m).e("icon"))},{default:ce(()=>[(S(),$e(Vt(me.prefixIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)):ge("v-if",!0),E("input",zt({id:v(f),ref_key:"input",ref:y,class:v(m).e("inner")},v(u),{type:me.showPassword?x.value?"text":"password":me.type,disabled:v(p),formatter:me.formatter,parser:me.parser,readonly:me.readonly,autocomplete:me.autocomplete,tabindex:me.tabindex,"aria-label":me.label,placeholder:me.placeholder,style:me.inputStyle,form:s.form,onCompositionstart:ie,onCompositionupdate:pe,onCompositionend:Re,onInput:ee,onFocus:Ie,onBlur:De,onChange:Q,onKeydown:Ae}),null,16,uMe),ge(" suffix slot "),v(j)?(S(),I("span",{key:1,class:P(v(m).e("suffix"))},[E("span",{class:P(v(m).e("suffix-inner")),onClick:re},[!v(O)||!v(F)||!v(L)?(S(),I(lt,{key:0},[Oe(me.$slots,"suffix"),me.suffixIcon?(S(),$e(v(rt),{key:0,class:P(v(m).e("icon"))},{default:ce(()=>[(S(),$e(Vt(me.suffixIcon)))]),_:1},8,["class"])):ge("v-if",!0)],64)):ge("v-if",!0),v(O)?(S(),$e(v(rt),{key:1,class:P([v(m).e("icon"),v(m).e("clear")]),onMousedown:yt(v(gn),["prevent"]),onClick:ve},{default:ce(()=>[se(v(Bl))]),_:1},8,["class","onMousedown"])):ge("v-if",!0),v(F)?(S(),$e(v(rt),{key:2,class:P([v(m).e("icon"),v(m).e("password")]),onClick:K},{default:ce(()=>[(S(),$e(Vt(v(D))))]),_:1},8,["class"])):ge("v-if",!0),v(L)?(S(),I("span",{key:3,class:P(v(m).e("count"))},[E("span",{class:P(v(m).e("count-inner"))},Ue(v(G))+" / "+Ue(v(u).maxlength),3)],2)):ge("v-if",!0),v(M)&&v(R)&&v(N)?(S(),$e(v(rt),{key:4,class:P([v(m).e("icon"),v(m).e("validateIcon"),v(m).is("loading",v(M)==="validating")])},{default:ce(()=>[(S(),$e(Vt(v(R))))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)):ge("v-if",!0)],2),ge(" append slot "),me.$slots.append?(S(),I("div",{key:1,class:P(v(m).be("group","append"))},[Oe(me.$slots,"append")],2)):ge("v-if",!0)],64)):(S(),I(lt,{key:1},[ge(" textarea "),E("textarea",zt({id:v(f),ref_key:"textarea",ref:w,class:v(g).e("inner")},v(u),{tabindex:me.tabindex,disabled:v(p),readonly:me.readonly,autocomplete:me.autocomplete,style:v(B),"aria-label":me.label,placeholder:me.placeholder,form:s.form,onCompositionstart:ie,onCompositionupdate:pe,onCompositionend:Re,onInput:ee,onFocus:Ie,onBlur:De,onChange:Q,onKeydown:Ae}),null,16,cMe),v(L)?(S(),I("span",{key:0,style:ot(k.value),class:P(v(m).e("count"))},Ue(v(G))+" / "+Ue(v(u).maxlength),7)):ge("v-if",!0)],64))],16,lMe)),[[Qt,me.type!=="hidden"]])}});var hMe=je(fMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Or=Dt(hMe),Df=4,uL={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},pMe=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),mMe=qe({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),gMe="Thumb",vMe=ue({__name:"thumb",props:mMe,setup(t){const e=t,n=et(HP),s=Fe("scrollbar");n||Ls(gMe,"can not inject scrollbar context");const r=U(),o=U(),a=U({}),i=U(!1);let l=!1,u=!1,c=Kt?document.onselectstart:null;const d=A(()=>uL[e.vertical?"vertical":"horizontal"]),f=A(()=>pMe({size:e.size,move:e.move,bar:d.value})),h=A(()=>r.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/o.value[d.value.offset]),p=x=>{var k;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(k=window.getSelection())==null||k.removeAllRanges(),g(x);const C=x.currentTarget;!C||(a.value[d.value.axis]=C[d.value.offset]-(x[d.value.client]-C.getBoundingClientRect()[d.value.direction]))},m=x=>{if(!o.value||!r.value||!n.wrapElement)return;const k=Math.abs(x.target.getBoundingClientRect()[d.value.direction]-x[d.value.client]),C=o.value[d.value.offset]/2,T=(k-C)*100*h.value/r.value[d.value.offset];n.wrapElement[d.value.scroll]=T*n.wrapElement[d.value.scrollSize]/100},g=x=>{x.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",w),c=document.onselectstart,document.onselectstart=()=>!1},y=x=>{if(!r.value||!o.value||l===!1)return;const k=a.value[d.value.axis];if(!k)return;const C=(r.value.getBoundingClientRect()[d.value.direction]-x[d.value.client])*-1,T=o.value[d.value.offset]-k,N=(C-T)*100*h.value/r.value[d.value.offset];n.wrapElement[d.value.scroll]=N*n.wrapElement[d.value.scrollSize]/100},w=()=>{l=!1,a.value[d.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w),$(),u&&(i.value=!1)},b=()=>{u=!1,i.value=!!e.size},_=()=>{u=!0,i.value=l};ts(()=>{$(),document.removeEventListener("mouseup",w)});const $=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return Rn(Un(n,"scrollbarElement"),"mousemove",b),Rn(Un(n,"scrollbarElement"),"mouseleave",_),(x,k)=>(S(),$e(ms,{name:v(s).b("fade"),persisted:""},{default:ce(()=>[St(E("div",{ref_key:"instance",ref:r,class:P([v(s).e("bar"),v(s).is(v(d).key)]),onMousedown:m},[E("div",{ref_key:"thumb",ref:o,class:P(v(s).e("thumb")),style:ot(v(f)),onMousedown:p},null,38)],34),[[Qt,x.always||i.value]])]),_:1},8,["name"]))}});var eO=je(vMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const yMe=qe({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),bMe=ue({__name:"bar",props:yMe,setup(t,{expose:e}){const n=t,s=U(0),r=U(0);return e({handleScroll:a=>{if(a){const i=a.offsetHeight-Df,l=a.offsetWidth-Df;r.value=a.scrollTop*100/i*n.ratioY,s.value=a.scrollLeft*100/l*n.ratioX}}}),(a,i)=>(S(),I(lt,null,[se(eO,{move:s.value,ratio:a.ratioX,size:a.width,always:a.always},null,8,["move","ratio","size","always"]),se(eO,{move:r.value,ratio:a.ratioY,size:a.height,vertical:"",always:a.always},null,8,["move","ratio","size","always"])],64))}});var wMe=je(bMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const _Me=qe({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Se([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),$Me={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Ct)},xMe="ElScrollbar",SMe=ue({name:xMe}),CMe=ue({...SMe,props:_Me,emits:$Me,setup(t,{expose:e,emit:n}){const s=t,r=Fe("scrollbar");let o,a;const i=U(),l=U(),u=U(),c=U("0"),d=U("0"),f=U(),h=U(1),p=U(1),m=A(()=>{const k={};return s.height&&(k.height=Cs(s.height)),s.maxHeight&&(k.maxHeight=Cs(s.maxHeight)),[s.wrapStyle,k]}),g=A(()=>[s.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!s.native}]),y=A(()=>[r.e("view"),s.viewClass]),w=()=>{var k;l.value&&((k=f.value)==null||k.handleScroll(l.value),n("scroll",{scrollTop:l.value.scrollTop,scrollLeft:l.value.scrollLeft}))};function b(k,C){Bt(k)?l.value.scrollTo(k):Ct(k)&&Ct(C)&&l.value.scrollTo(k,C)}const _=k=>{!Ct(k)||(l.value.scrollTop=k)},$=k=>{!Ct(k)||(l.value.scrollLeft=k)},x=()=>{if(!l.value)return;const k=l.value.offsetHeight-Df,C=l.value.offsetWidth-Df,T=k**2/l.value.scrollHeight,N=C**2/l.value.scrollWidth,M=Math.max(T,s.minSize),R=Math.max(N,s.minSize);h.value=T/(k-T)/(M/(k-M)),p.value=N/(C-N)/(R/(C-R)),d.value=M+Df<k?`${M}px`:"",c.value=R+Df<C?`${R}px`:""};return Me(()=>s.noresize,k=>{k?(o==null||o(),a==null||a()):({stop:o}=Dr(u,x),a=Rn("resize",x))},{immediate:!0}),Me(()=>[s.maxHeight,s.height],()=>{s.native||nt(()=>{var k;x(),l.value&&((k=f.value)==null||k.handleScroll(l.value))})}),Lt(HP,on({scrollbarElement:i,wrapElement:l})),Et(()=>{s.native||nt(()=>{x()})}),Ml(()=>x()),e({wrapRef:l,update:x,scrollTo:b,setScrollTop:_,setScrollLeft:$,handleScroll:w}),(k,C)=>(S(),I("div",{ref_key:"scrollbarRef",ref:i,class:P(v(r).b())},[E("div",{ref_key:"wrapRef",ref:l,class:P(v(g)),style:ot(v(m)),onScroll:w},[(S(),$e(Vt(k.tag),{ref_key:"resizeRef",ref:u,class:P(v(y)),style:ot(k.viewStyle)},{default:ce(()=>[Oe(k.$slots,"default")]),_:3},8,["class","style"]))],38),k.native?ge("v-if",!0):(S(),$e(wMe,{key:0,ref_key:"barRef",ref:f,height:d.value,width:c.value,always:k.always,"ratio-x":p.value,"ratio-y":h.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var kMe=je(CMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const jl=Dt(kMe),TMe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],cL=qe({role:{type:String,values:TMe,default:"tooltip"}}),NMe=ue({name:"ElPopperRoot",inheritAttrs:!1}),EMe=ue({...NMe,props:cL,setup(t,{expose:e}){const n=t,s=U(),r=U(),o=U(),a=U(),i=A(()=>n.role),l={triggerRef:s,popperInstanceRef:r,contentRef:o,referenceRef:a,role:i};return e(l),Lt(LC,l),(u,c)=>Oe(u.$slots,"default")}});var IMe=je(EMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const dL=qe({arrowOffset:{type:Number,default:5}}),AMe=ue({name:"ElPopperArrow",inheritAttrs:!1}),OMe=ue({...AMe,props:dL,setup(t,{expose:e}){const n=t,s=Fe("popper"),{arrowOffset:r,arrowRef:o}=et(GP,void 0);return Me(()=>n.arrowOffset,a=>{r.value=a}),ts(()=>{o.value=void 0}),e({arrowRef:o}),(a,i)=>(S(),I("span",{ref_key:"arrowRef",ref:o,class:P(v(s).e("arrow")),"data-popper-arrow":""},null,2))}});var RMe=je(OMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const DMe="ElOnlyChild",fL=ue({name:DMe,setup(t,{slots:e,attrs:n}){var s;const r=et(QP),o=cFe((s=r==null?void 0:r.setForwardRef)!=null?s:gn);return()=>{var a;const i=(a=e.default)==null?void 0:a.call(e,n);if(!i||i.length>1)return null;const l=hL(i);return l?St(_l(l,n),[[o]]):null}}});function hL(t){if(!t)return null;const e=t;for(const n of e){if(Bt(n))switch(n.type){case Gr:continue;case Xh:case"svg":return tO(n);case lt:return hL(n.children);default:return n}return tO(n)}return null}function tO(t){const e=Fe("only-child");return se("span",{class:e.e("content")},[t])}const pL=qe({virtualRef:{type:Se(Object)},virtualTriggering:Boolean,onMouseenter:{type:Se(Function)},onMouseleave:{type:Se(Function)},onClick:{type:Se(Function)},onKeydown:{type:Se(Function)},onFocus:{type:Se(Function)},onBlur:{type:Se(Function)},onContextmenu:{type:Se(Function)},id:String,open:Boolean}),FMe=ue({name:"ElPopperTrigger",inheritAttrs:!1}),MMe=ue({...FMe,props:pL,setup(t,{expose:e}){const n=t,{role:s,triggerRef:r}=et(LC,void 0);uFe(r);const o=A(()=>i.value?n.id:void 0),a=A(()=>{if(s&&s.value==="tooltip")return n.open&&n.id?n.id:void 0}),i=A(()=>{if(s&&s.value!=="tooltip")return s.value}),l=A(()=>i.value?`${n.open}`:void 0);let u;return Et(()=>{Me(()=>n.virtualRef,c=>{c&&(r.value=Mo(c))},{immediate:!0}),Me(r,(c,d)=>{u==null||u(),u=void 0,Qa(c)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(f=>{var h;const p=n[f];p&&(c.addEventListener(f.slice(2).toLowerCase(),p),(h=d==null?void 0:d.removeEventListener)==null||h.call(d,f.slice(2).toLowerCase(),p))}),u=Me([o,a,i,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,p)=>{nr(f[p])?c.removeAttribute(h):c.setAttribute(h,f[p])})},{immediate:!0})),Qa(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>d.removeAttribute(f))},{immediate:!0})}),ts(()=>{u==null||u(),u=void 0}),e({triggerRef:r}),(c,d)=>c.virtualTriggering?ge("v-if",!0):(S(),$e(v(fL),zt({key:0},c.$attrs,{"aria-controls":v(o),"aria-describedby":v(a),"aria-expanded":v(l),"aria-haspopup":v(i)}),{default:ce(()=>[Oe(c.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var PMe=je(MMe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),go="top",Sa="bottom",Ca="right",vo="left",jC="auto",Dg=[go,Sa,Ca,vo],fh="start",M0="end",LMe="clippingParents",mL="viewport",Im="popper",zMe="reference",nO=Dg.reduce(function(t,e){return t.concat([e+"-"+fh,e+"-"+M0])},[]),Qd=[].concat(Dg,[jC]).reduce(function(t,e){return t.concat([e,e+"-"+fh,e+"-"+M0])},[]),BMe="beforeRead",VMe="read",HMe="afterRead",WMe="beforeMain",UMe="main",GMe="afterMain",jMe="beforeWrite",KMe="write",qMe="afterWrite",XMe=[BMe,VMe,HMe,WMe,UMe,GMe,jMe,KMe,qMe];function Bi(t){return t?(t.nodeName||"").toLowerCase():null}function ai(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hh(t){var e=ai(t).Element;return t instanceof e||t instanceof Element}function ya(t){var e=ai(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function KC(t){if(typeof ShadowRoot>"u")return!1;var e=ai(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function YMe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!ya(o)||!Bi(o)||(Object.assign(o.style,s),Object.keys(r).forEach(function(a){var i=r[a];i===!1?o.removeAttribute(a):o.setAttribute(a,i===!0?"":i)}))})}function ZMe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],o=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),i=a.reduce(function(l,u){return l[u]="",l},{});!ya(r)||!Bi(r)||(Object.assign(r.style,i),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var gL={name:"applyStyles",enabled:!0,phase:"write",fn:YMe,effect:ZMe,requires:["computeStyles"]};function Ai(t){return t.split("-")[0]}var od=Math.max,Ay=Math.min,ph=Math.round;function mh(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),s=1,r=1;if(ya(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(s=ph(n.width)/a||1),o>0&&(r=ph(n.height)/o||1)}return{width:n.width/s,height:n.height/r,top:n.top/r,right:n.right/s,bottom:n.bottom/r,left:n.left/s,x:n.left/s,y:n.top/r}}function qC(t){var e=mh(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function vL(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&KC(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function kl(t){return ai(t).getComputedStyle(t)}function JMe(t){return["table","td","th"].indexOf(Bi(t))>=0}function uc(t){return((hh(t)?t.ownerDocument:t.document)||window.document).documentElement}function ww(t){return Bi(t)==="html"?t:t.assignedSlot||t.parentNode||(KC(t)?t.host:null)||uc(t)}function sO(t){return!ya(t)||kl(t).position==="fixed"?null:t.offsetParent}function QMe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ya(t)){var s=kl(t);if(s.position==="fixed")return null}var r=ww(t);for(KC(r)&&(r=r.host);ya(r)&&["html","body"].indexOf(Bi(r))<0;){var o=kl(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Fg(t){for(var e=ai(t),n=sO(t);n&&JMe(n)&&kl(n).position==="static";)n=sO(n);return n&&(Bi(n)==="html"||Bi(n)==="body"&&kl(n).position==="static")?e:n||QMe(t)||e}function XC(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function u0(t,e,n){return od(t,Ay(e,n))}function ePe(t,e,n){var s=u0(t,e,n);return s>n?n:s}function yL(){return{top:0,right:0,bottom:0,left:0}}function bL(t){return Object.assign({},yL(),t)}function wL(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var tPe=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,bL(typeof t!="number"?t:wL(t,Dg))};function nPe(t){var e,n=t.state,s=t.name,r=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,i=Ai(n.placement),l=XC(i),u=[vo,Ca].indexOf(i)>=0,c=u?"height":"width";if(!(!o||!a)){var d=tPe(r.padding,n),f=qC(o),h=l==="y"?go:vo,p=l==="y"?Sa:Ca,m=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],g=a[l]-n.rects.reference[l],y=Fg(o),w=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,b=m/2-g/2,_=d[h],$=w-f[c]-d[p],x=w/2-f[c]/2+b,k=u0(_,x,$),C=l;n.modifiersData[s]=(e={},e[C]=k,e.centerOffset=k-x,e)}}function sPe(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!vL(e.elements.popper,r)||(e.elements.arrow=r))}var rPe={name:"arrow",enabled:!0,phase:"main",fn:nPe,effect:sPe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gh(t){return t.split("-")[1]}var oPe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aPe(t){var e=t.x,n=t.y,s=window,r=s.devicePixelRatio||1;return{x:ph(e*r)/r||0,y:ph(n*r)/r||0}}function rO(t){var e,n=t.popper,s=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,i=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=a.x,h=f===void 0?0:f,p=a.y,m=p===void 0?0:p,g=typeof c=="function"?c({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var y=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),b=vo,_=go,$=window;if(u){var x=Fg(n),k="clientHeight",C="clientWidth";if(x===ai(n)&&(x=uc(n),kl(x).position!=="static"&&i==="absolute"&&(k="scrollHeight",C="scrollWidth")),x=x,r===go||(r===vo||r===Ca)&&o===M0){_=Sa;var T=d&&x===$&&$.visualViewport?$.visualViewport.height:x[k];m-=T-s.height,m*=l?1:-1}if(r===vo||(r===go||r===Sa)&&o===M0){b=Ca;var N=d&&x===$&&$.visualViewport?$.visualViewport.width:x[C];h-=N-s.width,h*=l?1:-1}}var M=Object.assign({position:i},u&&oPe),R=c===!0?aPe({x:h,y:m}):{x:h,y:m};if(h=R.x,m=R.y,l){var D;return Object.assign({},M,(D={},D[_]=w?"0":"",D[b]=y?"0":"",D.transform=($.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",D))}return Object.assign({},M,(e={},e[_]=w?m+"px":"",e[b]=y?h+"px":"",e.transform="",e))}function iPe(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,o=n.adaptive,a=o===void 0?!0:o,i=n.roundOffsets,l=i===void 0?!0:i,u={placement:Ai(e.placement),variation:gh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,rO(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,rO(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var _L={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iPe,data:{}},tv={passive:!0};function lPe(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,o=r===void 0?!0:r,a=s.resize,i=a===void 0?!0:a,l=ai(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,tv)}),i&&l.addEventListener("resize",n.update,tv),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,tv)}),i&&l.removeEventListener("resize",n.update,tv)}}var $L={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lPe,data:{}},uPe={left:"right",right:"left",bottom:"top",top:"bottom"};function Uv(t){return t.replace(/left|right|bottom|top/g,function(e){return uPe[e]})}var cPe={start:"end",end:"start"};function oO(t){return t.replace(/start|end/g,function(e){return cPe[e]})}function YC(t){var e=ai(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function ZC(t){return mh(uc(t)).left+YC(t).scrollLeft}function dPe(t){var e=ai(t),n=uc(t),s=e.visualViewport,r=n.clientWidth,o=n.clientHeight,a=0,i=0;return s&&(r=s.width,o=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=s.offsetLeft,i=s.offsetTop)),{width:r,height:o,x:a+ZC(t),y:i}}function fPe(t){var e,n=uc(t),s=YC(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=od(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=od(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),i=-s.scrollLeft+ZC(t),l=-s.scrollTop;return kl(r||n).direction==="rtl"&&(i+=od(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:i,y:l}}function JC(t){var e=kl(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function xL(t){return["html","body","#document"].indexOf(Bi(t))>=0?t.ownerDocument.body:ya(t)&&JC(t)?t:xL(ww(t))}function c0(t,e){var n;e===void 0&&(e=[]);var s=xL(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),o=ai(s),a=r?[o].concat(o.visualViewport||[],JC(s)?s:[]):s,i=e.concat(a);return r?i:i.concat(c0(ww(a)))}function f6(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function hPe(t){var e=mh(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function aO(t,e){return e===mL?f6(dPe(t)):hh(e)?hPe(e):f6(fPe(uc(t)))}function pPe(t){var e=c0(ww(t)),n=["absolute","fixed"].indexOf(kl(t).position)>=0,s=n&&ya(t)?Fg(t):t;return hh(s)?e.filter(function(r){return hh(r)&&vL(r,s)&&Bi(r)!=="body"}):[]}function mPe(t,e,n){var s=e==="clippingParents"?pPe(t):[].concat(e),r=[].concat(s,[n]),o=r[0],a=r.reduce(function(i,l){var u=aO(t,l);return i.top=od(u.top,i.top),i.right=Ay(u.right,i.right),i.bottom=Ay(u.bottom,i.bottom),i.left=od(u.left,i.left),i},aO(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function SL(t){var e=t.reference,n=t.element,s=t.placement,r=s?Ai(s):null,o=s?gh(s):null,a=e.x+e.width/2-n.width/2,i=e.y+e.height/2-n.height/2,l;switch(r){case go:l={x:a,y:e.y-n.height};break;case Sa:l={x:a,y:e.y+e.height};break;case Ca:l={x:e.x+e.width,y:i};break;case vo:l={x:e.x-n.width,y:i};break;default:l={x:e.x,y:e.y}}var u=r?XC(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case fh:l[u]=l[u]-(e[c]/2-n[c]/2);break;case M0:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function P0(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,o=n.boundary,a=o===void 0?LMe:o,i=n.rootBoundary,l=i===void 0?mL:i,u=n.elementContext,c=u===void 0?Im:u,d=n.altBoundary,f=d===void 0?!1:d,h=n.padding,p=h===void 0?0:h,m=bL(typeof p!="number"?p:wL(p,Dg)),g=c===Im?zMe:Im,y=t.rects.popper,w=t.elements[f?g:c],b=mPe(hh(w)?w:w.contextElement||uc(t.elements.popper),a,l),_=mh(t.elements.reference),$=SL({reference:_,element:y,strategy:"absolute",placement:r}),x=f6(Object.assign({},y,$)),k=c===Im?x:_,C={top:b.top-k.top+m.top,bottom:k.bottom-b.bottom+m.bottom,left:b.left-k.left+m.left,right:k.right-b.right+m.right},T=t.modifiersData.offset;if(c===Im&&T){var N=T[r];Object.keys(C).forEach(function(M){var R=[Ca,Sa].indexOf(M)>=0?1:-1,D=[go,Sa].indexOf(M)>=0?"y":"x";C[M]+=N[D]*R})}return C}function gPe(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Qd:l,c=gh(s),d=c?i?nO:nO.filter(function(p){return gh(p)===c}):Dg,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=P0(t,{placement:m,boundary:r,rootBoundary:o,padding:a})[Ai(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function vPe(t){if(Ai(t)===jC)return[];var e=Uv(t);return[oO(t),e,oO(e)]}function yPe(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,i=a===void 0?!0:a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,m=n.allowedAutoPlacements,g=e.options.placement,y=Ai(g),w=y===g,b=l||(w||!p?[Uv(g)]:vPe(g)),_=[g].concat(b).reduce(function(fe,X){return fe.concat(Ai(X)===jC?gPe(e,{placement:X,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:m}):X)},[]),$=e.rects.reference,x=e.rects.popper,k=new Map,C=!0,T=_[0],N=0;N<_.length;N++){var M=_[N],R=Ai(M),D=gh(M)===fh,z=[go,Sa].indexOf(R)>=0,B=z?"width":"height",V=P0(e,{placement:M,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),O=z?D?Ca:vo:D?Sa:go;$[B]>x[B]&&(O=Uv(O));var F=Uv(O),L=[];if(o&&L.push(V[R]<=0),i&&L.push(V[O]<=0,V[F]<=0),L.every(function(fe){return fe})){T=M,C=!1;break}k.set(M,L)}if(C)for(var G=p?3:1,Z=function(fe){var X=_.find(function(oe){var ee=k.get(oe);if(ee)return ee.slice(0,fe).every(function(Q){return Q})});if(X)return T=X,"break"},j=G;j>0;j--){var J=Z(j);if(J==="break")break}e.placement!==T&&(e.modifiersData[s]._skip=!0,e.placement=T,e.reset=!0)}}var bPe={name:"flip",enabled:!0,phase:"main",fn:yPe,requiresIfExists:["offset"],data:{_skip:!1}};function iO(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function lO(t){return[go,Ca,Sa,vo].some(function(e){return t[e]>=0})}function wPe(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=P0(e,{elementContext:"reference"}),i=P0(e,{altBoundary:!0}),l=iO(a,s),u=iO(i,r,o),c=lO(l),d=lO(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var _Pe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wPe};function $Pe(t,e,n){var s=Ai(t),r=[vo,go].indexOf(s)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],i=o[1];return a=a||0,i=(i||0)*r,[vo,Ca].indexOf(s)>=0?{x:i,y:a}:{x:a,y:i}}function xPe(t){var e=t.state,n=t.options,s=t.name,r=n.offset,o=r===void 0?[0,0]:r,a=Qd.reduce(function(c,d){return c[d]=$Pe(d,e.rects,o),c},{}),i=a[e.placement],l=i.x,u=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[s]=a}var SPe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xPe};function CPe(t){var e=t.state,n=t.name;e.modifiersData[n]=SL({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var CL={name:"popperOffsets",enabled:!0,phase:"read",fn:CPe,data:{}};function kPe(t){return t==="x"?"y":"x"}function TPe(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,o=r===void 0?!0:r,a=n.altAxis,i=a===void 0?!1:a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,m=p===void 0?0:p,g=P0(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Ai(e.placement),w=gh(e.placement),b=!w,_=XC(y),$=kPe(_),x=e.modifiersData.popperOffsets,k=e.rects.reference,C=e.rects.popper,T=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,N=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(x){if(o){var D,z=_==="y"?go:vo,B=_==="y"?Sa:Ca,V=_==="y"?"height":"width",O=x[_],F=O+g[z],L=O-g[B],G=h?-C[V]/2:0,Z=w===fh?k[V]:C[V],j=w===fh?-C[V]:-k[V],J=e.elements.arrow,fe=h&&J?qC(J):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:yL(),oe=X[z],ee=X[B],Q=u0(0,k[V],fe[V]),ie=b?k[V]/2-G-Q-oe-N.mainAxis:Z-Q-oe-N.mainAxis,pe=b?-k[V]/2+G+Q+ee+N.mainAxis:j+Q+ee+N.mainAxis,Re=e.elements.arrow&&Fg(e.elements.arrow),K=Re?_==="y"?Re.clientTop||0:Re.clientLeft||0:0,re=(D=M==null?void 0:M[_])!=null?D:0,we=O+ie-re-K,Ie=O+pe-re,De=u0(h?Ay(F,we):F,O,h?od(L,Ie):L);x[_]=De,R[_]=De-O}if(i){var _e,ze=_==="x"?go:vo,Ae=_==="x"?Sa:Ca,he=x[$],ve=$==="y"?"height":"width",me=he+g[ze],Ve=he-g[Ae],Ye=[go,vo].indexOf(y)!==-1,Je=(_e=M==null?void 0:M[$])!=null?_e:0,ct=Ye?me:he-k[ve]-C[ve]-Je+N.altAxis,xt=Ye?he+k[ve]+C[ve]-Je-N.altAxis:Ve,dt=h&&Ye?ePe(ct,he,xt):u0(h?ct:me,he,h?xt:Ve);x[$]=dt,R[$]=dt-he}e.modifiersData[s]=R}}var NPe={name:"preventOverflow",enabled:!0,phase:"main",fn:TPe,requiresIfExists:["offset"]};function EPe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function IPe(t){return t===ai(t)||!ya(t)?YC(t):EPe(t)}function APe(t){var e=t.getBoundingClientRect(),n=ph(e.width)/t.offsetWidth||1,s=ph(e.height)/t.offsetHeight||1;return n!==1||s!==1}function OPe(t,e,n){n===void 0&&(n=!1);var s=ya(e),r=ya(e)&&APe(e),o=uc(e),a=mh(t,r),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((Bi(e)!=="body"||JC(o))&&(i=IPe(e)),ya(e)?(l=mh(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=ZC(o))),{x:a.left+i.scrollLeft-l.x,y:a.top+i.scrollTop-l.y,width:a.width,height:a.height}}function RPe(t){var e=new Map,n=new Set,s=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(i){if(!n.has(i)){var l=e.get(i);l&&r(l)}}),s.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),s}function DPe(t){var e=RPe(t);return XMe.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function FPe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function MPe(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var uO={placement:"bottom",modifiers:[],strategy:"absolute"};function cO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function QC(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?uO:r;return function(a,i,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},uO,o),modifiersData:{},elements:{reference:a,popper:i},attributes:{},styles:{}},c=[],d=!1,f={state:u,setOptions:function(m){var g=typeof m=="function"?m(u.options):m;p(),u.options=Object.assign({},o,u.options,g),u.scrollParents={reference:hh(a)?c0(a):a.contextElement?c0(a.contextElement):[],popper:c0(i)};var y=DPe(MPe([].concat(s,u.options.modifiers)));return u.orderedModifiers=y.filter(function(w){return w.enabled}),h(),f.update()},forceUpdate:function(){if(!d){var m=u.elements,g=m.reference,y=m.popper;if(cO(g,y)){u.rects={reference:OPe(g,Fg(y),u.options.strategy==="fixed"),popper:qC(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(C){return u.modifiersData[C.name]=Object.assign({},C.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var b=u.orderedModifiers[w],_=b.fn,$=b.options,x=$===void 0?{}:$,k=b.name;typeof _=="function"&&(u=_({state:u,options:x,name:k,instance:f})||u)}}}},update:FPe(function(){return new Promise(function(m){f.forceUpdate(),m(u)})}),destroy:function(){p(),d=!0}};if(!cO(a,i))return f;f.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function h(){u.orderedModifiers.forEach(function(m){var g=m.name,y=m.options,w=y===void 0?{}:y,b=m.effect;if(typeof b=="function"){var _=b({state:u,name:g,instance:f,options:w}),$=function(){};c.push(_||$)}})}function p(){c.forEach(function(m){return m()}),c=[]}return f}}QC();var PPe=[$L,CL,_L,gL];QC({defaultModifiers:PPe});var LPe=[$L,CL,_L,gL,SPe,bPe,NPe,rPe,_Pe],kL=QC({defaultModifiers:LPe});const U4="focus-trap.focus-after-trapped",G4="focus-trap.focus-after-released",zPe="focus-trap.focusout-prevented",dO={cancelable:!0,bubbles:!1},BPe={cancelable:!0,bubbles:!1},fO="focusAfterTrapped",hO="focusAfterReleased",ek=Symbol("elFocusTrap"),tk=U(),_w=U(0),nk=U(0);let nv=0;const TL=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},pO=(t,e)=>{for(const n of t)if(!VPe(n,e))return n},VPe=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},HPe=t=>{const e=TL(t),n=pO(e,t),s=pO(e.reverse(),t);return[n,s]},WPe=t=>t instanceof HTMLInputElement&&"select"in t,du=(t,e)=>{if(t&&t.focus){const n=document.activeElement;if(t.focus({preventScroll:!0}),nk.value=window.performance.now(),t!==n&&WPe(t)&&e){if(t.tagName==="INPUT"){t.setSelectionRange(t.value.length,t.value.length);return}t.select()}}};function mO(t,e){const n=[...t],s=t.indexOf(e);return s!==-1&&n.splice(s,1),n}const UPe=()=>{let t=[];return{push:s=>{const r=t[0];r&&s!==r&&r.pause(),t=mO(t,s),t.unshift(s)},remove:s=>{var r,o;t=mO(t,s),(o=(r=t[0])==null?void 0:r.resume)==null||o.call(r)}}},GPe=(t,e=!1)=>{const n=document.activeElement;for(const s of t)if(du(s,e),document.activeElement!==n)return},gO=UPe(),jPe=()=>_w.value>nk.value,sv=()=>{tk.value="pointer",_w.value=window.performance.now()},vO=()=>{tk.value="keyboard",_w.value=window.performance.now()},KPe=()=>(Et(()=>{nv===0&&(document.addEventListener("mousedown",sv),document.addEventListener("touchstart",sv),document.addEventListener("keydown",vO)),nv++}),ts(()=>{nv--,nv<=0&&(document.removeEventListener("mousedown",sv),document.removeEventListener("touchstart",sv),document.removeEventListener("keydown",vO))}),{focusReason:tk,lastUserFocusTimestamp:_w,lastAutomatedFocusTimestamp:nk}),rv=t=>new CustomEvent(zPe,{...BPe,detail:t}),qPe=ue({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[fO,hO,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=U();let s,r;const{focusReason:o}=KPe();rFe(p=>{t.trapped&&!a.paused&&e("release-requested",p)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},i=p=>{if(!t.loop&&!t.trapped||a.paused)return;const{key:m,altKey:g,ctrlKey:y,metaKey:w,currentTarget:b,shiftKey:_}=p,{loop:$}=t,x=m===ut.tab&&!g&&!y&&!w,k=document.activeElement;if(x&&k){const C=b,[T,N]=HPe(C);if(T&&N){if(!_&&k===N){const R=rv({focusReason:o.value});e("focusout-prevented",R),R.defaultPrevented||(p.preventDefault(),$&&du(T,!0))}else if(_&&[T,C].includes(k)){const R=rv({focusReason:o.value});e("focusout-prevented",R),R.defaultPrevented||(p.preventDefault(),$&&du(N,!0))}}else if(k===C){const R=rv({focusReason:o.value});e("focusout-prevented",R),R.defaultPrevented||p.preventDefault()}}};Lt(ek,{focusTrapRef:n,onKeydown:i}),Me(()=>t.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),Me([n],([p],[m])=>{p&&(p.addEventListener("keydown",i),p.addEventListener("focusin",c),p.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",i),m.removeEventListener("focusin",c),m.removeEventListener("focusout",d))});const l=p=>{e(fO,p)},u=p=>e(hO,p),c=p=>{const m=v(n);if(!m)return;const g=p.target,y=p.relatedTarget,w=g&&m.contains(g);t.trapped||y&&m.contains(y)||(s=y),w&&e("focusin",p),!a.paused&&t.trapped&&(w?r=g:du(r,!0))},d=p=>{const m=v(n);if(!(a.paused||!m))if(t.trapped){const g=p.relatedTarget;!nr(g)&&!m.contains(g)&&setTimeout(()=>{if(!a.paused&&t.trapped){const y=rv({focusReason:o.value});e("focusout-prevented",y),y.defaultPrevented||du(r,!0)}},0)}else{const g=p.target;g&&m.contains(g)||e("focusout",p)}};async function f(){await nt();const p=v(n);if(p){gO.push(a);const m=p.contains(document.activeElement)?s:document.activeElement;if(s=m,!p.contains(m)){const y=new Event(U4,dO);p.addEventListener(U4,l),p.dispatchEvent(y),y.defaultPrevented||nt(()=>{let w=t.focusStartEl;wt(w)||(du(w),document.activeElement!==w&&(w="first")),w==="first"&&GPe(TL(p),!0),(document.activeElement===m||w==="container")&&du(p)})}}}function h(){const p=v(n);if(p){p.removeEventListener(U4,l);const m=new CustomEvent(G4,{...dO,detail:{focusReason:o.value}});p.addEventListener(G4,u),p.dispatchEvent(m),!m.defaultPrevented&&(o.value=="keyboard"||!jPe())&&du(s??document.body,!0),p.removeEventListener(G4,l),gO.remove(a)}}return Et(()=>{t.trapped&&f(),Me(()=>t.trapped,p=>{p?f():h()})}),ts(()=>{t.trapped&&h()}),{onKeydown:i}}});function XPe(t,e,n,s,r,o){return Oe(t.$slots,"default",{handleKeydown:t.onKeydown})}var $w=je(qPe,[["render",XPe],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const YPe=["fixed","absolute"],ZPe=qe({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Se(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Qd,default:"bottom"},popperOptions:{type:Se(Object),default:()=>({})},strategy:{type:String,values:YPe,default:"absolute"}}),NL=qe({...ZPe,id:String,style:{type:Se([String,Array,Object])},className:{type:Se([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Se([String,Array,Object])},popperStyle:{type:Se([String,Array,Object])},referenceEl:{type:Se(Object)},triggerTargetEl:{type:Se(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),JPe={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},yO=(t,e)=>{const{placement:n,strategy:s,popperOptions:r}=t,o={placement:n,strategy:s,...r,modifiers:eLe(t)};return tLe(o,e),nLe(o,r==null?void 0:r.modifiers),o},QPe=t=>{if(!!Kt)return Mo(t)};function eLe(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:s}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:s}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function tLe(t,{arrowEl:e,arrowOffset:n}){t.modifiers.push({name:"arrow",options:{element:e,padding:n??5}})}function nLe(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const sLe=ue({name:"ElPopperContent"}),rLe=ue({...sLe,props:NL,emits:JPe,setup(t,{expose:e,emit:n}){const s=t,{popperInstanceRef:r,contentRef:o,triggerRef:a,role:i}=et(LC,void 0),l=et(Li,void 0),{nextZIndex:u}=Ul(),c=Fe("popper"),d=U(),f=U("first"),h=U(),p=U();Lt(GP,{arrowRef:h,arrowOffset:p}),l&&(l.addInputId||l.removeInputId)&&Lt(Li,{...l,addInputId:gn,removeInputId:gn});const m=U(s.zIndex||u()),g=U(!1);let y;const w=A(()=>QPe(s.referenceEl)||v(a)),b=A(()=>[{zIndex:v(m)},s.popperStyle]),_=A(()=>[c.b(),c.is("pure",s.pure),c.is(s.effect),s.popperClass]),$=A(()=>i&&i.value==="dialog"?"false":void 0),x=({referenceEl:z,popperContentEl:B,arrowEl:V})=>{const O=yO(s,{arrowEl:V,arrowOffset:v(p)});return kL(z,B,O)},k=(z=!0)=>{var B;(B=v(r))==null||B.update(),z&&(m.value=s.zIndex||u())},C=()=>{var z,B;const V={name:"eventListeners",enabled:s.visible};(B=(z=v(r))==null?void 0:z.setOptions)==null||B.call(z,O=>({...O,modifiers:[...O.modifiers||[],V]})),k(!1),s.visible&&s.focusOnShow?g.value=!0:s.visible===!1&&(g.value=!1)},T=()=>{n("focus")},N=z=>{var B;((B=z.detail)==null?void 0:B.focusReason)!=="pointer"&&(f.value="first",n("blur"))},M=z=>{s.visible&&!g.value&&(z.target&&(f.value=z.target),g.value=!0)},R=z=>{s.trapping||(z.detail.focusReason==="pointer"&&z.preventDefault(),g.value=!1)},D=()=>{g.value=!1,n("close")};return Et(()=>{let z;Me(w,B=>{var V;z==null||z();const O=v(r);if((V=O==null?void 0:O.destroy)==null||V.call(O),B){const F=v(d);o.value=F,r.value=x({referenceEl:B,popperContentEl:F,arrowEl:v(h)}),z=Me(()=>B.getBoundingClientRect(),()=>k(),{immediate:!0})}else r.value=void 0},{immediate:!0}),Me(()=>s.triggerTargetEl,(B,V)=>{y==null||y(),y=void 0;const O=v(B||d.value),F=v(V||d.value);Qa(O)&&(y=Me([i,()=>s.ariaLabel,$,()=>s.id],L=>{["role","aria-label","aria-modal","id"].forEach((G,Z)=>{nr(L[Z])?O.removeAttribute(G):O.setAttribute(G,L[Z])})},{immediate:!0})),F!==O&&Qa(F)&&["role","aria-label","aria-modal","id"].forEach(L=>{F.removeAttribute(L)})},{immediate:!0}),Me(()=>s.visible,C,{immediate:!0}),Me(()=>yO(s,{arrowEl:v(h),arrowOffset:v(p)}),B=>{var V;return(V=r.value)==null?void 0:V.setOptions(B)})}),ts(()=>{y==null||y(),y=void 0}),e({popperContentRef:d,popperInstanceRef:r,updatePopper:k,contentStyle:b}),(z,B)=>(S(),I("div",{ref_key:"popperContentRef",ref:d,style:ot(v(b)),class:P(v(_)),tabindex:"-1",onMouseenter:B[0]||(B[0]=V=>z.$emit("mouseenter",V)),onMouseleave:B[1]||(B[1]=V=>z.$emit("mouseleave",V))},[se(v($w),{trapped:g.value,"trap-on-focus-in":!0,"focus-trap-el":d.value,"focus-start-el":f.value,onFocusAfterTrapped:T,onFocusAfterReleased:N,onFocusin:M,onFocusoutPrevented:R,onReleaseRequested:D},{default:ce(()=>[Oe(z.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}});var oLe=je(rLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const EL=Dt(IMe),aLe=Fe("tooltip"),Xs=qe({...iFe,...NL,appendTo:{type:Se([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Se(Boolean),default:null},transition:{type:String,default:`${aLe.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),L0=qe({...pL,disabled:Boolean,trigger:{type:Se([String,Array]),default:"hover"},triggerKeys:{type:Se(Array),default:()=>[ut.enter,ut.space]}}),{useModelToggleProps:iLe,useModelToggleEmits:lLe,useModelToggle:uLe}=eFe("visible"),cLe=qe({...cL,...iLe,...Xs,...L0,...dL,showArrow:{type:Boolean,default:!0}}),dLe=[...lLe,"before-show","before-hide","show","hide","open","close"],fLe=(t,e)=>Qe(t)?t.includes(e):t===e,bf=(t,e,n)=>s=>{fLe(v(t),e)&&n(s)},hLe=ue({name:"ElTooltipTrigger"}),pLe=ue({...hLe,props:L0,setup(t,{expose:e}){const n=t,s=Fe("tooltip"),{controlled:r,id:o,open:a,onOpen:i,onClose:l,onToggle:u}=et(pw,void 0),c=U(null),d=()=>{if(v(r)||n.disabled)return!0},f=Un(n,"trigger"),h=Xn(d,bf(f,"hover",i)),p=Xn(d,bf(f,"hover",l)),m=Xn(d,bf(f,"click",_=>{_.button===0&&u(_)})),g=Xn(d,bf(f,"focus",i)),y=Xn(d,bf(f,"focus",l)),w=Xn(d,bf(f,"contextmenu",_=>{_.preventDefault(),u(_)})),b=Xn(d,_=>{const{code:$}=_;n.triggerKeys.includes($)&&(_.preventDefault(),u(_))});return e({triggerRef:c}),(_,$)=>(S(),$e(v(PMe),{id:v(o),"virtual-ref":_.virtualRef,open:v(a),"virtual-triggering":_.virtualTriggering,class:P(v(s).e("trigger")),onBlur:v(y),onClick:v(m),onContextmenu:v(w),onFocus:v(g),onMouseenter:v(h),onMouseleave:v(p),onKeydown:v(b)},{default:ce(()=>[Oe(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var mLe=je(pLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const gLe=ue({name:"ElTooltipContent",inheritAttrs:!1}),vLe=ue({...gLe,props:Xs,setup(t,{expose:e}){const n=t,{selector:s}=JP(),r=U(null),o=U(!1),{controlled:a,id:i,open:l,trigger:u,onClose:c,onOpen:d,onShow:f,onHide:h,onBeforeShow:p,onBeforeHide:m}=et(pw,void 0),g=A(()=>n.persistent);ts(()=>{o.value=!0});const y=A(()=>v(g)?!0:v(l)),w=A(()=>n.disabled?!1:v(l)),b=A(()=>n.appendTo||s.value),_=A(()=>{var B;return(B=n.style)!=null?B:{}}),$=A(()=>!v(l)),x=()=>{h()},k=()=>{if(v(a))return!0},C=Xn(k,()=>{n.enterable&&v(u)==="hover"&&d()}),T=Xn(k,()=>{v(u)==="hover"&&c()}),N=()=>{var B,V;(V=(B=r.value)==null?void 0:B.updatePopper)==null||V.call(B),p==null||p()},M=()=>{m==null||m()},R=()=>{f(),z=CC(A(()=>{var B;return(B=r.value)==null?void 0:B.popperContentRef}),()=>{if(v(a))return;v(u)!=="hover"&&c()})},D=()=>{n.virtualTriggering||c()};let z;return Me(()=>v(l),B=>{B||z==null||z()},{flush:"post"}),Me(()=>n.content,()=>{var B,V;(V=(B=r.value)==null?void 0:B.updatePopper)==null||V.call(B)}),e({contentRef:r}),(B,V)=>(S(),$e(kg,{disabled:!B.teleported,to:v(b)},[se(ms,{name:B.transition,onAfterLeave:x,onBeforeEnter:N,onAfterEnter:R,onBeforeLeave:M},{default:ce(()=>[v(y)?St((S(),$e(v(oLe),zt({key:0,id:v(i),ref_key:"contentRef",ref:r},B.$attrs,{"aria-label":B.ariaLabel,"aria-hidden":v($),"boundaries-padding":B.boundariesPadding,"fallback-placements":B.fallbackPlacements,"gpu-acceleration":B.gpuAcceleration,offset:B.offset,placement:B.placement,"popper-options":B.popperOptions,strategy:B.strategy,effect:B.effect,enterable:B.enterable,pure:B.pure,"popper-class":B.popperClass,"popper-style":[B.popperStyle,v(_)],"reference-el":B.referenceEl,"trigger-target-el":B.triggerTargetEl,visible:v(w),"z-index":B.zIndex,onMouseenter:v(C),onMouseleave:v(T),onBlur:D,onClose:v(c)}),{default:ce(()=>[o.value?ge("v-if",!0):Oe(B.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Qt,v(w)]]):ge("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var yLe=je(vLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const bLe=["innerHTML"],wLe={key:1},_Le=ue({name:"ElTooltip"}),$Le=ue({..._Le,props:cLe,emits:dLe,setup(t,{expose:e,emit:n}){const s=t;aFe();const r=ei(),o=U(),a=U(),i=()=>{var y;const w=v(o);w&&((y=w.popperInstanceRef)==null||y.update())},l=U(!1),u=U(),{show:c,hide:d,hasUpdateHandler:f}=uLe({indicator:l,toggleReason:u}),{onOpen:h,onClose:p}=lFe({showAfter:Un(s,"showAfter"),hideAfter:Un(s,"hideAfter"),open:c,close:d}),m=A(()=>Rs(s.visible)&&!f.value);Lt(pw,{controlled:m,id:r,open:Cg(l),trigger:Un(s,"trigger"),onOpen:y=>{h(y)},onClose:y=>{p(y)},onToggle:y=>{v(l)?p(y):h(y)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:i}),Me(()=>s.disabled,y=>{y&&l.value&&(l.value=!1)});const g=()=>{var y,w;const b=(w=(y=a.value)==null?void 0:y.contentRef)==null?void 0:w.popperContentRef;return b&&b.contains(document.activeElement)};return MF(()=>l.value&&d()),e({popperRef:o,contentRef:a,isFocusInsideContent:g,updatePopper:i,onOpen:h,onClose:p,hide:d}),(y,w)=>(S(),$e(v(EL),{ref_key:"popperRef",ref:o,role:y.role},{default:ce(()=>[se(mLe,{disabled:y.disabled,trigger:y.trigger,"trigger-keys":y.triggerKeys,"virtual-ref":y.virtualRef,"virtual-triggering":y.virtualTriggering},{default:ce(()=>[y.$slots.default?Oe(y.$slots,"default",{key:0}):ge("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),se(yLe,{ref_key:"contentRef",ref:a,"aria-label":y.ariaLabel,"boundaries-padding":y.boundariesPadding,content:y.content,disabled:y.disabled,effect:y.effect,enterable:y.enterable,"fallback-placements":y.fallbackPlacements,"hide-after":y.hideAfter,"gpu-acceleration":y.gpuAcceleration,offset:y.offset,persistent:y.persistent,"popper-class":y.popperClass,"popper-style":y.popperStyle,placement:y.placement,"popper-options":y.popperOptions,pure:y.pure,"raw-content":y.rawContent,"reference-el":y.referenceEl,"trigger-target-el":y.triggerTargetEl,"show-after":y.showAfter,strategy:y.strategy,teleported:y.teleported,transition:y.transition,"virtual-triggering":y.virtualTriggering,"z-index":y.zIndex,"append-to":y.appendTo},{default:ce(()=>[Oe(y.$slots,"content",{},()=>[y.rawContent?(S(),I("span",{key:0,innerHTML:y.content},null,8,bLe)):(S(),I("span",wLe,Ue(y.content),1))]),y.showArrow?(S(),$e(v(RMe),{key:0,"arrow-offset":y.arrowOffset},null,8,["arrow-offset"])):ge("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var xLe=je($Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const No=Dt(xLe),SLe=qe({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Se(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Se([Function,Array]),default:gn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Xs.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1}}),CLe={[Ot]:t=>wt(t),[jr]:t=>wt(t),[Fn]:t=>wt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Bt(t)},kLe=["aria-expanded","aria-owns"],TLe={key:0},NLe=["id","aria-selected","onClick"],IL="ElAutocomplete",ELe=ue({name:IL,inheritAttrs:!1}),ILe=ue({...ELe,props:SLe,emits:CLe,setup(t,{expose:e,emit:n}){const s=t,r=PC(),o=Tg(),a=To(),i=Fe("autocomplete"),l=U(),u=U(),c=U(),d=U();let f=!1,h=!1;const p=U([]),m=U(-1),g=U(""),y=U(!1),w=U(!1),b=U(!1),_=A(()=>i.b(String(fw()))),$=A(()=>o.style),x=A(()=>(p.value.length>0||b.value)&&y.value),k=A(()=>!s.hideLoading&&b.value),C=A(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),T=async()=>{await nt(),x.value&&(g.value=`${l.value.$el.offsetWidth}px`)},N=()=>{h=!0},M=()=>{h=!1,m.value=-1},D=Xr(async ee=>{if(w.value)return;const Q=ie=>{b.value=!1,!w.value&&(Qe(ie)?(p.value=ie,m.value=s.highlightFirstItem?0:-1):Ls(IL,"autocomplete suggestions must be an array"))};if(b.value=!0,Qe(s.fetchSuggestions))Q(s.fetchSuggestions);else{const ie=await s.fetchSuggestions(ee,Q);Qe(ie)&&Q(ie)}},s.debounce),z=ee=>{const Q=!!ee;if(n(jr,ee),n(Ot,ee),w.value=!1,y.value||(y.value=Q),!s.triggerOnFocus&&!ee){w.value=!0,p.value=[];return}D(ee)},B=ee=>{var Q;a.value||(((Q=ee.target)==null?void 0:Q.tagName)!=="INPUT"||C.value.includes(document.activeElement))&&(y.value=!0)},V=ee=>{n(Fn,ee)},O=ee=>{h||(y.value=!0,n("focus",ee),s.triggerOnFocus&&!f&&D(String(s.modelValue)))},F=ee=>{h||n("blur",ee)},L=()=>{y.value=!1,n(Ot,""),n("clear")},G=async()=>{x.value&&m.value>=0&&m.value<p.value.length?X(p.value[m.value]):s.selectWhenUnmatched&&(n("select",{value:s.modelValue}),p.value=[],m.value=-1)},Z=ee=>{x.value&&(ee.preventDefault(),ee.stopPropagation(),j())},j=()=>{y.value=!1},J=()=>{var ee;(ee=l.value)==null||ee.focus()},fe=()=>{var ee;(ee=l.value)==null||ee.blur()},X=async ee=>{n(jr,ee[s.valueKey]),n(Ot,ee[s.valueKey]),n("select",ee),p.value=[],m.value=-1},oe=ee=>{if(!x.value||b.value)return;if(ee<0){m.value=-1;return}ee>=p.value.length&&(ee=p.value.length-1);const Q=u.value.querySelector(`.${i.be("suggestion","wrap")}`),pe=Q.querySelectorAll(`.${i.be("suggestion","list")} li`)[ee],Re=Q.scrollTop,{offsetTop:K,scrollHeight:re}=pe;K+re>Re+Q.clientHeight&&(Q.scrollTop+=re),K<Re&&(Q.scrollTop-=re),m.value=ee,l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`)};return CC(d,()=>{x.value&&j()}),Et(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`),f=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:m,activated:y,loading:b,inputRef:l,popperRef:c,suggestions:p,handleSelect:X,handleKeyEnter:G,focus:J,blur:fe,close:j,highlight:oe}),(ee,Q)=>(S(),$e(v(No),{ref_key:"popperRef",ref:c,visible:v(x),placement:ee.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[v(i).e("popper"),ee.popperClass],teleported:ee.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${v(i).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:T,onShow:N,onHide:M},{content:ce(()=>[E("div",{ref_key:"regionRef",ref:u,class:P([v(i).b("suggestion"),v(i).is("loading",v(k))]),style:ot({[ee.fitInputWidth?"width":"minWidth"]:g.value,outline:"none"}),role:"region"},[se(v(jl),{id:v(_),tag:"ul","wrap-class":v(i).be("suggestion","wrap"),"view-class":v(i).be("suggestion","list"),role:"listbox"},{default:ce(()=>[v(k)?(S(),I("li",TLe,[se(v(rt),{class:P(v(i).is("loading"))},{default:ce(()=>[se(v(Vl))]),_:1},8,["class"])])):(S(!0),I(lt,{key:1},Gt(p.value,(ie,pe)=>(S(),I("li",{id:`${v(_)}-item-${pe}`,key:pe,class:P({highlighted:m.value===pe}),role:"option","aria-selected":m.value===pe,onClick:Re=>X(ie)},[Oe(ee.$slots,"default",{item:ie},()=>[Jt(Ue(ie[ee.valueKey]),1)])],10,NLe))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:ce(()=>[E("div",{ref_key:"listboxRef",ref:d,class:P([v(i).b(),ee.$attrs.class]),style:ot(v($)),role:"combobox","aria-haspopup":"listbox","aria-expanded":v(x),"aria-owns":v(_)},[se(v(Or),zt({ref_key:"inputRef",ref:l},v(r),{"model-value":ee.modelValue,onInput:z,onChange:V,onFocus:O,onBlur:F,onClear:L,onKeydown:[Q[0]||(Q[0]=qt(yt(ie=>oe(m.value-1),["prevent"]),["up"])),Q[1]||(Q[1]=qt(yt(ie=>oe(m.value+1),["prevent"]),["down"])),qt(G,["enter"]),qt(j,["tab"]),qt(Z,["esc"])],onMousedown:B}),Uu({_:2},[ee.$slots.prepend?{name:"prepend",fn:ce(()=>[Oe(ee.$slots,"prepend")])}:void 0,ee.$slots.append?{name:"append",fn:ce(()=>[Oe(ee.$slots,"append")])}:void 0,ee.$slots.prefix?{name:"prefix",fn:ce(()=>[Oe(ee.$slots,"prefix")])}:void 0,ee.$slots.suffix?{name:"suffix",fn:ce(()=>[Oe(ee.$slots,"suffix")])}:void 0]),1040,["model-value","onKeydown"])],14,kLe)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var ALe=je(ILe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const OLe=Dt(ALe),RLe=qe({size:{type:[Number,String],values:Hl,default:"",validator:t=>Ct(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:En},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Se(String),default:"cover"}}),DLe={error:t=>t instanceof Event},FLe=["src","alt","srcset"],MLe=ue({name:"ElAvatar"}),PLe=ue({...MLe,props:RLe,emits:DLe,setup(t,{emit:e}){const n=t,s=Fe("avatar"),r=U(!1),o=A(()=>{const{size:u,icon:c,shape:d}=n,f=[s.b()];return wt(u)&&f.push(s.m(u)),c&&f.push(s.m("icon")),d&&f.push(s.m(d)),f}),a=A(()=>{const{size:u}=n;return Ct(u)?s.cssVarBlock({size:Cs(u)||""}):void 0}),i=A(()=>({objectFit:n.fit}));Me(()=>n.src,()=>r.value=!1);function l(u){r.value=!0,e("error",u)}return(u,c)=>(S(),I("span",{class:P(v(o)),style:ot(v(a))},[(u.src||u.srcSet)&&!r.value?(S(),I("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:ot(v(i)),onError:l},null,44,FLe)):u.icon?(S(),$e(v(rt),{key:1},{default:ce(()=>[(S(),$e(Vt(u.icon)))]),_:1})):Oe(u.$slots,"default",{key:2})],6))}});var LLe=je(PLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const zLe=Dt(LLe),BLe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},VLe={click:t=>t instanceof MouseEvent},HLe=(t,e,n)=>{const s=Nn(),r=Nn(),o=U(!1),a=()=>{if(!s.value)return;const c=Date.now(),d=s.value.scrollTop,f=()=>{if(!s.value)return;const h=(Date.now()-c)/500;h<1?(s.value.scrollTop=d*(1-V9e(h)),requestAnimationFrame(f)):s.value.scrollTop=0};requestAnimationFrame(f)},i=()=>{s.value&&(o.value=s.value.scrollTop>=t.visibilityHeight)},l=c=>{a(),e("click",c)},u=sP(i,300,!0);return Rn(r,"scroll",u),Et(()=>{var c;r.value=document,s.value=document.documentElement,t.target&&(s.value=(c=document.querySelector(t.target))!=null?c:void 0,s.value||Ls(n,`target does not exist: ${t.target}`),r.value=s.value)}),{visible:o,handleClick:l}},AL="ElBacktop",WLe=ue({name:AL}),ULe=ue({...WLe,props:BLe,emits:VLe,setup(t,{emit:e}){const n=t,s=Fe("backtop"),{handleClick:r,visible:o}=HLe(n,e,AL),a=A(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(i,l)=>(S(),$e(ms,{name:`${v(s).namespace.value}-fade-in`},{default:ce(()=>[v(o)?(S(),I("div",{key:0,style:ot(v(a)),class:P(v(s).b()),onClick:l[0]||(l[0]=yt((...u)=>v(r)&&v(r)(...u),["stop"]))},[Oe(i.$slots,"default",{},()=>[se(v(rt),{class:P(v(s).e("icon"))},{default:ce(()=>[se(v(cP))]),_:1},8,["class"])])],6)):ge("v-if",!0)]),_:3},8,["name"]))}});var GLe=je(ULe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const jLe=Dt(GLe),KLe=qe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),qLe=["textContent"],XLe=ue({name:"ElBadge"}),YLe=ue({...XLe,props:KLe,setup(t,{expose:e}){const n=t,s=Fe("badge"),r=A(()=>n.isDot?"":Ct(n.value)&&Ct(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return e({content:r}),(o,a)=>(S(),I("div",{class:P(v(s).b())},[Oe(o.$slots,"default"),se(ms,{name:`${v(s).namespace.value}-zoom-in-center`,persisted:""},{default:ce(()=>[St(E("sup",{class:P([v(s).e("content"),v(s).em("content",o.type),v(s).is("fixed",!!o.$slots.default),v(s).is("dot",o.isDot)]),textContent:Ue(v(r))},null,10,qLe),[[Qt,!o.hidden&&(v(r)||o.isDot)]])]),_:1},8,["name"])],2))}});var ZLe=je(YLe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const OL=Dt(ZLe),JLe=qe({separator:{type:String,default:"/"},separatorIcon:{type:En}}),QLe=ue({name:"ElBreadcrumb"}),eze=ue({...QLe,props:JLe,setup(t){const e=t,n=Fe("breadcrumb"),s=U();return Lt(RP,e),Et(()=>{const r=s.value.querySelectorAll(`.${n.e("item")}`);r.length&&r[r.length-1].setAttribute("aria-current","page")}),(r,o)=>(S(),I("div",{ref_key:"breadcrumb",ref:s,class:P(v(n).b()),"aria-label":"Breadcrumb",role:"navigation"},[Oe(r.$slots,"default")],2))}});var tze=je(eze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const nze=qe({to:{type:Se([String,Object]),default:""},replace:{type:Boolean,default:!1}}),sze=ue({name:"ElBreadcrumbItem"}),rze=ue({...sze,props:nze,setup(t){const e=t,n=Rt(),s=et(RP,void 0),r=Fe("breadcrumb"),{separator:o,separatorIcon:a}=Ps(s),i=n.appContext.config.globalProperties.$router,l=U(),u=()=>{!e.to||!i||(e.replace?i.replace(e.to):i.push(e.to))};return(c,d)=>(S(),I("span",{class:P(v(r).e("item"))},[E("span",{ref_key:"link",ref:l,class:P([v(r).e("inner"),v(r).is("link",!!c.to)]),role:"link",onClick:u},[Oe(c.$slots,"default")],2),v(a)?(S(),$e(v(rt),{key:0,class:P(v(r).e("separator"))},{default:ce(()=>[(S(),$e(Vt(v(a))))]),_:1},8,["class"])):(S(),I("span",{key:1,class:P(v(r).e("separator")),role:"presentation"},Ue(v(o)),3))],2))}});var RL=je(rze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const oze=Dt(tze,{BreadcrumbItem:RL}),aze=ns(RL),ize=(t,e)=>{Sl({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},A(()=>t.type==="text"));const n=et(DP,void 0),s=Wl("button"),{form:r}=to(),o=ks(A(()=>n==null?void 0:n.size)),a=To(),i=U(),l=ir(),u=A(()=>t.type||(n==null?void 0:n.type)||""),c=A(()=>{var h,p,m;return(m=(p=t.autoInsertSpace)!=null?p:(h=s.value)==null?void 0:h.autoInsertSpace)!=null?m:!1}),d=A(()=>{var h;const p=(h=l.default)==null?void 0:h.call(l);if(c.value&&(p==null?void 0:p.length)===1){const m=p[0];if((m==null?void 0:m.type)===Xh){const g=m.children;return/^\p{Unified_Ideograph}{2}$/u.test(g.trim())}}return!1});return{_disabled:a,_size:o,_type:u,_ref:i,shouldAddSpace:d,handleClick:h=>{t.nativeType==="reset"&&(r==null||r.resetFields()),e("click",h)}}},h6=["default","primary","success","warning","info","danger","text",""],lze=["button","submit","reset"],p6=qe({size:wo,disabled:Boolean,type:{type:String,values:h6,default:""},icon:{type:En},nativeType:{type:String,values:lze,default:"button"},loading:Boolean,loadingIcon:{type:En,default:()=>Vl},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),uze={click:t=>t instanceof MouseEvent};function yr(t,e){cze(t)&&(t="100%");var n=dze(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function ov(t){return Math.min(1,Math.max(0,t))}function cze(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function dze(t){return typeof t=="string"&&t.indexOf("%")!==-1}function DL(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function av(t){return t<=1?"".concat(Number(t)*100,"%"):t}function jc(t){return t.length===1?"0"+t:String(t)}function fze(t,e,n){return{r:yr(t,255)*255,g:yr(e,255)*255,b:yr(n,255)*255}}function bO(t,e,n){t=yr(t,255),e=yr(e,255),n=yr(n,255);var s=Math.max(t,e,n),r=Math.min(t,e,n),o=0,a=0,i=(s+r)/2;if(s===r)a=0,o=0;else{var l=s-r;switch(a=i>.5?l/(2-s-r):l/(s+r),s){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:i}}function j4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hze(t,e,n){var s,r,o;if(t=yr(t,360),e=yr(e,100),n=yr(n,100),e===0)r=n,o=n,s=n;else{var a=n<.5?n*(1+e):n+e-n*e,i=2*n-a;s=j4(i,a,t+1/3),r=j4(i,a,t),o=j4(i,a,t-1/3)}return{r:s*255,g:r*255,b:o*255}}function wO(t,e,n){t=yr(t,255),e=yr(e,255),n=yr(n,255);var s=Math.max(t,e,n),r=Math.min(t,e,n),o=0,a=s,i=s-r,l=s===0?0:i/s;if(s===r)o=0;else{switch(s){case t:o=(e-n)/i+(e<n?6:0);break;case e:o=(n-t)/i+2;break;case n:o=(t-e)/i+4;break}o/=6}return{h:o,s:l,v:a}}function pze(t,e,n){t=yr(t,360)*6,e=yr(e,100),n=yr(n,100);var s=Math.floor(t),r=t-s,o=n*(1-e),a=n*(1-r*e),i=n*(1-(1-r)*e),l=s%6,u=[n,a,o,o,i,n][l],c=[i,n,n,a,o,o][l],d=[o,o,i,n,n,a][l];return{r:u*255,g:c*255,b:d*255}}function _O(t,e,n,s){var r=[jc(Math.round(t).toString(16)),jc(Math.round(e).toString(16)),jc(Math.round(n).toString(16))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function mze(t,e,n,s,r){var o=[jc(Math.round(t).toString(16)),jc(Math.round(e).toString(16)),jc(Math.round(n).toString(16)),jc(gze(s))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function gze(t){return Math.round(parseFloat(t)*255).toString(16)}function $O(t){return Oo(t)/255}function Oo(t){return parseInt(t,16)}function vze(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var m6={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function yze(t){var e={r:0,g:0,b:0},n=1,s=null,r=null,o=null,a=!1,i=!1;return typeof t=="string"&&(t=_ze(t)),typeof t=="object"&&(el(t.r)&&el(t.g)&&el(t.b)?(e=fze(t.r,t.g,t.b),a=!0,i=String(t.r).substr(-1)==="%"?"prgb":"rgb"):el(t.h)&&el(t.s)&&el(t.v)?(s=av(t.s),r=av(t.v),e=pze(t.h,s,r),a=!0,i="hsv"):el(t.h)&&el(t.s)&&el(t.l)&&(s=av(t.s),o=av(t.l),e=hze(t.h,s,o),a=!0,i="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=DL(n),{ok:a,format:t.format||i,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var bze="[-\\+]?\\d+%?",wze="[-\\+]?\\d*\\.\\d+%?",xu="(?:".concat(wze,")|(?:").concat(bze,")"),K4="[\\s|\\(]+(".concat(xu,")[,|\\s]+(").concat(xu,")[,|\\s]+(").concat(xu,")\\s*\\)?"),q4="[\\s|\\(]+(".concat(xu,")[,|\\s]+(").concat(xu,")[,|\\s]+(").concat(xu,")[,|\\s]+(").concat(xu,")\\s*\\)?"),Da={CSS_UNIT:new RegExp(xu),rgb:new RegExp("rgb"+K4),rgba:new RegExp("rgba"+q4),hsl:new RegExp("hsl"+K4),hsla:new RegExp("hsla"+q4),hsv:new RegExp("hsv"+K4),hsva:new RegExp("hsva"+q4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function _ze(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(m6[t])t=m6[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Da.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Da.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Da.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Da.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Da.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Da.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Da.hex8.exec(t),n?{r:Oo(n[1]),g:Oo(n[2]),b:Oo(n[3]),a:$O(n[4]),format:e?"name":"hex8"}:(n=Da.hex6.exec(t),n?{r:Oo(n[1]),g:Oo(n[2]),b:Oo(n[3]),format:e?"name":"hex"}:(n=Da.hex4.exec(t),n?{r:Oo(n[1]+n[1]),g:Oo(n[2]+n[2]),b:Oo(n[3]+n[3]),a:$O(n[4]+n[4]),format:e?"name":"hex8"}:(n=Da.hex3.exec(t),n?{r:Oo(n[1]+n[1]),g:Oo(n[2]+n[2]),b:Oo(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function el(t){return Boolean(Da.CSS_UNIT.exec(String(t)))}var FL=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var s;if(e instanceof t)return e;typeof e=="number"&&(e=vze(e)),this.originalInput=e;var r=yze(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=n.format)!==null&&s!==void 0?s:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,s,r,o=e.r/255,a=e.g/255,i=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),.2126*n+.7152*s+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=DL(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=wO(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=wO(this.r,this.g,this.b),n=Math.round(e.h*360),s=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(s,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(s,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=bO(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=bO(this.r,this.g,this.b),n=Math.round(e.h*360),s=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(s,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(s,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),_O(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),mze(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(s,")"):"rgba(".concat(e,", ").concat(n,", ").concat(s,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(yr(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(yr(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+_O(this.r,this.g,this.b,!1),n=0,s=Object.entries(m6);n<s.length;n++){var r=s[n],o=r[0],a=r[1];if(e===a)return o}return!1},t.prototype.toString=function(e){var n=Boolean(e);e=e??this.format;var s=!1,r=this.a<1&&this.a>=0,o=!n&&r&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(s=this.toRgbString()),e==="prgb"&&(s=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(s=this.toHexString()),e==="hex3"&&(s=this.toHexString(!0)),e==="hex4"&&(s=this.toHex8String(!0)),e==="hex8"&&(s=this.toHex8String()),e==="name"&&(s=this.toName()),e==="hsl"&&(s=this.toHslString()),e==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=ov(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=ov(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=ov(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=ov(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),s=(n.h+e)%360;return n.h=s<0?360+s:s,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var s=this.toRgb(),r=new t(e).toRgb(),o=n/100,a={r:(r.r-s.r)*o+s.r,g:(r.g-s.g)*o+s.g,b:(r.b-s.b)*o+s.b,a:(r.a-s.a)*o+s.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var s=this.toHsl(),r=360/n,o=[this];for(s.h=(s.h-(r*e>>1)+720)%360;--e;)s.h=(s.h+r)%360,o.push(new t(s));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),s=n.h,r=n.s,o=n.v,a=[],i=1/e;e--;)a.push(new t({h:s,s:r,v:o})),o=(o+i)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),s=new t(e).toRgb();return new t({r:s.r+(n.r-s.r)*n.a,g:s.g+(n.g-s.g)*n.a,b:s.b+(n.b-s.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),s=n.h,r=[this],o=360/e,a=1;a<e;a++)r.push(new t({h:(s+a*o)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function iu(t,e=20){return t.mix("#141414",e).toString()}function $ze(t){const e=To(),n=Fe("button");return A(()=>{let s={};const r=t.color;if(r){const o=new FL(r),a=t.dark?o.tint(20).toString():iu(o,20);if(t.plain)s=n.cssVarBlock({"bg-color":t.dark?iu(o,90):o.tint(90).toString(),"text-color":r,"border-color":t.dark?iu(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),e.value&&(s[n.cssVarBlockName("disabled-bg-color")]=t.dark?iu(o,90):o.tint(90).toString(),s[n.cssVarBlockName("disabled-text-color")]=t.dark?iu(o,50):o.tint(50).toString(),s[n.cssVarBlockName("disabled-border-color")]=t.dark?iu(o,80):o.tint(80).toString());else{const i=t.dark?iu(o,30):o.tint(30).toString(),l=o.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(s=n.cssVarBlock({"bg-color":r,"text-color":l,"border-color":r,"hover-bg-color":i,"hover-text-color":l,"hover-border-color":i,"active-bg-color":a,"active-border-color":a}),e.value){const u=t.dark?iu(o,50):o.tint(50).toString();s[n.cssVarBlockName("disabled-bg-color")]=u,s[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,s[n.cssVarBlockName("disabled-border-color")]=u}}}return s})}const xze=["aria-disabled","disabled","autofocus","type"],Sze=ue({name:"ElButton"}),Cze=ue({...Sze,props:p6,emits:uze,setup(t,{expose:e,emit:n}){const s=t,r=$ze(s),o=Fe("button"),{_ref:a,_size:i,_type:l,_disabled:u,shouldAddSpace:c,handleClick:d}=ize(s,n);return e({ref:a,size:i,type:l,disabled:u,shouldAddSpace:c}),(f,h)=>(S(),I("button",{ref_key:"_ref",ref:a,class:P([v(o).b(),v(o).m(v(l)),v(o).m(v(i)),v(o).is("disabled",v(u)),v(o).is("loading",f.loading),v(o).is("plain",f.plain),v(o).is("round",f.round),v(o).is("circle",f.circle),v(o).is("text",f.text),v(o).is("link",f.link),v(o).is("has-bg",f.bg)]),"aria-disabled":v(u)||f.loading,disabled:v(u)||f.loading,autofocus:f.autofocus,type:f.nativeType,style:ot(v(r)),onClick:h[0]||(h[0]=(...p)=>v(d)&&v(d)(...p))},[f.loading?(S(),I(lt,{key:0},[f.$slots.loading?Oe(f.$slots,"loading",{key:0}):(S(),$e(v(rt),{key:1,class:P(v(o).is("loading"))},{default:ce(()=>[(S(),$e(Vt(f.loadingIcon)))]),_:1},8,["class"]))],64)):f.icon||f.$slots.icon?(S(),$e(v(rt),{key:1},{default:ce(()=>[f.icon?(S(),$e(Vt(f.icon),{key:0})):Oe(f.$slots,"icon",{key:1})]),_:3})):ge("v-if",!0),f.$slots.default?(S(),I("span",{key:2,class:P({[v(o).em("text","expand")]:v(c)})},[Oe(f.$slots,"default")],2)):ge("v-if",!0)],14,xze))}});var kze=je(Cze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const Tze={size:p6.size,type:p6.type},Nze=ue({name:"ElButtonGroup"}),Eze=ue({...Nze,props:Tze,setup(t){const e=t;Lt(DP,on({size:Un(e,"size"),type:Un(e,"type")}));const n=Fe("button");return(s,r)=>(S(),I("div",{class:P(`${v(n).b("group")}`)},[Oe(s.$slots,"default")],2))}});var ML=je(Eze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const br=Dt(kze,{ButtonGroup:ML}),PL=ns(ML);var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mg(t){var e=t.default;if(typeof e=="function"){var n=function s(){if(this instanceof s){var r=[null];r.push.apply(r,arguments);var o=Function.bind.apply(e,r);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var LL={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){var n=1e3,s=6e4,r=36e5,o="millisecond",a="second",i="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var z=["th","st","nd","rd"],B=D%100;return"["+D+(z[(B-20)%10]||z[B]||z[0])+"]"}},b=function(D,z,B){var V=String(D);return!V||V.length>=z?D:""+Array(z+1-V.length).join(B)+D},_={s:b,z:function(D){var z=-D.utcOffset(),B=Math.abs(z),V=Math.floor(B/60),O=B%60;return(z<=0?"+":"-")+b(V,2,"0")+":"+b(O,2,"0")},m:function D(z,B){if(z.date()<B.date())return-D(B,z);var V=12*(B.year()-z.year())+(B.month()-z.month()),O=z.clone().add(V,d),F=B-O<0,L=z.clone().add(V+(F?-1:1),d);return+(-(V+(B-O)/(F?O-L:L-O))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:d,y:h,w:c,d:u,D:p,h:l,m:i,s:a,ms:o,Q:f}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},$="en",x={};x[$]=w;var k=function(D){return D instanceof M},C=function D(z,B,V){var O;if(!z)return $;if(typeof z=="string"){var F=z.toLowerCase();x[F]&&(O=F),B&&(x[F]=B,O=F);var L=z.split("-");if(!O&&L.length>1)return D(L[0])}else{var G=z.name;x[G]=z,O=G}return!V&&O&&($=O),O||!V&&$},T=function(D,z){if(k(D))return D.clone();var B=typeof z=="object"?z:{};return B.date=D,B.args=arguments,new M(B)},N=_;N.l=C,N.i=k,N.w=function(D,z){return T(D,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var M=function(){function D(B){this.$L=C(B.locale,null,!0),this.parse(B)}var z=D.prototype;return z.parse=function(B){this.$d=function(V){var O=V.date,F=V.utc;if(O===null)return new Date(NaN);if(N.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var L=O.match(g);if(L){var G=L[2]-1||0,Z=(L[7]||"0").substring(0,3);return F?new Date(Date.UTC(L[1],G,L[3]||1,L[4]||0,L[5]||0,L[6]||0,Z)):new Date(L[1],G,L[3]||1,L[4]||0,L[5]||0,L[6]||0,Z)}}return new Date(O)}(B),this.$x=B.x||{},this.init()},z.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},z.$utils=function(){return N},z.isValid=function(){return this.$d.toString()!==m},z.isSame=function(B,V){var O=T(B);return this.startOf(V)<=O&&O<=this.endOf(V)},z.isAfter=function(B,V){return T(B)<this.startOf(V)},z.isBefore=function(B,V){return this.endOf(V)<T(B)},z.$g=function(B,V,O){return N.u(B)?this[V]:this.set(O,B)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(B,V){var O=this,F=!!N.u(V)||V,L=N.p(B),G=function(Q,ie){var pe=N.w(O.$u?Date.UTC(O.$y,ie,Q):new Date(O.$y,ie,Q),O);return F?pe:pe.endOf(u)},Z=function(Q,ie){return N.w(O.toDate()[Q].apply(O.toDate("s"),(F?[0,0,0,0]:[23,59,59,999]).slice(ie)),O)},j=this.$W,J=this.$M,fe=this.$D,X="set"+(this.$u?"UTC":"");switch(L){case h:return F?G(1,0):G(31,11);case d:return F?G(1,J):G(0,J+1);case c:var oe=this.$locale().weekStart||0,ee=(j<oe?j+7:j)-oe;return G(F?fe-ee:fe+(6-ee),J);case u:case p:return Z(X+"Hours",0);case l:return Z(X+"Minutes",1);case i:return Z(X+"Seconds",2);case a:return Z(X+"Milliseconds",3);default:return this.clone()}},z.endOf=function(B){return this.startOf(B,!1)},z.$set=function(B,V){var O,F=N.p(B),L="set"+(this.$u?"UTC":""),G=(O={},O[u]=L+"Date",O[p]=L+"Date",O[d]=L+"Month",O[h]=L+"FullYear",O[l]=L+"Hours",O[i]=L+"Minutes",O[a]=L+"Seconds",O[o]=L+"Milliseconds",O)[F],Z=F===u?this.$D+(V-this.$W):V;if(F===d||F===h){var j=this.clone().set(p,1);j.$d[G](Z),j.init(),this.$d=j.set(p,Math.min(this.$D,j.daysInMonth())).$d}else G&&this.$d[G](Z);return this.init(),this},z.set=function(B,V){return this.clone().$set(B,V)},z.get=function(B){return this[N.p(B)]()},z.add=function(B,V){var O,F=this;B=Number(B);var L=N.p(V),G=function(J){var fe=T(F);return N.w(fe.date(fe.date()+Math.round(J*B)),F)};if(L===d)return this.set(d,this.$M+B);if(L===h)return this.set(h,this.$y+B);if(L===u)return G(1);if(L===c)return G(7);var Z=(O={},O[i]=s,O[l]=r,O[a]=n,O)[L]||1,j=this.$d.getTime()+B*Z;return N.w(j,this)},z.subtract=function(B,V){return this.add(-1*B,V)},z.format=function(B){var V=this,O=this.$locale();if(!this.isValid())return O.invalidDate||m;var F=B||"YYYY-MM-DDTHH:mm:ssZ",L=N.z(this),G=this.$H,Z=this.$m,j=this.$M,J=O.weekdays,fe=O.months,X=function(ie,pe,Re,K){return ie&&(ie[pe]||ie(V,F))||Re[pe].slice(0,K)},oe=function(ie){return N.s(G%12||12,ie,"0")},ee=O.meridiem||function(ie,pe,Re){var K=ie<12?"AM":"PM";return Re?K.toLowerCase():K},Q={YY:String(this.$y).slice(-2),YYYY:this.$y,M:j+1,MM:N.s(j+1,2,"0"),MMM:X(O.monthsShort,j,fe,3),MMMM:X(fe,j),D:this.$D,DD:N.s(this.$D,2,"0"),d:String(this.$W),dd:X(O.weekdaysMin,this.$W,J,2),ddd:X(O.weekdaysShort,this.$W,J,3),dddd:J[this.$W],H:String(G),HH:N.s(G,2,"0"),h:oe(1),hh:oe(2),a:ee(G,Z,!0),A:ee(G,Z,!1),m:String(Z),mm:N.s(Z,2,"0"),s:String(this.$s),ss:N.s(this.$s,2,"0"),SSS:N.s(this.$ms,3,"0"),Z:L};return F.replace(y,function(ie,pe){return pe||Q[ie]||L.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(B,V,O){var F,L=N.p(V),G=T(B),Z=(G.utcOffset()-this.utcOffset())*s,j=this-G,J=N.m(this,G);return J=(F={},F[h]=J/12,F[d]=J,F[f]=J/3,F[c]=(j-Z)/6048e5,F[u]=(j-Z)/864e5,F[l]=j/r,F[i]=j/s,F[a]=j/n,F)[L]||j,O?J:N.a(J)},z.daysInMonth=function(){return this.endOf(d).$D},z.$locale=function(){return x[this.$L]},z.locale=function(B,V){if(!B)return this.$L;var O=this.clone(),F=C(B,V,!0);return F&&(O.$L=F),O},z.clone=function(){return N.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},D}(),R=M.prototype;return T.prototype=R,[["$ms",o],["$s",a],["$m",i],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach(function(D){R[D[1]]=function(z){return this.$g(z,D[0],D[1])}}),T.extend=function(D,z){return D.$i||(D(z,M,T),D.$i=!0),T},T.locale=C,T.isDayjs=k,T.unix=function(D){return T(1e3*D)},T.en=x[$],T.Ls=x,T.p={},T})})(LL);const Nt=LL.exports;var zL={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,i={},l=function(m){return(m=+m)+(m>68?1900:2e3)},u=function(m){return function(g){this[m]=+g}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var y=g.match(/([+-]|\d\d)/g),w=60*y[1]+(+y[2]||0);return w===0?0:y[0]==="+"?-w:w}(m)}],d=function(m){var g=i[m];return g&&(g.indexOf?g:g.s.concat(g.f))},f=function(m,g){var y,w=i.meridiem;if(w){for(var b=1;b<=24;b+=1)if(m.indexOf(w(b,0,g))>-1){y=b>12;break}}else y=m===(g?"pm":"PM");return y},h={A:[a,function(m){this.afternoon=f(m,!1)}],a:[a,function(m){this.afternoon=f(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[r,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[r,u("day")],Do:[a,function(m){var g=i.ordinal,y=m.match(/\d+/);if(this.day=y[0],g)for(var w=1;w<=31;w+=1)g(w).replace(/\[|\]/g,"")===m&&(this.day=w)}],M:[o,u("month")],MM:[r,u("month")],MMM:[a,function(m){var g=d("months"),y=(d("monthsShort")||g.map(function(w){return w.slice(0,3)})).indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[a,function(m){var g=d("months").indexOf(m)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(m){this.year=l(m)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function p(m){var g,y;g=m,y=i&&i.formats;for(var w=(m=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(T,N,M){var R=M&&M.toUpperCase();return N||y[M]||n[M]||y[R].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(D,z,B){return z||B.slice(1)})})).match(s),b=w.length,_=0;_<b;_+=1){var $=w[_],x=h[$],k=x&&x[0],C=x&&x[1];w[_]=C?{regex:k,parser:C}:$.replace(/^\[|\]$/g,"")}return function(T){for(var N={},M=0,R=0;M<b;M+=1){var D=w[M];if(typeof D=="string")R+=D.length;else{var z=D.regex,B=D.parser,V=T.slice(R),O=z.exec(V)[0];B.call(N,O),T=T.replace(O,"")}}return function(F){var L=F.afternoon;if(L!==void 0){var G=F.hours;L?G<12&&(F.hours+=12):G===12&&(F.hours=0),delete F.afternoon}}(N),N}}return function(m,g,y){y.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var w=g.prototype,b=w.parse;w.parse=function(_){var $=_.date,x=_.utc,k=_.args;this.$u=x;var C=k[1];if(typeof C=="string"){var T=k[2]===!0,N=k[3]===!0,M=T||N,R=k[2];N&&(R=k[2]),i=this.$locale(),!T&&R&&(i=y.Ls[R]),this.$d=function(V,O,F){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*V);var L=p(O)(V),G=L.year,Z=L.month,j=L.day,J=L.hours,fe=L.minutes,X=L.seconds,oe=L.milliseconds,ee=L.zone,Q=new Date,ie=j||(G||Z?1:Q.getDate()),pe=G||Q.getFullYear(),Re=0;G&&!Z||(Re=Z>0?Z-1:Q.getMonth());var K=J||0,re=fe||0,we=X||0,Ie=oe||0;return ee?new Date(Date.UTC(pe,Re,ie,K,re,we,Ie+60*ee.offset*1e3)):F?new Date(Date.UTC(pe,Re,ie,K,re,we,Ie)):new Date(pe,Re,ie,K,re,we,Ie)}catch{return new Date("")}}($,C,x),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),M&&$!=this.format(C)&&(this.$d=new Date("")),i={}}else if(C instanceof Array)for(var D=C.length,z=1;z<=D;z+=1){k[1]=C[z-1];var B=y.apply(this,k);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}z===D&&(this.$d=new Date(""))}else b.call(this,_)}}})})(zL);const sk=zL.exports,xO=["hours","minutes","seconds"],g6="HH:mm:ss",Tf="YYYY-MM-DD",Ize={date:Tf,dates:Tf,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Tf} ${g6}`,monthrange:"YYYY-MM",daterange:Tf,datetimerange:`${Tf} ${g6}`},X4=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],Du=t=>Array.from(Array.from({length:t}).keys()),BL=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),VL=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),SO=function(t,e){const n=yd(t),s=yd(e);return n&&s?t.getTime()===e.getTime():!n&&!s?t===e:!1},CO=function(t,e){const n=Qe(t),s=Qe(e);return n&&s?t.length!==e.length?!1:t.every((r,o)=>SO(r,e[o])):!n&&!s?SO(t,e):!1},kO=function(t,e,n){const s=ia(e)||e==="x"?Nt(t).locale(n):Nt(t,e).locale(n);return s.isValid()?s:void 0},TO=function(t,e,n){return ia(e)?t:e==="x"?+t:Nt(t).locale(n).format(e)},Y4=(t,e)=>{var n;const s=[],r=e==null?void 0:e();for(let o=0;o<t;o++)s.push((n=r==null?void 0:r.includes(o))!=null?n:!1);return s},HL=qe({disabledHours:{type:Se(Function)},disabledMinutes:{type:Se(Function)},disabledSeconds:{type:Se(Function)}}),WL=qe({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),rk=qe({id:{type:Se([Array,String])},name:{type:Se([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Se([String,Object]),default:Bl},editable:{type:Boolean,default:!0},prefixIcon:{type:Se([String,Object]),default:""},size:wo,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Se(Object),default:()=>({})},modelValue:{type:Se([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Se([Date,Array])},defaultTime:{type:Se([Date,Array])},isRange:{type:Boolean,default:!1},...HL,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:Se([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Aze=["id","name","placeholder","value","disabled","readonly"],Oze=["id","name","placeholder","value","disabled","readonly"],Rze=ue({name:"Picker"}),Dze=ue({...Rze,props:rk,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const s=t,{lang:r}=nn(),o=Fe("date"),a=Fe("input"),i=Fe("range"),{form:l,formItem:u}=to(),c=et("ElPopperOptions",{}),d=U(),f=U(),h=U(!1),p=U(!1),m=U(null);let g=!1,y=!1;Me(h,Y=>{Y?nt(()=>{Y&&(m.value=s.modelValue)}):(_e.value=null,nt(()=>{w(s.modelValue)}))});const w=(Y,de)=>{(de||!CO(Y,m.value))&&(n("change",Y),s.validateEvent&&(u==null||u.validate("change").catch(Pe=>void 0)))},b=Y=>{if(!CO(s.modelValue,Y)){let de;Qe(Y)?de=Y.map(Pe=>TO(Pe,s.valueFormat,r.value)):Y&&(de=TO(Y,s.valueFormat,r.value)),n("update:modelValue",Y&&de,r.value)}},_=Y=>{n("keydown",Y)},$=A(()=>{if(f.value){const Y=re.value?f.value:f.value.$el;return Array.from(Y.querySelectorAll("input"))}return[]}),x=(Y,de,Pe)=>{const We=$.value;!We.length||(!Pe||Pe==="min"?(We[0].setSelectionRange(Y,de),We[0].focus()):Pe==="max"&&(We[1].setSelectionRange(Y,de),We[1].focus()))},k=()=>{B(!0,!0),nt(()=>{y=!1})},C=(Y="",de=!1)=>{de||(y=!0),h.value=de;let Pe;Qe(Y)?Pe=Y.map(We=>We.toDate()):Pe=Y&&Y.toDate(),_e.value=null,b(Pe)},T=()=>{p.value=!0},N=()=>{n("visible-change",!0)},M=Y=>{(Y==null?void 0:Y.key)===ut.esc&&B(!0,!0)},R=()=>{p.value=!1,h.value=!1,y=!1,n("visible-change",!1)},D=()=>{h.value=!0},z=()=>{h.value=!1},B=(Y=!0,de=!1)=>{y=de;const[Pe,We]=v($);let Ft=Pe;!Y&&re.value&&(Ft=We),Ft&&Ft.focus()},V=Y=>{s.readonly||L.value||h.value||y||(h.value=!0,n("focus",Y))};let O;const F=Y=>{const de=async()=>{setTimeout(()=>{var Pe;O===de&&(!(((Pe=d.value)==null?void 0:Pe.isFocusInsideContent())&&!g)&&$.value.filter(We=>We.contains(document.activeElement)).length===0&&(ze(),h.value=!1,n("blur",Y),s.validateEvent&&(u==null||u.validate("blur").catch(We=>void 0))),g=!1)},0)};O=de,de()},L=A(()=>s.disabled||(l==null?void 0:l.disabled)),G=A(()=>{let Y;if(Q.value?dt.value.getDefaultValue&&(Y=dt.value.getDefaultValue()):Qe(s.modelValue)?Y=s.modelValue.map(de=>kO(de,s.valueFormat,r.value)):Y=kO(s.modelValue,s.valueFormat,r.value),dt.value.getRangeAvailableTime){const de=dt.value.getRangeAvailableTime(Y);Wo(de,Y)||(Y=de,b(Qe(Y)?Y.map(Pe=>Pe.toDate()):Y.toDate()))}return Qe(Y)&&Y.some(de=>!de)&&(Y=[]),Y}),Z=A(()=>{if(!dt.value.panelReady)return"";const Y=he(G.value);return Qe(_e.value)?[_e.value[0]||Y&&Y[0]||"",_e.value[1]||Y&&Y[1]||""]:_e.value!==null?_e.value:!J.value&&Q.value||!h.value&&Q.value?"":Y?fe.value?Y.join(", "):Y:""}),j=A(()=>s.type.includes("time")),J=A(()=>s.type.startsWith("time")),fe=A(()=>s.type==="dates"),X=A(()=>s.prefixIcon||(j.value?EC:uP)),oe=U(!1),ee=Y=>{s.readonly||L.value||oe.value&&(Y.stopPropagation(),k(),b(null),w(null,!0),oe.value=!1,h.value=!1,dt.value.handleClear&&dt.value.handleClear())},Q=A(()=>{const{modelValue:Y}=s;return!Y||Qe(Y)&&!Y.filter(Boolean).length}),ie=async Y=>{var de;s.readonly||L.value||(((de=Y.target)==null?void 0:de.tagName)!=="INPUT"||$.value.includes(document.activeElement))&&(h.value=!0)},pe=()=>{s.readonly||L.value||!Q.value&&s.clearable&&(oe.value=!0)},Re=()=>{oe.value=!1},K=Y=>{var de;s.readonly||L.value||(((de=Y.touches[0].target)==null?void 0:de.tagName)!=="INPUT"||$.value.includes(document.activeElement))&&(h.value=!0)},re=A(()=>s.type.includes("range")),we=ks(),Ie=A(()=>{var Y,de;return(de=(Y=v(d))==null?void 0:Y.popperRef)==null?void 0:de.contentRef}),De=A(()=>{var Y;return v(re)?v(f):(Y=v(f))==null?void 0:Y.$el});CC(De,Y=>{const de=v(Ie),Pe=v(De);de&&(Y.target===de||Y.composedPath().includes(de))||Y.target===Pe||Y.composedPath().includes(Pe)||(h.value=!1)});const _e=U(null),ze=()=>{if(_e.value){const Y=Ae(Z.value);Y&&ve(Y)&&(b(Qe(Y)?Y.map(de=>de.toDate()):Y.toDate()),_e.value=null)}_e.value===""&&(b(null),w(null),_e.value=null)},Ae=Y=>Y?dt.value.parseUserInput(Y):null,he=Y=>Y?dt.value.formatToString(Y):null,ve=Y=>dt.value.isValidValue(Y),me=async Y=>{if(s.readonly||L.value)return;const{code:de}=Y;if(_(Y),de===ut.esc){h.value===!0&&(h.value=!1,Y.preventDefault(),Y.stopPropagation());return}if(de===ut.down&&(dt.value.handleFocusPicker&&(Y.preventDefault(),Y.stopPropagation()),h.value===!1&&(h.value=!0,await nt()),dt.value.handleFocusPicker)){dt.value.handleFocusPicker();return}if(de===ut.tab){g=!0;return}if(de===ut.enter||de===ut.numpadEnter){(_e.value===null||_e.value===""||ve(Ae(Z.value)))&&(ze(),h.value=!1),Y.stopPropagation();return}if(_e.value){Y.stopPropagation();return}dt.value.handleKeydownInput&&dt.value.handleKeydownInput(Y)},Ve=Y=>{_e.value=Y,h.value||(h.value=!0)},Ye=Y=>{const de=Y.target;_e.value?_e.value=[de.value,_e.value[1]]:_e.value=[de.value,null]},Je=Y=>{const de=Y.target;_e.value?_e.value=[_e.value[0],de.value]:_e.value=[null,de.value]},ct=()=>{var Y;const de=_e.value,Pe=Ae(de&&de[0]),We=v(G);if(Pe&&Pe.isValid()){_e.value=[he(Pe),((Y=Z.value)==null?void 0:Y[1])||null];const Ft=[Pe,We&&(We[1]||null)];ve(Ft)&&(b(Ft),_e.value=null)}},xt=()=>{var Y;const de=v(_e),Pe=Ae(de&&de[1]),We=v(G);if(Pe&&Pe.isValid()){_e.value=[((Y=v(Z))==null?void 0:Y[0])||null,he(Pe)];const Ft=[We&&We[0],Pe];ve(Ft)&&(b(Ft),_e.value=null)}},dt=U({}),xe=Y=>{dt.value[Y[0]]=Y[1],dt.value.panelReady=!0},Ke=Y=>{n("calendar-change",Y)},at=(Y,de,Pe)=>{n("panel-change",Y,de,Pe)};return Lt("EP_PICKER_BASE",{props:s}),e({focus:B,handleFocusInput:V,handleBlurInput:F,handleOpen:D,handleClose:z,onPick:C}),(Y,de)=>(S(),$e(v(No),zt({ref_key:"refPopper",ref:d,visible:h.value,effect:"light",pure:"",trigger:"click"},Y.$attrs,{role:"dialog",teleported:"",transition:`${v(o).namespace.value}-zoom-in-top`,"popper-class":[`${v(o).namespace.value}-picker__popper`,Y.popperClass],"popper-options":v(c),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:T,onShow:N,onHide:R}),{default:ce(()=>[v(re)?(S(),I("div",{key:1,ref_key:"inputRef",ref:f,class:P([v(o).b("editor"),v(o).bm("editor",Y.type),v(a).e("wrapper"),v(o).is("disabled",v(L)),v(o).is("active",h.value),v(i).b("editor"),v(we)?v(i).bm("editor",v(we)):"",Y.$attrs.class]),style:ot(Y.$attrs.style),onClick:V,onMouseenter:pe,onMouseleave:Re,onTouchstart:K,onKeydown:me},[v(X)?(S(),$e(v(rt),{key:0,class:P([v(a).e("icon"),v(i).e("icon")]),onMousedown:yt(ie,["prevent"]),onTouchstart:K},{default:ce(()=>[(S(),$e(Vt(v(X))))]),_:1},8,["class","onMousedown"])):ge("v-if",!0),E("input",{id:Y.id&&Y.id[0],autocomplete:"off",name:Y.name&&Y.name[0],placeholder:Y.startPlaceholder,value:v(Z)&&v(Z)[0],disabled:v(L),readonly:!Y.editable||Y.readonly,class:P(v(i).b("input")),onMousedown:ie,onInput:Ye,onChange:ct,onFocus:V,onBlur:F},null,42,Aze),Oe(Y.$slots,"range-separator",{},()=>[E("span",{class:P(v(i).b("separator"))},Ue(Y.rangeSeparator),3)]),E("input",{id:Y.id&&Y.id[1],autocomplete:"off",name:Y.name&&Y.name[1],placeholder:Y.endPlaceholder,value:v(Z)&&v(Z)[1],disabled:v(L),readonly:!Y.editable||Y.readonly,class:P(v(i).b("input")),onMousedown:ie,onFocus:V,onBlur:F,onInput:Je,onChange:xt},null,42,Oze),Y.clearIcon?(S(),$e(v(rt),{key:1,class:P([v(a).e("icon"),v(i).e("close-icon"),{[v(i).e("close-icon--hidden")]:!oe.value}]),onClick:ee},{default:ce(()=>[(S(),$e(Vt(Y.clearIcon)))]),_:1},8,["class"])):ge("v-if",!0)],38)):(S(),$e(v(Or),{key:0,id:Y.id,ref_key:"inputRef",ref:f,"container-role":"combobox","model-value":v(Z),name:Y.name,size:v(we),disabled:v(L),placeholder:Y.placeholder,class:P([v(o).b("editor"),v(o).bm("editor",Y.type),Y.$attrs.class]),style:ot(Y.$attrs.style),readonly:!Y.editable||Y.readonly||v(fe)||Y.type==="week",label:Y.label,tabindex:Y.tabindex,"validate-event":!1,onInput:Ve,onFocus:V,onBlur:F,onKeydown:me,onChange:ze,onMousedown:ie,onMouseenter:pe,onMouseleave:Re,onTouchstart:K,onClick:de[0]||(de[0]=yt(()=>{},["stop"]))},{prefix:ce(()=>[v(X)?(S(),$e(v(rt),{key:0,class:P(v(a).e("icon")),onMousedown:yt(ie,["prevent"]),onTouchstart:K},{default:ce(()=>[(S(),$e(Vt(v(X))))]),_:1},8,["class","onMousedown"])):ge("v-if",!0)]),suffix:ce(()=>[oe.value&&Y.clearIcon?(S(),$e(v(rt),{key:0,class:P(`${v(a).e("icon")} clear-icon`),onClick:yt(ee,["stop"])},{default:ce(()=>[(S(),$e(Vt(Y.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:ce(()=>[Oe(Y.$slots,"default",{visible:h.value,actualVisible:p.value,parsedValue:v(G),format:Y.format,unlinkPanels:Y.unlinkPanels,type:Y.type,defaultValue:Y.defaultValue,onPick:C,onSelectRange:x,onSetPickerOption:xe,onCalendarChange:Ke,onPanelChange:at,onKeydown:M,onMousedown:de[1]||(de[1]=yt(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var UL=je(Dze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Fze=qe({...WL,datetimeRole:String,parsedValue:{type:Se(Object)}}),GL=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const s=(a,i,l,u)=>{const c={hour:t,minute:e,second:n};let d=a;return["hour","minute","second"].forEach(f=>{if(c[f]){let h;const p=c[f];switch(f){case"minute":{h=p(d.hour(),i,u);break}case"second":{h=p(d.hour(),d.minute(),i,u);break}default:{h=p(i,u);break}}if((h==null?void 0:h.length)&&!h.includes(d[f]())){const m=l?0:h.length-1;d=d[f](h[m])}}}),d},r={};return{timePickerOptions:r,getAvailableTime:s,onSetOption:([a,i])=>{r[a]=i}}},Z4=t=>{const e=(s,r)=>s||r,n=s=>s!==!0;return t.map(e).filter(n)},jL=(t,e,n)=>({getHoursList:(a,i)=>Y4(24,t&&(()=>t==null?void 0:t(a,i))),getMinutesList:(a,i,l)=>Y4(60,e&&(()=>e==null?void 0:e(a,i,l))),getSecondsList:(a,i,l,u)=>Y4(60,n&&(()=>n==null?void 0:n(a,i,l,u)))}),KL=(t,e,n)=>{const{getHoursList:s,getMinutesList:r,getSecondsList:o}=jL(t,e,n);return{getAvailableHours:(u,c)=>Z4(s(u,c)),getAvailableMinutes:(u,c,d)=>Z4(r(u,c,d)),getAvailableSeconds:(u,c,d,f)=>Z4(o(u,c,d,f))}},qL=t=>{const e=U(t.parsedValue);return Me(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},fu=new Map;let NO;Kt&&(document.addEventListener("mousedown",t=>NO=t),document.addEventListener("mouseup",t=>{for(const e of fu.values())for(const{documentHandler:n}of e)n(t,NO)}));function EO(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:Qa(e.arg)&&n.push(e.arg),function(s,r){const o=e.instance.popperRef,a=s.target,i=r==null?void 0:r.target,l=!e||!e.instance,u=!a||!i,c=t.contains(a)||t.contains(i),d=t===a,f=n.length&&n.some(p=>p==null?void 0:p.contains(a))||n.length&&n.includes(i),h=o&&(o.contains(a)||o.contains(i));l||u||c||d||f||h||e.value(s,r)}}const Ku={beforeMount(t,e){fu.has(t)||fu.set(t,[]),fu.get(t).push({documentHandler:EO(t,e),bindingFn:e.value})},updated(t,e){fu.has(t)||fu.set(t,[]);const n=fu.get(t),s=n.findIndex(o=>o.bindingFn===e.oldValue),r={documentHandler:EO(t,e),bindingFn:e.value};s>=0?n.splice(s,1,r):n.push(r)},unmounted(t){fu.delete(t)}},Mze=100,Pze=600,Oy={beforeMount(t,e){const n=e.value,{interval:s=Mze,delay:r=Pze}=vt(n)?{}:n;let o,a;const i=()=>vt(n)?n():n.handler(),l=()=>{a&&(clearTimeout(a),a=void 0),o&&(clearInterval(o),o=void 0)};t.addEventListener("mousedown",u=>{u.button===0&&(l(),i(),document.addEventListener("mouseup",()=>l(),{once:!0}),a=setTimeout(()=>{o=setInterval(()=>{i()},s)},r))})}},v6="_trap-focus-children",Kc=[],IO=t=>{if(Kc.length===0)return;const e=Kc[Kc.length-1][v6];if(e.length>0&&t.code===ut.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,s=t.target===e[0],r=t.target===e[e.length-1];s&&n&&(t.preventDefault(),e[e.length-1].focus()),r&&!n&&(t.preventDefault(),e[0].focus())}},Lze={beforeMount(t){t[v6]=TA(t),Kc.push(t),Kc.length<=1&&document.addEventListener("keydown",IO)},updated(t){nt(()=>{t[v6]=TA(t)})},unmounted(){Kc.shift(),Kc.length===0&&document.removeEventListener("keydown",IO)}};var AO=!1,zc,y6,b6,Gv,jv,XL,Kv,w6,_6,$6,YL,x6,S6,ZL,JL;function so(){if(!AO){AO=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(x6=/\b(iPhone|iP[ao]d)/.exec(t),S6=/\b(iP[ao]d)/.exec(t),$6=/Android/i.exec(t),ZL=/FBAN\/\w+;/i.exec(t),JL=/Mobile/i.exec(t),YL=!!/Win64/.exec(t),e){zc=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,zc&&document&&document.documentMode&&(zc=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(t);XL=s?parseFloat(s[1])+4:zc,y6=e[2]?parseFloat(e[2]):NaN,b6=e[3]?parseFloat(e[3]):NaN,Gv=e[4]?parseFloat(e[4]):NaN,Gv?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),jv=e&&e[1]?parseFloat(e[1]):NaN):jv=NaN}else zc=y6=b6=jv=Gv=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Kv=r?parseFloat(r[1].replace("_",".")):!0}else Kv=!1;w6=!!n[2],_6=!!n[3]}else Kv=w6=_6=!1}}var C6={ie:function(){return so()||zc},ieCompatibilityMode:function(){return so()||XL>zc},ie64:function(){return C6.ie()&&YL},firefox:function(){return so()||y6},opera:function(){return so()||b6},webkit:function(){return so()||Gv},safari:function(){return C6.webkit()},chrome:function(){return so()||jv},windows:function(){return so()||w6},osx:function(){return so()||Kv},linux:function(){return so()||_6},iphone:function(){return so()||x6},mobile:function(){return so()||x6||S6||$6||JL},nativeApp:function(){return so()||ZL},android:function(){return so()||$6},ipad:function(){return so()||S6}},zze=C6,iv=!!(typeof window<"u"&&window.document&&window.document.createElement),Bze={canUseDOM:iv,canUseWorkers:typeof Worker<"u",canUseEventListeners:iv&&!!(window.addEventListener||window.attachEvent),canUseViewport:iv&&!!window.screen,isInWorker:!iv},QL=Bze,ez;QL.canUseDOM&&(ez=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Vze(t,e){if(!QL.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,s=n in document;if(!s){var r=document.createElement("div");r.setAttribute(n,"return;"),s=typeof r[n]=="function"}return!s&&ez&&t==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var Hze=Vze,OO=10,RO=40,DO=800;function tz(t){var e=0,n=0,s=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),s=e*OO,r=n*OO,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(s=t.deltaX),(s||r)&&t.deltaMode&&(t.deltaMode==1?(s*=RO,r*=RO):(s*=DO,r*=DO)),s&&!e&&(e=s<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:s,pixelY:r}}tz.getEventType=function(){return zze.firefox()?"DOMMouseScroll":Hze("wheel")?"wheel":"mousewheel"};var Wze=tz;const Uze=function(t,e){if(t&&t.addEventListener){const n=function(s){const r=Wze(s);e&&Reflect.apply(e,this,[s,r])};t.addEventListener("wheel",n,{passive:!0})}},Gze={beforeMount(t,e){Uze(t,e.value)}},jze=qe({role:{type:String,required:!0},spinnerDate:{type:Se(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Se(String),default:""},...HL}),Kze=["onClick"],qze=["onMouseenter"],Xze=ue({__name:"basic-time-spinner",props:jze,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,s=Fe("time"),{getHoursList:r,getMinutesList:o,getSecondsList:a}=jL(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let i=!1;const l=U(),u=U(),c=U(),d=U(),f={hours:u,minutes:c,seconds:d},h=A(()=>n.showSeconds?xO:xO.slice(0,2)),p=A(()=>{const{spinnerDate:L}=n,G=L.hour(),Z=L.minute(),j=L.second();return{hours:G,minutes:Z,seconds:j}}),m=A(()=>{const{hours:L,minutes:G}=v(p);return{hours:r(n.role),minutes:o(L,n.role),seconds:a(L,G,n.role)}}),g=A(()=>{const{hours:L,minutes:G,seconds:Z}=v(p);return{hours:X4(L,23),minutes:X4(G,59),seconds:X4(Z,59)}}),y=Xr(L=>{i=!1,_(L)},200),w=L=>{if(!!!n.amPmMode)return"";const Z=n.amPmMode==="A";let j=L<12?" am":" pm";return Z&&(j=j.toUpperCase()),j},b=L=>{let G;switch(L){case"hours":G=[0,2];break;case"minutes":G=[3,5];break;case"seconds":G=[6,8];break}const[Z,j]=G;e("select-range",Z,j),l.value=L},_=L=>{k(L,v(p)[L])},$=()=>{_("hours"),_("minutes"),_("seconds")},x=L=>L.querySelector(`.${s.namespace.value}-scrollbar__wrap`),k=(L,G)=>{if(n.arrowControl)return;const Z=v(f[L]);Z&&Z.$el&&(x(Z.$el).scrollTop=Math.max(0,G*C(L)))},C=L=>{const G=v(f[L]);return(G==null?void 0:G.$el.querySelector("li").offsetHeight)||0},T=()=>{M(1)},N=()=>{M(-1)},M=L=>{l.value||b("hours");const G=l.value,Z=v(p)[G],j=l.value==="hours"?24:60,J=R(G,Z,L,j);D(G,J),k(G,J),nt(()=>b(G))},R=(L,G,Z,j)=>{let J=(G+Z+j)%j;const fe=v(m)[L];for(;fe[J]&&J!==G;)J=(J+Z+j)%j;return J},D=(L,G)=>{if(v(m)[L][G])return;const{hours:J,minutes:fe,seconds:X}=v(p);let oe;switch(L){case"hours":oe=n.spinnerDate.hour(G).minute(fe).second(X);break;case"minutes":oe=n.spinnerDate.hour(J).minute(G).second(X);break;case"seconds":oe=n.spinnerDate.hour(J).minute(fe).second(G);break}e("change",oe)},z=(L,{value:G,disabled:Z})=>{Z||(D(L,G),b(L),k(L,G))},B=L=>{i=!0,y(L);const G=Math.min(Math.round((x(v(f[L]).$el).scrollTop-(V(L)*.5-10)/C(L)+3)/C(L)),L==="hours"?23:59);D(L,G)},V=L=>v(f[L]).$el.offsetHeight,O=()=>{const L=G=>{const Z=v(f[G]);Z&&Z.$el&&(x(Z.$el).onscroll=()=>{B(G)})};L("hours"),L("minutes"),L("seconds")};Et(()=>{nt(()=>{!n.arrowControl&&O(),$(),n.role==="start"&&b("hours")})});const F=(L,G)=>{f[G].value=L};return e("set-option",[`${n.role}_scrollDown`,M]),e("set-option",[`${n.role}_emitSelectRange`,b]),Me(()=>n.spinnerDate,()=>{i||$()}),(L,G)=>(S(),I("div",{class:P([v(s).b("spinner"),{"has-seconds":L.showSeconds}])},[L.arrowControl?ge("v-if",!0):(S(!0),I(lt,{key:0},Gt(v(h),Z=>(S(),$e(v(jl),{key:Z,ref_for:!0,ref:j=>F(j,Z),class:P(v(s).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":v(s).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:j=>b(Z),onMousemove:j=>_(Z)},{default:ce(()=>[(S(!0),I(lt,null,Gt(v(m)[Z],(j,J)=>(S(),I("li",{key:J,class:P([v(s).be("spinner","item"),v(s).is("active",J===v(p)[Z]),v(s).is("disabled",j)]),onClick:fe=>z(Z,{value:J,disabled:j})},[Z==="hours"?(S(),I(lt,{key:0},[Jt(Ue(("0"+(L.amPmMode?J%12||12:J)).slice(-2))+Ue(w(J)),1)],64)):(S(),I(lt,{key:1},[Jt(Ue(("0"+J).slice(-2)),1)],64))],10,Kze))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),L.arrowControl?(S(!0),I(lt,{key:1},Gt(v(h),Z=>(S(),I("div",{key:Z,class:P([v(s).be("spinner","wrapper"),v(s).is("arrow")]),onMouseenter:j=>b(Z)},[St((S(),$e(v(rt),{class:P(["arrow-up",v(s).be("spinner","arrow")])},{default:ce(()=>[se(v(Og))]),_:1},8,["class"])),[[v(Oy),N]]),St((S(),$e(v(rt),{class:P(["arrow-down",v(s).be("spinner","arrow")])},{default:ce(()=>[se(v(zl))]),_:1},8,["class"])),[[v(Oy),T]]),E("ul",{class:P(v(s).be("spinner","list"))},[(S(!0),I(lt,null,Gt(v(g)[Z],(j,J)=>(S(),I("li",{key:J,class:P([v(s).be("spinner","item"),v(s).is("active",j===v(p)[Z]),v(s).is("disabled",v(m)[Z][j])])},[typeof j=="number"?(S(),I(lt,{key:0},[Z==="hours"?(S(),I(lt,{key:0},[Jt(Ue(("0"+(L.amPmMode?j%12||12:j)).slice(-2))+Ue(w(j)),1)],64)):(S(),I(lt,{key:1},[Jt(Ue(("0"+j).slice(-2)),1)],64))],64)):ge("v-if",!0)],2))),128))],2)],42,qze))),128)):ge("v-if",!0)],2))}});var k6=je(Xze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Yze=ue({__name:"panel-time-pick",props:Fze,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,s=et("EP_PICKER_BASE"),{arrowControl:r,disabledHours:o,disabledMinutes:a,disabledSeconds:i,defaultValue:l}=s.props,{getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:d}=KL(o,a,i),f=Fe("time"),{t:h,lang:p}=nn(),m=U([0,2]),g=qL(n),y=A(()=>er(n.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),w=A(()=>n.format.includes("ss")),b=A(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),_=F=>{const L=Nt(F).locale(p.value),G=z(L);return L.isSame(G)},$=()=>{e("pick",g.value,!1)},x=(F=!1,L=!1)=>{L||e("pick",n.parsedValue,F)},k=F=>{if(!n.visible)return;const L=z(F).millisecond(0);e("pick",L,!0)},C=(F,L)=>{e("select-range",F,L),m.value=[F,L]},T=F=>{const L=[0,3].concat(w.value?[6]:[]),G=["hours","minutes"].concat(w.value?["seconds"]:[]),j=(L.indexOf(m.value[0])+F+L.length)%L.length;M.start_emitSelectRange(G[j])},N=F=>{const L=F.code,{left:G,right:Z,up:j,down:J}=ut;if([G,Z].includes(L)){T(L===G?-1:1),F.preventDefault();return}if([j,J].includes(L)){const fe=L===j?-1:1;M.start_scrollDown(fe),F.preventDefault();return}},{timePickerOptions:M,onSetOption:R,getAvailableTime:D}=GL({getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:d}),z=F=>D(F,n.datetimeRole||"",!0),B=F=>F?Nt(F,n.format).locale(p.value):null,V=F=>F?F.format(n.format):null,O=()=>Nt(l).locale(p.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",V]),e("set-picker-option",["parseUserInput",B]),e("set-picker-option",["handleKeydownInput",N]),e("set-picker-option",["getRangeAvailableTime",z]),e("set-picker-option",["getDefaultValue",O]),(F,L)=>(S(),$e(ms,{name:v(y)},{default:ce(()=>[F.actualVisible||F.visible?(S(),I("div",{key:0,class:P(v(f).b("panel"))},[E("div",{class:P([v(f).be("panel","content"),{"has-seconds":v(w)}])},[se(k6,{ref:"spinner",role:F.datetimeRole||"start","arrow-control":v(r),"show-seconds":v(w),"am-pm-mode":v(b),"spinner-date":F.parsedValue,"disabled-hours":v(o),"disabled-minutes":v(a),"disabled-seconds":v(i),onChange:k,onSetOption:v(R),onSelectRange:C},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),E("div",{class:P(v(f).be("panel","footer"))},[E("button",{type:"button",class:P([v(f).be("panel","btn"),"cancel"]),onClick:$},Ue(v(h)("el.datepicker.cancel")),3),E("button",{type:"button",class:P([v(f).be("panel","btn"),"confirm"]),onClick:L[0]||(L[0]=G=>x())},Ue(v(h)("el.datepicker.confirm")),3)],2)],2)):ge("v-if",!0)]),_:1},8,["name"]))}});var Ry=je(Yze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const Zze=qe({...WL,parsedValue:{type:Se(Array)}}),Jze=["disabled"],Qze=ue({__name:"panel-time-range",props:Zze,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,s=(ie,pe)=>{const Re=[];for(let K=ie;K<=pe;K++)Re.push(K);return Re},{t:r,lang:o}=nn(),a=Fe("time"),i=Fe("picker"),l=et("EP_PICKER_BASE"),{arrowControl:u,disabledHours:c,disabledMinutes:d,disabledSeconds:f,defaultValue:h}=l.props,p=A(()=>n.parsedValue[0]),m=A(()=>n.parsedValue[1]),g=qL(n),y=()=>{e("pick",g.value,!1)},w=A(()=>n.format.includes("ss")),b=A(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),_=(ie=!1)=>{e("pick",[p.value,m.value],ie)},$=ie=>{C(ie.millisecond(0),m.value)},x=ie=>{C(p.value,ie.millisecond(0))},k=ie=>{const pe=ie.map(K=>Nt(K).locale(o.value)),Re=L(pe);return pe[0].isSame(Re[0])&&pe[1].isSame(Re[1])},C=(ie,pe)=>{e("pick",[ie,pe],!0)},T=A(()=>p.value>m.value),N=U([0,2]),M=(ie,pe)=>{e("select-range",ie,pe,"min"),N.value=[ie,pe]},R=A(()=>w.value?11:8),D=(ie,pe)=>{e("select-range",ie,pe,"max");const Re=v(R);N.value=[ie+Re,pe+Re]},z=ie=>{const pe=w.value?[0,3,6,11,14,17]:[0,3,8,11],Re=["hours","minutes"].concat(w.value?["seconds"]:[]),re=(pe.indexOf(N.value[0])+ie+pe.length)%pe.length,we=pe.length/2;re<we?J.start_emitSelectRange(Re[re]):J.end_emitSelectRange(Re[re-we])},B=ie=>{const pe=ie.code,{left:Re,right:K,up:re,down:we}=ut;if([Re,K].includes(pe)){z(pe===Re?-1:1),ie.preventDefault();return}if([re,we].includes(pe)){const Ie=pe===re?-1:1,De=N.value[0]<R.value?"start":"end";J[`${De}_scrollDown`](Ie),ie.preventDefault();return}},V=(ie,pe)=>{const Re=c?c(ie):[],K=ie==="start",we=(pe||(K?m.value:p.value)).hour(),Ie=K?s(we+1,23):s(0,we-1);return V4(Re,Ie)},O=(ie,pe,Re)=>{const K=d?d(ie,pe):[],re=pe==="start",we=Re||(re?m.value:p.value),Ie=we.hour();if(ie!==Ie)return K;const De=we.minute(),_e=re?s(De+1,59):s(0,De-1);return V4(K,_e)},F=(ie,pe,Re,K)=>{const re=f?f(ie,pe,Re):[],we=Re==="start",Ie=K||(we?m.value:p.value),De=Ie.hour(),_e=Ie.minute();if(ie!==De||pe!==_e)return re;const ze=Ie.second(),Ae=we?s(ze+1,59):s(0,ze-1);return V4(re,Ae)},L=([ie,pe])=>[fe(ie,"start",!0,pe),fe(pe,"end",!1,ie)],{getAvailableHours:G,getAvailableMinutes:Z,getAvailableSeconds:j}=KL(V,O,F),{timePickerOptions:J,getAvailableTime:fe,onSetOption:X}=GL({getAvailableHours:G,getAvailableMinutes:Z,getAvailableSeconds:j}),oe=ie=>ie?Qe(ie)?ie.map(pe=>Nt(pe,n.format).locale(o.value)):Nt(ie,n.format).locale(o.value):null,ee=ie=>ie?Qe(ie)?ie.map(pe=>pe.format(n.format)):ie.format(n.format):null,Q=()=>{if(Qe(h))return h.map(pe=>Nt(pe).locale(o.value));const ie=Nt(h).locale(o.value);return[ie,ie.add(60,"m")]};return e("set-picker-option",["formatToString",ee]),e("set-picker-option",["parseUserInput",oe]),e("set-picker-option",["isValidValue",k]),e("set-picker-option",["handleKeydownInput",B]),e("set-picker-option",["getDefaultValue",Q]),e("set-picker-option",["getRangeAvailableTime",L]),(ie,pe)=>ie.actualVisible?(S(),I("div",{key:0,class:P([v(a).b("range-picker"),v(i).b("panel")])},[E("div",{class:P(v(a).be("range-picker","content"))},[E("div",{class:P(v(a).be("range-picker","cell"))},[E("div",{class:P(v(a).be("range-picker","header"))},Ue(v(r)("el.datepicker.startTime")),3),E("div",{class:P([v(a).be("range-picker","body"),v(a).be("panel","content"),v(a).is("arrow",v(u)),{"has-seconds":v(w)}])},[se(k6,{ref:"minSpinner",role:"start","show-seconds":v(w),"am-pm-mode":v(b),"arrow-control":v(u),"spinner-date":v(p),"disabled-hours":V,"disabled-minutes":O,"disabled-seconds":F,onChange:$,onSetOption:v(X),onSelectRange:M},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),E("div",{class:P(v(a).be("range-picker","cell"))},[E("div",{class:P(v(a).be("range-picker","header"))},Ue(v(r)("el.datepicker.endTime")),3),E("div",{class:P([v(a).be("range-picker","body"),v(a).be("panel","content"),v(a).is("arrow",v(u)),{"has-seconds":v(w)}])},[se(k6,{ref:"maxSpinner",role:"end","show-seconds":v(w),"am-pm-mode":v(b),"arrow-control":v(u),"spinner-date":v(m),"disabled-hours":V,"disabled-minutes":O,"disabled-seconds":F,onChange:x,onSetOption:v(X),onSelectRange:D},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),E("div",{class:P(v(a).be("panel","footer"))},[E("button",{type:"button",class:P([v(a).be("panel","btn"),"cancel"]),onClick:pe[0]||(pe[0]=Re=>y())},Ue(v(r)("el.datepicker.cancel")),3),E("button",{type:"button",class:P([v(a).be("panel","btn"),"confirm"]),disabled:v(T),onClick:pe[1]||(pe[1]=Re=>_())},Ue(v(r)("el.datepicker.confirm")),11,Jze)],2)],2)):ge("v-if",!0)}});var e7e=je(Qze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);Nt.extend(sk);var t7e=ue({name:"ElTimePicker",install:null,props:{...rk,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=U(),[s,r]=t.isRange?["timerange",e7e]:["time",Ry],o=a=>e.emit("update:modelValue",a);return Lt("ElPopperOptions",t.popperOptions),e.expose({focus:a=>{var i;(i=n.value)==null||i.handleFocusInput(a)},blur:a=>{var i;(i=n.value)==null||i.handleBlurInput(a)},handleOpen:()=>{var a;(a=n.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=n.value)==null||a.handleClose()}}),()=>{var a;const i=(a=t.format)!=null?a:g6;return se(UL,zt(t,{ref:n,type:s,format:i,"onUpdate:modelValue":o}),{default:l=>se(r,l,null)})}}});const qv=t7e;qv.install=t=>{t.component(qv.name,qv)};const n7e=qv,s7e=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return Du(e).map((s,r)=>n-(e-r-1))},r7e=t=>{const e=t.daysInMonth();return Du(e).map((n,s)=>s+1)},o7e=t=>Du(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),a7e=qe({selectedDay:{type:Se(Object)},range:{type:Se(Array)},date:{type:Se(Object),required:!0},hideHeader:{type:Boolean}}),i7e={pick:t=>Bt(t)};var nz={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){return function(n,s,r){var o=s.prototype,a=function(d){return d&&(d.indexOf?d:d.s)},i=function(d,f,h,p,m){var g=d.name?d:d.$locale(),y=a(g[f]),w=a(g[h]),b=y||w.map(function($){return $.slice(0,p)});if(!m)return b;var _=g.weekStart;return b.map(function($,x){return b[(x+(_||0))%7]})},l=function(){return r.Ls[r.locale()]},u=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,m,g){return m||g.slice(1)})}(d.formats[f.toUpperCase()])},c=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):i(d,"months")},monthsShort:function(f){return f?f.format("MMM"):i(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):i(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):i(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):i(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return u(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},r.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(f){return u(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},r.months=function(){return i(l(),"months")},r.monthsShort=function(){return i(l(),"monthsShort","months",3)},r.weekdays=function(d){return i(l(),"weekdays",null,null,d)},r.weekdaysShort=function(d){return i(l(),"weekdaysShort","weekdays",3,d)},r.weekdaysMin=function(d){return i(l(),"weekdaysMin","weekdays",2,d)}}})})(nz);const sz=nz.exports,l7e=(t,e)=>{Nt.extend(sz);const n=Nt.localeData().firstDayOfWeek(),{t:s,lang:r}=nn(),o=Nt().locale(r.value),a=A(()=>!!t.range&&!!t.range.length),i=A(()=>{let f=[];if(a.value){const[h,p]=t.range,m=Du(p.date()-h.date()+1).map(w=>({text:h.date()+w,type:"current"}));let g=m.length%7;g=g===0?0:7-g;const y=Du(g).map((w,b)=>({text:b+1,type:"next"}));f=m.concat(y)}else{const h=t.date.startOf("month").day(),p=s7e(t.date,(h-n+7)%7).map(w=>({text:w,type:"prev"})),m=r7e(t.date).map(w=>({text:w,type:"current"}));f=[...p,...m];const g=7-(f.length%7||7),y=Du(g).map((w,b)=>({text:b+1,type:"next"}));f=f.concat(y)}return o7e(f)}),l=A(()=>{const f=n;return f===0?H4.map(h=>s(`el.datepicker.weeks.${h}`)):H4.slice(f).concat(H4.slice(0,f)).map(h=>s(`el.datepicker.weeks.${h}`))}),u=(f,h)=>{switch(h){case"prev":return t.date.startOf("month").subtract(1,"month").date(f);case"next":return t.date.startOf("month").add(1,"month").date(f);case"current":return t.date.date(f)}};return{now:o,isInRange:a,rows:i,weekDays:l,getFormattedDate:u,handlePickDay:({text:f,type:h})=>{const p=u(f,h);e("pick",p)},getSlotData:({text:f,type:h})=>{const p=u(f,h);return{isSelected:p.isSame(t.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},u7e={key:0},c7e=["onClick"],d7e=ue({name:"DateTable"}),f7e=ue({...d7e,props:a7e,emits:i7e,setup(t,{expose:e,emit:n}){const s=t,{isInRange:r,now:o,rows:a,weekDays:i,getFormattedDate:l,handlePickDay:u,getSlotData:c}=l7e(s,n),d=Fe("calendar-table"),f=Fe("calendar-day"),h=({text:p,type:m})=>{const g=[m];if(m==="current"){const y=l(p,m);y.isSame(s.selectedDay,"day")&&g.push(f.is("selected")),y.isSame(o,"day")&&g.push(f.is("today"))}return g};return e({getFormattedDate:l}),(p,m)=>(S(),I("table",{class:P([v(d).b(),v(d).is("range",v(r))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?ge("v-if",!0):(S(),I("thead",u7e,[(S(!0),I(lt,null,Gt(v(i),g=>(S(),I("th",{key:g},Ue(g),1))),128))])),E("tbody",null,[(S(!0),I(lt,null,Gt(v(a),(g,y)=>(S(),I("tr",{key:y,class:P({[v(d).e("row")]:!0,[v(d).em("row","hide-border")]:y===0&&p.hideHeader})},[(S(!0),I(lt,null,Gt(g,(w,b)=>(S(),I("td",{key:b,class:P(h(w)),onClick:_=>v(u)(w)},[E("div",{class:P(v(f).b())},[Oe(p.$slots,"date-cell",{data:v(c)(w)},()=>[E("span",null,Ue(w.text),1)])],2)],10,c7e))),128))],2))),128))])],2))}});var FO=je(f7e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const h7e=(t,e)=>{const n=t.endOf("month"),s=e.startOf("month"),o=n.isSame(s,"week")?s.add(1,"week"):s;return[[t,n],[o.startOf("week"),e]]},p7e=(t,e)=>{const n=t.endOf("month"),s=t.add(1,"month").startOf("month"),r=n.isSame(s,"week")?s.add(1,"week"):s,o=r.endOf("month"),a=e.startOf("month"),i=o.isSame(a,"week")?a.add(1,"week"):a;return[[t,n],[r.startOf("week"),o],[i.startOf("week"),e]]},m7e=(t,e,n)=>{const s=ir(),{lang:r}=nn(),o=U(),a=Nt().locale(r.value),i=A({get(){return t.modelValue?u.value:o.value},set(y){if(!y)return;o.value=y;const w=y.toDate();e(jr,w),e(Ot,w)}}),l=A(()=>{if(!t.range)return[];const y=t.range.map(_=>Nt(_).locale(r.value)),[w,b]=y;return w.isAfter(b)?[]:w.isSame(b,"month")?p(w,b):w.add(1,"month").month()!==b.month()?[]:p(w,b)}),u=A(()=>t.modelValue?Nt(t.modelValue).locale(r.value):i.value||(l.value.length?l.value[0][0]:a)),c=A(()=>u.value.subtract(1,"month").date(1)),d=A(()=>u.value.add(1,"month").date(1)),f=A(()=>u.value.subtract(1,"year").date(1)),h=A(()=>u.value.add(1,"year").date(1)),p=(y,w)=>{const b=y.startOf("week"),_=w.endOf("week"),$=b.get("month"),x=_.get("month");return $===x?[[b,_]]:($+1)%12===x?h7e(b,_):$+2===x||($+1)%11===x?p7e(b,_):[]},m=y=>{i.value=y},g=y=>{const b={"prev-month":c.value,"next-month":d.value,"prev-year":f.value,"next-year":h.value,today:a}[y];b.isSame(u.value,"day")||m(b)};return Sl({from:'"dateCell"',replacement:'"date-cell"',scope:"ElCalendar",version:"2.3.0",ref:"https://element-plus.org/en-US/component/calendar.html#slots",type:"Slot"},A(()=>!!s.dateCell)),{calculateValidatedDateRange:p,date:u,realSelectedDay:i,pickDay:m,selectDate:g,validatedRange:l}},g7e=t=>Qe(t)&&t.length===2&&t.every(e=>yd(e)),v7e=qe({modelValue:{type:Date},range:{type:Se(Array),validator:g7e}}),y7e={[Ot]:t=>yd(t),[jr]:t=>yd(t)},b7e="ElCalendar",w7e=ue({name:b7e}),_7e=ue({...w7e,props:v7e,emits:y7e,setup(t,{expose:e,emit:n}){const s=t,r=Fe("calendar"),{calculateValidatedDateRange:o,date:a,pickDay:i,realSelectedDay:l,selectDate:u,validatedRange:c}=m7e(s,n),{t:d}=nn(),f=A(()=>{const h=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${d("el.datepicker.year")} ${d(h)}`});return e({selectedDay:l,pickDay:i,selectDate:u,calculateValidatedDateRange:o}),(h,p)=>(S(),I("div",{class:P(v(r).b())},[E("div",{class:P(v(r).e("header"))},[Oe(h.$slots,"header",{date:v(f)},()=>[E("div",{class:P(v(r).e("title"))},Ue(v(f)),3),v(c).length===0?(S(),I("div",{key:0,class:P(v(r).e("button-group"))},[se(v(PL),null,{default:ce(()=>[se(v(br),{size:"small",onClick:p[0]||(p[0]=m=>v(u)("prev-month"))},{default:ce(()=>[Jt(Ue(v(d)("el.datepicker.prevMonth")),1)]),_:1}),se(v(br),{size:"small",onClick:p[1]||(p[1]=m=>v(u)("today"))},{default:ce(()=>[Jt(Ue(v(d)("el.datepicker.today")),1)]),_:1}),se(v(br),{size:"small",onClick:p[2]||(p[2]=m=>v(u)("next-month"))},{default:ce(()=>[Jt(Ue(v(d)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):ge("v-if",!0)])],2),v(c).length===0?(S(),I("div",{key:0,class:P(v(r).e("body"))},[se(FO,{date:v(a),"selected-day":v(l),onPick:v(i)},Uu({_:2},[h.$slots["date-cell"]||h.$slots.dateCell?{name:"date-cell",fn:ce(m=>[h.$slots["date-cell"]?Oe(h.$slots,"date-cell",Wa(zt({key:0},m))):Oe(h.$slots,"dateCell",Wa(zt({key:1},m)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(S(),I("div",{key:1,class:P(v(r).e("body"))},[(S(!0),I(lt,null,Gt(v(c),(m,g)=>(S(),$e(FO,{key:g,date:m[0],"selected-day":v(l),range:m,"hide-header":g!==0,onPick:v(i)},Uu({_:2},[h.$slots["date-cell"]||h.$slots.dateCell?{name:"date-cell",fn:ce(y=>[h.$slots["date-cell"]?Oe(h.$slots,"date-cell",Wa(zt({key:0},y))):Oe(h.$slots,"dateCell",Wa(zt({key:1},y)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var $7e=je(_7e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const x7e=Dt($7e),S7e=qe({header:{type:String,default:""},bodyStyle:{type:Se([String,Object,Array]),default:""},shadow:{type:String,values:["always","hover","never"],default:"always"}}),C7e=ue({name:"ElCard"}),k7e=ue({...C7e,props:S7e,setup(t){const e=Fe("card");return(n,s)=>(S(),I("div",{class:P([v(e).b(),v(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(S(),I("div",{key:0,class:P(v(e).e("header"))},[Oe(n.$slots,"header",{},()=>[Jt(Ue(n.header),1)])],2)):ge("v-if",!0),E("div",{class:P(v(e).e("body")),style:ot(n.bodyStyle)},[Oe(n.$slots,"default")],6)],2))}});var T7e=je(k7e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const N7e=Dt(T7e),E7e=qe({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),I7e={change:(t,e)=>[t,e].every(Ct)},MO=300,A7e=(t,e,n)=>{const{children:s,addChild:r,removeChild:o}=iL(Rt(),"ElCarouselItem"),a=U(-1),i=U(null),l=U(!1),u=U(),c=A(()=>t.arrow!=="never"&&!v(h)),d=A(()=>s.value.some(V=>V.props.label.toString().length>0)),f=A(()=>t.type==="card"),h=A(()=>t.direction==="vertical"),p=rd(V=>{b(V)},MO,{trailing:!0}),m=rd(V=>{M(V)},MO);function g(){i.value&&(clearInterval(i.value),i.value=null)}function y(){t.interval<=0||!t.autoplay||i.value||(i.value=setInterval(()=>w(),t.interval))}const w=()=>{a.value<s.value.length-1?a.value=a.value+1:t.loop&&(a.value=0)};function b(V){if(wt(V)){const L=s.value.filter(G=>G.props.name===V);L.length>0&&(V=s.value.indexOf(L[0]))}if(V=Number(V),Number.isNaN(V)||V!==Math.floor(V))return;const O=s.value.length,F=a.value;V<0?a.value=t.loop?O-1:0:V>=O?a.value=t.loop?0:O-1:a.value=V,F===a.value&&_(F),z()}function _(V){s.value.forEach((O,F)=>{O.translateItem(F,a.value,V)})}function $(V,O){var F,L,G,Z;const j=v(s),J=j.length;if(J===0||!V.states.inStage)return!1;const fe=O+1,X=O-1,oe=J-1,ee=j[oe].states.active,Q=j[0].states.active,ie=(L=(F=j[fe])==null?void 0:F.states)==null?void 0:L.active,pe=(Z=(G=j[X])==null?void 0:G.states)==null?void 0:Z.active;return O===oe&&Q||ie?"left":O===0&&ee||pe?"right":!1}function x(){l.value=!0,t.pauseOnHover&&g()}function k(){l.value=!1,y()}function C(V){v(h)||s.value.forEach((O,F)=>{V===$(O,F)&&(O.states.hover=!0)})}function T(){v(h)||s.value.forEach(V=>{V.states.hover=!1})}function N(V){a.value=V}function M(V){t.trigger==="hover"&&V!==a.value&&(a.value=V)}function R(){b(a.value-1)}function D(){b(a.value+1)}function z(){g(),y()}Me(()=>a.value,(V,O)=>{_(O),O>-1&&e("change",V,O)}),Me(()=>t.autoplay,V=>{V?y():g()}),Me(()=>t.loop,()=>{b(a.value)}),Me(()=>t.interval,()=>{z()}),Me(()=>s.value,()=>{s.value.length>0&&b(t.initialIndex)});const B=Nn();return Et(()=>{B.value=Dr(u.value,()=>{_()}),y()}),ts(()=>{g(),u.value&&B.value&&B.value.stop()}),Lt(FP,{root:u,isCardType:f,isVertical:h,items:s,loop:t.loop,addItem:r,removeItem:o,setActiveItem:b}),{root:u,activeIndex:a,arrowDisplay:c,hasLabel:d,hover:l,isCardType:f,items:s,handleButtonEnter:C,handleButtonLeave:T,handleIndicatorClick:N,handleMouseEnter:x,handleMouseLeave:k,setActiveItem:b,prev:R,next:D,throttledArrowClick:p,throttledIndicatorHover:m}},O7e=["onMouseenter","onClick"],R7e={key:0},D7e="ElCarousel",F7e=ue({name:D7e}),M7e=ue({...F7e,props:E7e,emits:I7e,setup(t,{expose:e,emit:n}){const s=t,{root:r,activeIndex:o,arrowDisplay:a,hasLabel:i,hover:l,isCardType:u,items:c,handleButtonEnter:d,handleButtonLeave:f,handleIndicatorClick:h,handleMouseEnter:p,handleMouseLeave:m,setActiveItem:g,prev:y,next:w,throttledArrowClick:b,throttledIndicatorHover:_}=A7e(s,n),$=Fe("carousel"),x=A(()=>{const C=[$.b(),$.m(s.direction)];return v(u)&&C.push($.m("card")),C}),k=A(()=>{const C=[$.e("indicators"),$.em("indicators",s.direction)];return v(i)&&C.push($.em("indicators","labels")),(s.indicatorPosition==="outside"||v(u))&&C.push($.em("indicators","outside")),C});return e({setActiveItem:g,prev:y,next:w}),(C,T)=>(S(),I("div",{ref_key:"root",ref:r,class:P(v(x)),onMouseenter:T[6]||(T[6]=yt((...N)=>v(p)&&v(p)(...N),["stop"])),onMouseleave:T[7]||(T[7]=yt((...N)=>v(m)&&v(m)(...N),["stop"]))},[E("div",{class:P(v($).e("container")),style:ot({height:C.height})},[v(a)?(S(),$e(ms,{key:0,name:"carousel-arrow-left",persisted:""},{default:ce(()=>[St(E("button",{type:"button",class:P([v($).e("arrow"),v($).em("arrow","left")]),onMouseenter:T[0]||(T[0]=N=>v(d)("left")),onMouseleave:T[1]||(T[1]=(...N)=>v(f)&&v(f)(...N)),onClick:T[2]||(T[2]=yt(N=>v(b)(v(o)-1),["stop"]))},[se(v(rt),null,{default:ce(()=>[se(v(xl))]),_:1})],34),[[Qt,(C.arrow==="always"||v(l))&&(s.loop||v(o)>0)]])]),_:1})):ge("v-if",!0),v(a)?(S(),$e(ms,{key:1,name:"carousel-arrow-right",persisted:""},{default:ce(()=>[St(E("button",{type:"button",class:P([v($).e("arrow"),v($).em("arrow","right")]),onMouseenter:T[3]||(T[3]=N=>v(d)("right")),onMouseleave:T[4]||(T[4]=(...N)=>v(f)&&v(f)(...N)),onClick:T[5]||(T[5]=yt(N=>v(b)(v(o)+1),["stop"]))},[se(v(rt),null,{default:ce(()=>[se(v(Rr))]),_:1})],34),[[Qt,(C.arrow==="always"||v(l))&&(s.loop||v(o)<v(c).length-1)]])]),_:1})):ge("v-if",!0),Oe(C.$slots,"default")],6),C.indicatorPosition!=="none"?(S(),I("ul",{key:0,class:P(v(k))},[(S(!0),I(lt,null,Gt(v(c),(N,M)=>(S(),I("li",{key:M,class:P([v($).e("indicator"),v($).em("indicator",C.direction),v($).is("active",M===v(o))]),onMouseenter:R=>v(_)(M),onClick:yt(R=>v(h)(M),["stop"])},[E("button",{class:P(v($).e("button"))},[v(i)?(S(),I("span",R7e,Ue(N.props.label),1)):ge("v-if",!0)],2)],42,O7e))),128))],2)):ge("v-if",!0)],34))}});var P7e=je(M7e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const L7e=qe({name:{type:String,default:""},label:{type:[String,Number],default:""}}),z7e=(t,e)=>{const n=et(FP),s=Rt(),r=.83,o=U(!1),a=U(0),i=U(1),l=U(!1),u=U(!1),c=U(!1),d=U(!1),{isCardType:f,isVertical:h}=n;function p(b,_,$){const x=$-1,k=_-1,C=_+1,T=$/2;return _===0&&b===x?-1:_===x&&b===0?$:b<k&&_-b>=T?$+1:b>C&&b-_>=T?-2:b}function m(b,_){var $;const x=(($=n.root.value)==null?void 0:$.offsetWidth)||0;return c.value?x*((2-r)*(b-_)+1)/4:b<_?-(1+r)*x/4:(3+r)*x/4}function g(b,_,$){const x=n.root.value;return x?(($?x.offsetHeight:x.offsetWidth)||0)*(b-_):0}const y=(b,_,$)=>{var x;const k=v(f),C=(x=n.items.value.length)!=null?x:Number.NaN,T=b===_;!k&&!er($)&&(d.value=T||b===$),!T&&C>2&&n.loop&&(b=p(b,_,C));const N=v(h);l.value=T,k?(c.value=Math.round(Math.abs(b-_))<=1,a.value=m(b,_),i.value=v(l)?1:r):a.value=g(b,_,N),u.value=!0};function w(){if(n&&v(f)){const b=n.items.value.findIndex(({uid:_})=>_===s.uid);n.setActiveItem(b)}}return Et(()=>{n.addItem({props:t,states:on({hover:o,translate:a,scale:i,active:l,ready:u,inStage:c,animating:d}),uid:s.uid,translateItem:y})}),Xd(()=>{n.removeItem(s.uid)}),{active:l,animating:d,hover:o,inStage:c,isVertical:h,translate:a,isCardType:f,scale:i,ready:u,handleItemClick:w}},B7e=ue({name:"ElCarouselItem"}),V7e=ue({...B7e,props:L7e,setup(t){const e=t,n=Fe("carousel"),{active:s,animating:r,hover:o,inStage:a,isVertical:i,translate:l,isCardType:u,scale:c,ready:d,handleItemClick:f}=z7e(e),h=A(()=>{const m=`${`translate${v(i)?"Y":"X"}`}(${v(l)}px)`,g=`scale(${v(c)})`;return{transform:[m,g].join(" ")}});return(p,m)=>St((S(),I("div",{class:P([v(n).e("item"),v(n).is("active",v(s)),v(n).is("in-stage",v(a)),v(n).is("hover",v(o)),v(n).is("animating",v(r)),{[v(n).em("item","card")]:v(u)}]),style:ot(v(h)),onClick:m[0]||(m[0]=(...g)=>v(f)&&v(f)(...g))},[v(u)?St((S(),I("div",{key:0,class:P(v(n).e("mask"))},null,2)),[[Qt,!v(s)]]):ge("v-if",!0),Oe(p.$slots,"default")],6)),[[Qt,v(d)]])}});var rz=je(V7e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const H7e=Dt(P7e,{CarouselItem:rz}),W7e=ns(rz),oz={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:wo,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},az={[Ot]:t=>wt(t)||Ct(t)||Rs(t),change:t=>wt(t)||Ct(t)||Rs(t)},U7e=({model:t,isChecked:e})=>{const n=et(ep,void 0),s=A(()=>{var o,a;const i=(o=n==null?void 0:n.max)==null?void 0:o.value,l=(a=n==null?void 0:n.min)==null?void 0:a.value;return!er(i)&&t.value.length>=i&&!e.value||!er(l)&&t.value.length<=l&&e.value});return{isDisabled:To(A(()=>(n==null?void 0:n.disabled.value)||s.value)),isLimitDisabled:s}},G7e=(t,{model:e,isLimitExceeded:n,hasOwnLabel:s,isDisabled:r,isLabeledByFormItem:o})=>{const a=et(ep,void 0),{formItem:i}=to(),{emit:l}=Rt();function u(p){var m,g;return p===t.trueLabel||p===!0?(m=t.trueLabel)!=null?m:!0:(g=t.falseLabel)!=null?g:!1}function c(p,m){l("change",u(p),m)}function d(p){if(n.value)return;const m=p.target;l("change",u(m.checked),p)}async function f(p){n.value||!s.value&&!r.value&&o.value&&(p.composedPath().some(y=>y.tagName==="LABEL")||(e.value=u([!1,t.falseLabel].includes(e.value)),await nt(),c(e.value,p)))}const h=A(()=>(a==null?void 0:a.validateEvent)||t.validateEvent);return Me(()=>t.modelValue,()=>{h.value&&(i==null||i.validate("change").catch(p=>void 0))}),{handleChange:d,onClickRoot:f}},j7e=t=>{const e=U(!1),{emit:n}=Rt(),s=et(ep,void 0),r=A(()=>er(s)===!1),o=U(!1);return{model:A({get(){var i,l;return r.value?(i=s==null?void 0:s.modelValue)==null?void 0:i.value:(l=t.modelValue)!=null?l:e.value},set(i){var l,u;r.value&&Qe(i)?(o.value=((l=s==null?void 0:s.max)==null?void 0:l.value)!==void 0&&i.length>(s==null?void 0:s.max.value),o.value===!1&&((u=s==null?void 0:s.changeEvent)==null||u.call(s,i))):(n(Ot,i),e.value=i)}}),isGroup:r,isLimitExceeded:o}},K7e=(t,e,{model:n})=>{const s=et(ep,void 0),r=U(!1),o=A(()=>{const u=n.value;return Rs(u)?u:Qe(u)?Bt(t.label)?u.map(fn).some(c=>Wo(c,t.label)):u.map(fn).includes(t.label):u!=null?u===t.trueLabel:!!u}),a=ks(A(()=>{var u;return(u=s==null?void 0:s.size)==null?void 0:u.value}),{prop:!0}),i=ks(A(()=>{var u;return(u=s==null?void 0:s.size)==null?void 0:u.value})),l=A(()=>!!(e.default||t.label));return{checkboxButtonSize:a,isChecked:o,isFocused:r,checkboxSize:i,hasOwnLabel:l}},q7e=(t,{model:e})=>{function n(){Qe(e.value)&&!e.value.includes(t.label)?e.value.push(t.label):e.value=t.trueLabel||!0}t.checked&&n()},iz=(t,e)=>{const{formItem:n}=to(),{model:s,isGroup:r,isLimitExceeded:o}=j7e(t),{isFocused:a,isChecked:i,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c}=K7e(t,e,{model:s}),{isDisabled:d}=U7e({model:s,isChecked:i}),{inputId:f,isLabeledByFormItem:h}=ic(t,{formItemContext:n,disableIdGeneration:c,disableIdManagement:r}),{handleChange:p,onClickRoot:m}=G7e(t,{model:s,isLimitExceeded:o,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:h});return q7e(t,{model:s}),{inputId:f,isLabeledByFormItem:h,isChecked:i,isDisabled:d,isFocused:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:s,handleChange:p,onClickRoot:m}},X7e=["tabindex","role","aria-checked"],Y7e=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Z7e=["id","aria-hidden","disabled","value","name","tabindex"],J7e=ue({name:"ElCheckbox"}),Q7e=ue({...J7e,props:oz,emits:az,setup(t){const e=t,n=ir(),{inputId:s,isLabeledByFormItem:r,isChecked:o,isDisabled:a,isFocused:i,checkboxSize:l,hasOwnLabel:u,model:c,handleChange:d,onClickRoot:f}=iz(e,n),h=Fe("checkbox");return(p,m)=>(S(),$e(Vt(!v(u)&&v(r)?"span":"label"),{class:P([v(h).b(),v(h).m(v(l)),v(h).is("disabled",v(a)),v(h).is("bordered",p.border),v(h).is("checked",v(o))]),"aria-controls":p.indeterminate?p.controls:null,onClick:v(f)},{default:ce(()=>[E("span",{class:P([v(h).e("input"),v(h).is("disabled",v(a)),v(h).is("checked",v(o)),v(h).is("indeterminate",p.indeterminate),v(h).is("focus",v(i))]),tabindex:p.indeterminate?0:void 0,role:p.indeterminate?"checkbox":void 0,"aria-checked":p.indeterminate?"mixed":void 0},[p.trueLabel||p.falseLabel?St((S(),I("input",{key:0,id:v(s),"onUpdate:modelValue":m[0]||(m[0]=g=>kn(c)?c.value=g:null),class:P(v(h).e("original")),type:"checkbox","aria-hidden":p.indeterminate?"true":"false",name:p.name,tabindex:p.tabindex,disabled:v(a),"true-value":p.trueLabel,"false-value":p.falseLabel,onChange:m[1]||(m[1]=(...g)=>v(d)&&v(d)(...g)),onFocus:m[2]||(m[2]=g=>i.value=!0),onBlur:m[3]||(m[3]=g=>i.value=!1)},null,42,Y7e)),[[Sy,v(c)]]):St((S(),I("input",{key:1,id:v(s),"onUpdate:modelValue":m[4]||(m[4]=g=>kn(c)?c.value=g:null),class:P(v(h).e("original")),type:"checkbox","aria-hidden":p.indeterminate?"true":"false",disabled:v(a),value:p.label,name:p.name,tabindex:p.tabindex,onChange:m[5]||(m[5]=(...g)=>v(d)&&v(d)(...g)),onFocus:m[6]||(m[6]=g=>i.value=!0),onBlur:m[7]||(m[7]=g=>i.value=!1)},null,42,Z7e)),[[Sy,v(c)]]),E("span",{class:P(v(h).e("inner"))},null,2)],10,X7e),v(u)?(S(),I("span",{key:0,class:P(v(h).e("label"))},[Oe(p.$slots,"default"),p.$slots.default?ge("v-if",!0):(S(),I(lt,{key:0},[Jt(Ue(p.label),1)],64))],2)):ge("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var eBe=je(Q7e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const tBe=["name","tabindex","disabled","true-value","false-value"],nBe=["name","tabindex","disabled","value"],sBe=ue({name:"ElCheckboxButton"}),rBe=ue({...sBe,props:oz,emits:az,setup(t){const e=t,n=ir(),{isFocused:s,isChecked:r,isDisabled:o,checkboxButtonSize:a,model:i,handleChange:l}=iz(e,n),u=et(ep,void 0),c=Fe("checkbox"),d=A(()=>{var f,h,p,m;const g=(h=(f=u==null?void 0:u.fill)==null?void 0:f.value)!=null?h:"";return{backgroundColor:g,borderColor:g,color:(m=(p=u==null?void 0:u.textColor)==null?void 0:p.value)!=null?m:"",boxShadow:g?`-1px 0 0 0 ${g}`:void 0}});return(f,h)=>(S(),I("label",{class:P([v(c).b("button"),v(c).bm("button",v(a)),v(c).is("disabled",v(o)),v(c).is("checked",v(r)),v(c).is("focus",v(s))])},[f.trueLabel||f.falseLabel?St((S(),I("input",{key:0,"onUpdate:modelValue":h[0]||(h[0]=p=>kn(i)?i.value=p:null),class:P(v(c).be("button","original")),type:"checkbox",name:f.name,tabindex:f.tabindex,disabled:v(o),"true-value":f.trueLabel,"false-value":f.falseLabel,onChange:h[1]||(h[1]=(...p)=>v(l)&&v(l)(...p)),onFocus:h[2]||(h[2]=p=>s.value=!0),onBlur:h[3]||(h[3]=p=>s.value=!1)},null,42,tBe)),[[Sy,v(i)]]):St((S(),I("input",{key:1,"onUpdate:modelValue":h[4]||(h[4]=p=>kn(i)?i.value=p:null),class:P(v(c).be("button","original")),type:"checkbox",name:f.name,tabindex:f.tabindex,disabled:v(o),value:f.label,onChange:h[5]||(h[5]=(...p)=>v(l)&&v(l)(...p)),onFocus:h[6]||(h[6]=p=>s.value=!0),onBlur:h[7]||(h[7]=p=>s.value=!1)},null,42,nBe)),[[Sy,v(i)]]),f.$slots.default||f.label?(S(),I("span",{key:2,class:P(v(c).be("button","inner")),style:ot(v(r)?v(d):void 0)},[Oe(f.$slots,"default",{},()=>[Jt(Ue(f.label),1)])],6)):ge("v-if",!0)],2))}});var lz=je(rBe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const oBe=qe({modelValue:{type:Se(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:wo,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),aBe={[Ot]:t=>Qe(t),change:t=>Qe(t)},iBe=ue({name:"ElCheckboxGroup"}),lBe=ue({...iBe,props:oBe,emits:aBe,setup(t,{emit:e}){const n=t,s=Fe("checkbox"),{formItem:r}=to(),{inputId:o,isLabeledByFormItem:a}=ic(n,{formItemContext:r}),i=async u=>{e(Ot,u),await nt(),e("change",u)},l=A({get(){return n.modelValue},set(u){i(u)}});return Lt(ep,{...gl(Ps(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:i}),Me(()=>n.modelValue,()=>{n.validateEvent&&(r==null||r.validate("change").catch(u=>void 0))}),(u,c)=>{var d;return S(),$e(Vt(u.tag),{id:v(o),class:P(v(s).b("group")),role:"group","aria-label":v(a)?void 0:u.label||"checkbox-group","aria-labelledby":v(a)?(d=v(r))==null?void 0:d.labelId:void 0},{default:ce(()=>[Oe(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var uz=je(lBe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const ka=Dt(eBe,{CheckboxButton:lz,CheckboxGroup:uz}),uBe=ns(lz),cz=ns(uz),dz=qe({size:wo,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),cBe=qe({...dz,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),fz={[Ot]:t=>wt(t)||Ct(t)||Rs(t),[Fn]:t=>wt(t)||Ct(t)||Rs(t)},hz=(t,e)=>{const n=U(),s=et(BP,void 0),r=A(()=>!!s),o=A({get(){return r.value?s.modelValue:t.modelValue},set(c){r.value?s.changeEvent(c):e&&e(Ot,c),n.value.checked=t.modelValue===t.label}}),a=ks(A(()=>s==null?void 0:s.size)),i=To(A(()=>s==null?void 0:s.disabled)),l=U(!1),u=A(()=>i.value||r.value&&o.value!==t.label?-1:0);return{radioRef:n,isGroup:r,radioGroup:s,focus:l,size:a,disabled:i,tabIndex:u,modelValue:o}},dBe=["value","name","disabled"],fBe=ue({name:"ElRadio"}),hBe=ue({...fBe,props:cBe,emits:fz,setup(t,{emit:e}){const n=t,s=Fe("radio"),{radioRef:r,radioGroup:o,focus:a,size:i,disabled:l,modelValue:u}=hz(n,e);function c(){nt(()=>e("change",u.value))}return(d,f)=>{var h;return S(),I("label",{class:P([v(s).b(),v(s).is("disabled",v(l)),v(s).is("focus",v(a)),v(s).is("bordered",d.border),v(s).is("checked",v(u)===d.label),v(s).m(v(i))])},[E("span",{class:P([v(s).e("input"),v(s).is("disabled",v(l)),v(s).is("checked",v(u)===d.label)])},[St(E("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":f[0]||(f[0]=p=>kn(u)?u.value=p:null),class:P(v(s).e("original")),value:d.label,name:d.name||((h=v(o))==null?void 0:h.name),disabled:v(l),type:"radio",onFocus:f[1]||(f[1]=p=>a.value=!0),onBlur:f[2]||(f[2]=p=>a.value=!1),onChange:c},null,42,dBe),[[iM,v(u)]]),E("span",{class:P(v(s).e("inner"))},null,2)],2),E("span",{class:P(v(s).e("label")),onKeydown:f[3]||(f[3]=yt(()=>{},["stop"]))},[Oe(d.$slots,"default",{},()=>[Jt(Ue(d.label),1)])],34)],2)}}});var pBe=je(hBe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const mBe=qe({...dz,name:{type:String,default:""}}),gBe=["value","name","disabled"],vBe=ue({name:"ElRadioButton"}),yBe=ue({...vBe,props:mBe,setup(t){const e=t,n=Fe("radio"),{radioRef:s,focus:r,size:o,disabled:a,modelValue:i,radioGroup:l}=hz(e),u=A(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(c,d)=>{var f;return S(),I("label",{class:P([v(n).b("button"),v(n).is("active",v(i)===c.label),v(n).is("disabled",v(a)),v(n).is("focus",v(r)),v(n).bm("button",v(o))])},[St(E("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":d[0]||(d[0]=h=>kn(i)?i.value=h:null),class:P(v(n).be("button","original-radio")),value:c.label,type:"radio",name:c.name||((f=v(l))==null?void 0:f.name),disabled:v(a),onFocus:d[1]||(d[1]=h=>r.value=!0),onBlur:d[2]||(d[2]=h=>r.value=!1)},null,42,gBe),[[iM,v(i)]]),E("span",{class:P(v(n).be("button","inner")),style:ot(v(i)===c.label?v(u):{}),onKeydown:d[3]||(d[3]=yt(()=>{},["stop"]))},[Oe(c.$slots,"default",{},()=>[Jt(Ue(c.label),1)])],38)],2)}}});var pz=je(yBe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const bBe=qe({id:{type:String,default:void 0},size:wo,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),wBe=fz,_Be=["id","aria-label","aria-labelledby"],$Be=ue({name:"ElRadioGroup"}),xBe=ue({...$Be,props:bBe,emits:wBe,setup(t,{emit:e}){const n=t,s=Fe("radio"),r=ei(),o=U(),{formItem:a}=to(),{inputId:i,isLabeledByFormItem:l}=ic(n,{formItemContext:a}),u=d=>{e(Ot,d),nt(()=>e("change",d))};Et(()=>{const d=o.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(h=>h.checked)&&f&&(f.tabIndex=0)});const c=A(()=>n.name||r.value);return Lt(BP,on({...Ps(n),changeEvent:u,name:c})),Me(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(d=>void 0))}),(d,f)=>(S(),I("div",{id:v(i),ref_key:"radioGroupRef",ref:o,class:P(v(s).b("group")),role:"radiogroup","aria-label":v(l)?void 0:d.label||"radio-group","aria-labelledby":v(l)?v(a).labelId:void 0},[Oe(d.$slots,"default")],10,_Be))}});var mz=je(xBe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const gz=Dt(pBe,{RadioButton:pz,RadioGroup:mz}),SBe=ns(mz),CBe=ns(pz);var kBe=ue({name:"NodeContent",setup(){return{ns:Fe("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:s,label:r}=e,{renderLabelFn:o}=n;return it("span",{class:t.e("label")},o?o({node:e,data:s}):r)}});const ok=Symbol(),TBe=ue({name:"ElCascaderNode",components:{ElCheckbox:ka,ElRadio:gz,NodeContent:kBe,ElIcon:rt,Check:Jh,Loading:Vl,ArrowRight:Rr},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=et(ok),s=Fe("cascader-node"),r=A(()=>n.isHoverMenu),o=A(()=>n.config.multiple),a=A(()=>n.config.checkStrictly),i=A(()=>{var x;return(x=n.checkedNodes[0])==null?void 0:x.uid}),l=A(()=>t.node.isDisabled),u=A(()=>t.node.isLeaf),c=A(()=>a.value&&!u.value||!l.value),d=A(()=>h(n.expandingNode)),f=A(()=>a.value&&n.checkedNodes.some(h)),h=x=>{var k;const{level:C,uid:T}=t.node;return((k=x==null?void 0:x.pathNodes[C-1])==null?void 0:k.uid)===T},p=()=>{d.value||n.expandNode(t.node)},m=x=>{const{node:k}=t;x!==k.checked&&n.handleCheckChange(k,x)},g=()=>{n.lazyLoad(t.node,()=>{u.value||p()})},y=x=>{!r.value||(w(),!u.value&&e("expand",x))},w=()=>{const{node:x}=t;!c.value||x.loading||(x.loaded?p():g())},b=()=>{r.value&&!u.value||(u.value&&!l.value&&!a.value&&!o.value?$(!0):w())},_=x=>{a.value?(m(x),t.node.loaded&&p()):$(x)},$=x=>{t.node.loaded?(m(x),!a.value&&p()):g()};return{panel:n,isHoverMenu:r,multiple:o,checkStrictly:a,checkedNodeId:i,isDisabled:l,isLeaf:u,expandable:c,inExpandingPath:d,inCheckedPath:f,ns:s,handleHoverExpand:y,handleExpand:w,handleClick:b,handleCheck:$,handleSelectCheck:_}}}),NBe=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],EBe=E("span",null,null,-1);function IBe(t,e,n,s,r,o){const a=pt("el-checkbox"),i=pt("el-radio"),l=pt("check"),u=pt("el-icon"),c=pt("node-content"),d=pt("loading"),f=pt("arrow-right");return S(),I("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:P([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...h)=>t.handleHoverExpand&&t.handleHoverExpand(...h)),onFocus:e[3]||(e[3]=(...h)=>t.handleHoverExpand&&t.handleHoverExpand(...h)),onClick:e[4]||(e[4]=(...h)=>t.handleClick&&t.handleClick(...h))},[ge(" prefix "),t.multiple?(S(),$e(a,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=yt(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(S(),$e(i,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:e[1]||(e[1]=yt(()=>{},["stop"]))},{default:ce(()=>[ge(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),EBe]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(S(),$e(u,{key:2,class:P(t.ns.e("prefix"))},{default:ce(()=>[se(l)]),_:1},8,["class"])):ge("v-if",!0),ge(" content "),se(c),ge(" postfix "),t.isLeaf?ge("v-if",!0):(S(),I(lt,{key:3},[t.node.loading?(S(),$e(u,{key:0,class:P([t.ns.is("loading"),t.ns.e("postfix")])},{default:ce(()=>[se(d)]),_:1},8,["class"])):(S(),$e(u,{key:1,class:P(["arrow-right",t.ns.e("postfix")])},{default:ce(()=>[se(f)]),_:1},8,["class"]))],64))],42,NBe)}var ABe=je(TBe,[["render",IBe],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const OBe=ue({name:"ElCascaderMenu",components:{Loading:Vl,ElIcon:rt,ElScrollbar:jl,ElCascaderNode:ABe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=Rt(),n=Fe("cascader-menu"),{t:s}=nn(),r=fw();let o=null,a=null;const i=et(ok),l=U(null),u=A(()=>!t.nodes.length),c=A(()=>!i.initialLoaded),d=A(()=>`cascader-menu-${r}-${t.index}`),f=g=>{o=g.target},h=g=>{if(!(!i.isHoverMenu||!o||!l.value))if(o.contains(g.target)){p();const y=e.vnode.el,{left:w}=y.getBoundingClientRect(),{offsetWidth:b,offsetHeight:_}=y,$=g.clientX-w,x=o.offsetTop,k=x+o.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${$} ${x} L${b} 0 V${x} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${$} ${k} L${b} ${_} V${k} Z" />
        `}else a||(a=window.setTimeout(m,i.config.hoverThreshold))},p=()=>{!a||(clearTimeout(a),a=null)},m=()=>{!l.value||(l.value.innerHTML="",p())};return{ns:n,panel:i,hoverZone:l,isEmpty:u,isLoading:c,menuId:d,t:s,handleExpand:f,handleMouseMove:h,clearHoverZone:m}}});function RBe(t,e,n,s,r,o){const a=pt("el-cascader-node"),i=pt("loading"),l=pt("el-icon"),u=pt("el-scrollbar");return S(),$e(u,{key:t.menuId,tag:"ul",role:"menu",class:P(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:ce(()=>{var c;return[(S(!0),I(lt,null,Gt(t.nodes,d=>(S(),$e(a,{key:d.uid,node:d,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(S(),I("div",{key:0,class:P(t.ns.e("empty-text"))},[se(l,{size:"14",class:P(t.ns.is("loading"))},{default:ce(()=>[se(i)]),_:1},8,["class"]),Jt(" "+Ue(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(S(),I("div",{key:1,class:P(t.ns.e("empty-text"))},Ue(t.t("el.cascader.noData")),3)):(c=t.panel)!=null&&c.isHoverMenu?(S(),I("svg",{key:2,ref:"hoverZone",class:P(t.ns.e("hover-zone"))},null,2)):ge("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var DBe=je(OBe,[["render",RBe],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let FBe=0;const MBe=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let z0=class{constructor(e,n,s,r=!1){this.data=e,this.config=n,this.parent=s,this.root=r,this.uid=FBe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:a,children:i}=n,l=e[i],u=MBe(this);this.level=r?0:s?s.level+1:1,this.value=e[o],this.label=e[a],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new z0(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!ia(l)}get isDisabled(){const{data:e,parent:n,config:s}=this,{disabled:r,checkStrictly:o}=s;return(vt(r)?r(e,this):!!e[r])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:s,loaded:r}=this,{lazy:o,leaf:a}=n,i=vt(a)?a(e,this):e[a];return er(i)?o&&!r?!1:!(Array.isArray(s)&&s.length):!!i}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:s}=this,r=new z0(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],s.push(r),r}calcText(e,n){const s=e?this.pathLabels.join(n):this.label;return this.text=s,s}broadcast(e,...n){const s=`onParent${la(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...n),r[s]&&r[s](...n))})}emit(e,...n){const{parent:s}=this,r=`onChild${la(e)}`;s&&(s[r]&&s[r](...n),s.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(r=>!r.isDisabled),s=n.length?n.every(r=>r.checked):!1;this.setCheckState(s)}setCheckState(e){const n=this.children.length,s=this.children.reduce((r,o)=>{const a=o.checked?1:o.indeterminate?.5:0;return r+a},0);this.checked=this.loaded&&this.children.filter(r=>!r.isDisabled).every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&s!==n&&s>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:s}=this.config;n||!s?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const T6=(t,e)=>t.reduce((n,s)=>(s.isLeaf?n.push(s):(!e&&n.push(s),n=n.concat(T6(s.children,e))),n),[]);class PO{constructor(e,n){this.config=n;const s=(e||[]).map(r=>new z0(r,this.config));this.nodes=s,this.allNodes=T6(s,!1),this.leafNodes=T6(s,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const s=n?n.appendChild(e):new z0(e,this.config);n||this.nodes.push(s),this.allNodes.push(s),s.isLeaf&&this.leafNodes.push(s)}appendNodes(e,n){e.forEach(s=>this.appendNode(s,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(r=>Wo(r.value,e)||Wo(r.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:s,level:r})=>Wo(e.value,s)&&e.level===r)||null}}const vz={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},PBe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:gn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},LBe=t=>A(()=>({...PBe,...t.props})),LO=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},zBe=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():eP(t)&&t.click()},BBe=(t,e)=>{const n=e.slice(0),s=n.map(o=>o.uid),r=t.reduce((o,a)=>{const i=s.indexOf(a.uid);return i>-1&&(o.push(a),n.splice(i,1),s.splice(i,1)),o},[]);return r.push(...n),r},VBe=ue({name:"ElCascaderPanel",components:{ElCascaderMenu:DBe},props:{...vz,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Ot,Fn,"close","expand-change"],setup(t,{emit:e,slots:n}){let s=!1;const r=Fe("cascader"),o=LBe(t);let a=null;const i=U(!0),l=U([]),u=U(null),c=U([]),d=U(null),f=U([]),h=A(()=>o.value.expandTrigger==="hover"),p=A(()=>t.renderLabel||n.default),m=()=>{const{options:R}=t,D=o.value;s=!1,a=new PO(R,D),c.value=[a.getNodes()],D.lazy&&ia(t.options)?(i.value=!1,g(void 0,z=>{z&&(a=new PO(z,D),c.value=[a.getNodes()]),i.value=!0,C(!1,!0)})):C(!1,!0)},g=(R,D)=>{const z=o.value;R=R||new z0({},z,void 0,!0),R.loading=!0;const B=V=>{const O=R,F=O.root?null:O;V&&(a==null||a.appendNodes(V,F)),O.loading=!1,O.loaded=!0,O.childrenData=O.childrenData||[],D&&D(V)};z.lazyLoad(R,B)},y=(R,D)=>{var z;const{level:B}=R,V=c.value.slice(0,B);let O;R.isLeaf?O=R.pathNodes[B-2]:(O=R,V.push(R.children)),((z=d.value)==null?void 0:z.uid)!==(O==null?void 0:O.uid)&&(d.value=R,c.value=V,!D&&e("expand-change",(R==null?void 0:R.pathValues)||[]))},w=(R,D,z=!0)=>{const{checkStrictly:B,multiple:V}=o.value,O=f.value[0];s=!0,!V&&(O==null||O.doCheck(!1)),R.doCheck(D),k(),z&&!V&&!B&&e("close"),!z&&!V&&!B&&b(R)},b=R=>{!R||(R=R.parent,b(R),R&&y(R))},_=R=>a==null?void 0:a.getFlattedNodes(R),$=R=>{var D;return(D=_(R))==null?void 0:D.filter(z=>z.checked!==!1)},x=()=>{f.value.forEach(R=>R.doCheck(!1)),k()},k=()=>{var R;const{checkStrictly:D,multiple:z}=o.value,B=f.value,V=$(!D),O=BBe(B,V),F=O.map(L=>L.valueByOption);f.value=O,u.value=z?F:(R=F[0])!=null?R:null},C=(R=!1,D=!1)=>{const{modelValue:z}=t,{lazy:B,multiple:V,checkStrictly:O}=o.value,F=!O;if(!(!i.value||s||!D&&Wo(z,u.value)))if(B&&!R){const G=VA(zle(vl(z))).map(Z=>a==null?void 0:a.getNodeByValue(Z)).filter(Z=>!!Z&&!Z.loaded&&!Z.loading);G.length?G.forEach(Z=>{g(Z,()=>C(!1,D))}):C(!0,D)}else{const L=V?vl(z):[z],G=VA(L.map(Z=>a==null?void 0:a.getNodeByValue(Z,F)));T(G,D),u.value=jM(z)}},T=(R,D=!0)=>{const{checkStrictly:z}=o.value,B=f.value,V=R.filter(L=>!!L&&(z||L.isLeaf)),O=a==null?void 0:a.getSameNode(d.value),F=D&&O||V[0];F?F.pathNodes.forEach(L=>y(L,!0)):d.value=null,B.forEach(L=>L.doCheck(!1)),V.forEach(L=>L.doCheck(!0)),f.value=V,nt(N)},N=()=>{!Kt||l.value.forEach(R=>{const D=R==null?void 0:R.$el;if(D){const z=D.querySelector(`.${r.namespace.value}-scrollbar__wrap`),B=D.querySelector(`.${r.b("node")}.${r.is("active")}`)||D.querySelector(`.${r.b("node")}.in-active-path`);iP(z,B)}})},M=R=>{const D=R.target,{code:z}=R;switch(z){case ut.up:case ut.down:{R.preventDefault();const B=z===ut.up?-1:1;Hv(tP(D,B,`.${r.b("node")}[tabindex="-1"]`));break}case ut.left:{R.preventDefault();const B=l.value[LO(D)-1],V=B==null?void 0:B.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);Hv(V);break}case ut.right:{R.preventDefault();const B=l.value[LO(D)+1],V=B==null?void 0:B.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);Hv(V);break}case ut.enter:zBe(D);break}};return Lt(ok,on({config:o,expandingNode:d,checkedNodes:f,isHoverMenu:h,initialLoaded:i,renderLabelFn:p,lazyLoad:g,expandNode:y,handleCheckChange:w})),Me([o,()=>t.options],m,{deep:!0,immediate:!0}),Me(()=>t.modelValue,()=>{s=!1,C()},{deep:!0}),Me(()=>u.value,R=>{Wo(R,t.modelValue)||(e(Ot,R),e(Fn,R))}),LF(()=>l.value=[]),Et(()=>!ia(t.modelValue)&&C()),{ns:r,menuList:l,menus:c,checkedNodes:f,handleKeyDown:M,handleCheckChange:w,getFlattedNodes:_,getCheckedNodes:$,clearCheckedNodes:x,calculateCheckedValue:k,scrollToExpandingNode:N}}});function HBe(t,e,n,s,r,o){const a=pt("el-cascader-menu");return S(),I("div",{class:P([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:e[0]||(e[0]=(...i)=>t.handleKeyDown&&t.handleKeyDown(...i))},[(S(!0),I(lt,null,Gt(t.menus,(i,l)=>(S(),$e(a,{key:l,ref_for:!0,ref:u=>t.menuList[l]=u,index:l,nodes:[...i]},null,8,["index","nodes"]))),128))],34)}var Xv=je(VBe,[["render",HBe],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Xv.install=t=>{t.component(Xv.name,Xv)};const yz=Xv,WBe=yz,ak=qe({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:Hl,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),UBe={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},GBe=ue({name:"ElTag"}),jBe=ue({...GBe,props:ak,emits:UBe,setup(t,{emit:e}){const n=t,s=ks(),r=Fe("tag"),o=A(()=>{const{type:l,hit:u,effect:c,closable:d,round:f}=n;return[r.b(),r.is("closable",d),r.m(l),r.m(s.value),r.m(c),r.is("hit",u),r.is("round",f)]}),a=l=>{e("close",l)},i=l=>{e("click",l)};return(l,u)=>l.disableTransitions?(S(),I("span",{key:0,class:P(v(o)),style:ot({backgroundColor:l.color}),onClick:i},[E("span",{class:P(v(r).e("content"))},[Oe(l.$slots,"default")],2),l.closable?(S(),$e(v(rt),{key:0,class:P(v(r).e("close")),onClick:yt(a,["stop"])},{default:ce(()=>[se(v(xa))]),_:1},8,["class","onClick"])):ge("v-if",!0)],6)):(S(),$e(ms,{key:1,name:`${v(r).namespace.value}-zoom-in-center`,appear:""},{default:ce(()=>[E("span",{class:P(v(o)),style:ot({backgroundColor:l.color}),onClick:i},[E("span",{class:P(v(r).e("content"))},[Oe(l.$slots,"default")],2),l.closable?(S(),$e(v(rt),{key:0,class:P(v(r).e("close")),onClick:yt(a,["stop"])},{default:ce(()=>[se(v(xa))]),_:1},8,["class","onClick"])):ge("v-if",!0)],6)]),_:3},8,["name"]))}});var KBe=je(jBe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const xw=Dt(KBe),qBe={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:t})=>{const{modifiersData:e,placement:n}=t;["right","left","bottom","top"].includes(n)||(e.arrow.x=35)},requires:["arrow"]}]},XBe="ElCascader",YBe=ue({name:XBe,components:{ElCascaderPanel:yz,ElInput:Or,ElTooltip:No,ElScrollbar:jl,ElTag:xw,ElIcon:rt,CircleClose:Bl,Check:Jh,ArrowDown:zl},directives:{Clickoutside:Ku},props:{...vz,size:{type:String,validator:Qh},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:Xs.teleported,tagType:{...ak.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[Ot,Fn,"focus","blur","visible-change","expand-change","remove-tag"],setup(t,{emit:e}){let n=0,s=0;const r=Fe("cascader"),o=Fe("input"),{t:a}=nn(),{form:i,formItem:l}=to(),u=U(null),c=U(null),d=U(null),f=U(null),h=U(null),p=U(!1),m=U(!1),g=U(!1),y=U(""),w=U(""),b=U([]),_=U([]),$=U([]),x=U(!1),k=A(()=>t.disabled||(i==null?void 0:i.disabled)),C=A(()=>t.placeholder||a("el.cascader.placeholder")),T=A(()=>w.value||b.value.length>0?"":C.value),N=ks(),M=A(()=>["small"].includes(N.value)?"small":"default"),R=A(()=>!!t.props.multiple),D=A(()=>!t.filterable||R.value),z=A(()=>R.value?w.value:y.value),B=A(()=>{var he;return((he=f.value)==null?void 0:he.checkedNodes)||[]}),V=A(()=>!t.clearable||k.value||g.value||!m.value?!1:!!B.value.length),O=A(()=>{const{showAllLevels:he,separator:ve}=t,me=B.value;return me.length?R.value?"":me[0].calcText(he,ve):""}),F=A({get(){return jM(t.modelValue)},set(he){e(Ot,he),e(Fn,he),t.validateEvent&&(l==null||l.validate("change").catch(ve=>void 0))}}),L=A(()=>{var he,ve;return(ve=(he=u.value)==null?void 0:he.popperRef)==null?void 0:ve.contentRef}),G=he=>{var ve,me,Ve;k.value||(he=he??!p.value,he!==p.value&&(p.value=he,(me=(ve=c.value)==null?void 0:ve.input)==null||me.setAttribute("aria-expanded",`${he}`),he?(Z(),nt((Ve=f.value)==null?void 0:Ve.scrollToExpandingNode)):t.filterable&&we(),e("visible-change",he)))},Z=()=>{nt(()=>{var he;(he=u.value)==null||he.updatePopper()})},j=()=>{g.value=!1},J=he=>{const{showAllLevels:ve,separator:me}=t;return{node:he,key:he.uid,text:he.calcText(ve,me),hitState:!1,closable:!k.value&&!he.isDisabled,isCollapseTag:!1}},fe=he=>{var ve;const me=he.node;me.doCheck(!1),(ve=f.value)==null||ve.calculateCheckedValue(),e("remove-tag",me.valueByOption)},X=()=>{if(!R.value)return;const he=B.value,ve=[],me=[];if(he.forEach(Ve=>me.push(J(Ve))),_.value=me,he.length){const[Ve,...Ye]=he,Je=Ye.length;ve.push(J(Ve)),Je&&(t.collapseTags?ve.push({key:-1,text:`+ ${Je}`,closable:!1,isCollapseTag:!0}):Ye.forEach(ct=>ve.push(J(ct))))}b.value=ve},oe=()=>{var he,ve;const{filterMethod:me,showAllLevels:Ve,separator:Ye}=t,Je=(ve=(he=f.value)==null?void 0:he.getFlattedNodes(!t.props.checkStrictly))==null?void 0:ve.filter(ct=>ct.isDisabled?!1:(ct.calcText(Ve,Ye),me(ct,z.value)));R.value&&(b.value.forEach(ct=>{ct.hitState=!1}),_.value.forEach(ct=>{ct.hitState=!1})),g.value=!0,$.value=Je,Z()},ee=()=>{var he;let ve;g.value&&h.value?ve=h.value.$el.querySelector(`.${r.e("suggestion-item")}`):ve=(he=f.value)==null?void 0:he.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`),ve&&(ve.focus(),!g.value&&ve.click())},Q=()=>{var he,ve;const me=(he=c.value)==null?void 0:he.input,Ve=d.value,Ye=(ve=h.value)==null?void 0:ve.$el;if(!(!Kt||!me)){if(Ye){const Je=Ye.querySelector(`.${r.e("suggestion-list")}`);Je.style.minWidth=`${me.offsetWidth}px`}if(Ve){const{offsetHeight:Je}=Ve,ct=b.value.length>0?`${Math.max(Je+6,n)}px`:`${n}px`;me.style.height=ct,Z()}}},ie=he=>{var ve;return(ve=f.value)==null?void 0:ve.getCheckedNodes(he)},pe=he=>{Z(),e("expand-change",he)},Re=he=>{var ve;const me=(ve=he.target)==null?void 0:ve.value;if(he.type==="compositionend")x.value=!1,nt(()=>Ae(me));else{const Ve=me[me.length-1]||"";x.value=!dw(Ve)}},K=he=>{if(!x.value)switch(he.code){case ut.enter:G();break;case ut.down:G(!0),nt(ee),he.preventDefault();break;case ut.esc:p.value===!0&&(he.preventDefault(),he.stopPropagation(),G(!1));break;case ut.tab:G(!1);break}},re=()=>{var he;(he=f.value)==null||he.clearCheckedNodes(),!p.value&&t.filterable&&we(),G(!1)},we=()=>{const{value:he}=O;y.value=he,w.value=he},Ie=he=>{var ve,me;const{checked:Ve}=he;R.value?(ve=f.value)==null||ve.handleCheckChange(he,!Ve,!1):(!Ve&&((me=f.value)==null||me.handleCheckChange(he,!0,!1)),G(!1))},De=he=>{const ve=he.target,{code:me}=he;switch(me){case ut.up:case ut.down:{const Ve=me===ut.up?-1:1;Hv(tP(ve,Ve,`.${r.e("suggestion-item")}[tabindex="-1"]`));break}case ut.enter:ve.click();break}},_e=()=>{const he=b.value,ve=he[he.length-1];s=w.value?0:s+1,!(!ve||!s||t.collapseTags&&he.length>1)&&(ve.hitState?fe(ve):ve.hitState=!0)},ze=Xr(()=>{const{value:he}=z;if(!he)return;const ve=t.beforeFilter(he);b0(ve)?ve.then(oe).catch(()=>{}):ve!==!1?oe():j()},t.debounce),Ae=(he,ve)=>{!p.value&&G(!0),!(ve!=null&&ve.isComposing)&&(he?ze():j())};return Me(g,Z),Me([B,k],X),Me(b,()=>{nt(()=>Q())}),Me(O,we,{immediate:!0}),Et(()=>{const he=c.value.input,ve=Number.parseFloat(bue(o.cssVarName("input-height"),he).value)-2;n=he.offsetHeight||ve,Dr(he,Q)}),{popperOptions:qBe,tooltipRef:u,popperPaneRef:L,input:c,tagWrapper:d,panel:f,suggestionPanel:h,popperVisible:p,inputHover:m,inputPlaceholder:C,currentPlaceholder:T,filtering:g,presentText:O,checkedValue:F,inputValue:y,searchInputValue:w,presentTags:b,allPresentTags:_,suggestions:$,isDisabled:k,isOnComposition:x,realSize:N,tagSize:M,multiple:R,readonly:D,clearBtnVisible:V,nsCascader:r,nsInput:o,t:a,togglePopperVisible:G,hideSuggestionPanel:j,deleteTag:fe,focusFirstNode:ee,getCheckedNodes:ie,handleExpandChange:pe,handleKeyDown:K,handleComposition:Re,handleClear:re,handleSuggestionClick:Ie,handleSuggestionKeyDown:De,handleDelete:_e,handleInput:Ae}}}),ZBe={key:0},JBe=["placeholder"],QBe=["onClick"];function eVe(t,e,n,s,r,o){const a=pt("circle-close"),i=pt("el-icon"),l=pt("arrow-down"),u=pt("el-input"),c=pt("el-tag"),d=pt("el-tooltip"),f=pt("el-cascader-panel"),h=pt("check"),p=pt("el-scrollbar"),m=rh("clickoutside");return S(),$e(d,{ref:"tooltipRef",visible:t.popperVisible,teleported:t.teleported,"popper-class":[t.nsCascader.e("dropdown"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${t.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:t.hideSuggestionPanel},{default:ce(()=>[St((S(),I("div",{class:P([t.nsCascader.b(),t.nsCascader.m(t.realSize),t.nsCascader.is("disabled",t.isDisabled),t.$attrs.class]),style:ot(t.$attrs.style),onClick:e[11]||(e[11]=()=>t.togglePopperVisible(t.readonly?void 0:!0)),onKeydown:e[12]||(e[12]=(...g)=>t.handleKeyDown&&t.handleKeyDown(...g)),onMouseenter:e[13]||(e[13]=g=>t.inputHover=!0),onMouseleave:e[14]||(e[14]=g=>t.inputHover=!1)},[se(u,{ref:"input",modelValue:t.inputValue,"onUpdate:modelValue":e[1]||(e[1]=g=>t.inputValue=g),placeholder:t.currentPlaceholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1,size:t.realSize,class:P(t.nsCascader.is("focus",t.popperVisible)),onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onFocus:e[2]||(e[2]=g=>t.$emit("focus",g)),onBlur:e[3]||(e[3]=g=>t.$emit("blur",g)),onInput:t.handleInput},{suffix:ce(()=>[t.clearBtnVisible?(S(),$e(i,{key:"clear",class:P([t.nsInput.e("icon"),"icon-circle-close"]),onClick:yt(t.handleClear,["stop"])},{default:ce(()=>[se(a)]),_:1},8,["class","onClick"])):(S(),$e(i,{key:"arrow-down",class:P([t.nsInput.e("icon"),"icon-arrow-down",t.nsCascader.is("reverse",t.popperVisible)]),onClick:e[0]||(e[0]=yt(g=>t.togglePopperVisible(),["stop"]))},{default:ce(()=>[se(l)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),t.multiple?(S(),I("div",{key:0,ref:"tagWrapper",class:P(t.nsCascader.e("tags"))},[(S(!0),I(lt,null,Gt(t.presentTags,g=>(S(),$e(c,{key:g.key,type:t.tagType,size:t.tagSize,hit:g.hitState,closable:g.closable,"disable-transitions":"",onClose:y=>t.deleteTag(g)},{default:ce(()=>[g.isCollapseTag===!1?(S(),I("span",ZBe,Ue(g.text),1)):(S(),$e(d,{key:1,disabled:t.popperVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:ce(()=>[E("span",null,Ue(g.text),1)]),content:ce(()=>[E("div",{class:P(t.nsCascader.e("collapse-tags"))},[(S(!0),I(lt,null,Gt(t.allPresentTags.slice(1),(y,w)=>(S(),I("div",{key:w,class:P(t.nsCascader.e("collapse-tag"))},[(S(),$e(c,{key:y.key,class:"in-tooltip",type:t.tagType,size:t.tagSize,hit:y.hitState,closable:y.closable,"disable-transitions":"",onClose:b=>t.deleteTag(y)},{default:ce(()=>[E("span",null,Ue(y.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),t.filterable&&!t.isDisabled?St((S(),I("input",{key:0,"onUpdate:modelValue":e[4]||(e[4]=g=>t.searchInputValue=g),type:"text",class:P(t.nsCascader.e("search-input")),placeholder:t.presentText?"":t.inputPlaceholder,onInput:e[5]||(e[5]=g=>t.handleInput(t.searchInputValue,g)),onClick:e[6]||(e[6]=yt(g=>t.togglePopperVisible(!0),["stop"])),onKeydown:e[7]||(e[7]=qt((...g)=>t.handleDelete&&t.handleDelete(...g),["delete"])),onCompositionstart:e[8]||(e[8]=(...g)=>t.handleComposition&&t.handleComposition(...g)),onCompositionupdate:e[9]||(e[9]=(...g)=>t.handleComposition&&t.handleComposition(...g)),onCompositionend:e[10]||(e[10]=(...g)=>t.handleComposition&&t.handleComposition(...g))},null,42,JBe)),[[aC,t.searchInputValue]]):ge("v-if",!0)],2)):ge("v-if",!0)],38)),[[m,()=>t.togglePopperVisible(!1),t.popperPaneRef]])]),content:ce(()=>[St(se(f,{ref:"panel",modelValue:t.checkedValue,"onUpdate:modelValue":e[15]||(e[15]=g=>t.checkedValue=g),options:t.options,props:t.props,border:!1,"render-label":t.$slots.default,onExpandChange:t.handleExpandChange,onClose:e[16]||(e[16]=g=>t.$nextTick(()=>t.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Qt,!t.filtering]]),t.filterable?St((S(),$e(p,{key:0,ref:"suggestionPanel",tag:"ul",class:P(t.nsCascader.e("suggestion-panel")),"view-class":t.nsCascader.e("suggestion-list"),onKeydown:t.handleSuggestionKeyDown},{default:ce(()=>[t.suggestions.length?(S(!0),I(lt,{key:0},Gt(t.suggestions,g=>(S(),I("li",{key:g.uid,class:P([t.nsCascader.e("suggestion-item"),t.nsCascader.is("checked",g.checked)]),tabindex:-1,onClick:y=>t.handleSuggestionClick(g)},[E("span",null,Ue(g.text),1),g.checked?(S(),$e(i,{key:0},{default:ce(()=>[se(h)]),_:1})):ge("v-if",!0)],10,QBe))),128)):Oe(t.$slots,"empty",{key:1},()=>[E("li",{class:P(t.nsCascader.e("empty-text"))},Ue(t.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[Qt,t.filtering]]):ge("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var Yv=je(YBe,[["render",eVe],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);Yv.install=t=>{t.component(Yv.name,Yv)};const tVe=Yv,nVe=tVe,sVe=qe({checked:{type:Boolean,default:!1}}),rVe={"update:checked":t=>Rs(t),[Fn]:t=>Rs(t)},oVe=ue({name:"ElCheckTag"}),aVe=ue({...oVe,props:sVe,emits:rVe,setup(t,{emit:e}){const n=t,s=Fe("check-tag"),r=()=>{const o=!n.checked;e(Fn,o),e("update:checked",o)};return(o,a)=>(S(),I("span",{class:P([v(s).b(),v(s).is("checked",o.checked)]),onClick:r},[Oe(o.$slots,"default")],2))}});var iVe=je(aVe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const lVe=Dt(iVe),uVe=qe({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Se([Number,Object]),default:()=>Ln({})},sm:{type:Se([Number,Object]),default:()=>Ln({})},md:{type:Se([Number,Object]),default:()=>Ln({})},lg:{type:Se([Number,Object]),default:()=>Ln({})},xl:{type:Se([Number,Object]),default:()=>Ln({})}}),cVe=ue({name:"ElCol"}),dVe=ue({...cVe,props:uVe,setup(t){const e=t,{gutter:n}=et(VP,{gutter:A(()=>0)}),s=Fe("col"),r=A(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),o=A(()=>{const a=[];return["span","offset","pull","push"].forEach(u=>{const c=e[u];Ct(c)&&(u==="span"?a.push(s.b(`${e[u]}`)):c>0&&a.push(s.b(`${u}-${e[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Ct(e[u])?a.push(s.b(`${u}-${e[u]}`)):Bt(e[u])&&Object.entries(e[u]).forEach(([c,d])=>{a.push(c!=="span"?s.b(`${u}-${c}-${d}`):s.b(`${u}-${d}`))})}),n.value&&a.push(s.is("guttered")),[s.b(),a]});return(a,i)=>(S(),$e(Vt(a.tag),{class:P(v(o)),style:ot(v(r))},{default:ce(()=>[Oe(a.$slots,"default")]),_:3},8,["class","style"]))}});var fVe=je(dVe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const hVe=Dt(fVe),zO=t=>typeof Ct(t),pVe=qe({accordion:Boolean,modelValue:{type:Se([Array,String,Number]),default:()=>Ln([])}}),mVe={[Ot]:zO,[Fn]:zO},gVe=(t,e)=>{const n=U(dh(t.modelValue)),s=o=>{n.value=o;const a=t.accordion?n.value[0]:n.value;e(Ot,a),e(Fn,a)},r=o=>{if(t.accordion)s([n.value[0]===o?"":o]);else{const a=[...n.value],i=a.indexOf(o);i>-1?a.splice(i,1):a.push(o),s(a)}};return Me(()=>t.modelValue,()=>n.value=dh(t.modelValue),{deep:!0}),Lt(MP,{activeNames:n,handleItemClick:r}),{activeNames:n,setActiveNames:s}},vVe=()=>{const t=Fe("collapse");return{rootKls:A(()=>t.b())}},yVe=ue({name:"ElCollapse"}),bVe=ue({...yVe,props:pVe,emits:mVe,setup(t,{expose:e,emit:n}){const s=t,{activeNames:r,setActiveNames:o}=gVe(s,n),{rootKls:a}=vVe();return e({activeNames:r,setActiveNames:o}),(i,l)=>(S(),I("div",{class:P(v(a)),role:"tablist","aria-multiselectable":"true"},[Oe(i.$slots,"default")],2))}});var wVe=je(bVe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const _Ve=ue({name:"ElCollapseTransition"}),$Ve=ue({..._Ve,setup(t){const e=Fe("collapse-transition"),n={beforeEnter(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0},enter(s){s.dataset.oldOverflow=s.style.overflow,s.scrollHeight!==0?(s.style.maxHeight=`${s.scrollHeight}px`,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom):(s.style.maxHeight=0,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom),s.style.overflow="hidden"},afterEnter(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow},beforeLeave(s){s.dataset||(s.dataset={}),s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.maxHeight=`${s.scrollHeight}px`,s.style.overflow="hidden"},leave(s){s.scrollHeight!==0&&(s.style.maxHeight=0,s.style.paddingTop=0,s.style.paddingBottom=0)},afterLeave(s){s.style.maxHeight="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom}};return(s,r)=>(S(),$e(ms,zt({name:v(e).b()},Dee(n)),{default:ce(()=>[Oe(s.$slots,"default")]),_:3},16,["name"]))}});var Zv=je($Ve,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);Zv.install=t=>{t.component(Zv.name,Zv)};const Sw=Zv,xVe=Sw,SVe=qe({title:{type:String,default:""},name:{type:Se([String,Number]),default:()=>fw()},disabled:Boolean}),CVe=t=>{const e=et(MP),n=U(!1),s=U(!1),r=U(fw()),o=A(()=>e==null?void 0:e.activeNames.value.includes(t.name));return{focusing:n,id:r,isActive:o,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:n.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(t.name),n.value=!1,s.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(t.name)}}},kVe=(t,{focusing:e,isActive:n,id:s})=>{const r=Fe("collapse"),o=A(()=>[r.b("item"),r.is("active",v(n)),r.is("disabled",t.disabled)]),a=A(()=>[r.be("item","header"),r.is("active",v(n)),{focusing:v(e)&&!t.disabled}]),i=A(()=>[r.be("item","arrow"),r.is("active",v(n))]),l=A(()=>r.be("item","wrap")),u=A(()=>r.be("item","content")),c=A(()=>r.b(`content-${v(s)}`)),d=A(()=>r.b(`head-${v(s)}`));return{arrowKls:i,headKls:a,rootKls:o,itemWrapperKls:l,itemContentKls:u,scopedContentId:c,scopedHeadId:d}},TVe=["aria-expanded","aria-controls","aria-describedby"],NVe=["id","tabindex"],EVe=["id","aria-hidden","aria-labelledby"],IVe=ue({name:"ElCollapseItem"}),AVe=ue({...IVe,props:SVe,setup(t,{expose:e}){const n=t,{focusing:s,id:r,isActive:o,handleFocus:a,handleHeaderClick:i,handleEnterClick:l}=CVe(n),{arrowKls:u,headKls:c,rootKls:d,itemWrapperKls:f,itemContentKls:h,scopedContentId:p,scopedHeadId:m}=kVe(n,{focusing:s,isActive:o,id:r});return e({isActive:o}),(g,y)=>(S(),I("div",{class:P(v(d))},[E("div",{role:"tab","aria-expanded":v(o),"aria-controls":v(p),"aria-describedby":v(p)},[E("div",{id:v(m),class:P(v(c)),role:"button",tabindex:g.disabled?-1:0,onClick:y[0]||(y[0]=(...w)=>v(i)&&v(i)(...w)),onKeypress:y[1]||(y[1]=qt(yt((...w)=>v(l)&&v(l)(...w),["stop","prevent"]),["space","enter"])),onFocus:y[2]||(y[2]=(...w)=>v(a)&&v(a)(...w)),onBlur:y[3]||(y[3]=w=>s.value=!1)},[Oe(g.$slots,"title",{},()=>[Jt(Ue(g.title),1)]),se(v(rt),{class:P(v(u))},{default:ce(()=>[se(v(Rr))]),_:1},8,["class"])],42,NVe)],8,TVe),se(v(Sw),null,{default:ce(()=>[St(E("div",{id:v(p),class:P(v(f)),role:"tabpanel","aria-hidden":!v(o),"aria-labelledby":v(m)},[E("div",{class:P(v(h))},[Oe(g.$slots,"default")],2)],10,EVe),[[Qt,v(o)]])]),_:3})],2))}});var bz=je(AVe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const OVe=Dt(wVe,{CollapseItem:bz}),RVe=ns(bz);let J4=!1;function B0(t,e){if(!Kt)return;const n=function(o){var a;(a=e.drag)==null||a.call(e,o)},s=function(o){var a;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",s),document.onselectstart=null,document.ondragstart=null,J4=!1,(a=e.end)==null||a.call(e,o)},r=function(o){var a;J4||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",s),document.addEventListener("touchmove",n),document.addEventListener("touchend",s),J4=!0,(a=e.start)==null||a.call(e,o))};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r)}const DVe=ue({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(t){const e=Fe("color-alpha-slider"),n=Rt(),s=Nn(),r=Nn(),o=U(0),a=U(0),i=U();Me(()=>t.color.get("alpha"),()=>{h()}),Me(()=>t.color.value,()=>{h()});function l(){if(!s.value||t.vertical)return 0;const p=n.vnode.el,m=t.color.get("alpha");return p?Math.round(m*(p.offsetWidth-s.value.offsetWidth/2)/100):0}function u(){if(!s.value)return 0;const p=n.vnode.el;if(!t.vertical)return 0;const m=t.color.get("alpha");return p?Math.round(m*(p.offsetHeight-s.value.offsetHeight/2)/100):0}function c(){if(t.color&&t.color.value){const{r:p,g:m,b:g}=t.color.toRgb();return`linear-gradient(to right, rgba(${p}, ${m}, ${g}, 0) 0%, rgba(${p}, ${m}, ${g}, 1) 100%)`}return""}function d(p){p.target!==s.value&&f(p)}function f(p){if(!r.value||!s.value)return;const g=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:w}=kC(p);if(t.vertical){let b=w-g.top;b=Math.max(s.value.offsetHeight/2,b),b=Math.min(b,g.height-s.value.offsetHeight/2),t.color.set("alpha",Math.round((b-s.value.offsetHeight/2)/(g.height-s.value.offsetHeight)*100))}else{let b=y-g.left;b=Math.max(s.value.offsetWidth/2,b),b=Math.min(b,g.width-s.value.offsetWidth/2),t.color.set("alpha",Math.round((b-s.value.offsetWidth/2)/(g.width-s.value.offsetWidth)*100))}}function h(){o.value=l(),a.value=u(),i.value=c()}return Et(()=>{if(!r.value||!s.value)return;const p={drag:m=>{f(m)},end:m=>{f(m)}};B0(r.value,p),B0(s.value,p),h()}),{thumb:s,bar:r,thumbLeft:o,thumbTop:a,background:i,handleClick:d,update:h,ns:e}}});function FVe(t,e,n,s,r,o){return S(),I("div",{class:P([t.ns.b(),t.ns.is("vertical",t.vertical)])},[E("div",{ref:"bar",class:P(t.ns.e("bar")),style:ot({background:t.background}),onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},null,6),E("div",{ref:"thumb",class:P(t.ns.e("thumb")),style:ot({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var MVe=je(DVe,[["render",FVe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const PVe=ue({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Fe("color-hue-slider"),n=Rt(),s=U(),r=U(),o=U(0),a=U(0),i=A(()=>t.color.get("hue"));Me(()=>i.value,()=>{f()});function l(h){h.target!==s.value&&u(h)}function u(h){if(!r.value||!s.value)return;const m=n.vnode.el.getBoundingClientRect(),{clientX:g,clientY:y}=kC(h);let w;if(t.vertical){let b=y-m.top;b=Math.min(b,m.height-s.value.offsetHeight/2),b=Math.max(s.value.offsetHeight/2,b),w=Math.round((b-s.value.offsetHeight/2)/(m.height-s.value.offsetHeight)*360)}else{let b=g-m.left;b=Math.min(b,m.width-s.value.offsetWidth/2),b=Math.max(s.value.offsetWidth/2,b),w=Math.round((b-s.value.offsetWidth/2)/(m.width-s.value.offsetWidth)*360)}t.color.set("hue",w)}function c(){if(!s.value)return 0;const h=n.vnode.el;if(t.vertical)return 0;const p=t.color.get("hue");return h?Math.round(p*(h.offsetWidth-s.value.offsetWidth/2)/360):0}function d(){if(!s.value)return 0;const h=n.vnode.el;if(!t.vertical)return 0;const p=t.color.get("hue");return h?Math.round(p*(h.offsetHeight-s.value.offsetHeight/2)/360):0}function f(){o.value=c(),a.value=d()}return Et(()=>{if(!r.value||!s.value)return;const h={drag:p=>{u(p)},end:p=>{u(p)}};B0(r.value,h),B0(s.value,h),f()}),{bar:r,thumb:s,thumbLeft:o,thumbTop:a,hueValue:i,handleClick:l,update:f,ns:e}}});function LVe(t,e,n,s,r,o){return S(),I("div",{class:P([t.ns.b(),t.ns.is("vertical",t.vertical)])},[E("div",{ref:"bar",class:P(t.ns.e("bar")),onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},null,2),E("div",{ref:"thumb",class:P(t.ns.e("thumb")),style:ot({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var zVe=je(PVe,[["render",LVe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const BVe=qe({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:wo,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:Se(Array)},validateEvent:{type:Boolean,default:!0}}),VVe={[Ot]:t=>wt(t)||nr(t),[Fn]:t=>wt(t)||nr(t),activeChange:t=>wt(t)||nr(t)},wz=Symbol("colorPickerContextKey"),BO=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},HVe=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},WVe=function(t){return typeof t=="string"&&t.includes("%")},jf=function(t,e){HVe(t)&&(t="100%");const n=WVe(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},VO={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Jv=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${VO[e]||e}${VO[n]||n}`},HO=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${Jv(t)}${Jv(e)}${Jv(n)}`},Q4={A:10,B:11,C:12,D:13,E:14,F:15},Tc=function(t){return t.length===2?(Q4[t[0].toUpperCase()]||+t[0])*16+(Q4[t[1].toUpperCase()]||+t[1]):Q4[t[1].toUpperCase()]||+t[1]},UVe=function(t,e,n){e=e/100,n=n/100;let s=e;const r=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,s*=r<=1?r:2-r;const o=(n+e)/2,a=n===0?2*s/(r+s):2*e/(n+e);return{h:t,s:a*100,v:o*100}},WO=(t,e,n)=>{t=jf(t,255),e=jf(e,255),n=jf(n,255);const s=Math.max(t,e,n),r=Math.min(t,e,n);let o;const a=s,i=s-r,l=s===0?0:i/s;if(s===r)o=0;else{switch(s){case t:{o=(e-n)/i+(e<n?6:0);break}case e:{o=(n-t)/i+2;break}case n:{o=(t-e)/i+4;break}}o/=6}return{h:o*360,s:l*100,v:a*100}},Am=function(t,e,n){t=jf(t,360)*6,e=jf(e,100),n=jf(n,100);const s=Math.floor(t),r=t-s,o=n*(1-e),a=n*(1-r*e),i=n*(1-(1-r)*e),l=s%6,u=[n,a,o,o,i,n][l],c=[i,n,n,a,o,o][l],d=[o,o,i,n,n,a][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(d*255)}};class d0{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)Ut(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const s in e)Ut(e,s)&&this.set(s,e[s]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Am(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(s,r,o)=>{this._hue=Math.max(0,Math.min(360,s)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(e.includes("hsl")){const s=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:r,s:o,v:a}=UVe(s[0],s[1],s[2]);n(r,o,a)}}else if(e.includes("hsv")){const s=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3&&n(s[0],s[1],s[2])}else if(e.includes("rgb")){const s=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?Number.parseFloat(r):Number.parseInt(r,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:r,s:o,v:a}=WO(s[0],s[1],s[2]);n(r,o,a)}}else if(e.includes("#")){const s=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(s))return;let r,o,a;s.length===3?(r=Tc(s[0]+s[0]),o=Tc(s[1]+s[1]),a=Tc(s[2]+s[2])):(s.length===6||s.length===8)&&(r=Tc(s.slice(0,2)),o=Tc(s.slice(2,4)),a=Tc(s.slice(4,6))),s.length===8?this._alpha=Tc(s.slice(6))/255*100:(s.length===3||s.length===6)&&(this._alpha=100);const{h:i,s:l,v:u}=WO(r,o,a);n(i,l,u)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:s,_alpha:r,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const a=BO(e,n/100,s/100);this.value=`hsla(${e}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(s)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${HO(Am(e,n,s))}${Jv(r*255/100)}`;break}default:{const{r:a,g:i,b:l}=Am(e,n,s);this.value=`rgba(${a}, ${i}, ${l}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const a=BO(e,n/100,s/100);this.value=`hsl(${e}, ${Math.round(a[1]*100)}%, ${Math.round(a[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(s)}%)`;break}case"rgb":{const{r:a,g:i,b:l}=Am(e,n,s);this.value=`rgb(${a}, ${i}, ${l})`;break}default:this.value=HO(Am(e,n,s))}}}const GVe=ue({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const e=Fe("color-predefine"),{currentColor:n}=et(wz),s=U(o(t.colors,t.color));Me(()=>n.value,a=>{const i=new d0;i.fromString(a),s.value.forEach(l=>{l.selected=i.compare(l)})}),Ho(()=>{s.value=o(t.colors,t.color)});function r(a){t.color.fromString(t.colors[a])}function o(a,i){return a.map(l=>{const u=new d0;return u.enableAlpha=!0,u.format="rgba",u.fromString(l),u.selected=u.value===i.value,u})}return{rgbaColors:s,handleSelect:r,ns:e}}}),jVe=["onClick"];function KVe(t,e,n,s,r,o){return S(),I("div",{class:P(t.ns.b())},[E("div",{class:P(t.ns.e("colors"))},[(S(!0),I(lt,null,Gt(t.rgbaColors,(a,i)=>(S(),I("div",{key:t.colors[i],class:P([t.ns.e("color-selector"),t.ns.is("alpha",a._alpha<100),{selected:a.selected}]),onClick:l=>t.handleSelect(i)},[E("div",{style:ot({backgroundColor:a.value})},null,4)],10,jVe))),128))],2)],2)}var qVe=je(GVe,[["render",KVe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const XVe=ue({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Fe("color-svpanel"),n=Rt(),s=U(0),r=U(0),o=U("hsl(0, 100%, 50%)"),a=A(()=>{const u=t.color.get("hue"),c=t.color.get("value");return{hue:u,value:c}});function i(){const u=t.color.get("saturation"),c=t.color.get("value"),d=n.vnode.el,{clientWidth:f,clientHeight:h}=d;r.value=u*f/100,s.value=(100-c)*h/100,o.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(u){const d=n.vnode.el.getBoundingClientRect(),{clientX:f,clientY:h}=kC(u);let p=f-d.left,m=h-d.top;p=Math.max(0,p),p=Math.min(p,d.width),m=Math.max(0,m),m=Math.min(m,d.height),r.value=p,s.value=m,t.color.set({saturation:p/d.width*100,value:100-m/d.height*100})}return Me(()=>a.value,()=>{i()}),Et(()=>{B0(n.vnode.el,{drag:u=>{l(u)},end:u=>{l(u)}}),i()}),{cursorTop:s,cursorLeft:r,background:o,colorValue:a,handleDrag:l,update:i,ns:e}}}),YVe=E("div",null,null,-1),ZVe=[YVe];function JVe(t,e,n,s,r,o){return S(),I("div",{class:P(t.ns.b()),style:ot({backgroundColor:t.background})},[E("div",{class:P(t.ns.e("white"))},null,2),E("div",{class:P(t.ns.e("black"))},null,2),E("div",{class:P(t.ns.e("cursor")),style:ot({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},ZVe,6)],6)}var QVe=je(XVe,[["render",JVe],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const eHe=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],tHe=ue({name:"ElColorPicker"}),nHe=ue({...tHe,props:BVe,emits:VVe,setup(t,{expose:e,emit:n}){const s=t,{t:r}=nn(),o=Fe("color"),{formItem:a}=to(),i=ks(),l=To(),{inputId:u,isLabeledByFormItem:c}=ic(s,{formItemContext:a}),d=U(),f=U(),h=U(),p=U();let m=!0;const g=on(new d0({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue})),y=U(!1),w=U(!1),b=U(""),_=A(()=>!s.modelValue&&!w.value?"transparent":C(g,s.showAlpha)),$=A(()=>!s.modelValue&&!w.value?"":g.value),x=A(()=>c.value?void 0:s.label||r("el.colorpicker.defaultLabel")),k=A(()=>c.value?a==null?void 0:a.labelId:void 0);function C(O,F){if(!(O instanceof d0))throw new TypeError("color should be instance of _color Class");const{r:L,g:G,b:Z}=O.toRgb();return F?`rgba(${L}, ${G}, ${Z}, ${O.get("alpha")/100})`:`rgb(${L}, ${G}, ${Z})`}function T(O){y.value=O}const N=Xr(T,100);function M(){N(!1),R()}function R(){nt(()=>{s.modelValue?g.fromString(s.modelValue):(g.value="",nt(()=>{w.value=!1}))})}function D(){l.value||N(!y.value)}function z(){g.fromString(b.value)}function B(){const O=g.value;n(Ot,O),n("change",O),s.validateEvent&&(a==null||a.validate("change").catch(F=>void 0)),N(!1),nt(()=>{const F=new d0({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue});g.compare(F)||R()})}function V(){N(!1),n(Ot,null),n("change",null),s.modelValue!==null&&s.validateEvent&&(a==null||a.validate("change").catch(O=>void 0)),R()}return Et(()=>{s.modelValue&&(b.value=$.value)}),Me(()=>s.modelValue,O=>{O?O&&O!==g.value&&(m=!1,g.fromString(O)):w.value=!1}),Me(()=>$.value,O=>{b.value=O,m&&n("activeChange",O),m=!0}),Me(()=>g.value,()=>{!s.modelValue&&!w.value&&(w.value=!0)}),Me(()=>y.value,()=>{nt(()=>{var O,F,L;(O=d.value)==null||O.update(),(F=f.value)==null||F.update(),(L=h.value)==null||L.update()})}),Lt(wz,{currentColor:$}),e({color:g}),(O,F)=>(S(),$e(v(No),{ref_key:"popper",ref:p,visible:y.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[v(o).be("picker","panel"),v(o).b("dropdown"),O.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${v(o).namespace.value}-zoom-in-top`,persistent:""},{content:ce(()=>[St((S(),I("div",null,[E("div",{class:P(v(o).be("dropdown","main-wrapper"))},[se(zVe,{ref_key:"hue",ref:d,class:"hue-slider",color:v(g),vertical:""},null,8,["color"]),se(QVe,{ref:"svPanel",color:v(g)},null,8,["color"])],2),O.showAlpha?(S(),$e(MVe,{key:0,ref_key:"alpha",ref:h,color:v(g)},null,8,["color"])):ge("v-if",!0),O.predefine?(S(),$e(qVe,{key:1,ref:"predefine",color:v(g),colors:O.predefine},null,8,["color","colors"])):ge("v-if",!0),E("div",{class:P(v(o).be("dropdown","btns"))},[E("span",{class:P(v(o).be("dropdown","value"))},[se(v(Or),{modelValue:b.value,"onUpdate:modelValue":F[0]||(F[0]=L=>b.value=L),"validate-event":!1,size:"small",onKeyup:qt(z,["enter"]),onBlur:z},null,8,["modelValue","onKeyup"])],2),se(v(br),{class:P(v(o).be("dropdown","link-btn")),text:"",size:"small",onClick:V},{default:ce(()=>[Jt(Ue(v(r)("el.colorpicker.clear")),1)]),_:1},8,["class"]),se(v(br),{plain:"",size:"small",class:P(v(o).be("dropdown","btn")),onClick:B},{default:ce(()=>[Jt(Ue(v(r)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[v(Ku),M]])]),default:ce(()=>[E("div",{id:v(u),class:P([v(o).b("picker"),v(o).is("disabled",v(l)),v(o).bm("picker",v(i))]),role:"button","aria-label":v(x),"aria-labelledby":v(k),"aria-description":v(r)("el.colorpicker.description",{color:O.modelValue||""}),tabindex:O.tabindex,onKeydown:qt(D,["enter"])},[v(l)?(S(),I("div",{key:0,class:P(v(o).be("picker","mask"))},null,2)):ge("v-if",!0),E("div",{class:P(v(o).be("picker","trigger")),onClick:D},[E("span",{class:P([v(o).be("picker","color"),v(o).is("alpha",O.showAlpha)])},[E("span",{class:P(v(o).be("picker","color-inner")),style:ot({backgroundColor:v(_)})},[St(se(v(rt),{class:P([v(o).be("picker","icon"),v(o).is("icon-arrow-down")])},{default:ce(()=>[se(v(zl))]),_:1},8,["class"]),[[Qt,O.modelValue||w.value]]),!O.modelValue&&!w.value?(S(),$e(v(rt),{key:0,class:P([v(o).be("picker","empty"),v(o).is("icon-close")])},{default:ce(()=>[se(v(xa))]),_:1},8,["class"])):ge("v-if",!0)],6)],2)],2)],42,eHe)]),_:1},8,["visible","popper-class","transition"]))}});var sHe=je(nHe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const rHe=Dt(sHe),N6={},oHe=qe({a11y:{type:Boolean,default:!0},locale:{type:Se(Object)},size:wo,button:{type:Se(Object)},experimentalFeatures:{type:Se(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Se(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),aHe=ue({name:"ElConfigProvider",props:oHe,setup(t,{slots:e}){Me(()=>t.message,s=>{Object.assign(N6,s??{})},{immediate:!0,deep:!0});const n=qP(t);return()=>Oe(e,"default",{config:n==null?void 0:n.value})}}),iHe=Dt(aHe),lHe=ue({name:"ElContainer"}),uHe=ue({...lHe,props:{direction:{type:String}},setup(t){const e=t,n=ir(),s=Fe("container"),r=A(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(a=>{const i=a.type.name;return i==="ElHeader"||i==="ElFooter"}):!1);return(o,a)=>(S(),I("section",{class:P([v(s).b(),v(s).is("vertical",v(r))])},[Oe(o.$slots,"default")],2))}});var cHe=je(uHe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const dHe=ue({name:"ElAside"}),fHe=ue({...dHe,props:{width:{type:String,default:null}},setup(t){const e=t,n=Fe("aside"),s=A(()=>e.width?n.cssVarBlock({width:e.width}):{});return(r,o)=>(S(),I("aside",{class:P(v(n).b()),style:ot(v(s))},[Oe(r.$slots,"default")],6))}});var _z=je(fHe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const hHe=ue({name:"ElFooter"}),pHe=ue({...hHe,props:{height:{type:String,default:null}},setup(t){const e=t,n=Fe("footer"),s=A(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,o)=>(S(),I("footer",{class:P(v(n).b()),style:ot(v(s))},[Oe(r.$slots,"default")],6))}});var $z=je(pHe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const mHe=ue({name:"ElHeader"}),gHe=ue({...mHe,props:{height:{type:String,default:null}},setup(t){const e=t,n=Fe("header"),s=A(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,o)=>(S(),I("header",{class:P(v(n).b()),style:ot(v(s))},[Oe(r.$slots,"default")],6))}});var xz=je(gHe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const vHe=ue({name:"ElMain"}),yHe=ue({...vHe,setup(t){const e=Fe("main");return(n,s)=>(S(),I("main",{class:P(v(e).b())},[Oe(n.$slots,"default")],2))}});var Sz=je(yHe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const bHe=Dt(cHe,{Aside:_z,Footer:$z,Header:xz,Main:Sz}),wHe=ns(_z),_He=ns($z),$He=ns(xz),xHe=ns(Sz);var Cz={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){return function(n,s){var r=s.prototype,o=r.format;r.format=function(a){var i=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var u=this.$utils(),c=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return l.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return l.ordinal(i.week(),"W");case"w":case"ww":return u.s(i.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(i.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(i.$H===0?24:i.$H),d==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return d}});return o.bind(this)(c)}}})})(Cz);const SHe=Cz.exports;var kz={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){var n="week",s="year";return function(r,o,a){var i=o.prototype;i.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=a(this).startOf(s).add(1,s).date(u),d=a(this).endOf(n);if(c.isBefore(d))return 1}var f=a(this).startOf(s).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?a(this).startOf("week").week():Math.ceil(h)},i.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(kz);const CHe=kz.exports;var Tz={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){return function(n,s){s.prototype.weekYear=function(){var r=this.month(),o=this.week(),a=this.year();return o===1&&r===11?a+1:r===0&&o>=52?a-1:a}}})})(Tz);const kHe=Tz.exports;var Nz={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){return function(n,s,r){s.prototype.dayOfYear=function(o){var a=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return o==null?a:this.add(o-a,"day")}}})})(Nz);const THe=Nz.exports;var Ez={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){return function(n,s){s.prototype.isSameOrAfter=function(r,o){return this.isSame(r,o)||this.isAfter(r,o)}}})})(Ez);const NHe=Ez.exports;var Iz={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(wn,function(){return function(n,s){s.prototype.isSameOrBefore=function(r,o){return this.isSame(r,o)||this.isBefore(r,o)}}})})(Iz);const EHe=Iz.exports,IHe=qe({type:{type:Se(String),default:"date"}}),AHe=["date","dates","year","month","week","range"],ik=qe({disabledDate:{type:Se(Function)},date:{type:Se(Object),required:!0},minDate:{type:Se(Object)},maxDate:{type:Se(Object)},parsedValue:{type:Se([Object,Array])},rangeState:{type:Se(Object),default:()=>({endDate:null,selecting:!1})}}),Az=qe({type:{type:Se(String),required:!0,values:D9e}}),Oz=qe({unlinkPanels:Boolean,parsedValue:{type:Se(Array)}}),Rz=t=>({type:String,values:AHe,default:t}),OHe=qe({...Az,parsedValue:{type:Se([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),RHe=qe({...ik,cellClassName:{type:Se(Function)},showWeekNumber:Boolean,selectionMode:Rz("date")}),E6=t=>{if(!Qe(t))return!1;const[e,n]=t;return Nt.isDayjs(e)&&Nt.isDayjs(n)&&e.isSameOrBefore(n)},Dz=(t,{lang:e,unit:n,unlinkPanels:s})=>{let r;if(Qe(t)){let[o,a]=t.map(i=>Nt(i).locale(e));return s||(a=o.add(1,n)),[o,a]}else t?r=Nt(t):r=Nt();return r=r.locale(e),[r,r.add(1,n)]},DHe=(t,e,{columnIndexOffset:n,startDate:s,nextEndDate:r,now:o,unit:a,relativeDateGetter:i,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<t.row;c++){const d=e[c];for(let f=0;f<t.column;f++){let h=d[f+n];h||(h={row:c,column:f,type:"normal",inRange:!1,start:!1,end:!1});const p=c*t.column+f,m=i(p);h.dayjs=m,h.date=m.toDate(),h.timestamp=m.valueOf(),h.type="normal",h.inRange=!!(s&&m.isSameOrAfter(s,a)&&r&&m.isSameOrBefore(r,a))||!!(s&&m.isSameOrBefore(s,a)&&r&&m.isSameOrAfter(r,a)),s!=null&&s.isSameOrAfter(r)?(h.start=!!r&&m.isSame(r,a),h.end=s&&m.isSame(s,a)):(h.start=!!s&&m.isSame(s,a),h.end=!!r&&m.isSame(r,a)),m.isSame(o,a)&&(h.type="today"),l==null||l(h,{rowIndex:c,columnIndex:f}),d[f+n]=h}u==null||u(d)}},FHe=qe({cell:{type:Se(Object)}});var MHe=ue({name:"ElDatePickerCell",props:FHe,setup(t){const e=Fe("date-table-cell"),{slots:n}=et(zC);return()=>{const{cell:s}=t;if(n.default){const r=n.default(s).filter(o=>o.patchFlag!==-2&&o.type.toString()!=="Symbol(Comment)");if(r.length)return r}return se("div",{class:e.b()},[se("span",{class:e.e("text")},[s==null?void 0:s.text])])}}});const PHe=["aria-label"],LHe={key:0,scope:"col"},zHe=["aria-label"],BHe=["aria-current","aria-selected","tabindex"],VHe=ue({__name:"basic-date-table",props:RHe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const s=t,r=Fe("date-table"),{t:o,lang:a}=nn(),i=U(),l=U(),u=U(),c=U(),d=U([[],[],[],[],[],[]]);let f=!1;const h=s.date.$locale().weekStart||7,p=s.date.locale("en").localeData().weekdaysShort().map(j=>j.toLowerCase()),m=A(()=>h>3?7-h:-h),g=A(()=>{const j=s.date.startOf("month");return j.subtract(j.day()||7,"day")}),y=A(()=>p.concat(p).slice(h,h+7)),w=A(()=>PM(C.value).some(j=>j.isCurrent)),b=A(()=>{const j=s.date.startOf("month"),J=j.day()||7,fe=j.daysInMonth(),X=j.subtract(1,"month").daysInMonth();return{startOfMonthDay:J,dateCountOfMonth:fe,dateCountOfLastMonth:X}}),_=A(()=>s.selectionMode==="dates"?vl(s.parsedValue):[]),$=(j,{count:J,rowIndex:fe,columnIndex:X})=>{const{startOfMonthDay:oe,dateCountOfMonth:ee,dateCountOfLastMonth:Q}=v(b),ie=v(m);if(fe>=0&&fe<=1){const pe=oe+ie<0?7+oe+ie:oe+ie;if(X+fe*7>=pe)return j.text=J,!0;j.text=Q-(pe-X%7)+1+fe*7,j.type="prev-month"}else return J<=ee?j.text=J:(j.text=J-ee,j.type="next-month"),!0;return!1},x=(j,{columnIndex:J,rowIndex:fe},X)=>{const{disabledDate:oe,cellClassName:ee}=s,Q=v(_),ie=$(j,{count:X,rowIndex:fe,columnIndex:J}),pe=j.dayjs.toDate();return j.selected=Q.find(Re=>Re.valueOf()===j.dayjs.valueOf()),j.isSelected=!!j.selected,j.isCurrent=M(j),j.disabled=oe==null?void 0:oe(pe),j.customClass=ee==null?void 0:ee(pe),ie},k=j=>{if(s.selectionMode==="week"){const[J,fe]=s.showWeekNumber?[1,7]:[0,6],X=Z(j[J+1]);j[J].inRange=X,j[J].start=X,j[fe].inRange=X,j[fe].end=X}},C=A(()=>{const{minDate:j,maxDate:J,rangeState:fe,showWeekNumber:X}=s,oe=m.value,ee=d.value,Q="day";let ie=1;if(X)for(let pe=0;pe<6;pe++)ee[pe][0]||(ee[pe][0]={type:"week",text:g.value.add(pe*7+1,Q).week()});return DHe({row:6,column:7},ee,{startDate:j,columnIndexOffset:X?1:0,nextEndDate:fe.endDate||J||fe.selecting&&j||null,now:Nt().locale(v(a)).startOf(Q),unit:Q,relativeDateGetter:pe=>g.value.add(pe-oe,Q),setCellMetadata:(...pe)=>{x(...pe,ie)&&(ie+=1)},setRowMetadata:k}),ee});Me(()=>s.date,async()=>{var j,J;(j=i.value)!=null&&j.contains(document.activeElement)&&(await nt(),(J=l.value)==null||J.focus())});const T=async()=>{var j;(j=l.value)==null||j.focus()},N=(j="")=>["normal","today"].includes(j),M=j=>s.selectionMode==="date"&&N(j.type)&&R(j,s.parsedValue),R=(j,J)=>J?Nt(J).locale(a.value).isSame(s.date.date(Number(j.text)),"day"):!1,D=j=>{const J=[];return N(j.type)&&!j.disabled?(J.push("available"),j.type==="today"&&J.push("today")):J.push(j.type),M(j)&&J.push("current"),j.inRange&&(N(j.type)||s.selectionMode==="week")&&(J.push("in-range"),j.start&&J.push("start-date"),j.end&&J.push("end-date")),j.disabled&&J.push("disabled"),j.selected&&J.push("selected"),j.customClass&&J.push(j.customClass),J.join(" ")},z=(j,J)=>{const fe=j*7+(J-(s.showWeekNumber?1:0))-m.value;return g.value.add(fe,"day")},B=j=>{var J;if(!s.rangeState.selecting)return;let fe=j.target;if(fe.tagName==="SPAN"&&(fe=(J=fe.parentNode)==null?void 0:J.parentNode),fe.tagName==="DIV"&&(fe=fe.parentNode),fe.tagName!=="TD")return;const X=fe.parentNode.rowIndex-1,oe=fe.cellIndex;C.value[X][oe].disabled||(X!==u.value||oe!==c.value)&&(u.value=X,c.value=oe,n("changerange",{selecting:!0,endDate:z(X,oe)}))},V=j=>!w.value&&(j==null?void 0:j.text)===1&&j.type==="normal"||j.isCurrent,O=j=>{f||w.value||s.selectionMode!=="date"||G(j,!0)},F=j=>{!j.target.closest("td")||(f=!0)},L=j=>{!j.target.closest("td")||(f=!1)},G=(j,J=!1)=>{const fe=j.target.closest("td");if(!fe)return;const X=fe.parentNode.rowIndex-1,oe=fe.cellIndex,ee=C.value[X][oe];if(ee.disabled||ee.type==="week")return;const Q=z(X,oe);if(s.selectionMode==="range")!s.rangeState.selecting||!s.minDate?(n("pick",{minDate:Q,maxDate:null}),n("select",!0)):(Q>=s.minDate?n("pick",{minDate:s.minDate,maxDate:Q}):n("pick",{minDate:Q,maxDate:s.minDate}),n("select",!1));else if(s.selectionMode==="date")n("pick",Q,J);else if(s.selectionMode==="week"){const ie=Q.week(),pe=`${Q.year()}w${ie}`;n("pick",{year:Q.year(),week:ie,value:pe,date:Q.startOf("week")})}else if(s.selectionMode==="dates"){const ie=ee.selected?vl(s.parsedValue).filter(pe=>(pe==null?void 0:pe.valueOf())!==Q.valueOf()):vl(s.parsedValue).concat([Q]);n("pick",ie)}},Z=j=>{if(s.selectionMode!=="week")return!1;let J=s.date.startOf("day");if(j.type==="prev-month"&&(J=J.subtract(1,"month")),j.type==="next-month"&&(J=J.add(1,"month")),J=J.date(Number.parseInt(j.text,10)),s.parsedValue&&!Array.isArray(s.parsedValue)){const fe=(s.parsedValue.day()-h+7)%7-1;return s.parsedValue.subtract(fe,"day").isSame(J,"day")}return!1};return e({focus:T}),(j,J)=>(S(),I("table",{role:"grid","aria-label":v(o)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:P([v(r).b(),{"is-week-mode":j.selectionMode==="week"}]),onClick:G,onMousemove:B,onMousedown:F,onMouseup:L},[E("tbody",{ref_key:"tbodyRef",ref:i},[E("tr",null,[j.showWeekNumber?(S(),I("th",LHe,Ue(v(o)("el.datepicker.week")),1)):ge("v-if",!0),(S(!0),I(lt,null,Gt(v(y),(fe,X)=>(S(),I("th",{key:X,scope:"col","aria-label":v(o)("el.datepicker.weeksFull."+fe)},Ue(v(o)("el.datepicker.weeks."+fe)),9,zHe))),128))]),(S(!0),I(lt,null,Gt(v(C),(fe,X)=>(S(),I("tr",{key:X,class:P([v(r).e("row"),{current:Z(fe[1])}])},[(S(!0),I(lt,null,Gt(fe,(oe,ee)=>(S(),I("td",{key:`${X}.${ee}`,ref_for:!0,ref:Q=>V(oe)&&(l.value=Q),class:P(D(oe)),"aria-current":oe.isCurrent?"date":void 0,"aria-selected":oe.isCurrent,tabindex:V(oe)?0:-1,onFocus:O},[se(v(MHe),{cell:oe},null,8,["cell"])],42,BHe))),128))],2))),128))],512)],42,PHe))}});var I6=je(VHe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const HHe=qe({...ik,selectionMode:Rz("month")}),WHe=["aria-label"],UHe=["aria-selected","aria-label","tabindex","onKeydown"],GHe={class:"cell"},jHe=ue({__name:"basic-month-table",props:HHe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const s=t,r=(_,$,x)=>{const k=Nt().locale(x).startOf("month").month($).year(_),C=k.daysInMonth();return Du(C).map(T=>k.add(T,"day").toDate())},o=Fe("month-table"),{t:a,lang:i}=nn(),l=U(),u=U(),c=U(s.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),d=U([[],[],[]]),f=U(),h=U(),p=A(()=>{var _,$;const x=d.value,k=Nt().locale(i.value).startOf("month");for(let C=0;C<3;C++){const T=x[C];for(let N=0;N<4;N++){const M=T[N]||(T[N]={row:C,column:N,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});M.type="normal";const R=C*4+N,D=s.date.startOf("year").month(R),z=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;M.inRange=!!(s.minDate&&D.isSameOrAfter(s.minDate,"month")&&z&&D.isSameOrBefore(z,"month"))||!!(s.minDate&&D.isSameOrBefore(s.minDate,"month")&&z&&D.isSameOrAfter(z,"month")),(_=s.minDate)!=null&&_.isSameOrAfter(z)?(M.start=!!(z&&D.isSame(z,"month")),M.end=s.minDate&&D.isSame(s.minDate,"month")):(M.start=!!(s.minDate&&D.isSame(s.minDate,"month")),M.end=!!(z&&D.isSame(z,"month"))),k.isSame(D)&&(M.type="today"),M.text=R,M.disabled=(($=s.disabledDate)==null?void 0:$.call(s,D.toDate()))||!1}}return x}),m=()=>{var _;(_=u.value)==null||_.focus()},g=_=>{const $={},x=s.date.year(),k=new Date,C=_.text;return $.disabled=s.disabledDate?r(x,C,i.value).every(s.disabledDate):!1,$.current=vl(s.parsedValue).findIndex(T=>Nt.isDayjs(T)&&T.year()===x&&T.month()===C)>=0,$.today=k.getFullYear()===x&&k.getMonth()===C,_.inRange&&($["in-range"]=!0,_.start&&($["start-date"]=!0),_.end&&($["end-date"]=!0)),$},y=_=>{const $=s.date.year(),x=_.text;return vl(s.date).findIndex(k=>k.year()===$&&k.month()===x)>=0},w=_=>{var $;if(!s.rangeState.selecting)return;let x=_.target;if(x.tagName==="A"&&(x=($=x.parentNode)==null?void 0:$.parentNode),x.tagName==="DIV"&&(x=x.parentNode),x.tagName!=="TD")return;const k=x.parentNode.rowIndex,C=x.cellIndex;p.value[k][C].disabled||(k!==f.value||C!==h.value)&&(f.value=k,h.value=C,n("changerange",{selecting:!0,endDate:s.date.startOf("year").month(k*4+C)}))},b=_=>{var $;const x=($=_.target)==null?void 0:$.closest("td");if((x==null?void 0:x.tagName)!=="TD"||ja(x,"disabled"))return;const k=x.cellIndex,T=x.parentNode.rowIndex*4+k,N=s.date.startOf("year").month(T);s.selectionMode==="range"?s.rangeState.selecting?(s.minDate&&N>=s.minDate?n("pick",{minDate:s.minDate,maxDate:N}):n("pick",{minDate:N,maxDate:s.minDate}),n("select",!1)):(n("pick",{minDate:N,maxDate:null}),n("select",!0)):n("pick",T)};return Me(()=>s.date,async()=>{var _,$;(_=l.value)!=null&&_.contains(document.activeElement)&&(await nt(),($=u.value)==null||$.focus())}),e({focus:m}),(_,$)=>(S(),I("table",{role:"grid","aria-label":v(a)("el.datepicker.monthTablePrompt"),class:P(v(o).b()),onClick:b,onMousemove:w},[E("tbody",{ref_key:"tbodyRef",ref:l},[(S(!0),I(lt,null,Gt(v(p),(x,k)=>(S(),I("tr",{key:k},[(S(!0),I(lt,null,Gt(x,(C,T)=>(S(),I("td",{key:T,ref_for:!0,ref:N=>y(C)&&(u.value=N),class:P(g(C)),"aria-selected":`${y(C)}`,"aria-label":v(a)(`el.datepicker.month${+C.text+1}`),tabindex:y(C)?0:-1,onKeydown:[qt(yt(b,["prevent","stop"]),["space"]),qt(yt(b,["prevent","stop"]),["enter"])]},[E("div",null,[E("span",GHe,Ue(v(a)("el.datepicker.months."+c.value[C.text])),1)])],42,UHe))),128))]))),128))],512)],42,WHe))}});var A6=je(jHe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:KHe,disabledDate:qHe,parsedValue:XHe}=ik,YHe=qe({date:KHe,disabledDate:qHe,parsedValue:XHe}),ZHe=["aria-label"],JHe=["aria-selected","tabindex","onKeydown"],QHe={class:"cell"},eWe={key:1},tWe=ue({__name:"basic-year-table",props:YHe,emits:["pick"],setup(t,{expose:e,emit:n}){const s=t,r=(m,g)=>{const y=Nt(String(m)).locale(g).startOf("year"),b=y.endOf("year").dayOfYear();return Du(b).map(_=>y.add(_,"day").toDate())},o=Fe("year-table"),{t:a,lang:i}=nn(),l=U(),u=U(),c=A(()=>Math.floor(s.date.year()/10)*10),d=()=>{var m;(m=u.value)==null||m.focus()},f=m=>{const g={},y=Nt().locale(i.value);return g.disabled=s.disabledDate?r(m,i.value).every(s.disabledDate):!1,g.current=vl(s.parsedValue).findIndex(w=>w.year()===m)>=0,g.today=y.year()===m,g},h=m=>m===c.value&&s.date.year()<c.value&&s.date.year()>c.value+9||vl(s.date).findIndex(g=>g.year()===m)>=0,p=m=>{const y=m.target.closest("td");if(y&&y.textContent){if(ja(y,"disabled"))return;const w=y.textContent||y.innerText;n("pick",Number(w))}};return Me(()=>s.date,async()=>{var m,g;(m=l.value)!=null&&m.contains(document.activeElement)&&(await nt(),(g=u.value)==null||g.focus())}),e({focus:d}),(m,g)=>(S(),I("table",{role:"grid","aria-label":v(a)("el.datepicker.yearTablePrompt"),class:P(v(o).b()),onClick:p},[E("tbody",{ref_key:"tbodyRef",ref:l},[(S(),I(lt,null,Gt(3,(y,w)=>E("tr",{key:w},[(S(),I(lt,null,Gt(4,(b,_)=>(S(),I(lt,{key:w+"_"+_},[w*4+_<10?(S(),I("td",{key:0,ref_for:!0,ref:$=>h(v(c)+w*4+_)&&(u.value=$),class:P(["available",f(v(c)+w*4+_)]),"aria-selected":`${h(v(c)+w*4+_)}`,tabindex:h(v(c)+w*4+_)?0:-1,onKeydown:[qt(yt(p,["prevent","stop"]),["space"]),qt(yt(p,["prevent","stop"]),["enter"])]},[E("span",QHe,Ue(v(c)+w*4+_),1)],42,JHe)):(S(),I("td",eWe))],64))),64))])),64))],512)],10,ZHe))}});var nWe=je(tWe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const sWe=["onClick"],rWe=["aria-label"],oWe=["aria-label"],aWe=["aria-label"],iWe=["aria-label"],lWe=ue({__name:"panel-date-pick",props:OHe,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,s=(xe,Ke,at)=>!0,r=Fe("picker-panel"),o=Fe("date-picker"),a=Tg(),i=ir(),{t:l,lang:u}=nn(),c=et("EP_PICKER_BASE"),d=et(pw),{shortcuts:f,disabledDate:h,cellClassName:p,defaultTime:m,arrowControl:g}=c.props,y=Un(c.props,"defaultValue"),w=U(),b=U(Nt().locale(u.value)),_=U(!1),$=A(()=>Nt(m).locale(u.value)),x=A(()=>b.value.month()),k=A(()=>b.value.year()),C=U([]),T=U(null),N=U(null),M=xe=>C.value.length>0?s(xe,C.value,n.format||"HH:mm:ss"):!0,R=xe=>m&&!K.value&&!_.value?$.value.year(xe.year()).month(xe.month()).date(xe.date()):oe.value?xe.millisecond(0):xe.startOf("day"),D=(xe,...Ke)=>{if(!xe)e("pick",xe,...Ke);else if(Qe(xe)){const at=xe.map(R);e("pick",at,...Ke)}else e("pick",R(xe),...Ke);T.value=null,N.value=null,_.value=!1},z=(xe,Ke)=>{if(G.value==="date"){xe=xe;let at=n.parsedValue?n.parsedValue.year(xe.year()).month(xe.month()).date(xe.date()):xe;M(at)||(at=C.value[0][0].year(xe.year()).month(xe.month()).date(xe.date())),b.value=at,D(at,oe.value||Ke)}else G.value==="week"?D(xe.date):G.value==="dates"&&D(xe,!0)},B=xe=>{const Ke=xe?"add":"subtract";b.value=b.value[Ke](1,"month"),dt("month")},V=xe=>{const Ke=b.value,at=xe?"add":"subtract";b.value=O.value==="year"?Ke[at](10,"year"):Ke[at](1,"year"),dt("year")},O=U("date"),F=A(()=>{const xe=l("el.datepicker.year");if(O.value==="year"){const Ke=Math.floor(k.value/10)*10;return xe?`${Ke} ${xe} - ${Ke+9} ${xe}`:`${Ke} - ${Ke+9}`}return`${k.value} ${xe}`}),L=xe=>{const Ke=vt(xe.value)?xe.value():xe.value;if(Ke){D(Nt(Ke).locale(u.value));return}xe.onClick&&xe.onClick({attrs:a,slots:i,emit:e})},G=A(()=>{const{type:xe}=n;return["week","month","year","dates"].includes(xe)?xe:"date"}),Z=A(()=>G.value==="date"?O.value:G.value),j=A(()=>!!f.length),J=async xe=>{b.value=b.value.startOf("month").month(xe),G.value==="month"?D(b.value,!1):(O.value="date",["month","year","date","week"].includes(G.value)&&(D(b.value,!0),await nt(),Je())),dt("month")},fe=async xe=>{G.value==="year"?(b.value=b.value.startOf("year").year(xe),D(b.value,!1)):(b.value=b.value.year(xe),O.value="month",["month","year","date","week"].includes(G.value)&&(D(b.value,!0),await nt(),Je())),dt("year")},X=async xe=>{O.value=xe,await nt(),Je()},oe=A(()=>n.type==="datetime"||n.type==="datetimerange"),ee=A(()=>oe.value||G.value==="dates"),Q=()=>{if(G.value==="dates")D(n.parsedValue);else{let xe=n.parsedValue;if(!xe){const Ke=Nt(m).locale(u.value),at=Ye();xe=Ke.year(at.year()).month(at.month()).date(at.date())}b.value=xe,D(xe)}},ie=()=>{const Ke=Nt().locale(u.value).toDate();_.value=!0,(!h||!h(Ke))&&M(Ke)&&(b.value=Nt().locale(u.value),D(b.value))},pe=A(()=>VL(n.format)),Re=A(()=>BL(n.format)),K=A(()=>{if(N.value)return N.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(pe.value)}),re=A(()=>{if(T.value)return T.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(Re.value)}),we=U(!1),Ie=()=>{we.value=!0},De=()=>{we.value=!1},_e=xe=>({hour:xe.hour(),minute:xe.minute(),second:xe.second(),year:xe.year(),month:xe.month(),date:xe.date()}),ze=(xe,Ke,at)=>{const{hour:Y,minute:de,second:Pe}=_e(xe),We=n.parsedValue?n.parsedValue.hour(Y).minute(de).second(Pe):xe;b.value=We,D(b.value,!0),at||(we.value=Ke)},Ae=xe=>{const Ke=Nt(xe,pe.value).locale(u.value);if(Ke.isValid()&&M(Ke)){const{year:at,month:Y,date:de}=_e(b.value);b.value=Ke.year(at).month(Y).date(de),N.value=null,we.value=!1,D(b.value,!0)}},he=xe=>{const Ke=Nt(xe,Re.value).locale(u.value);if(Ke.isValid()){if(h&&h(Ke.toDate()))return;const{hour:at,minute:Y,second:de}=_e(b.value);b.value=Ke.hour(at).minute(Y).second(de),T.value=null,D(b.value,!0)}},ve=xe=>Nt.isDayjs(xe)&&xe.isValid()&&(h?!h(xe.toDate()):!0),me=xe=>G.value==="dates"?xe.map(Ke=>Ke.format(n.format)):xe.format(n.format),Ve=xe=>Nt(xe,n.format).locale(u.value),Ye=()=>{const xe=Nt(y.value).locale(u.value);if(!y.value){const Ke=$.value;return Nt().hour(Ke.hour()).minute(Ke.minute()).second(Ke.second()).locale(u.value)}return xe},Je=async()=>{var xe;["week","month","year","date"].includes(G.value)&&((xe=w.value)==null||xe.focus(),G.value==="week"&&xt(ut.down))},ct=xe=>{const{code:Ke}=xe;[ut.up,ut.down,ut.left,ut.right,ut.home,ut.end,ut.pageUp,ut.pageDown].includes(Ke)&&(xt(Ke),xe.stopPropagation(),xe.preventDefault()),[ut.enter,ut.space].includes(Ke)&&T.value===null&&N.value===null&&(xe.preventDefault(),D(b.value,!1))},xt=xe=>{var Ke;const{up:at,down:Y,left:de,right:Pe,home:We,end:Ft,pageUp:_n,pageDown:_s}=ut,qs={year:{[at]:-4,[Y]:4,[de]:-1,[Pe]:1,offset:(sn,He)=>sn.setFullYear(sn.getFullYear()+He)},month:{[at]:-4,[Y]:4,[de]:-1,[Pe]:1,offset:(sn,He)=>sn.setMonth(sn.getMonth()+He)},week:{[at]:-1,[Y]:1,[de]:-1,[Pe]:1,offset:(sn,He)=>sn.setDate(sn.getDate()+He*7)},date:{[at]:-7,[Y]:7,[de]:-1,[Pe]:1,[We]:sn=>-sn.getDay(),[Ft]:sn=>-sn.getDay()+6,[_n]:sn=>-new Date(sn.getFullYear(),sn.getMonth(),0).getDate(),[_s]:sn=>new Date(sn.getFullYear(),sn.getMonth()+1,0).getDate(),offset:(sn,He)=>sn.setDate(sn.getDate()+He)}},Sn=b.value.toDate();for(;Math.abs(b.value.diff(Sn,"year",!0))<1;){const sn=qs[Z.value];if(!sn)return;if(sn.offset(Sn,vt(sn[xe])?sn[xe](Sn):(Ke=sn[xe])!=null?Ke:0),h&&h(Sn))break;const He=Nt(Sn).locale(u.value);b.value=He,e("pick",He,!0);break}},dt=xe=>{e("panel-change",b.value.toDate(),xe,O.value)};return Me(()=>G.value,xe=>{if(["month","year"].includes(xe)){O.value=xe;return}O.value="date"},{immediate:!0}),Me(()=>O.value,()=>{d==null||d.updatePopper()}),Me(()=>y.value,xe=>{xe&&(b.value=Ye())},{immediate:!0}),Me(()=>n.parsedValue,xe=>{if(xe){if(G.value==="dates"||Array.isArray(xe))return;b.value=xe}else b.value=Ye()},{immediate:!0}),e("set-picker-option",["isValidValue",ve]),e("set-picker-option",["formatToString",me]),e("set-picker-option",["parseUserInput",Ve]),e("set-picker-option",["handleFocusPicker",Je]),(xe,Ke)=>(S(),I("div",{class:P([v(r).b(),v(o).b(),{"has-sidebar":xe.$slots.sidebar||v(j),"has-time":v(oe)}])},[E("div",{class:P(v(r).e("body-wrapper"))},[Oe(xe.$slots,"sidebar",{class:P(v(r).e("sidebar"))}),v(j)?(S(),I("div",{key:0,class:P(v(r).e("sidebar"))},[(S(!0),I(lt,null,Gt(v(f),(at,Y)=>(S(),I("button",{key:Y,type:"button",class:P(v(r).e("shortcut")),onClick:de=>L(at)},Ue(at.text),11,sWe))),128))],2)):ge("v-if",!0),E("div",{class:P(v(r).e("body"))},[v(oe)?(S(),I("div",{key:0,class:P(v(o).e("time-header"))},[E("span",{class:P(v(o).e("editor-wrap"))},[se(v(Or),{placeholder:v(l)("el.datepicker.selectDate"),"model-value":v(re),size:"small","validate-event":!1,onInput:Ke[0]||(Ke[0]=at=>T.value=at),onChange:he},null,8,["placeholder","model-value"])],2),St((S(),I("span",{class:P(v(o).e("editor-wrap"))},[se(v(Or),{placeholder:v(l)("el.datepicker.selectTime"),"model-value":v(K),size:"small","validate-event":!1,onFocus:Ie,onInput:Ke[1]||(Ke[1]=at=>N.value=at),onChange:Ae},null,8,["placeholder","model-value"]),se(v(Ry),{visible:we.value,format:v(pe),"time-arrow-control":v(g),"parsed-value":b.value,onPick:ze},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[v(Ku),De]])],2)):ge("v-if",!0),St(E("div",{class:P([v(o).e("header"),(O.value==="year"||O.value==="month")&&v(o).e("header--bordered")])},[E("span",{class:P(v(o).e("prev-btn"))},[E("button",{type:"button","aria-label":v(l)("el.datepicker.prevYear"),class:P(["d-arrow-left",v(r).e("icon-btn")]),onClick:Ke[2]||(Ke[2]=at=>V(!1))},[se(v(rt),null,{default:ce(()=>[se(v($d))]),_:1})],10,rWe),St(E("button",{type:"button","aria-label":v(l)("el.datepicker.prevMonth"),class:P([v(r).e("icon-btn"),"arrow-left"]),onClick:Ke[3]||(Ke[3]=at=>B(!1))},[se(v(rt),null,{default:ce(()=>[se(v(xl))]),_:1})],10,oWe),[[Qt,O.value==="date"]])],2),E("span",{role:"button",class:P(v(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Ke[4]||(Ke[4]=qt(at=>X("year"),["enter"])),onClick:Ke[5]||(Ke[5]=at=>X("year"))},Ue(v(F)),35),St(E("span",{role:"button","aria-live":"polite",tabindex:"0",class:P([v(o).e("header-label"),{active:O.value==="month"}]),onKeydown:Ke[6]||(Ke[6]=qt(at=>X("month"),["enter"])),onClick:Ke[7]||(Ke[7]=at=>X("month"))},Ue(v(l)(`el.datepicker.month${v(x)+1}`)),35),[[Qt,O.value==="date"]]),E("span",{class:P(v(o).e("next-btn"))},[St(E("button",{type:"button","aria-label":v(l)("el.datepicker.nextMonth"),class:P([v(r).e("icon-btn"),"arrow-right"]),onClick:Ke[8]||(Ke[8]=at=>B(!0))},[se(v(rt),null,{default:ce(()=>[se(v(Rr))]),_:1})],10,aWe),[[Qt,O.value==="date"]]),E("button",{type:"button","aria-label":v(l)("el.datepicker.nextYear"),class:P([v(r).e("icon-btn"),"d-arrow-right"]),onClick:Ke[9]||(Ke[9]=at=>V(!0))},[se(v(rt),null,{default:ce(()=>[se(v(xd))]),_:1})],10,iWe)],2)],2),[[Qt,O.value!=="time"]]),E("div",{class:P(v(r).e("content")),onKeydown:ct},[O.value==="date"?(S(),$e(I6,{key:0,ref_key:"currentViewRef",ref:w,"selection-mode":v(G),date:b.value,"parsed-value":xe.parsedValue,"disabled-date":v(h),"cell-class-name":v(p),onPick:z},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ge("v-if",!0),O.value==="year"?(S(),$e(nWe,{key:1,ref_key:"currentViewRef",ref:w,date:b.value,"disabled-date":v(h),"parsed-value":xe.parsedValue,onPick:fe},null,8,["date","disabled-date","parsed-value"])):ge("v-if",!0),O.value==="month"?(S(),$e(A6,{key:2,ref_key:"currentViewRef",ref:w,date:b.value,"parsed-value":xe.parsedValue,"disabled-date":v(h),onPick:J},null,8,["date","parsed-value","disabled-date"])):ge("v-if",!0)],34)],2)],2),St(E("div",{class:P(v(r).e("footer"))},[St(se(v(br),{text:"",size:"small",class:P(v(r).e("link-btn")),onClick:ie},{default:ce(()=>[Jt(Ue(v(l)("el.datepicker.now")),1)]),_:1},8,["class"]),[[Qt,v(G)!=="dates"]]),se(v(br),{plain:"",size:"small",class:P(v(r).e("link-btn")),onClick:Q},{default:ce(()=>[Jt(Ue(v(l)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[Qt,v(ee)&&O.value==="date"]])],2))}});var uWe=je(lWe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const cWe=qe({...Az,...Oz}),dWe=t=>{const{emit:e}=Rt(),n=Tg(),s=ir();return o=>{const a=vt(o.value)?o.value():o.value;if(a){e("pick",[Nt(a[0]).locale(t.value),Nt(a[1]).locale(t.value)]);return}o.onClick&&o.onClick({attrs:n,slots:s,emit:e})}},Fz=(t,{defaultValue:e,leftDate:n,rightDate:s,unit:r,onParsedValueChanged:o})=>{const{emit:a}=Rt(),{pickerNs:i}=et(zC),l=Fe("date-range-picker"),{t:u,lang:c}=nn(),d=dWe(c),f=U(),h=U(),p=U({endDate:null,selecting:!1}),m=b=>{p.value=b},g=(b=!1)=>{const _=v(f),$=v(h);E6([_,$])&&a("pick",[_,$],b)},y=b=>{p.value.selecting=b,b||(p.value.endDate=null)},w=()=>{const[b,_]=Dz(v(e),{lang:v(c),unit:r,unlinkPanels:t.unlinkPanels});f.value=void 0,h.value=void 0,n.value=b,s.value=_};return Me(e,b=>{b&&w()},{immediate:!0}),Me(()=>t.parsedValue,b=>{if(Qe(b)&&b.length===2){const[_,$]=b;f.value=_,n.value=_,h.value=$,o(v(f),v(h))}else w()},{immediate:!0}),{minDate:f,maxDate:h,rangeState:p,lang:c,ppNs:i,drpNs:l,handleChangeRange:m,handleRangeConfirm:g,handleShortcutClick:d,onSelect:y,t:u}},fWe=["onClick"],hWe=["disabled"],pWe=["disabled"],mWe=["disabled"],gWe=["disabled"],lv="month",vWe=ue({__name:"panel-date-range",props:cWe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,s=et("EP_PICKER_BASE"),{disabledDate:r,cellClassName:o,format:a,defaultTime:i,arrowControl:l,clearable:u}=s.props,c=Un(s.props,"shortcuts"),d=Un(s.props,"defaultValue"),{lang:f}=nn(),h=U(Nt().locale(f.value)),p=U(Nt().locale(f.value).add(1,lv)),{minDate:m,maxDate:g,rangeState:y,ppNs:w,drpNs:b,handleChangeRange:_,handleRangeConfirm:$,handleShortcutClick:x,onSelect:k,t:C}=Fz(n,{defaultValue:d,leftDate:h,rightDate:p,unit:lv,onParsedValueChanged:Y}),T=U({min:null,max:null}),N=U({min:null,max:null}),M=A(()=>`${h.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${h.value.month()+1}`)}`),R=A(()=>`${p.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${p.value.month()+1}`)}`),D=A(()=>h.value.year()),z=A(()=>h.value.month()),B=A(()=>p.value.year()),V=A(()=>p.value.month()),O=A(()=>!!c.value.length),F=A(()=>T.value.min!==null?T.value.min:m.value?m.value.format(J.value):""),L=A(()=>T.value.max!==null?T.value.max:g.value||m.value?(g.value||m.value).format(J.value):""),G=A(()=>N.value.min!==null?N.value.min:m.value?m.value.format(j.value):""),Z=A(()=>N.value.max!==null?N.value.max:g.value||m.value?(g.value||m.value).format(j.value):""),j=A(()=>VL(a)),J=A(()=>BL(a)),fe=()=>{h.value=h.value.subtract(1,"year"),n.unlinkPanels||(p.value=h.value.add(1,"month")),K("year")},X=()=>{h.value=h.value.subtract(1,"month"),n.unlinkPanels||(p.value=h.value.add(1,"month")),K("month")},oe=()=>{n.unlinkPanels?p.value=p.value.add(1,"year"):(h.value=h.value.add(1,"year"),p.value=h.value.add(1,"month")),K("year")},ee=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(h.value=h.value.add(1,"month"),p.value=h.value.add(1,"month")),K("month")},Q=()=>{h.value=h.value.add(1,"year"),K("year")},ie=()=>{h.value=h.value.add(1,"month"),K("month")},pe=()=>{p.value=p.value.subtract(1,"year"),K("year")},Re=()=>{p.value=p.value.subtract(1,"month"),K("month")},K=de=>{e("panel-change",[h.value.toDate(),p.value.toDate()],de)},re=A(()=>{const de=(z.value+1)%12,Pe=z.value+1>=12?1:0;return n.unlinkPanels&&new Date(D.value+Pe,de)<new Date(B.value,V.value)}),we=A(()=>n.unlinkPanels&&B.value*12+V.value-(D.value*12+z.value+1)>=12),Ie=A(()=>!(m.value&&g.value&&!y.value.selecting&&E6([m.value,g.value]))),De=A(()=>n.type==="datetime"||n.type==="datetimerange"),_e=(de,Pe)=>{if(!!de)return i?Nt(i[Pe]||i).locale(f.value).year(de.year()).month(de.month()).date(de.date()):de},ze=(de,Pe=!0)=>{const We=de.minDate,Ft=de.maxDate,_n=_e(We,0),_s=_e(Ft,1);g.value===_s&&m.value===_n||(e("calendar-change",[We.toDate(),Ft&&Ft.toDate()]),g.value=_s,m.value=_n,!(!Pe||De.value)&&$())},Ae=U(!1),he=U(!1),ve=()=>{Ae.value=!1},me=()=>{he.value=!1},Ve=(de,Pe)=>{T.value[Pe]=de;const We=Nt(de,J.value).locale(f.value);if(We.isValid()){if(r&&r(We.toDate()))return;Pe==="min"?(h.value=We,m.value=(m.value||h.value).year(We.year()).month(We.month()).date(We.date()),n.unlinkPanels||(p.value=We.add(1,"month"),g.value=m.value.add(1,"month"))):(p.value=We,g.value=(g.value||p.value).year(We.year()).month(We.month()).date(We.date()),n.unlinkPanels||(h.value=We.subtract(1,"month"),m.value=g.value.subtract(1,"month")))}},Ye=(de,Pe)=>{T.value[Pe]=null},Je=(de,Pe)=>{N.value[Pe]=de;const We=Nt(de,j.value).locale(f.value);We.isValid()&&(Pe==="min"?(Ae.value=!0,m.value=(m.value||h.value).hour(We.hour()).minute(We.minute()).second(We.second()),(!g.value||g.value.isBefore(m.value))&&(g.value=m.value)):(he.value=!0,g.value=(g.value||p.value).hour(We.hour()).minute(We.minute()).second(We.second()),p.value=g.value,g.value&&g.value.isBefore(m.value)&&(m.value=g.value)))},ct=(de,Pe)=>{N.value[Pe]=null,Pe==="min"?(h.value=m.value,Ae.value=!1):(p.value=g.value,he.value=!1)},xt=(de,Pe,We)=>{N.value.min||(de&&(h.value=de,m.value=(m.value||h.value).hour(de.hour()).minute(de.minute()).second(de.second())),We||(Ae.value=Pe),(!g.value||g.value.isBefore(m.value))&&(g.value=m.value,p.value=de))},dt=(de,Pe,We)=>{N.value.max||(de&&(p.value=de,g.value=(g.value||p.value).hour(de.hour()).minute(de.minute()).second(de.second())),We||(he.value=Pe),g.value&&g.value.isBefore(m.value)&&(m.value=g.value))},xe=()=>{h.value=Dz(v(d),{lang:v(f),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=h.value.add(1,"month"),e("pick",null)},Ke=de=>Qe(de)?de.map(Pe=>Pe.format(a)):de.format(a),at=de=>Qe(de)?de.map(Pe=>Nt(Pe,a).locale(f.value)):Nt(de,a).locale(f.value);function Y(de,Pe){if(n.unlinkPanels&&Pe){const We=(de==null?void 0:de.year())||0,Ft=(de==null?void 0:de.month())||0,_n=Pe.year(),_s=Pe.month();p.value=We===_n&&Ft===_s?Pe.add(1,lv):Pe}else p.value=h.value.add(1,lv),Pe&&(p.value=p.value.hour(Pe.hour()).minute(Pe.minute()).second(Pe.second()))}return e("set-picker-option",["isValidValue",E6]),e("set-picker-option",["parseUserInput",at]),e("set-picker-option",["formatToString",Ke]),e("set-picker-option",["handleClear",xe]),(de,Pe)=>(S(),I("div",{class:P([v(w).b(),v(b).b(),{"has-sidebar":de.$slots.sidebar||v(O),"has-time":v(De)}])},[E("div",{class:P(v(w).e("body-wrapper"))},[Oe(de.$slots,"sidebar",{class:P(v(w).e("sidebar"))}),v(O)?(S(),I("div",{key:0,class:P(v(w).e("sidebar"))},[(S(!0),I(lt,null,Gt(v(c),(We,Ft)=>(S(),I("button",{key:Ft,type:"button",class:P(v(w).e("shortcut")),onClick:_n=>v(x)(We)},Ue(We.text),11,fWe))),128))],2)):ge("v-if",!0),E("div",{class:P(v(w).e("body"))},[v(De)?(S(),I("div",{key:0,class:P(v(b).e("time-header"))},[E("span",{class:P(v(b).e("editors-wrap"))},[E("span",{class:P(v(b).e("time-picker-wrap"))},[se(v(Or),{size:"small",disabled:v(y).selecting,placeholder:v(C)("el.datepicker.startDate"),class:P(v(b).e("editor")),"model-value":v(F),"validate-event":!1,onInput:Pe[0]||(Pe[0]=We=>Ve(We,"min")),onChange:Pe[1]||(Pe[1]=We=>Ye(We,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),St((S(),I("span",{class:P(v(b).e("time-picker-wrap"))},[se(v(Or),{size:"small",class:P(v(b).e("editor")),disabled:v(y).selecting,placeholder:v(C)("el.datepicker.startTime"),"model-value":v(G),"validate-event":!1,onFocus:Pe[2]||(Pe[2]=We=>Ae.value=!0),onInput:Pe[3]||(Pe[3]=We=>Je(We,"min")),onChange:Pe[4]||(Pe[4]=We=>ct(We,"min"))},null,8,["class","disabled","placeholder","model-value"]),se(v(Ry),{visible:Ae.value,format:v(j),"datetime-role":"start","time-arrow-control":v(l),"parsed-value":h.value,onPick:xt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[v(Ku),ve]])],2),E("span",null,[se(v(rt),null,{default:ce(()=>[se(v(Rr))]),_:1})]),E("span",{class:P([v(b).e("editors-wrap"),"is-right"])},[E("span",{class:P(v(b).e("time-picker-wrap"))},[se(v(Or),{size:"small",class:P(v(b).e("editor")),disabled:v(y).selecting,placeholder:v(C)("el.datepicker.endDate"),"model-value":v(L),readonly:!v(m),"validate-event":!1,onInput:Pe[5]||(Pe[5]=We=>Ve(We,"max")),onChange:Pe[6]||(Pe[6]=We=>Ye(We,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),St((S(),I("span",{class:P(v(b).e("time-picker-wrap"))},[se(v(Or),{size:"small",class:P(v(b).e("editor")),disabled:v(y).selecting,placeholder:v(C)("el.datepicker.endTime"),"model-value":v(Z),readonly:!v(m),"validate-event":!1,onFocus:Pe[7]||(Pe[7]=We=>v(m)&&(he.value=!0)),onInput:Pe[8]||(Pe[8]=We=>Je(We,"max")),onChange:Pe[9]||(Pe[9]=We=>ct(We,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),se(v(Ry),{"datetime-role":"end",visible:he.value,format:v(j),"time-arrow-control":v(l),"parsed-value":p.value,onPick:dt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[v(Ku),me]])],2)],2)):ge("v-if",!0),E("div",{class:P([[v(w).e("content"),v(b).e("content")],"is-left"])},[E("div",{class:P(v(b).e("header"))},[E("button",{type:"button",class:P([v(w).e("icon-btn"),"d-arrow-left"]),onClick:fe},[se(v(rt),null,{default:ce(()=>[se(v($d))]),_:1})],2),E("button",{type:"button",class:P([v(w).e("icon-btn"),"arrow-left"]),onClick:X},[se(v(rt),null,{default:ce(()=>[se(v(xl))]),_:1})],2),de.unlinkPanels?(S(),I("button",{key:0,type:"button",disabled:!v(we),class:P([[v(w).e("icon-btn"),{"is-disabled":!v(we)}],"d-arrow-right"]),onClick:Q},[se(v(rt),null,{default:ce(()=>[se(v(xd))]),_:1})],10,hWe)):ge("v-if",!0),de.unlinkPanels?(S(),I("button",{key:1,type:"button",disabled:!v(re),class:P([[v(w).e("icon-btn"),{"is-disabled":!v(re)}],"arrow-right"]),onClick:ie},[se(v(rt),null,{default:ce(()=>[se(v(Rr))]),_:1})],10,pWe)):ge("v-if",!0),E("div",null,Ue(v(M)),1)],2),se(I6,{"selection-mode":"range",date:h.value,"min-date":v(m),"max-date":v(g),"range-state":v(y),"disabled-date":v(r),"cell-class-name":v(o),onChangerange:v(_),onPick:ze,onSelect:v(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),E("div",{class:P([[v(w).e("content"),v(b).e("content")],"is-right"])},[E("div",{class:P(v(b).e("header"))},[de.unlinkPanels?(S(),I("button",{key:0,type:"button",disabled:!v(we),class:P([[v(w).e("icon-btn"),{"is-disabled":!v(we)}],"d-arrow-left"]),onClick:pe},[se(v(rt),null,{default:ce(()=>[se(v($d))]),_:1})],10,mWe)):ge("v-if",!0),de.unlinkPanels?(S(),I("button",{key:1,type:"button",disabled:!v(re),class:P([[v(w).e("icon-btn"),{"is-disabled":!v(re)}],"arrow-left"]),onClick:Re},[se(v(rt),null,{default:ce(()=>[se(v(xl))]),_:1})],10,gWe)):ge("v-if",!0),E("button",{type:"button",class:P([v(w).e("icon-btn"),"d-arrow-right"]),onClick:oe},[se(v(rt),null,{default:ce(()=>[se(v(xd))]),_:1})],2),E("button",{type:"button",class:P([v(w).e("icon-btn"),"arrow-right"]),onClick:ee},[se(v(rt),null,{default:ce(()=>[se(v(Rr))]),_:1})],2),E("div",null,Ue(v(R)),1)],2),se(I6,{"selection-mode":"range",date:p.value,"min-date":v(m),"max-date":v(g),"range-state":v(y),"disabled-date":v(r),"cell-class-name":v(o),onChangerange:v(_),onPick:ze,onSelect:v(k)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),v(De)?(S(),I("div",{key:0,class:P(v(w).e("footer"))},[v(u)?(S(),$e(v(br),{key:0,text:"",size:"small",class:P(v(w).e("link-btn")),onClick:xe},{default:ce(()=>[Jt(Ue(v(C)("el.datepicker.clear")),1)]),_:1},8,["class"])):ge("v-if",!0),se(v(br),{plain:"",size:"small",class:P(v(w).e("link-btn")),disabled:v(Ie),onClick:Pe[10]||(Pe[10]=We=>v($)(!1))},{default:ce(()=>[Jt(Ue(v(C)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ge("v-if",!0)],2))}});var yWe=je(vWe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const bWe=qe({...Oz}),wWe=["pick","set-picker-option"],_We=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:s}=nn(),r=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},o=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{e.value=e.value.add(1,"year")},i=()=>{n.value=n.value.subtract(1,"year")},l=A(()=>`${e.value.year()} ${s("el.datepicker.year")}`),u=A(()=>`${n.value.year()} ${s("el.datepicker.year")}`),c=A(()=>e.value.year()),d=A(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:r,rightNextYear:o,leftNextYear:a,rightPrevYear:i,leftLabel:l,rightLabel:u,leftYear:c,rightYear:d}},$We=["onClick"],xWe=["disabled"],SWe=["disabled"],uv="year",CWe=ue({name:"DatePickerMonthRange"}),kWe=ue({...CWe,props:bWe,emits:wWe,setup(t,{emit:e}){const n=t,{lang:s}=nn(),r=et("EP_PICKER_BASE"),{shortcuts:o,disabledDate:a,format:i}=r.props,l=Un(r.props,"defaultValue"),u=U(Nt().locale(s.value)),c=U(Nt().locale(s.value).add(1,uv)),{minDate:d,maxDate:f,rangeState:h,ppNs:p,drpNs:m,handleChangeRange:g,handleRangeConfirm:y,handleShortcutClick:w,onSelect:b}=Fz(n,{defaultValue:l,leftDate:u,rightDate:c,unit:uv,onParsedValueChanged:V}),_=A(()=>!!o.length),{leftPrevYear:$,rightNextYear:x,leftNextYear:k,rightPrevYear:C,leftLabel:T,rightLabel:N,leftYear:M,rightYear:R}=_We({unlinkPanels:Un(n,"unlinkPanels"),leftDate:u,rightDate:c}),D=A(()=>n.unlinkPanels&&R.value>M.value+1),z=(O,F=!0)=>{const L=O.minDate,G=O.maxDate;f.value===G&&d.value===L||(f.value=G,d.value=L,F&&y())},B=O=>O.map(F=>F.format(i));function V(O,F){if(n.unlinkPanels&&F){const L=(O==null?void 0:O.year())||0,G=F.year();c.value=L===G?F.add(1,uv):F}else c.value=u.value.add(1,uv)}return e("set-picker-option",["formatToString",B]),(O,F)=>(S(),I("div",{class:P([v(p).b(),v(m).b(),{"has-sidebar":Boolean(O.$slots.sidebar)||v(_)}])},[E("div",{class:P(v(p).e("body-wrapper"))},[Oe(O.$slots,"sidebar",{class:P(v(p).e("sidebar"))}),v(_)?(S(),I("div",{key:0,class:P(v(p).e("sidebar"))},[(S(!0),I(lt,null,Gt(v(o),(L,G)=>(S(),I("button",{key:G,type:"button",class:P(v(p).e("shortcut")),onClick:Z=>v(w)(L)},Ue(L.text),11,$We))),128))],2)):ge("v-if",!0),E("div",{class:P(v(p).e("body"))},[E("div",{class:P([[v(p).e("content"),v(m).e("content")],"is-left"])},[E("div",{class:P(v(m).e("header"))},[E("button",{type:"button",class:P([v(p).e("icon-btn"),"d-arrow-left"]),onClick:F[0]||(F[0]=(...L)=>v($)&&v($)(...L))},[se(v(rt),null,{default:ce(()=>[se(v($d))]),_:1})],2),O.unlinkPanels?(S(),I("button",{key:0,type:"button",disabled:!v(D),class:P([[v(p).e("icon-btn"),{[v(p).is("disabled")]:!v(D)}],"d-arrow-right"]),onClick:F[1]||(F[1]=(...L)=>v(k)&&v(k)(...L))},[se(v(rt),null,{default:ce(()=>[se(v(xd))]),_:1})],10,xWe)):ge("v-if",!0),E("div",null,Ue(v(T)),1)],2),se(A6,{"selection-mode":"range",date:u.value,"min-date":v(d),"max-date":v(f),"range-state":v(h),"disabled-date":v(a),onChangerange:v(g),onPick:z,onSelect:v(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),E("div",{class:P([[v(p).e("content"),v(m).e("content")],"is-right"])},[E("div",{class:P(v(m).e("header"))},[O.unlinkPanels?(S(),I("button",{key:0,type:"button",disabled:!v(D),class:P([[v(p).e("icon-btn"),{"is-disabled":!v(D)}],"d-arrow-left"]),onClick:F[2]||(F[2]=(...L)=>v(C)&&v(C)(...L))},[se(v(rt),null,{default:ce(()=>[se(v($d))]),_:1})],10,SWe)):ge("v-if",!0),E("button",{type:"button",class:P([v(p).e("icon-btn"),"d-arrow-right"]),onClick:F[3]||(F[3]=(...L)=>v(x)&&v(x)(...L))},[se(v(rt),null,{default:ce(()=>[se(v(xd))]),_:1})],2),E("div",null,Ue(v(N)),1)],2),se(A6,{"selection-mode":"range",date:c.value,"min-date":v(d),"max-date":v(f),"range-state":v(h),"disabled-date":v(a),onChangerange:v(g),onPick:z,onSelect:v(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var TWe=je(kWe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const NWe=function(t){switch(t){case"daterange":case"datetimerange":return yWe;case"monthrange":return TWe;default:return uWe}};Nt.extend(sz);Nt.extend(SHe);Nt.extend(sk);Nt.extend(CHe);Nt.extend(kHe);Nt.extend(THe);Nt.extend(NHe);Nt.extend(EHe);var EWe=ue({name:"ElDatePicker",install:null,props:{...rk,...IHe},emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:s}){const r=Fe("picker-panel");Lt("ElPopperOptions",on(Un(t,"popperOptions"))),Lt(zC,{slots:s,pickerNs:r});const o=U();e({focus:(l=!0)=>{var u;(u=o.value)==null||u.focus(l)},handleOpen:()=>{var l;(l=o.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=o.value)==null||l.handleClose()}});const i=l=>{n("update:modelValue",l)};return()=>{var l;const u=(l=t.format)!=null?l:Ize[t.type]||Tf,c=NWe(t.type);return se(UL,zt(t,{format:u,type:t.type,ref:o,"onUpdate:modelValue":i}),{default:d=>se(c,d,null),"range-separator":s["range-separator"]})}}});const Qv=EWe;Qv.install=t=>{t.component(Qv.name,Qv)};const IWe=Qv,lk="elDescriptions";var Om=ue({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:et(lk,{})}},render(){var t,e,n,s,r,o;const a=z9e(this.cell),{border:i,direction:l}=this.descriptions,u=l==="vertical",c=((n=(e=(t=this.cell)==null?void 0:t.children)==null?void 0:e.label)==null?void 0:n.call(e))||a.label,d=(o=(r=(s=this.cell)==null?void 0:s.children)==null?void 0:r.default)==null?void 0:o.call(r),f=a.span,h=a.align?`is-${a.align}`:"",p=a.labelAlign?`is-${a.labelAlign}`:h,m=a.className,g=a.labelClassName,y={width:Cs(a.width),minWidth:Cs(a.minWidth)},w=Fe("descriptions");switch(this.type){case"label":return it(this.tag,{style:y,class:[w.e("cell"),w.e("label"),w.is("bordered-label",i),w.is("vertical-label",u),p,g],colSpan:u?f:1},c);case"content":return it(this.tag,{style:y,class:[w.e("cell"),w.e("content"),w.is("bordered-content",i),w.is("vertical-content",u),h,m],colSpan:u?f:f*2-1},d);default:return it("td",{style:y,class:[w.e("cell"),h],colSpan:f},[it("span",{class:[w.e("label"),g]},c),it("span",{class:[w.e("content"),m]},d)])}}});const AWe=qe({row:{type:Array,default:()=>[]}}),OWe={key:1},RWe=ue({name:"ElDescriptionsRow"}),DWe=ue({...RWe,props:AWe,setup(t){const e=et(lk,{});return(n,s)=>v(e).direction==="vertical"?(S(),I(lt,{key:0},[E("tr",null,[(S(!0),I(lt,null,Gt(n.row,(r,o)=>(S(),$e(v(Om),{key:`tr1-${o}`,cell:r,tag:"th",type:"label"},null,8,["cell"]))),128))]),E("tr",null,[(S(!0),I(lt,null,Gt(n.row,(r,o)=>(S(),$e(v(Om),{key:`tr2-${o}`,cell:r,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(S(),I("tr",OWe,[(S(!0),I(lt,null,Gt(n.row,(r,o)=>(S(),I(lt,{key:`tr3-${o}`},[v(e).border?(S(),I(lt,{key:0},[se(v(Om),{cell:r,tag:"td",type:"label"},null,8,["cell"]),se(v(Om),{cell:r,tag:"td",type:"content"},null,8,["cell"])],64)):(S(),$e(v(Om),{key:1,cell:r,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var FWe=je(DWe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const MWe=qe({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:wo,title:{type:String,default:""},extra:{type:String,default:""}}),PWe=ue({name:"ElDescriptions"}),LWe=ue({...PWe,props:MWe,setup(t){const e=t,n=Fe("descriptions"),s=ks(),r=ir();Lt(lk,e);const o=A(()=>[n.b(),n.m(s.value)]),a=(l,u,c,d=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),d&&(l.props.span=u),l),i=()=>{var l;const u=Gf((l=r.default)==null?void 0:l.call(r)).filter(p=>{var m;return((m=p==null?void 0:p.type)==null?void 0:m.name)==="ElDescriptionsItem"}),c=[];let d=[],f=e.column,h=0;return u.forEach((p,m)=>{var g;const y=((g=p.props)==null?void 0:g.span)||1;if(m<u.length-1&&(h+=y>f?f:y),m===u.length-1){const w=e.column-h%e.column;d.push(a(p,w,f,!0)),c.push(d);return}y<f?(f-=y,d.push(p)):(d.push(a(p,y,f)),c.push(d),f=e.column,d=[])}),c};return(l,u)=>(S(),I("div",{class:P(v(o))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(S(),I("div",{key:0,class:P(v(n).e("header"))},[E("div",{class:P(v(n).e("title"))},[Oe(l.$slots,"title",{},()=>[Jt(Ue(l.title),1)])],2),E("div",{class:P(v(n).e("extra"))},[Oe(l.$slots,"extra",{},()=>[Jt(Ue(l.extra),1)])],2)],2)):ge("v-if",!0),E("div",{class:P(v(n).e("body"))},[E("table",{class:P([v(n).e("table"),v(n).is("bordered",l.border)])},[E("tbody",null,[(S(!0),I(lt,null,Gt(i(),(c,d)=>(S(),$e(FWe,{key:d,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var zWe=je(LWe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),Mz=ue({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const BWe=Dt(zWe,{DescriptionsItem:Mz}),VWe=ns(Mz),HWe=qe({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Se([String,Array,Object])},zIndex:{type:Se([String,Number])}}),WWe={click:t=>t instanceof MouseEvent};var UWe=ue({name:"ElOverlay",props:HWe,emits:WWe,setup(t,{slots:e,emit:n}){const s=Fe("overlay"),r=l=>{n("click",l)},{onClick:o,onMousedown:a,onMouseup:i}=BC(t.customMaskEvent?void 0:r);return()=>t.mask?se("div",{class:[s.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:o,onMousedown:a,onMouseup:i},[Oe(e,"default")],ra.STYLE|ra.CLASS|ra.PROPS,["onClick","onMouseup","onMousedown"]):it("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Oe(e,"default")])}});const uk=UWe,Pz=qe({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:En},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),GWe={close:()=>!0},jWe=["aria-label"],KWe=["id"],qWe=ue({name:"ElDialogContent"}),XWe=ue({...qWe,props:Pz,emits:GWe,setup(t){const e=t,{t:n}=nn(),{Close:s}=IP,{dialogRef:r,headerRef:o,bodyId:a,ns:i,style:l}=et(LP),{focusTrapRef:u}=et(ek),c=cw(u,r),d=A(()=>e.draggable);return XP(r,o,d),(f,h)=>(S(),I("div",{ref:v(c),class:P([v(i).b(),v(i).is("fullscreen",f.fullscreen),v(i).is("draggable",v(d)),v(i).is("align-center",f.alignCenter),{[v(i).m("center")]:f.center},f.customClass]),style:ot(v(l)),tabindex:"-1"},[E("header",{ref_key:"headerRef",ref:o,class:P(v(i).e("header"))},[Oe(f.$slots,"header",{},()=>[E("span",{role:"heading",class:P(v(i).e("title"))},Ue(f.title),3)]),f.showClose?(S(),I("button",{key:0,"aria-label":v(n)("el.dialog.close"),class:P(v(i).e("headerbtn")),type:"button",onClick:h[0]||(h[0]=p=>f.$emit("close"))},[se(v(rt),{class:P(v(i).e("close"))},{default:ce(()=>[(S(),$e(Vt(f.closeIcon||v(s))))]),_:1},8,["class"])],10,jWe)):ge("v-if",!0)],2),E("div",{id:v(a),class:P(v(i).e("body"))},[Oe(f.$slots,"default")],10,KWe),f.$slots.footer?(S(),I("footer",{key:0,class:P(v(i).e("footer"))},[Oe(f.$slots,"footer")],2)):ge("v-if",!0)],6))}});var YWe=je(XWe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Lz=qe({...Pz,appendToBody:{type:Boolean,default:!1},beforeClose:{type:Se(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),zz={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Ot]:t=>Rs(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Bz=(t,e)=>{const s=Rt().emit,{nextZIndex:r}=Ul();let o="";const a=ei(),i=ei(),l=U(!1),u=U(!1),c=U(!1),d=U(t.zIndex||r());let f,h;const p=Wl("namespace",gw),m=A(()=>{const z={},B=`--${p.value}-dialog`;return t.fullscreen||(t.top&&(z[`${B}-margin-top`]=t.top),t.width&&(z[`${B}-width`]=Cs(t.width))),z}),g=A(()=>t.alignCenter?{display:"flex"}:{});function y(){s("opened")}function w(){s("closed"),s(Ot,!1),t.destroyOnClose&&(c.value=!1)}function b(){s("close")}function _(){h==null||h(),f==null||f(),t.openDelay&&t.openDelay>0?{stop:f}=_d(()=>C(),t.openDelay):C()}function $(){f==null||f(),h==null||h(),t.closeDelay&&t.closeDelay>0?{stop:h}=_d(()=>T(),t.closeDelay):T()}function x(){function z(B){B||(u.value=!0,l.value=!1)}t.beforeClose?t.beforeClose(z):$()}function k(){t.closeOnClickModal&&x()}function C(){!Kt||(l.value=!0)}function T(){l.value=!1}function N(){s("openAutoFocus")}function M(){s("closeAutoFocus")}function R(z){var B;((B=z.detail)==null?void 0:B.focusReason)==="pointer"&&z.preventDefault()}t.lockScroll&&ZP(l);function D(){t.closeOnPressEscape&&x()}return Me(()=>t.modelValue,z=>{z?(u.value=!1,_(),c.value=!0,d.value=t.zIndex?d.value++:r(),nt(()=>{s("open"),e.value&&(e.value.scrollTop=0)})):l.value&&$()}),Me(()=>t.fullscreen,z=>{!e.value||(z?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),Et(()=>{t.modelValue&&(l.value=!0,c.value=!0,_())}),{afterEnter:y,afterLeave:w,beforeLeave:b,handleClose:x,onModalClick:k,close:$,doClose:T,onOpenAutoFocus:N,onCloseAutoFocus:M,onCloseRequested:D,onFocusoutPrevented:R,titleId:a,bodyId:i,closed:u,style:m,overlayDialogStyle:g,rendered:c,visible:l,zIndex:d}},ZWe=["aria-label","aria-labelledby","aria-describedby"],JWe=ue({name:"ElDialog",inheritAttrs:!1}),QWe=ue({...JWe,props:Lz,emits:zz,setup(t,{expose:e}){const n=t,s=ir();Sl({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},A(()=>!!s.title)),Sl({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},A(()=>!!n.customClass));const r=Fe("dialog"),o=U(),a=U(),i=U(),{visible:l,titleId:u,bodyId:c,style:d,overlayDialogStyle:f,rendered:h,zIndex:p,afterEnter:m,afterLeave:g,beforeLeave:y,handleClose:w,onModalClick:b,onOpenAutoFocus:_,onCloseAutoFocus:$,onCloseRequested:x,onFocusoutPrevented:k}=Bz(n,o);Lt(LP,{dialogRef:o,headerRef:a,bodyId:c,ns:r,rendered:h,style:d});const C=BC(b),T=A(()=>n.draggable&&!n.fullscreen);return e({visible:l,dialogContentRef:i}),(N,M)=>(S(),$e(kg,{to:"body",disabled:!N.appendToBody},[se(ms,{name:"dialog-fade",onAfterEnter:v(m),onAfterLeave:v(g),onBeforeLeave:v(y),persisted:""},{default:ce(()=>[St(se(v(uk),{"custom-mask-event":"",mask:N.modal,"overlay-class":N.modalClass,"z-index":v(p)},{default:ce(()=>[E("div",{role:"dialog","aria-modal":"true","aria-label":N.title||void 0,"aria-labelledby":N.title?void 0:v(u),"aria-describedby":v(c),class:P(`${v(r).namespace.value}-overlay-dialog`),style:ot(v(f)),onClick:M[0]||(M[0]=(...R)=>v(C).onClick&&v(C).onClick(...R)),onMousedown:M[1]||(M[1]=(...R)=>v(C).onMousedown&&v(C).onMousedown(...R)),onMouseup:M[2]||(M[2]=(...R)=>v(C).onMouseup&&v(C).onMouseup(...R))},[se(v($w),{loop:"",trapped:v(l),"focus-start-el":"container",onFocusAfterTrapped:v(_),onFocusAfterReleased:v($),onFocusoutPrevented:v(k),onReleaseRequested:v(x)},{default:ce(()=>[v(h)?(S(),$e(YWe,zt({key:0,ref_key:"dialogContentRef",ref:i},N.$attrs,{"custom-class":N.customClass,center:N.center,"align-center":N.alignCenter,"close-icon":N.closeIcon,draggable:v(T),fullscreen:N.fullscreen,"show-close":N.showClose,title:N.title,onClose:v(w)}),Uu({header:ce(()=>[N.$slots.title?Oe(N.$slots,"title",{key:1}):Oe(N.$slots,"header",{key:0,close:v(w),titleId:v(u),titleClass:v(r).e("title")})]),default:ce(()=>[Oe(N.$slots,"default")]),_:2},[N.$slots.footer?{name:"footer",fn:ce(()=>[Oe(N.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):ge("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ZWe)]),_:3},8,["mask","overlay-class","z-index"]),[[Qt,v(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var eUe=je(QWe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const tUe=Dt(eUe),nUe=qe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Se(String),default:"solid"}}),sUe=ue({name:"ElDivider"}),rUe=ue({...sUe,props:nUe,setup(t){const e=t,n=Fe("divider"),s=A(()=>n.cssVar({"border-style":e.borderStyle}));return(r,o)=>(S(),I("div",{class:P([v(n).b(),v(n).m(r.direction)]),style:ot(v(s)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(S(),I("div",{key:0,class:P([v(n).e("text"),v(n).is(r.contentPosition)])},[Oe(r.$slots,"default")],2)):ge("v-if",!0)],6))}});var oUe=je(rUe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const Vz=Dt(oUe),aUe=qe({...Lz,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),iUe=zz,lUe=ue({name:"ElDrawer",components:{ElOverlay:uk,ElFocusTrap:$w,ElIcon:rt,Close:xa},inheritAttrs:!1,props:aUe,emits:iUe,setup(t,{slots:e}){Sl({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},A(()=>!!e.title)),Sl({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},A(()=>!!t.customClass));const n=U(),s=U(),r=Fe("drawer"),{t:o}=nn(),a=A(()=>t.direction==="rtl"||t.direction==="ltr"),i=A(()=>Cs(t.size));return{...Bz(t,n),drawerRef:n,focusStartRef:s,isHorizontal:a,drawerSize:i,ns:r,t:o}}}),uUe=["aria-label","aria-labelledby","aria-describedby"],cUe=["id"],dUe=["aria-label"],fUe=["id"];function hUe(t,e,n,s,r,o){const a=pt("close"),i=pt("el-icon"),l=pt("el-focus-trap"),u=pt("el-overlay");return S(),$e(kg,{to:"body",disabled:!t.appendToBody},[se(ms,{name:t.ns.b("fade"),onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave,persisted:""},{default:ce(()=>[St(se(u,{mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex,onClick:t.onModalClick},{default:ce(()=>[se(l,{loop:"",trapped:t.visible,"focus-trap-el":t.drawerRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:ce(()=>[E("div",zt({ref:"drawerRef","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:t.titleId,"aria-describedby":t.bodyId},t.$attrs,{class:[t.ns.b(),t.direction,t.visible&&"open",t.customClass],style:t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize,role:"dialog",onClick:e[1]||(e[1]=yt(()=>{},["stop"]))}),[E("span",{ref:"focusStartRef",class:P(t.ns.e("sr-focus")),tabindex:"-1"},null,2),t.withHeader?(S(),I("header",{key:0,class:P(t.ns.e("header"))},[t.$slots.title?Oe(t.$slots,"title",{key:1},()=>[ge(" DEPRECATED SLOT ")]):Oe(t.$slots,"header",{key:0,close:t.handleClose,titleId:t.titleId,titleClass:t.ns.e("title")},()=>[t.$slots.title?ge("v-if",!0):(S(),I("span",{key:0,id:t.titleId,role:"heading",class:P(t.ns.e("title"))},Ue(t.title),11,cUe))]),t.showClose?(S(),I("button",{key:2,"aria-label":t.t("el.drawer.close"),class:P(t.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...c)=>t.handleClose&&t.handleClose(...c))},[se(i,{class:P(t.ns.e("close"))},{default:ce(()=>[se(a)]),_:1},8,["class"])],10,dUe)):ge("v-if",!0)],2)):ge("v-if",!0),t.rendered?(S(),I("div",{key:1,id:t.bodyId,class:P(t.ns.e("body"))},[Oe(t.$slots,"default")],10,fUe)):ge("v-if",!0),t.$slots.footer?(S(),I("div",{key:2,class:P(t.ns.e("footer"))},[Oe(t.$slots,"footer")],2)):ge("v-if",!0)],16,uUe)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Qt,t.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var pUe=je(lUe,[["render",hUe],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const mUe=Dt(pUe),gUe=ue({inheritAttrs:!1});function vUe(t,e,n,s,r,o){return Oe(t.$slots,"default")}var yUe=je(gUe,[["render",vUe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const bUe=ue({name:"ElCollectionItem",inheritAttrs:!1});function wUe(t,e,n,s,r,o){return Oe(t.$slots,"default")}var _Ue=je(bUe,[["render",wUe],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Hz="data-el-collection-item",Wz=t=>{const e=`El${t}Collection`,n=`${e}Item`,s=Symbol(e),r=Symbol(n),o={...yUe,name:e,setup(){const i=U(null),l=new Map;Lt(s,{itemMap:l,getItems:()=>{const c=v(i);if(!c)return[];const d=Array.from(c.querySelectorAll(`[${Hz}]`));return[...l.values()].sort((h,p)=>d.indexOf(h.ref)-d.indexOf(p.ref))},collectionRef:i})}},a={..._Ue,name:n,setup(i,{attrs:l}){const u=U(null),c=et(s,void 0);Lt(r,{collectionItemRef:u}),Et(()=>{const d=v(u);d&&c.itemMap.set(d,{ref:d,...l})}),ts(()=>{const d=v(u);c.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:o,ElCollectionItem:a}},$Ue=qe({style:{type:Se([String,Array,Object])},currentTabId:{type:Se(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Se(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:xUe,ElCollectionItem:SUe,COLLECTION_INJECTION_KEY:ck,COLLECTION_ITEM_INJECTION_KEY:CUe}=Wz("RovingFocusGroup"),dk=Symbol("elRovingFocusGroup"),Uz=Symbol("elRovingFocusGroupItem"),kUe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},TUe=(t,e)=>{if(e!=="rtl")return t;switch(t){case ut.right:return ut.left;case ut.left:return ut.right;default:return t}},NUe=(t,e,n)=>{const s=TUe(t.key,n);if(!(e==="vertical"&&[ut.left,ut.right].includes(s))&&!(e==="horizontal"&&[ut.up,ut.down].includes(s)))return kUe[s]},EUe=(t,e)=>t.map((n,s)=>t[(s+e)%t.length]),fk=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},UO="currentTabIdChange",GO="rovingFocusGroup.entryFocus",IUe={bubbles:!1,cancelable:!0},AUe=ue({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:$Ue,emits:[UO,"entryFocus"],setup(t,{emit:e}){var n;const s=U((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),r=U(!1),o=U(!1),a=U(null),{getItems:i}=et(ck,void 0),l=A(()=>[{outline:"none"},t.style]),u=m=>{e(UO,m)},c=()=>{r.value=!0},d=Xn(m=>{var g;(g=t.onMousedown)==null||g.call(t,m)},()=>{o.value=!0}),f=Xn(m=>{var g;(g=t.onFocus)==null||g.call(t,m)},m=>{const g=!v(o),{target:y,currentTarget:w}=m;if(y===w&&g&&!v(r)){const b=new Event(GO,IUe);if(w==null||w.dispatchEvent(b),!b.defaultPrevented){const _=i().filter(T=>T.focusable),$=_.find(T=>T.active),x=_.find(T=>T.id===v(s)),C=[$,x,..._].filter(Boolean).map(T=>T.ref);fk(C)}}o.value=!1}),h=Xn(m=>{var g;(g=t.onBlur)==null||g.call(t,m)},()=>{r.value=!1}),p=(...m)=>{e("entryFocus",...m)};Lt(dk,{currentTabbedId:Cg(s),loop:Un(t,"loop"),tabIndex:A(()=>v(r)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:l,orientation:Un(t,"orientation"),dir:Un(t,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:f,onMousedown:d}),Me(()=>t.currentTabId,m=>{s.value=m??null}),Rn(a,GO,p)}});function OUe(t,e,n,s,r,o){return Oe(t.$slots,"default")}var RUe=je(AUe,[["render",OUe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const DUe=ue({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:xUe,ElRovingFocusGroupImpl:RUe}});function FUe(t,e,n,s,r,o){const a=pt("el-roving-focus-group-impl"),i=pt("el-focus-group-collection");return S(),$e(i,null,{default:ce(()=>[se(a,Wa(Yb(t.$attrs)),{default:ce(()=>[Oe(t.$slots,"default")]),_:3},16)]),_:3})}var MUe=je(DUe,[["render",FUe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const PUe=ue({components:{ElRovingFocusCollectionItem:SUe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:s,onItemFocus:r,onItemShiftTab:o}=et(dk,void 0),{getItems:a}=et(ck,void 0),i=ei(),l=U(null),u=Xn(h=>{e("mousedown",h)},h=>{t.focusable?r(v(i)):h.preventDefault()}),c=Xn(h=>{e("focus",h)},()=>{r(v(i))}),d=Xn(h=>{e("keydown",h)},h=>{const{key:p,shiftKey:m,target:g,currentTarget:y}=h;if(p===ut.tab&&m){o();return}if(g!==y)return;const w=NUe(h);if(w){h.preventDefault();let _=a().filter($=>$.focusable).map($=>$.ref);switch(w){case"last":{_.reverse();break}case"prev":case"next":{w==="prev"&&_.reverse();const $=_.indexOf(y);_=s.value?EUe(_,$+1):_.slice($+1);break}}nt(()=>{fk(_)})}}),f=A(()=>n.value===v(i));return Lt(Uz,{rovingFocusGroupItemRef:l,tabIndex:A(()=>v(f)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:d}),{id:i,handleKeydown:d,handleFocus:c,handleMousedown:u}}});function LUe(t,e,n,s,r,o){const a=pt("el-roving-focus-collection-item");return S(),$e(a,{id:t.id,focusable:t.focusable,active:t.active},{default:ce(()=>[Oe(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var zUe=je(PUe,[["render",LUe],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const ey=qe({trigger:L0.trigger,effect:{...Xs.effect,default:"light"},type:{type:Se(String)},placement:{type:Se(String),default:"bottom"},popperOptions:{type:Se(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Se([Number,String]),default:0},maxHeight:{type:Se([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:Se(Object)},teleported:Xs.teleported}),Gz=qe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:En}}),BUe=qe({onKeydown:{type:Se(Function)}}),VUe=[ut.down,ut.pageDown,ut.home],jz=[ut.up,ut.pageUp,ut.end],HUe=[...VUe,...jz],{ElCollection:WUe,ElCollectionItem:UUe,COLLECTION_INJECTION_KEY:GUe,COLLECTION_ITEM_INJECTION_KEY:jUe}=Wz("Dropdown"),Cw=Symbol("elDropdown"),{ButtonGroup:KUe}=br,qUe=ue({name:"ElDropdown",components:{ElButton:br,ElButtonGroup:KUe,ElScrollbar:jl,ElDropdownCollection:WUe,ElTooltip:No,ElRovingFocusGroup:MUe,ElOnlyChild:fL,ElIcon:rt,ArrowDown:zl},props:ey,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=Rt(),s=Fe("dropdown"),{t:r}=nn(),o=U(),a=U(),i=U(null),l=U(null),u=U(null),c=U(null),d=U(!1),f=[ut.enter,ut.space,ut.down],h=A(()=>({maxHeight:Cs(t.maxHeight)})),p=A(()=>[s.m(_.value)]),m=ei().value,g=A(()=>t.id||m);function y(){w()}function w(){var B;(B=i.value)==null||B.onClose()}function b(){var B;(B=i.value)==null||B.onOpen()}const _=ks();function $(...B){e("command",...B)}function x(){}function k(){const B=v(l);B==null||B.focus(),c.value=null}function C(B){c.value=B}function T(B){d.value||(B.preventDefault(),B.stopImmediatePropagation())}function N(){e("visible-change",!0)}function M(B){(B==null?void 0:B.type)==="keydown"&&l.value.focus()}function R(){e("visible-change",!1)}return Lt(Cw,{contentRef:l,role:A(()=>t.role),triggerId:g,isUsingKeyboard:d,onItemEnter:x,onItemLeave:k}),Lt("elDropdown",{instance:n,dropdownSize:_,handleClick:y,commandHandler:$,trigger:Un(t,"trigger"),hideOnClick:Un(t,"hideOnClick")}),{t:r,ns:s,scrollbar:u,wrapStyle:h,dropdownTriggerKls:p,dropdownSize:_,triggerId:g,triggerKeys:f,currentTabId:c,handleCurrentTabIdChange:C,handlerMainButtonClick:B=>{e("click",B)},handleEntryFocus:T,handleClose:w,handleOpen:b,handleBeforeShowTooltip:N,handleShowTooltip:M,handleBeforeHideTooltip:R,onFocusAfterTrapped:B=>{var V,O;B.preventDefault(),(O=(V=l.value)==null?void 0:V.focus)==null||O.call(V,{preventScroll:!0})},popperRef:i,contentRef:l,triggeringElementRef:o,referenceElementRef:a}}});function XUe(t,e,n,s,r,o){var a;const i=pt("el-dropdown-collection"),l=pt("el-roving-focus-group"),u=pt("el-scrollbar"),c=pt("el-only-child"),d=pt("el-tooltip"),f=pt("el-button"),h=pt("arrow-down"),p=pt("el-icon"),m=pt("el-button-group");return S(),I("div",{class:P([t.ns.b(),t.ns.is("disabled",t.disabled)])},[se(d,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(a=t.referenceElementRef)==null?void 0:a.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Uu({content:ce(()=>[se(u,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:ce(()=>[se(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:ce(()=>[se(i,null,{default:ce(()=>[Oe(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:ce(()=>[se(c,{id:t.triggerId,role:"button",tabindex:t.tabindex},{default:ce(()=>[Oe(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(S(),$e(m,{key:0},{default:ce(()=>[se(f,zt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:ce(()=>[Oe(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),se(f,zt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:ce(()=>[se(p,{class:P(t.ns.e("icon"))},{default:ce(()=>[se(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ge("v-if",!0)],2)}var YUe=je(qUe,[["render",XUe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const ZUe=ue({name:"DropdownItemImpl",components:{ElIcon:rt},props:Gz,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Fe("dropdown"),{role:s}=et(Cw,void 0),{collectionItemRef:r}=et(jUe,void 0),{collectionItemRef:o}=et(CUe,void 0),{rovingFocusGroupItemRef:a,tabIndex:i,handleFocus:l,handleKeydown:u,handleMousedown:c}=et(Uz,void 0),d=cw(r,o,a),f=A(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),h=Xn(p=>{const{code:m}=p;if(m===ut.enter||m===ut.space)return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},u);return{ns:n,itemRef:d,dataset:{[Hz]:""},role:f,tabIndex:i,handleFocus:l,handleKeydown:h,handleMousedown:c}}}),JUe=["aria-disabled","tabindex","role"];function QUe(t,e,n,s,r,o){const a=pt("el-icon");return S(),I(lt,null,[t.divided?(S(),I("li",zt({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):ge("v-if",!0),E("li",zt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:e[0]||(e[0]=i=>t.$emit("clickimpl",i)),onFocus:e[1]||(e[1]=(...i)=>t.handleFocus&&t.handleFocus(...i)),onKeydown:e[2]||(e[2]=(...i)=>t.handleKeydown&&t.handleKeydown(...i)),onMousedown:e[3]||(e[3]=(...i)=>t.handleMousedown&&t.handleMousedown(...i)),onPointermove:e[4]||(e[4]=i=>t.$emit("pointermove",i)),onPointerleave:e[5]||(e[5]=i=>t.$emit("pointerleave",i))}),[t.icon?(S(),$e(a,{key:0},{default:ce(()=>[(S(),$e(Vt(t.icon)))]),_:1})):ge("v-if",!0),Oe(t.$slots,"default")],16,JUe)],64)}var eGe=je(ZUe,[["render",QUe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Kz=()=>{const t=et("elDropdown",{}),e=A(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},tGe=ue({name:"ElDropdownItem",components:{ElDropdownCollectionItem:UUe,ElRovingFocusItem:zUe,ElDropdownItemImpl:eGe},inheritAttrs:!1,props:Gz,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:s}=Kz(),r=Rt(),o=U(null),a=A(()=>{var h,p;return(p=(h=v(o))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:i,onItemLeave:l}=et(Cw,void 0),u=Xn(h=>(e("pointermove",h),h.defaultPrevented),NA(h=>{var p;t.disabled?l(h):(i(h),h.defaultPrevented||(p=h.currentTarget)==null||p.focus())})),c=Xn(h=>(e("pointerleave",h),h.defaultPrevented),NA(h=>{l(h)})),d=Xn(h=>{if(!t.disabled)return e("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,m,g;if(t.disabled){h.stopImmediatePropagation();return}(p=s==null?void 0:s.hideOnClick)!=null&&p.value&&((m=s.handleClick)==null||m.call(s)),(g=s.commandHandler)==null||g.call(s,t.command,r,h)}),f=A(()=>({...t,...n}));return{handleClick:d,handlePointerMove:u,handlePointerLeave:c,textContent:a,propsAndAttrs:f}}});function nGe(t,e,n,s,r,o){var a;const i=pt("el-dropdown-item-impl"),l=pt("el-roving-focus-item"),u=pt("el-dropdown-collection-item");return S(),$e(u,{disabled:t.disabled,"text-value":(a=t.textValue)!=null?a:t.textContent},{default:ce(()=>[se(l,{focusable:!t.disabled},{default:ce(()=>[se(i,zt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:ce(()=>[Oe(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var qz=je(tGe,[["render",nGe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const sGe=ue({name:"ElDropdownMenu",props:BUe,setup(t){const e=Fe("dropdown"),{_elDropdownSize:n}=Kz(),s=n.value,{focusTrapRef:r,onKeydown:o}=et(ek,void 0),{contentRef:a,role:i,triggerId:l}=et(Cw,void 0),{collectionRef:u,getItems:c}=et(GUe,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:h,onBlur:p,onFocus:m,onMousedown:g}=et(dk,void 0),{collectionRef:y}=et(ck,void 0),w=A(()=>[e.b("menu"),e.bm("menu",s==null?void 0:s.value)]),b=cw(a,u,r,d,y),_=Xn(x=>{var k;(k=t.onKeydown)==null||k.call(t,x)},x=>{const{currentTarget:k,code:C,target:T}=x;if(k.contains(T),ut.tab===C&&x.stopImmediatePropagation(),x.preventDefault(),T!==v(a)||!HUe.includes(C))return;const M=c().filter(R=>!R.disabled).map(R=>R.ref);jz.includes(C)&&M.reverse(),fk(M)});return{size:s,rovingFocusGroupRootStyle:f,tabIndex:h,dropdownKls:w,role:i,triggerId:l,dropdownListWrapperRef:b,handleKeydown:x=>{_(x),o(x)},onBlur:p,onFocus:m,onMousedown:g}}}),rGe=["role","aria-labelledby"];function oGe(t,e,n,s,r,o){return S(),I("ul",{ref:t.dropdownListWrapperRef,class:P(t.dropdownKls),style:ot(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:e[0]||(e[0]=(...a)=>t.onBlur&&t.onBlur(...a)),onFocus:e[1]||(e[1]=(...a)=>t.onFocus&&t.onFocus(...a)),onKeydown:e[2]||(e[2]=(...a)=>t.handleKeydown&&t.handleKeydown(...a)),onMousedown:e[3]||(e[3]=(...a)=>t.onMousedown&&t.onMousedown(...a))},[Oe(t.$slots,"default")],46,rGe)}var Xz=je(sGe,[["render",oGe],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const aGe=Dt(YUe,{DropdownItem:qz,DropdownMenu:Xz}),iGe=ns(qz),lGe=ns(Xz);let uGe=0;const cGe=ue({name:"ImgEmpty",setup(){return{ns:Fe("empty"),id:++uGe}}}),dGe={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},fGe=["id"],hGe=["stop-color"],pGe=["stop-color"],mGe=["id"],gGe=["stop-color"],vGe=["stop-color"],yGe=["id"],bGe={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},wGe={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},_Ge={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},$Ge=["fill"],xGe=["fill"],SGe={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},CGe=["fill"],kGe=["fill"],TGe=["fill"],NGe=["fill"],EGe=["fill"],IGe={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},AGe=["fill","xlink:href"],OGe=["fill","mask"],RGe=["fill"];function DGe(t,e,n,s,r,o){return S(),I("svg",dGe,[E("defs",null,[E("linearGradient",{id:`linearGradient-1-${t.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[E("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,hGe),E("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,pGe)],8,fGe),E("linearGradient",{id:`linearGradient-2-${t.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[E("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,gGe),E("stop",{"stop-color":`var(${t.ns.cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,vGe)],8,mGe),E("rect",{id:`path-3-${t.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,yGe)]),E("g",bGe,[E("g",wGe,[E("g",_Ge,[E("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${t.ns.cssVarBlockName("fill-color-3")})`},null,8,$Ge),E("polygon",{id:"Rectangle-Copy-14",fill:`var(${t.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,xGe),E("g",SGe,[E("polygon",{id:"Rectangle-Copy-10",fill:`var(${t.ns.cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,CGe),E("polygon",{id:"Rectangle-Copy-11",fill:`var(${t.ns.cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,kGe),E("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${t.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,TGe),E("polygon",{id:"Rectangle-Copy-13",fill:`var(${t.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,NGe)]),E("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${t.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,EGe),E("g",IGe,[E("use",{id:"Mask",fill:`var(${t.ns.cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${t.id}`},null,8,AGe),E("polygon",{id:"Rectangle-Copy",fill:`var(${t.ns.cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${t.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,OGe)]),E("polygon",{id:"Rectangle-Copy-18",fill:`var(${t.ns.cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,RGe)])])])])}var FGe=je(cGe,[["render",DGe],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const MGe={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},PGe=["src"],LGe={key:1},zGe=ue({name:"ElEmpty"}),BGe=ue({...zGe,props:MGe,setup(t){const e=t,{t:n}=nn(),s=Fe("empty"),r=A(()=>e.description||n("el.table.emptyText")),o=A(()=>({width:e.imageSize?`${e.imageSize}px`:""}));return(a,i)=>(S(),I("div",{class:P(v(s).b())},[E("div",{class:P(v(s).e("image")),style:ot(v(o))},[a.image?(S(),I("img",{key:0,src:a.image,ondragstart:"return false"},null,8,PGe)):Oe(a.$slots,"image",{key:1},()=>[se(FGe)])],6),E("div",{class:P(v(s).e("description"))},[a.$slots.description?Oe(a.$slots,"description",{key:0}):(S(),I("p",LGe,Ue(v(r)),1))],2),a.$slots.default?(S(),I("div",{key:0,class:P(v(s).e("bottom"))},[Oe(a.$slots,"default")],2)):ge("v-if",!0)],2))}});var VGe=je(BGe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const Yz=Dt(VGe),HGe=qe({model:Object,rules:{type:Se(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:Hl},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),WGe={validate:(t,e,n)=>(Qe(t)||wt(t))&&Rs(e)&&wt(n)};function UGe(){const t=U([]),e=A(()=>{if(!t.value.length)return"0";const o=Math.max(...t.value);return o?`${o}px`:""});function n(o){const a=t.value.indexOf(o);return a===-1&&e.value,a}function s(o,a){if(o&&a){const i=n(a);t.value.splice(i,1,o)}else o&&t.value.push(o)}function r(o){const a=n(o);a>-1&&t.value.splice(a,1)}return{autoLabelWidth:e,registerLabelWidth:s,deregisterLabelWidth:r}}const cv=(t,e)=>{const n=dh(e);return n.length>0?t.filter(s=>s.prop&&n.includes(s.prop)):t},GGe="ElForm",jGe=ue({name:GGe}),KGe=ue({...jGe,props:HGe,emits:WGe,setup(t,{expose:e,emit:n}){const s=t,r=[],o=ks(),a=Fe("form"),i=A(()=>{const{labelPosition:w,inline:b}=s;return[a.b(),a.m(o.value||"default"),{[a.m(`label-${w}`)]:w,[a.m("inline")]:b}]}),l=w=>{r.push(w)},u=w=>{w.prop&&r.splice(r.indexOf(w),1)},c=(w=[])=>{!s.model||cv(r,w).forEach(b=>b.resetField())},d=(w=[])=>{cv(r,w).forEach(b=>b.clearValidate())},f=A(()=>!!s.model),h=w=>{if(r.length===0)return[];const b=cv(r,w);return b.length?b:[]},p=async w=>g(void 0,w),m=async(w=[])=>{if(!f.value)return!1;const b=h(w);if(b.length===0)return!0;let _={};for(const $ of b)try{await $.validate("")}catch(x){_={..._,...x}}return Object.keys(_).length===0?!0:Promise.reject(_)},g=async(w=[],b)=>{const _=!vt(b);try{const $=await m(w);return $===!0&&(b==null||b($)),$}catch($){if($ instanceof Error)throw $;const x=$;return s.scrollToError&&y(Object.keys(x)[0]),b==null||b(!1,x),_&&Promise.reject(x)}},y=w=>{var b;const _=cv(r,w)[0];_&&((b=_.$el)==null||b.scrollIntoView())};return Me(()=>s.rules,()=>{s.validateOnRuleChange&&p().catch(w=>void 0)},{deep:!0}),Lt(Jd,on({...Ps(s),emit:n,resetFields:c,clearValidate:d,validateField:g,addField:l,removeField:u,...UGe()})),e({validate:p,validateField:g,resetFields:c,clearValidate:d,scrollToField:y}),(w,b)=>(S(),I("form",{class:P(v(i))},[Oe(w.$slots,"default")],2))}});var qGe=je(KGe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qc.apply(this,arguments)}function XGe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,V0(t,e)}function O6(t){return O6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O6(t)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},V0(t,e)}function YGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ty(t,e,n){return YGe()?ty=Reflect.construct.bind():ty=function(r,o,a){var i=[null];i.push.apply(i,o);var l=Function.bind.apply(r,i),u=new l;return a&&V0(u,a.prototype),u},ty.apply(null,arguments)}function ZGe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function R6(t){var e=typeof Map=="function"?new Map:void 0;return R6=function(s){if(s===null||!ZGe(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(s))return e.get(s);e.set(s,r)}function r(){return ty(s,arguments,O6(this).constructor)}return r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),V0(r,s)},R6(t)}var JGe=/%[sdj%]/g,QGe=function(){};typeof process<"u"&&process.env;function D6(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var s=n.field;e[s]=e[s]||[],e[s].push(n)}),e}function Po(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];var r=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(JGe,function(i){if(i==="%%")return"%";if(r>=o)return i;switch(i){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return i}});return a}return t}function eje(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Ws(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||eje(e)&&typeof t=="string"&&!t)}function tje(t,e,n){var s=[],r=0,o=t.length;function a(i){s.push.apply(s,i||[]),r++,r===o&&n(s)}t.forEach(function(i){e(i,a)})}function jO(t,e,n){var s=0,r=t.length;function o(a){if(a&&a.length){n(a);return}var i=s;s=s+1,i<r?e(t[i],o):n([])}o([])}function nje(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var KO=function(t){XGe(e,t);function e(n,s){var r;return r=t.call(this,"Async Validation Error")||this,r.errors=n,r.fields=s,r}return e}(R6(Error));function sje(t,e,n,s,r){if(e.first){var o=new Promise(function(f,h){var p=function(y){return s(y),y.length?h(new KO(y,D6(y))):f(r)},m=nje(t);jO(m,n,p)});return o.catch(function(f){return f}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],i=Object.keys(t),l=i.length,u=0,c=[],d=new Promise(function(f,h){var p=function(g){if(c.push.apply(c,g),u++,u===l)return s(c),c.length?h(new KO(c,D6(c))):f(r)};i.length||(s(c),f(r)),i.forEach(function(m){var g=t[m];a.indexOf(m)!==-1?jO(g,n,p):tje(g,n,p)})});return d.catch(function(f){return f}),d}function rje(t){return!!(t&&t.message!==void 0)}function oje(t,e){for(var n=t,s=0;s<e.length;s++){if(n==null)return n;n=n[e[s]]}return n}function qO(t,e){return function(n){var s;return t.fullFields?s=oje(e,t.fullFields):s=e[n.field||t.fullField],rje(n)?(n.field=n.field||t.fullField,n.fieldValue=s,n):{message:typeof n=="function"?n():n,fieldValue:s,field:n.field||t.fullField}}}function XO(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];typeof s=="object"&&typeof t[n]=="object"?t[n]=qc({},t[n],s):t[n]=s}}return t}var Zz=function(e,n,s,r,o,a){e.required&&(!s.hasOwnProperty(e.field)||Ws(n,a||e.type))&&r.push(Po(o.messages.required,e.fullField))},aje=function(e,n,s,r,o){(/^\s+$/.test(n)||n==="")&&r.push(Po(o.messages.whitespace,e.fullField))},dv,ije=function(){if(dv)return dv;var t="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+n+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+n+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+n+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+n+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+n+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+n+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+n+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),a=new RegExp("^"+n+"$"),i=new RegExp("^"+r+"$"),l=function(_){return _&&_.exact?o:new RegExp("(?:"+e(_)+n+e(_)+")|(?:"+e(_)+r+e(_)+")","g")};l.v4=function(b){return b&&b.exact?a:new RegExp(""+e(b)+n+e(b),"g")},l.v6=function(b){return b&&b.exact?i:new RegExp(""+e(b)+r+e(b),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',w="(?:"+u+"|www\\.)"+c+"(?:localhost|"+d+"|"+f+"|"+h+p+m+")"+g+y;return dv=new RegExp("(?:^"+w+"$)","i"),dv},YO={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Wm={integer:function(e){return Wm.number(e)&&parseInt(e,10)===e},float:function(e){return Wm.number(e)&&!Wm.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Wm.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(YO.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(ije())},hex:function(e){return typeof e=="string"&&!!e.match(YO.hex)}},lje=function(e,n,s,r,o){if(e.required&&n===void 0){Zz(e,n,s,r,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],i=e.type;a.indexOf(i)>-1?Wm[i](n)||r.push(Po(o.messages.types[i],e.fullField,e.type)):i&&typeof n!==e.type&&r.push(Po(o.messages.types[i],e.fullField,e.type))},uje=function(e,n,s,r,o){var a=typeof e.len=="number",i=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,d=null,f=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(f?d="number":h?d="string":p&&(d="array"),!d)return!1;p&&(c=n.length),h&&(c=n.replace(u,"_").length),a?c!==e.len&&r.push(Po(o.messages[d].len,e.fullField,e.len)):i&&!l&&c<e.min?r.push(Po(o.messages[d].min,e.fullField,e.min)):l&&!i&&c>e.max?r.push(Po(o.messages[d].max,e.fullField,e.max)):i&&l&&(c<e.min||c>e.max)&&r.push(Po(o.messages[d].range,e.fullField,e.min,e.max))},wf="enum",cje=function(e,n,s,r,o){e[wf]=Array.isArray(e[wf])?e[wf]:[],e[wf].indexOf(n)===-1&&r.push(Po(o.messages[wf],e.fullField,e[wf].join(", ")))},dje=function(e,n,s,r,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push(Po(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||r.push(Po(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},bn={required:Zz,whitespace:aje,type:lje,range:uje,enum:cje,pattern:dje},fje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n,"string")&&!e.required)return s();bn.required(e,n,r,a,o,"string"),Ws(n,"string")||(bn.type(e,n,r,a,o),bn.range(e,n,r,a,o),bn.pattern(e,n,r,a,o),e.whitespace===!0&&bn.whitespace(e,n,r,a,o))}s(a)},hje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o),n!==void 0&&bn.type(e,n,r,a,o)}s(a)},pje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(n===""&&(n=void 0),Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o),n!==void 0&&(bn.type(e,n,r,a,o),bn.range(e,n,r,a,o))}s(a)},mje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o),n!==void 0&&bn.type(e,n,r,a,o)}s(a)},gje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o),Ws(n)||bn.type(e,n,r,a,o)}s(a)},vje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o),n!==void 0&&(bn.type(e,n,r,a,o),bn.range(e,n,r,a,o))}s(a)},yje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o),n!==void 0&&(bn.type(e,n,r,a,o),bn.range(e,n,r,a,o))}s(a)},bje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(n==null&&!e.required)return s();bn.required(e,n,r,a,o,"array"),n!=null&&(bn.type(e,n,r,a,o),bn.range(e,n,r,a,o))}s(a)},wje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o),n!==void 0&&bn.type(e,n,r,a,o)}s(a)},_je="enum",$je=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o),n!==void 0&&bn[_je](e,n,r,a,o)}s(a)},xje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n,"string")&&!e.required)return s();bn.required(e,n,r,a,o),Ws(n,"string")||bn.pattern(e,n,r,a,o)}s(a)},Sje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n,"date")&&!e.required)return s();if(bn.required(e,n,r,a,o),!Ws(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),bn.type(e,l,r,a,o),l&&bn.range(e,l.getTime(),r,a,o)}}s(a)},Cje=function(e,n,s,r,o){var a=[],i=Array.isArray(n)?"array":typeof n;bn.required(e,n,r,a,o,i),s(a)},e$=function(e,n,s,r,o){var a=e.type,i=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(Ws(n,a)&&!e.required)return s();bn.required(e,n,r,i,o,a),Ws(n,a)||bn.type(e,n,r,i,o)}s(i)},kje=function(e,n,s,r,o){var a=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Ws(n)&&!e.required)return s();bn.required(e,n,r,a,o)}s(a)},f0={string:fje,method:hje,number:pje,boolean:mje,regexp:gje,integer:vje,float:yje,array:bje,object:wje,enum:$je,pattern:xje,date:Sje,url:e$,hex:e$,email:e$,required:Cje,any:kje};function F6(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var M6=F6(),Pg=function(){function t(n){this.rules=null,this._messages=M6,this.define(n)}var e=t.prototype;return e.define=function(s){var r=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(o){var a=s[o];r.rules[o]=Array.isArray(a)?a:[a]})},e.messages=function(s){return s&&(this._messages=XO(F6(),s)),this._messages},e.validate=function(s,r,o){var a=this;r===void 0&&(r={}),o===void 0&&(o=function(){});var i=s,l=r,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,i),Promise.resolve(i);function c(m){var g=[],y={};function w(_){if(Array.isArray(_)){var $;g=($=g).concat.apply($,_)}else g.push(_)}for(var b=0;b<m.length;b++)w(m[b]);g.length?(y=D6(g),u(g,y)):u(null,i)}if(l.messages){var d=this.messages();d===M6&&(d=F6()),XO(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(m){var g=a.rules[m],y=i[m];g.forEach(function(w){var b=w;typeof b.transform=="function"&&(i===s&&(i=qc({},i)),y=i[m]=b.transform(y)),typeof b=="function"?b={validator:b}:b=qc({},b),b.validator=a.getValidationMethod(b),b.validator&&(b.field=m,b.fullField=b.fullField||m,b.type=a.getType(b),f[m]=f[m]||[],f[m].push({rule:b,value:y,source:i,field:m}))})});var p={};return sje(f,l,function(m,g){var y=m.rule,w=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");w=w&&(y.required||!y.required&&m.value),y.field=m.field;function b(x,k){return qc({},k,{fullField:y.fullField+"."+x,fullFields:y.fullFields?[].concat(y.fullFields,[x]):[x]})}function _(x){x===void 0&&(x=[]);var k=Array.isArray(x)?x:[x];!l.suppressWarning&&k.length&&t.warning("async-validator:",k),k.length&&y.message!==void 0&&(k=[].concat(y.message));var C=k.map(qO(y,i));if(l.first&&C.length)return p[y.field]=1,g(C);if(!w)g(C);else{if(y.required&&!m.value)return y.message!==void 0?C=[].concat(y.message).map(qO(y,i)):l.error&&(C=[l.error(y,Po(l.messages.required,y.field))]),g(C);var T={};y.defaultField&&Object.keys(m.value).map(function(R){T[R]=y.defaultField}),T=qc({},T,m.rule.fields);var N={};Object.keys(T).forEach(function(R){var D=T[R],z=Array.isArray(D)?D:[D];N[R]=z.map(b.bind(null,R))});var M=new t(N);M.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),M.validate(m.value,m.rule.options||l,function(R){var D=[];C&&C.length&&D.push.apply(D,C),R&&R.length&&D.push.apply(D,R),g(D.length?D:null)})}}var $;if(y.asyncValidator)$=y.asyncValidator(y,m.value,_,m.source,l);else if(y.validator){try{$=y.validator(y,m.value,_,m.source,l)}catch(x){console.error==null||console.error(x),l.suppressValidatorError||setTimeout(function(){throw x},0),_(x.message)}$===!0?_():$===!1?_(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):$ instanceof Array?_($):$ instanceof Error&&_($.message)}$&&$.then&&$.then(function(){return _()},function(x){return _(x)})},function(m){c(m)},i)},e.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!f0.hasOwnProperty(s.type))throw new Error(Po("Unknown rule type %s",s.type));return s.type||"string"},e.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var r=Object.keys(s),o=r.indexOf("message");return o!==-1&&r.splice(o,1),r.length===1&&r[0]==="required"?f0.required:f0[this.getType(s)]||void 0},t}();Pg.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");f0[e]=n};Pg.warning=QGe;Pg.messages=M6;Pg.validators=f0;const Tje=["","error","validating","success"],Nje=qe({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Se([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Se([Object,Array])},error:String,validateStatus:{type:String,values:Tje},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Hl}}),ZO="ElLabelWrap";var Eje=ue({name:ZO,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=et(Jd,void 0),s=et(Li);s||Ls(ZO,"usage: <el-form-item><label-wrap /></el-form-item>");const r=Fe("form"),o=U(),a=U(0),i=()=>{var c;if((c=o.value)!=null&&c.firstElementChild){const d=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(c="update")=>{nt(()=>{e.default&&t.isAutoWidth&&(c==="update"?a.value=i():c==="remove"&&(n==null||n.deregisterLabelWidth(a.value)))})},u=()=>l("update");return Et(()=>{u()}),ts(()=>{l("remove")}),Ml(()=>u()),Me(a,(c,d)=>{t.updateAll&&(n==null||n.registerLabelWidth(c,d))}),Dr(A(()=>{var c,d;return(d=(c=o.value)==null?void 0:c.firstElementChild)!=null?d:null}),u),()=>{var c,d;if(!e)return null;const{isAutoWidth:f}=t;if(f){const h=n==null?void 0:n.autoLabelWidth,p=s==null?void 0:s.hasLabel,m={};if(p&&h&&h!=="auto"){const g=Math.max(0,Number.parseInt(h,10)-a.value),y=n.labelPosition==="left"?"marginRight":"marginLeft";g&&(m[y]=`${g}px`)}return se("div",{ref:o,class:[r.be("item","label-wrap")],style:m},[(c=e.default)==null?void 0:c.call(e)])}else return se(lt,{ref:o},[(d=e.default)==null?void 0:d.call(e)])}}});const Ije=["role","aria-labelledby"],Aje=ue({name:"ElFormItem"}),Oje=ue({...Aje,props:Nje,setup(t,{expose:e}){const n=t,s=ir(),r=et(Jd,void 0),o=et(Li,void 0),a=ks(void 0,{formItem:!1}),i=Fe("form-item"),l=ei().value,u=U([]),c=U(""),d=mue(c,100),f=U(""),h=U();let p,m=!1;const g=A(()=>{if((r==null?void 0:r.labelPosition)==="top")return{};const ee=Cs(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return ee?{width:ee}:{}}),y=A(()=>{if((r==null?void 0:r.labelPosition)==="top"||(r==null?void 0:r.inline))return{};if(!n.label&&!n.labelWidth&&T)return{};const ee=Cs(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return!n.label&&!s.label?{marginLeft:ee}:{}}),w=A(()=>[i.b(),i.m(a.value),i.is("error",c.value==="error"),i.is("validating",c.value==="validating"),i.is("success",c.value==="success"),i.is("required",z.value||n.required),i.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),(r==null?void 0:r.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[i.m("feedback")]:r==null?void 0:r.statusIcon}]),b=A(()=>Rs(n.inlineMessage)?n.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),_=A(()=>[i.e("error"),{[i.em("error","inline")]:b.value}]),$=A(()=>n.prop?wt(n.prop)?n.prop:n.prop.join("."):""),x=A(()=>!!(n.label||s.label)),k=A(()=>n.for||u.value.length===1?u.value[0]:void 0),C=A(()=>!k.value&&x.value),T=!!o,N=A(()=>{const ee=r==null?void 0:r.model;if(!(!ee||!n.prop))return Wv(ee,n.prop).value}),M=A(()=>{const{required:ee}=n,Q=[];n.rules&&Q.push(...dh(n.rules));const ie=r==null?void 0:r.rules;if(ie&&n.prop){const pe=Wv(ie,n.prop).value;pe&&Q.push(...dh(pe))}if(ee!==void 0){const pe=Q.map((Re,K)=>[Re,K]).filter(([Re])=>Object.keys(Re).includes("required"));if(pe.length>0)for(const[Re,K]of pe)Re.required!==ee&&(Q[K]={...Re,required:ee});else Q.push({required:ee})}return Q}),R=A(()=>M.value.length>0),D=ee=>M.value.filter(ie=>!ie.trigger||!ee?!0:Array.isArray(ie.trigger)?ie.trigger.includes(ee):ie.trigger===ee).map(({trigger:ie,...pe})=>pe),z=A(()=>M.value.some(ee=>ee.required)),B=A(()=>{var ee;return d.value==="error"&&n.showMessage&&((ee=r==null?void 0:r.showMessage)!=null?ee:!0)}),V=A(()=>`${n.label||""}${(r==null?void 0:r.labelSuffix)||""}`),O=ee=>{c.value=ee},F=ee=>{var Q,ie;const{errors:pe,fields:Re}=ee;(!pe||!Re)&&console.error(ee),O("error"),f.value=pe?(ie=(Q=pe==null?void 0:pe[0])==null?void 0:Q.message)!=null?ie:`${n.prop} is required`:"",r==null||r.emit("validate",n.prop,!1,f.value)},L=()=>{O("success"),r==null||r.emit("validate",n.prop,!0,"")},G=async ee=>{const Q=$.value;return new Pg({[Q]:ee}).validate({[Q]:N.value},{firstFields:!0}).then(()=>(L(),!0)).catch(pe=>(F(pe),Promise.reject(pe)))},Z=async(ee,Q)=>{if(m||!n.prop)return!1;const ie=vt(Q);if(!R.value)return Q==null||Q(!1),!1;const pe=D(ee);return pe.length===0?(Q==null||Q(!0),!0):(O("validating"),G(pe).then(()=>(Q==null||Q(!0),!0)).catch(Re=>{const{fields:K}=Re;return Q==null||Q(!1,K),ie?!1:Promise.reject(K)}))},j=()=>{O(""),f.value="",m=!1},J=async()=>{const ee=r==null?void 0:r.model;if(!ee||!n.prop)return;const Q=Wv(ee,n.prop);m=!0,Q.value=$A(p),await nt(),j(),m=!1},fe=ee=>{u.value.includes(ee)||u.value.push(ee)},X=ee=>{u.value=u.value.filter(Q=>Q!==ee)};Me(()=>n.error,ee=>{f.value=ee||"",O(ee?"error":"")},{immediate:!0}),Me(()=>n.validateStatus,ee=>O(ee||""));const oe=on({...Ps(n),$el:h,size:a,validateState:c,labelId:l,inputIds:u,isGroup:C,hasLabel:x,addInputId:fe,removeInputId:X,resetField:J,clearValidate:j,validate:Z});return Lt(Li,oe),Et(()=>{n.prop&&(r==null||r.addField(oe),p=$A(N.value))}),ts(()=>{r==null||r.removeField(oe)}),e({size:a,validateMessage:f,validateState:c,validate:Z,clearValidate:j,resetField:J}),(ee,Q)=>{var ie;return S(),I("div",{ref_key:"formItemRef",ref:h,class:P(v(w)),role:v(C)?"group":void 0,"aria-labelledby":v(C)?v(l):void 0},[se(v(Eje),{"is-auto-width":v(g).width==="auto","update-all":((ie=v(r))==null?void 0:ie.labelWidth)==="auto"},{default:ce(()=>[v(x)?(S(),$e(Vt(v(k)?"label":"div"),{key:0,id:v(l),for:v(k),class:P(v(i).e("label")),style:ot(v(g))},{default:ce(()=>[Oe(ee.$slots,"label",{label:v(V)},()=>[Jt(Ue(v(V)),1)])]),_:3},8,["id","for","class","style"])):ge("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),E("div",{class:P(v(i).e("content")),style:ot(v(y))},[Oe(ee.$slots,"default"),se(ms,{name:`${v(i).namespace.value}-zoom-in-top`},{default:ce(()=>[v(B)?Oe(ee.$slots,"error",{key:0,error:f.value},()=>[E("div",{class:P(v(_))},Ue(f.value),3)]):ge("v-if",!0)]),_:3},8,["name"])],6)],10,Ije)}}});var Jz=je(Oje,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Rje=Dt(qGe,{FormItem:Jz}),Dje=ns(Jz),Fje=qe({urlList:{type:Se(Array),default:()=>Ln([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0}}),Mje={close:()=>!0,switch:t=>Ct(t)},Pje=["src"],Lje=ue({name:"ElImageViewer"}),zje=ue({...Lje,props:Fje,emits:Mje,setup(t,{expose:e,emit:n}){const s=t,r={CONTAIN:{name:"contain",icon:nd(pP)},ORIGINAL:{name:"original",icon:nd($P)}},o=DC()?"DOMMouseScroll":"mousewheel",{t:a}=nn(),i=Fe("image-viewer"),{nextZIndex:l}=Ul(),u=U(),c=U([]),d=DQ(),f=U(!0),h=U(s.initialIndex),p=Nn(r.CONTAIN),m=U({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=A(()=>{const{urlList:F}=s;return F.length<=1}),y=A(()=>h.value===0),w=A(()=>h.value===s.urlList.length-1),b=A(()=>s.urlList[h.value]),_=A(()=>{const{scale:F,deg:L,offsetX:G,offsetY:Z,enableTransition:j}=m.value;let J=G/F,fe=Z/F;switch(L%360){case 90:case-270:[J,fe]=[fe,-J];break;case 180:case-180:[J,fe]=[-J,-fe];break;case 270:case-90:[J,fe]=[-fe,J];break}const X={transform:`scale(${F}) rotate(${L}deg) translate(${J}px, ${fe}px)`,transition:j?"transform .3s":""};return p.value.name===r.CONTAIN.name&&(X.maxWidth=X.maxHeight="100%"),X}),$=A(()=>Ct(s.zIndex)?s.zIndex:l());function x(){C(),n("close")}function k(){const F=rd(G=>{switch(G.code){case ut.esc:s.closeOnPressEscape&&x();break;case ut.space:D();break;case ut.left:B();break;case ut.up:O("zoomIn");break;case ut.right:V();break;case ut.down:O("zoomOut");break}}),L=rd(G=>{(G.wheelDelta?G.wheelDelta:-G.detail)>0?O("zoomIn",{zoomRate:1.2,enableTransition:!1}):O("zoomOut",{zoomRate:1.2,enableTransition:!1})});d.run(()=>{Rn(document,"keydown",F),Rn(document,o,L)})}function C(){d.stop()}function T(){f.value=!1}function N(F){f.value=!1,F.target.alt=a("el.image.error")}function M(F){if(f.value||F.button!==0||!u.value)return;m.value.enableTransition=!1;const{offsetX:L,offsetY:G}=m.value,Z=F.pageX,j=F.pageY,J=rd(X=>{m.value={...m.value,offsetX:L+X.pageX-Z,offsetY:G+X.pageY-j}}),fe=Rn(document,"mousemove",J);Rn(document,"mouseup",()=>{fe()}),F.preventDefault()}function R(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function D(){if(f.value)return;const F=D0(r),L=Object.values(r),G=p.value.name,j=(L.findIndex(J=>J.name===G)+1)%F.length;p.value=r[F[j]],R()}function z(F){const L=s.urlList.length;h.value=(F+L)%L}function B(){y.value&&!s.infinite||z(h.value-1)}function V(){w.value&&!s.infinite||z(h.value+1)}function O(F,L={}){if(f.value)return;const{zoomRate:G,rotateDeg:Z,enableTransition:j}={zoomRate:1.4,rotateDeg:90,enableTransition:!0,...L};switch(F){case"zoomOut":m.value.scale>.2&&(m.value.scale=Number.parseFloat((m.value.scale/G).toFixed(3)));break;case"zoomIn":m.value.scale<7&&(m.value.scale=Number.parseFloat((m.value.scale*G).toFixed(3)));break;case"clockwise":m.value.deg+=Z;break;case"anticlockwise":m.value.deg-=Z;break}m.value.enableTransition=j}return Me(b,()=>{nt(()=>{const F=c.value[0];F!=null&&F.complete||(f.value=!0)})}),Me(h,F=>{R(),n("switch",F)}),Et(()=>{var F,L;k(),(L=(F=u.value)==null?void 0:F.focus)==null||L.call(F)}),e({setActiveItem:z}),(F,L)=>(S(),$e(kg,{to:"body",disabled:!F.teleported},[se(ms,{name:"viewer-fade",appear:""},{default:ce(()=>[E("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:P(v(i).e("wrapper")),style:ot({zIndex:v($)})},[E("div",{class:P(v(i).e("mask")),onClick:L[0]||(L[0]=yt(G=>F.hideOnClickModal&&x(),["self"]))},null,2),ge(" CLOSE "),E("span",{class:P([v(i).e("btn"),v(i).e("close")]),onClick:x},[se(v(rt),null,{default:ce(()=>[se(v(xa))]),_:1})],2),ge(" ARROW "),v(g)?ge("v-if",!0):(S(),I(lt,{key:0},[E("span",{class:P([v(i).e("btn"),v(i).e("prev"),v(i).is("disabled",!F.infinite&&v(y))]),onClick:B},[se(v(rt),null,{default:ce(()=>[se(v(xl))]),_:1})],2),E("span",{class:P([v(i).e("btn"),v(i).e("next"),v(i).is("disabled",!F.infinite&&v(w))]),onClick:V},[se(v(rt),null,{default:ce(()=>[se(v(Rr))]),_:1})],2)],64)),ge(" ACTIONS "),E("div",{class:P([v(i).e("btn"),v(i).e("actions")])},[E("div",{class:P(v(i).e("actions__inner"))},[se(v(rt),{onClick:L[1]||(L[1]=G=>O("zoomOut"))},{default:ce(()=>[se(v(NP))]),_:1}),se(v(rt),{onClick:L[2]||(L[2]=G=>O("zoomIn"))},{default:ce(()=>[se(v(OC))]),_:1}),E("i",{class:P(v(i).e("actions__divider"))},null,2),se(v(rt),{onClick:D},{default:ce(()=>[(S(),$e(Vt(v(p).icon)))]),_:1}),E("i",{class:P(v(i).e("actions__divider"))},null,2),se(v(rt),{onClick:L[3]||(L[3]=G=>O("anticlockwise"))},{default:ce(()=>[se(v(wP))]),_:1}),se(v(rt),{onClick:L[4]||(L[4]=G=>O("clockwise"))},{default:ce(()=>[se(v(_P))]),_:1})],2)],2),ge(" CANVAS "),E("div",{class:P(v(i).e("canvas"))},[(S(!0),I(lt,null,Gt(F.urlList,(G,Z)=>St((S(),I("img",{ref_for:!0,ref:j=>c.value[Z]=j,key:G,src:G,style:ot(v(_)),class:P(v(i).e("img")),onLoad:T,onError:N,onMousedown:M},null,46,Pje)),[[Qt,Z===h.value]])),128))],2),Oe(F.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var Bje=je(zje,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const Qz=Dt(Bje),Vje=qe({hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:{type:Boolean,default:!1},scrollContainer:{type:Se([String,Object])},previewSrcList:{type:Se(Array),default:()=>Ln([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0}}),Hje={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Ct(t),close:()=>!0,show:()=>!0},Wje=["src","loading"],Uje={key:0},Gje=ue({name:"ElImage",inheritAttrs:!1}),jje=ue({...Gje,props:Vje,emits:Hje,setup(t,{emit:e}){const n=t;let s="";const{t:r}=nn(),o=Fe("image"),a=Tg(),i=PC(),l=U(),u=U(!1),c=U(!0),d=U(!1),f=U(),h=U(),p=Kt&&"loading"in HTMLImageElement.prototype;let m,g;const y=A(()=>a.style),w=A(()=>{const{fit:O}=n;return Kt&&O?{objectFit:O}:{}}),b=A(()=>{const{previewSrcList:O}=n;return Array.isArray(O)&&O.length>0}),_=A(()=>{const{previewSrcList:O,initialIndex:F}=n;let L=F;return F>O.length-1&&(L=0),L}),$=A(()=>n.loading==="eager"?!1:!p&&n.loading==="lazy"||n.lazy),x=()=>{!Kt||(c.value=!0,u.value=!1,l.value=n.src)};function k(O){c.value=!1,u.value=!1,e("load",O)}function C(O){c.value=!1,u.value=!0,e("error",O)}function T(){Oue(f.value,h.value)&&(x(),R())}const N=sP(T,200);async function M(){var O;if(!Kt)return;await nt();const{scrollContainer:F}=n;Qa(F)?h.value=F:wt(F)&&F!==""?h.value=(O=document.querySelector(F))!=null?O:void 0:f.value&&(h.value=TC(f.value)),h.value&&(m=Rn(h,"scroll",N),setTimeout(()=>T(),100))}function R(){!Kt||!h.value||!N||(m==null||m(),h.value=void 0)}function D(O){if(!!O.ctrlKey){if(O.deltaY<0)return O.preventDefault(),!1;if(O.deltaY>0)return O.preventDefault(),!1}}function z(){!b.value||(g=Rn("wheel",D,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,e("show"))}function B(){g==null||g(),document.body.style.overflow=s,d.value=!1,e("close")}function V(O){e("switch",O)}return Me(()=>n.src,()=>{$.value?(c.value=!0,u.value=!1,R(),M()):x()}),Et(()=>{$.value?M():x()}),(O,F)=>(S(),I("div",{ref_key:"container",ref:f,class:P([v(o).b(),O.$attrs.class]),style:ot(v(y))},[l.value!==void 0&&!u.value?(S(),I("img",zt({key:0},v(i),{src:l.value,loading:O.loading,style:v(w),class:[v(o).e("inner"),v(b)&&v(o).e("preview"),c.value&&v(o).is("loading")],onClick:z,onLoad:k,onError:C}),null,16,Wje)):ge("v-if",!0),c.value||u.value?(S(),I("div",{key:1,class:P(v(o).e("wrapper"))},[c.value?Oe(O.$slots,"placeholder",{key:0},()=>[E("div",{class:P(v(o).e("placeholder"))},null,2)]):u.value?Oe(O.$slots,"error",{key:1},()=>[E("div",{class:P(v(o).e("error"))},Ue(v(r)("el.image.error")),3)]):ge("v-if",!0)],2)):ge("v-if",!0),v(b)?(S(),I(lt,{key:2},[d.value?(S(),$e(v(Qz),{key:0,"z-index":O.zIndex,"initial-index":v(_),infinite:O.infinite,"url-list":O.previewSrcList,"hide-on-click-modal":O.hideOnClickModal,teleported:O.previewTeleported,"close-on-press-escape":O.closeOnPressEscape,onClose:B,onSwitch:V},{default:ce(()=>[O.$slots.viewer?(S(),I("div",Uje,[Oe(O.$slots,"viewer")])):ge("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):ge("v-if",!0)],64)):ge("v-if",!0)],6))}});var Kje=je(jje,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const qje=Dt(Kje),Xje=qe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:wo,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Ct(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0}}),Yje={[Fn]:(t,e)=>t!==e,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[jr]:t=>Ct(t)||nr(t),[Ot]:t=>Ct(t)||nr(t)},Zje=["aria-label","onKeydown"],Jje=["aria-label","onKeydown"],Qje=ue({name:"ElInputNumber"}),eKe=ue({...Qje,props:Xje,emits:Yje,setup(t,{expose:e,emit:n}){const s=t,{t:r}=nn(),o=Fe("input-number"),a=U(),i=on({currentValue:s.modelValue,userInput:null}),{formItem:l}=to(),u=A(()=>Ct(s.modelValue)&&s.modelValue<=s.min),c=A(()=>Ct(s.modelValue)&&s.modelValue>=s.max),d=A(()=>{const D=y(s.step);return er(s.precision)?Math.max(y(s.modelValue),D):(D>s.precision,s.precision)}),f=A(()=>s.controls&&s.controlsPosition==="right"),h=ks(),p=To(),m=A(()=>{if(i.userInput!==null)return i.userInput;let D=i.currentValue;if(nr(D))return"";if(Ct(D)){if(Number.isNaN(D))return"";er(s.precision)||(D=D.toFixed(s.precision))}return D}),g=(D,z)=>{if(er(z)&&(z=d.value),z===0)return Math.round(D);let B=String(D);const V=B.indexOf(".");if(V===-1||!B.replace(".","").split("")[V+z])return D;const L=B.length;return B.charAt(L-1)==="5"&&(B=`${B.slice(0,Math.max(0,L-1))}6`),Number.parseFloat(Number(B).toFixed(z))},y=D=>{if(nr(D))return 0;const z=D.toString(),B=z.indexOf(".");let V=0;return B!==-1&&(V=z.length-B-1),V},w=(D,z=1)=>Ct(D)?g(D+s.step*z):i.currentValue,b=()=>{if(s.readonly||p.value||c.value)return;const D=Number(m.value)||0,z=w(D);x(z),n(jr,i.currentValue)},_=()=>{if(s.readonly||p.value||u.value)return;const D=Number(m.value)||0,z=w(D,-1);x(z),n(jr,i.currentValue)},$=(D,z)=>{const{max:B,min:V,step:O,precision:F,stepStrictly:L,valueOnClear:G}=s;let Z=Number(D);if(nr(D)||Number.isNaN(Z))return null;if(D===""){if(G===null)return null;Z=wt(G)?{min:V,max:B}[G]:G}return L&&(Z=g(Math.round(Z/O)*O,F)),er(F)||(Z=g(Z,F)),(Z>B||Z<V)&&(Z=Z>B?B:V,z&&n(Ot,Z)),Z},x=(D,z=!0)=>{var B;const V=i.currentValue,O=$(D);if(V!==O){if(!z){n(Ot,O);return}i.userInput=null,n(Ot,O),n(Fn,O,V),s.validateEvent&&((B=l==null?void 0:l.validate)==null||B.call(l,"change").catch(F=>void 0)),i.currentValue=O}},k=D=>{i.userInput=D;const z=D===""?null:Number(D);n(jr,z),x(z,!1)},C=D=>{const z=D!==""?Number(D):"";(Ct(z)&&!Number.isNaN(z)||D==="")&&x(z),i.userInput=null},T=()=>{var D,z;(z=(D=a.value)==null?void 0:D.focus)==null||z.call(D)},N=()=>{var D,z;(z=(D=a.value)==null?void 0:D.blur)==null||z.call(D)},M=D=>{n("focus",D)},R=D=>{var z;n("blur",D),s.validateEvent&&((z=l==null?void 0:l.validate)==null||z.call(l,"blur").catch(B=>void 0))};return Me(()=>s.modelValue,D=>{const z=$(i.userInput),B=$(D,!0);(!z||z!==B)&&(i.currentValue=B,i.userInput=null)},{immediate:!0}),Et(()=>{var D;const{min:z,max:B,modelValue:V}=s,O=(D=a.value)==null?void 0:D.input;if(O.setAttribute("role","spinbutton"),Number.isFinite(B)?O.setAttribute("aria-valuemax",String(B)):O.removeAttribute("aria-valuemax"),Number.isFinite(z)?O.setAttribute("aria-valuemin",String(z)):O.removeAttribute("aria-valuemin"),O.setAttribute("aria-valuenow",String(i.currentValue)),O.setAttribute("aria-disabled",String(p.value)),!Ct(V)&&V!=null){let F=Number(V);Number.isNaN(F)&&(F=null),n(Ot,F)}}),Ml(()=>{var D;const z=(D=a.value)==null?void 0:D.input;z==null||z.setAttribute("aria-valuenow",`${i.currentValue}`)}),e({focus:T,blur:N}),(D,z)=>(S(),I("div",{class:P([v(o).b(),v(o).m(v(h)),v(o).is("disabled",v(p)),v(o).is("without-controls",!D.controls),v(o).is("controls-right",v(f))]),onDragstart:z[0]||(z[0]=yt(()=>{},["prevent"]))},[D.controls?St((S(),I("span",{key:0,role:"button","aria-label":v(r)("el.inputNumber.decrease"),class:P([v(o).e("decrease"),v(o).is("disabled",v(u))]),onKeydown:qt(_,["enter"])},[se(v(rt),null,{default:ce(()=>[v(f)?(S(),$e(v(zl),{key:0})):(S(),$e(v(gP),{key:1}))]),_:1})],42,Zje)),[[v(Oy),_]]):ge("v-if",!0),D.controls?St((S(),I("span",{key:1,role:"button","aria-label":v(r)("el.inputNumber.increase"),class:P([v(o).e("increase"),v(o).is("disabled",v(c))]),onKeydown:qt(b,["enter"])},[se(v(rt),null,{default:ce(()=>[v(f)?(S(),$e(v(Og),{key:0})):(S(),$e(v(IC),{key:1}))]),_:1})],42,Jje)),[[v(Oy),b]]):ge("v-if",!0),se(v(Or),{id:D.id,ref_key:"input",ref:a,type:"number",step:D.step,"model-value":v(m),placeholder:D.placeholder,readonly:D.readonly,disabled:v(p),size:v(h),max:D.max,min:D.min,name:D.name,label:D.label,"validate-event":!1,onKeydown:[qt(yt(b,["prevent"]),["up"]),qt(yt(_,["prevent"]),["down"])],onBlur:R,onFocus:M,onInput:k,onChange:C},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var tKe=je(eKe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const e7=Dt(tKe),nKe=qe({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:En}}),sKe={click:t=>t instanceof MouseEvent},rKe=["href"],oKe=ue({name:"ElLink"}),aKe=ue({...oKe,props:nKe,emits:sKe,setup(t,{emit:e}){const n=t,s=Fe("link"),r=A(()=>[s.b(),s.m(n.type),s.is("disabled",n.disabled),s.is("underline",n.underline&&!n.disabled)]);function o(a){n.disabled||e("click",a)}return(a,i)=>(S(),I("a",{class:P(v(r)),href:a.disabled||!a.href?void 0:a.href,onClick:o},[a.icon?(S(),$e(v(rt),{key:0},{default:ce(()=>[(S(),$e(Vt(a.icon)))]),_:1})):ge("v-if",!0),a.$slots.default?(S(),I("span",{key:1,class:P(v(s).e("inner"))},[Oe(a.$slots,"default")],2)):ge("v-if",!0),a.$slots.icon?Oe(a.$slots,"icon",{key:2}):ge("v-if",!0)],10,rKe))}});var iKe=je(aKe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const lKe=Dt(iKe);let uKe=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",s=>{let r=!1;switch(s.code){case ut.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case ut.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case ut.tab:{Vv(e,"mouseleave");break}case ut.enter:case ut.space:{r=!0,s.currentTarget.click();break}}return r&&(s.preventDefault(),s.stopPropagation()),!1})})}},cKe=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new uKe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case ut.down:{Vv(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case ut.up:{Vv(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case ut.tab:{Vv(e.currentTarget,"mouseleave");break}case ut.enter:case ut.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},dKe=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(s=>{s.nodeType===1&&new cKe(s,e)})}};const fKe=ue({name:"ElMenuCollapseTransition",setup(){const t=Fe("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,s){xi(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",s()},onAfterEnter(n){mo(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),ja(n,t.m("collapse"))?(mo(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),xi(n,t.m("collapse"))):(xi(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),mo(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){xi(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function hKe(t,e,n,s,r,o){return S(),$e(ms,zt({mode:"out-in"},t.listeners),{default:ce(()=>[Oe(t.$slots,"default")]),_:3},16)}var pKe=je(fKe,[["render",hKe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function t7(t,e){const n=A(()=>{let r=t.parent;const o=[e.value];for(;r.type.name!=="ElMenu";)r.props.index&&o.unshift(r.props.index),r=r.parent;return o});return{parentMenu:A(()=>{let r=t.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:n}}function mKe(t){return A(()=>{const n=t.backgroundColor;return n?new FL(n).shade(20).toString():""})}const n7=(t,e)=>{const n=Fe("menu");return A(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":mKe(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},gKe=qe({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:En},expandOpenIcon:{type:En},collapseCloseIcon:{type:En},collapseOpenIcon:{type:En}}),t$="ElSubMenu";var hk=ue({name:t$,props:gKe,setup(t,{slots:e,expose:n}){const s=Rt(),{indexPath:r,parentMenu:o}=t7(s,A(()=>t.index)),a=Fe("menu"),i=Fe("sub-menu"),l=et("rootMenu");l||Ls(t$,"can not inject root menu");const u=et(`subMenu:${o.value.uid}`);u||Ls(t$,"can not inject sub menu");const c=U({}),d=U({});let f;const h=U(!1),p=U(),m=U(null),g=A(()=>M.value==="horizontal"&&w.value?"bottom-start":"right-start"),y=A(()=>M.value==="horizontal"&&w.value||M.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?x.value?t.expandOpenIcon:t.expandCloseIcon:zl:t.collapseCloseIcon&&t.collapseOpenIcon?x.value?t.collapseOpenIcon:t.collapseCloseIcon:Rr),w=A(()=>u.level===0),b=A(()=>t.popperAppendToBody===void 0?w.value:Boolean(t.popperAppendToBody)),_=A(()=>l.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`),$=A(()=>M.value==="horizontal"&&w.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),x=A(()=>l.openedMenus.includes(t.index)),k=A(()=>{let L=!1;return Object.values(c.value).forEach(G=>{G.active&&(L=!0)}),Object.values(d.value).forEach(G=>{G.active&&(L=!0)}),L}),C=A(()=>l.props.backgroundColor||""),T=A(()=>l.props.activeTextColor||""),N=A(()=>l.props.textColor||""),M=A(()=>l.props.mode),R=on({index:t.index,indexPath:r,active:k}),D=A(()=>M.value!=="horizontal"?{color:N.value}:{borderBottomColor:k.value?l.props.activeTextColor?T.value:"":"transparent",color:k.value?T.value:N.value}),z=()=>{var L,G,Z;return(Z=(G=(L=m.value)==null?void 0:L.popperRef)==null?void 0:G.popperInstanceRef)==null?void 0:Z.destroy()},B=L=>{L||z()},V=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:r.value,active:k.value})},O=(L,G=t.showTimeout)=>{var Z;L.type!=="focus"&&(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled||(u.mouseInChild.value=!0,f==null||f(),{stop:f}=_d(()=>{l.openMenu(t.index,r.value)},G),b.value&&((Z=o.value.vnode.el)==null||Z.dispatchEvent(new MouseEvent("mouseenter")))))},F=(L=!1)=>{var G,Z;l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||(f==null||f(),u.mouseInChild.value=!1,{stop:f}=_d(()=>!h.value&&l.closeMenu(t.index,r.value),t.hideTimeout),b.value&&L&&((G=s.parent)==null?void 0:G.type.name)==="ElSubMenu"&&((Z=u.handleMouseleave)==null||Z.call(u,!0)))};Me(()=>l.props.collapse,L=>B(Boolean(L)));{const L=Z=>{d.value[Z.index]=Z},G=Z=>{delete d.value[Z.index]};Lt(`subMenu:${s.uid}`,{addSubMenu:L,removeSubMenu:G,handleMouseleave:F,mouseInChild:h,level:u.level+1})}return n({opened:x}),Et(()=>{l.addSubMenu(R),u.addSubMenu(R)}),ts(()=>{u.removeSubMenu(R),l.removeSubMenu(R)}),()=>{var L;const G=[(L=e.title)==null?void 0:L.call(e),it(rt,{class:i.e("icon-arrow"),style:{transform:x.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>wt(y.value)?it(s.appContext.components[y.value]):it(y.value)})],Z=n7(l.props,u.level+1),j=l.isMenuPopup?it(No,{ref:m,visible:x.value,effect:"light",pure:!0,offset:t.popperOffset,showArrow:!1,persistent:!0,popperClass:t.popperClass,placement:g.value,teleported:b.value,fallbackPlacements:$.value,transition:_.value,gpuAcceleration:!1},{content:()=>{var J;return it("div",{class:[a.m(M.value),a.m("popup-container"),t.popperClass],onMouseenter:fe=>O(fe,100),onMouseleave:()=>F(!0),onFocus:fe=>O(fe,100)},[it("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${g.value}`)],style:Z.value},[(J=e.default)==null?void 0:J.call(e)])])},default:()=>it("div",{class:i.e("title"),style:[D.value,{backgroundColor:C.value}],onClick:V},G)}):it(lt,{},[it("div",{class:i.e("title"),style:[D.value,{backgroundColor:C.value}],ref:p,onClick:V},G),it(Sw,{},{default:()=>{var J;return St(it("ul",{role:"menu",class:[a.b(),a.m("inline")],style:Z.value},[(J=e.default)==null?void 0:J.call(e)]),[[Qt,x.value]])}})]);return it("li",{class:[i.b(),i.is("active",k.value),i.is("opened",x.value),i.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:x.value,onMouseenter:O,onMouseleave:()=>F(!0),onFocus:O},[j])}}});const vKe=qe({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Se(Array),default:()=>Ln([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),n$=t=>Array.isArray(t)&&t.every(e=>wt(e)),yKe={close:(t,e)=>wt(t)&&n$(e),open:(t,e)=>wt(t)&&n$(e),select:(t,e,n,s)=>wt(t)&&n$(e)&&Bt(n)&&(s===void 0||s instanceof Promise)};var bKe=ue({name:"ElMenu",props:vKe,emits:yKe,setup(t,{emit:e,slots:n,expose:s}){const r=Rt(),o=r.appContext.config.globalProperties.$router,a=U(),i=Fe("menu"),l=Fe("sub-menu"),u=U(-1),c=U(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),d=U(t.defaultActive),f=U({}),h=U({}),p=A(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),m=()=>{const N=d.value&&f.value[d.value];if(!N||t.mode==="horizontal"||t.collapse)return;N.indexPath.forEach(R=>{const D=h.value[R];D&&g(R,D.indexPath)})},g=(N,M)=>{c.value.includes(N)||(t.uniqueOpened&&(c.value=c.value.filter(R=>M.includes(R))),c.value.push(N),e("open",N,M))},y=(N,M)=>{const R=c.value.indexOf(N);R!==-1&&c.value.splice(R,1),e("close",N,M)},w=({index:N,indexPath:M})=>{c.value.includes(N)?y(N,M):g(N,M)},b=N=>{(t.mode==="horizontal"||t.collapse)&&(c.value=[]);const{index:M,indexPath:R}=N;if(!(M===void 0||R===void 0))if(t.router&&o){const D=N.route||M,z=o.push(D).then(B=>(B||(d.value=M),B));e("select",M,R,{index:M,indexPath:R,route:D},z)}else d.value=M,e("select",M,R,{index:M,indexPath:R})},_=N=>{const M=f.value,R=M[N]||d.value&&M[d.value]||M[t.defaultActive];R?d.value=R.index:d.value=N},$=()=>{var N,M;if(!a.value)return-1;const R=Array.from((M=(N=a.value)==null?void 0:N.childNodes)!=null?M:[]).filter(L=>L.nodeName!=="#text"||L.nodeValue),D=64,z=Number.parseInt(getComputedStyle(a.value).paddingLeft,10),B=Number.parseInt(getComputedStyle(a.value).paddingRight,10),V=a.value.clientWidth-z-B;let O=0,F=0;return R.forEach((L,G)=>{O+=L.offsetWidth||0,O<=V-D&&(F=G+1)}),F===R.length?-1:F},x=(N,M=33.34)=>{let R;return()=>{R&&clearTimeout(R),R=setTimeout(()=>{N()},M)}};let k=!0;const C=()=>{const N=()=>{u.value=-1,nt(()=>{u.value=$()})};k?N():x(N)(),k=!1};Me(()=>t.defaultActive,N=>{f.value[N]||(d.value=""),_(N)}),Me(()=>t.collapse,N=>{N&&(c.value=[])}),Me(f.value,m);let T;Ho(()=>{t.mode==="horizontal"&&t.ellipsis?T=Dr(a,C).stop:T==null||T()});{const N=z=>{h.value[z.index]=z},M=z=>{delete h.value[z.index]};Lt("rootMenu",on({props:t,openedMenus:c,items:f,subMenus:h,activeIndex:d,isMenuPopup:p,addMenuItem:z=>{f.value[z.index]=z},removeMenuItem:z=>{delete f.value[z.index]},addSubMenu:N,removeSubMenu:M,openMenu:g,closeMenu:y,handleMenuItemClick:b,handleSubMenuClick:w})),Lt(`subMenu:${r.uid}`,{addSubMenu:N,removeSubMenu:M,mouseInChild:U(!1),level:0})}return Et(()=>{t.mode==="horizontal"&&new dKe(r.vnode.el,i.namespace.value)}),s({open:M=>{const{indexPath:R}=h.value[M];R.forEach(D=>g(D,R))},close:y,handleResize:C}),()=>{var N,M;let R=(M=(N=n.default)==null?void 0:N.call(n))!=null?M:[];const D=[];if(t.mode==="horizontal"&&a.value){const V=Gf(R),O=u.value===-1?V:V.slice(0,u.value),F=u.value===-1?[]:V.slice(u.value);(F==null?void 0:F.length)&&t.ellipsis&&(R=O,D.push(it(hk,{index:"sub-menu-more",class:l.e("hide-arrow")},{title:()=>it(rt,{class:l.e("icon-more")},{default:()=>it(vP)}),default:()=>F})))}const z=n7(t,0),B=it("ul",{key:String(t.collapse),role:"menubar",ref:a,style:z.value,class:{[i.b()]:!0,[i.m(t.mode)]:!0,[i.m("collapse")]:t.collapse}},[...R,...D]);return t.collapseTransition&&t.mode==="vertical"?it(pKe,()=>B):B}}});const wKe=qe({index:{type:Se([String,null]),default:null},route:{type:Se([String,Object])},disabled:Boolean}),_Ke={click:t=>wt(t.index)&&Array.isArray(t.indexPath)},s$="ElMenuItem",$Ke=ue({name:s$,components:{ElTooltip:No},props:wKe,emits:_Ke,setup(t,{emit:e}){const n=Rt(),s=et("rootMenu"),r=Fe("menu"),o=Fe("menu-item");s||Ls(s$,"can not inject root menu");const{parentMenu:a,indexPath:i}=t7(n,Un(t,"index")),l=et(`subMenu:${a.value.uid}`);l||Ls(s$,"can not inject sub menu");const u=A(()=>t.index===s.activeIndex),c=on({index:t.index,indexPath:i,active:u}),d=()=>{t.disabled||(s.handleMenuItemClick({index:t.index,indexPath:i.value,route:t.route}),e("click",c))};return Et(()=>{l.addSubMenu(c),s.addMenuItem(c)}),ts(()=>{l.removeSubMenu(c),s.removeMenuItem(c)}),{parentMenu:a,rootMenu:s,active:u,nsMenu:r,nsMenuItem:o,handleClick:d}}});function xKe(t,e,n,s,r,o){const a=pt("el-tooltip");return S(),I("li",{class:P([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...i)=>t.handleClick&&t.handleClick(...i))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(S(),$e(a,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ce(()=>[Oe(t.$slots,"title")]),default:ce(()=>[E("div",{class:P(t.nsMenu.be("tooltip","trigger"))},[Oe(t.$slots,"default")],2)]),_:3},8,["effect"])):(S(),I(lt,{key:1},[Oe(t.$slots,"default"),Oe(t.$slots,"title")],64))],2)}var s7=je($Ke,[["render",xKe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const SKe={title:String},CKe="ElMenuItemGroup",kKe=ue({name:CKe,props:SKe,setup(){return{ns:Fe("menu-item-group")}}});function TKe(t,e,n,s,r,o){return S(),I("li",{class:P(t.ns.b())},[E("div",{class:P(t.ns.e("title"))},[t.$slots.title?Oe(t.$slots,"title",{key:1}):(S(),I(lt,{key:0},[Jt(Ue(t.title),1)],64))],2),E("ul",null,[Oe(t.$slots,"default")])],2)}var r7=je(kKe,[["render",TKe],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const NKe=Dt(bKe,{MenuItem:s7,MenuItemGroup:r7,SubMenu:hk}),EKe=ns(s7),IKe=ns(r7);ns(hk);const AKe=qe({icon:{type:En,default:()=>lP},title:String,content:{type:String,default:""}}),OKe={back:()=>!0},RKe=["aria-label"],DKe=ue({name:"ElPageHeader"}),FKe=ue({...DKe,props:AKe,emits:OKe,setup(t,{emit:e}){const n=ir(),{t:s}=nn(),r=Fe("page-header"),o=A(()=>[r.b(),{[r.m("has-breadcrumb")]:!!n.breadcrumb,[r.m("has-extra")]:!!n.extra,[r.is("contentful")]:!!n.default}]);function a(){e("back")}return(i,l)=>(S(),I("div",{class:P(v(o))},[i.$slots.breadcrumb?(S(),I("div",{key:0,class:P(v(r).e("breadcrumb"))},[Oe(i.$slots,"breadcrumb")],2)):ge("v-if",!0),E("div",{class:P(v(r).e("header"))},[E("div",{class:P(v(r).e("left"))},[E("div",{class:P(v(r).e("back")),role:"button",tabindex:"0",onClick:a},[i.icon||i.$slots.icon?(S(),I("div",{key:0,"aria-label":i.title||v(s)("el.pageHeader.title"),class:P(v(r).e("icon"))},[Oe(i.$slots,"icon",{},()=>[i.icon?(S(),$e(v(rt),{key:0},{default:ce(()=>[(S(),$e(Vt(i.icon)))]),_:1})):ge("v-if",!0)])],10,RKe)):ge("v-if",!0),E("div",{class:P(v(r).e("title"))},[Oe(i.$slots,"title",{},()=>[Jt(Ue(i.title||v(s)("el.pageHeader.title")),1)])],2)],2),se(v(Vz),{direction:"vertical"}),E("div",{class:P(v(r).e("content"))},[Oe(i.$slots,"content",{},()=>[Jt(Ue(i.content),1)])],2)],2),i.$slots.extra?(S(),I("div",{key:0,class:P(v(r).e("extra"))},[Oe(i.$slots,"extra")],2)):ge("v-if",!0)],2),i.$slots.default?(S(),I("div",{key:1,class:P(v(r).e("main"))},[Oe(i.$slots,"default")],2)):ge("v-if",!0)],2))}});var MKe=je(FKe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const PKe=Dt(MKe),LKe=qe({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:En}}),zKe={click:t=>t instanceof MouseEvent},BKe=["disabled","aria-disabled"],VKe={key:0},HKe=ue({name:"ElPaginationPrev"}),WKe=ue({...HKe,props:LKe,emits:zKe,setup(t){const e=t,n=A(()=>e.disabled||e.currentPage<=1);return(s,r)=>(S(),I("button",{type:"button",class:"btn-prev",disabled:v(n),"aria-disabled":v(n),onClick:r[0]||(r[0]=o=>s.$emit("click",o))},[s.prevText?(S(),I("span",VKe,Ue(s.prevText),1)):(S(),$e(v(rt),{key:1},{default:ce(()=>[(S(),$e(Vt(s.prevIcon)))]),_:1}))],8,BKe))}});var UKe=je(WKe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const GKe=qe({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:En}}),jKe=["disabled","aria-disabled"],KKe={key:0},qKe=ue({name:"ElPaginationNext"}),XKe=ue({...qKe,props:GKe,emits:["click"],setup(t){const e=t,n=A(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(s,r)=>(S(),I("button",{type:"button",class:"btn-next",disabled:v(n),"aria-disabled":v(n),onClick:r[0]||(r[0]=o=>s.$emit("click",o))},[s.nextText?(S(),I("span",KKe,Ue(s.nextText),1)):(S(),$e(v(rt),{key:1},{default:ce(()=>[(S(),$e(Vt(s.nextIcon)))]),_:1}))],8,jKe))}});var YKe=je(XKe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const o7="ElSelectGroup",Lg="ElSelect";function ZKe(t,e){const n=et(Lg),s=et(o7,{disabled:!1}),r=A(()=>Object.prototype.toString.call(t.value).toLowerCase()==="[object object]"),o=A(()=>n.props.multiple?d(n.props.modelValue,t.value):f(t.value,n.props.modelValue)),a=A(()=>{if(n.props.multiple){const m=n.props.modelValue||[];return!o.value&&m.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),i=A(()=>t.label||(r.value?"":t.value)),l=A(()=>t.value||t.label||""),u=A(()=>t.disabled||e.groupDisabled||a.value),c=Rt(),d=(m=[],g)=>{if(r.value){const y=n.props.valueKey;return m&&m.some(w=>fn(Pn(w,y))===Pn(g,y))}else return m&&m.includes(g)},f=(m,g)=>{if(r.value){const{valueKey:y}=n.props;return Pn(m,y)===Pn(g,y)}else return m===g},h=()=>{!t.disabled&&!s.disabled&&(n.hoverIndex=n.optionsArray.indexOf(c.proxy))};Me(()=>i.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Me(()=>t.value,(m,g)=>{const{remote:y,valueKey:w}=n.props;if(Object.is(m,g)||(n.onOptionDestroy(g,c.proxy),n.onOptionCreate(c.proxy)),!t.created&&!y){if(w&&typeof m=="object"&&typeof g=="object"&&m[w]===g[w])return;n.setSelected()}}),Me(()=>s.disabled,()=>{e.groupDisabled=s.disabled},{immediate:!0});const{queryChange:p}=fn(n);return Me(p,m=>{const{query:g}=v(m),y=new RegExp(rP(g),"i");e.visible=y.test(i.value)||t.created,e.visible||n.filteredOptionsCount--}),{select:n,currentLabel:i,currentValue:l,itemSelected:o,isDisabled:u,hoverItem:h}}const JKe=ue({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(t){const e=Fe("select"),n=on({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:s,itemSelected:r,isDisabled:o,select:a,hoverItem:i}=ZKe(t,n),{visible:l,hover:u}=Ps(n),c=Rt().proxy;a.onOptionCreate(c),ts(()=>{const f=c.value,{selected:h}=a,m=(a.props.multiple?h:[h]).some(g=>g.value===c.value);nt(()=>{a.cachedOptions.get(f)===c&&!m&&a.cachedOptions.delete(f)}),a.onOptionDestroy(f,c)});function d(){t.disabled!==!0&&n.groupDisabled!==!0&&a.handleOptionSelect(c,!0)}return{ns:e,currentLabel:s,itemSelected:r,isDisabled:o,select:a,hoverItem:i,visible:l,hover:u,selectOptionClick:d,states:n}}});function QKe(t,e,n,s,r,o){return St((S(),I("li",{class:P([t.ns.be("dropdown","item"),t.ns.is("disabled",t.isDisabled),{selected:t.itemSelected,hover:t.hover}]),onMouseenter:e[0]||(e[0]=(...a)=>t.hoverItem&&t.hoverItem(...a)),onClick:e[1]||(e[1]=yt((...a)=>t.selectOptionClick&&t.selectOptionClick(...a),["stop"]))},[Oe(t.$slots,"default",{},()=>[E("span",null,Ue(t.currentLabel),1)])],34)),[[Qt,t.visible]])}var pk=je(JKe,[["render",QKe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const eqe=ue({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=et(Lg),e=Fe("select"),n=A(()=>t.props.popperClass),s=A(()=>t.props.multiple),r=A(()=>t.props.fitInputWidth),o=U("");function a(){var i;o.value=`${(i=t.selectWrapper)==null?void 0:i.offsetWidth}px`}return Et(()=>{a(),Dr(t.selectWrapper,a)}),{ns:e,minWidth:o,popperClass:n,isMultiple:s,isFitInputWidth:r}}});function tqe(t,e,n,s,r,o){return S(),I("div",{class:P([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:ot({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[Oe(t.$slots,"default")],6)}var nqe=je(eqe,[["render",tqe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function sqe(t){const{t:e}=nn();return on({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:t.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const rqe=(t,e,n)=>{const{t:s}=nn(),r=Fe("select");Sl({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},A(()=>t.suffixTransition===!1));const o=U(null),a=U(null),i=U(null),l=U(null),u=U(null),c=U(null),d=U(-1),f=Nn({query:""}),h=Nn(""),{form:p,formItem:m}=to(),g=A(()=>!t.filterable||t.multiple||!e.visible),y=A(()=>t.disabled||(p==null?void 0:p.disabled)),w=A(()=>{const Y=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!=="";return t.clearable&&!y.value&&e.inputHovering&&Y}),b=A(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),_=A(()=>r.is("reverse",b.value&&e.visible&&t.suffixTransition)),$=A(()=>t.remote?300:0),x=A(()=>t.loading?t.loadingText||s("el.select.loading"):t.remote&&e.query===""&&e.options.size===0?!1:t.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?t.noMatchText||s("el.select.noMatch"):e.options.size===0?t.noDataText||s("el.select.noData"):null),k=A(()=>Array.from(e.options.values())),C=A(()=>Array.from(e.cachedOptions.values())),T=A(()=>{const Y=k.value.filter(de=>!de.created).some(de=>de.currentLabel===e.query);return t.filterable&&t.allowCreate&&e.query!==""&&!Y}),N=ks(),M=A(()=>["small"].includes(N.value)?"small":"default"),R=A({get(){return e.visible&&x.value!==!1},set(Y){e.visible=Y}});Me([()=>y.value,()=>N.value,()=>p==null?void 0:p.size],()=>{nt(()=>{D()})}),Me(()=>t.placeholder,Y=>{e.cachedPlaceHolder=e.currentPlaceholder=Y}),Me(()=>t.modelValue,(Y,de)=>{t.multiple&&(D(),Y&&Y.length>0||a.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,t.filterable&&!t.reserveKeyword&&(e.query="",z(e.query))),O(),t.filterable&&!t.multiple&&(e.inputLength=20),!Wo(Y,de)&&t.validateEvent&&(m==null||m.validate("change").catch(Pe=>void 0))},{flush:"post",deep:!0}),Me(()=>e.visible,Y=>{var de,Pe,We;Y?((Pe=(de=i.value)==null?void 0:de.updatePopper)==null||Pe.call(de),t.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=t.remote?"":e.selectedLabel,t.multiple?(We=a.value)==null||We.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),z(e.query),!t.multiple&&!t.remote&&(f.value.query="",Cm(f),Cm(h)))):(t.filterable&&(vt(t.filterMethod)&&t.filterMethod(""),vt(t.remoteMethod)&&t.remoteMethod("")),a.value&&a.value.blur(),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,L(),nt(()=>{a.value&&a.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),t.multiple||(e.selected&&(t.filterable&&t.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,t.filterable&&(e.query=e.selectedLabel)),t.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),n.emit("visible-change",Y)}),Me(()=>e.options.entries(),()=>{var Y,de,Pe;if(!Kt)return;(de=(Y=i.value)==null?void 0:Y.updatePopper)==null||de.call(Y),t.multiple&&D();const We=((Pe=u.value)==null?void 0:Pe.querySelectorAll("input"))||[];Array.from(We).includes(document.activeElement)||O(),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&V()},{flush:"post"}),Me(()=>e.hoverIndex,Y=>{Ct(Y)&&Y>-1?d.value=k.value[Y]||{}:d.value={},k.value.forEach(de=>{de.hover=d.value===de})});const D=()=>{t.collapseTags&&!t.filterable||nt(()=>{var Y,de;if(!o.value)return;const Pe=o.value.$el.querySelector("input"),We=l.value,Ft=M9e(N.value||(p==null?void 0:p.size));Pe.style.height=`${(e.selected.length===0?Ft:Math.max(We?We.clientHeight+(We.clientHeight>Ft?6:0):0,Ft))-2}px`,e.tagInMultiLine=Number.parseFloat(Pe.style.height)>=Ft,e.visible&&x.value!==!1&&((de=(Y=i.value)==null?void 0:Y.updatePopper)==null||de.call(Y))})},z=async Y=>{if(!(e.previousQuery===Y||e.isOnComposition)){if(e.previousQuery===null&&(vt(t.filterMethod)||vt(t.remoteMethod))){e.previousQuery=Y;return}e.previousQuery=Y,nt(()=>{var de,Pe;e.visible&&((Pe=(de=i.value)==null?void 0:de.updatePopper)==null||Pe.call(de))}),e.hoverIndex=-1,t.multiple&&t.filterable&&nt(()=>{const de=a.value.value.length*15+20;e.inputLength=t.collapseTags?Math.min(50,de):de,B(),D()}),t.remote&&vt(t.remoteMethod)?(e.hoverIndex=-1,t.remoteMethod(Y)):vt(t.filterMethod)?(t.filterMethod(Y),Cm(h)):(e.filteredOptionsCount=e.optionsCount,f.value.query=Y,Cm(f),Cm(h)),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&(await nt(),V())}},B=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=a.value.value?"":e.cachedPlaceHolder)},V=()=>{const Y=k.value.filter(We=>We.visible&&!We.disabled&&!We.states.groupDisabled),de=Y.find(We=>We.created),Pe=Y[0];e.hoverIndex=pe(k.value,de||Pe)},O=()=>{var Y;if(t.multiple)e.selectedLabel="";else{const Pe=F(t.modelValue);(Y=Pe.props)!=null&&Y.created?(e.createdLabel=Pe.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=Pe.currentLabel,e.selected=Pe,t.filterable&&(e.query=e.selectedLabel);return}const de=[];Array.isArray(t.modelValue)&&t.modelValue.forEach(Pe=>{de.push(F(Pe))}),e.selected=de,nt(()=>{D()})},F=Y=>{let de;const Pe=Fv(Y).toLowerCase()==="object",We=Fv(Y).toLowerCase()==="null",Ft=Fv(Y).toLowerCase()==="undefined";for(let qs=e.cachedOptions.size-1;qs>=0;qs--){const Sn=C.value[qs];if(Pe?Pn(Sn.value,t.valueKey)===Pn(Y,t.valueKey):Sn.value===Y){de={value:Y,currentLabel:Sn.currentLabel,isDisabled:Sn.isDisabled};break}}if(de)return de;const _n=Pe?Y.label:!We&&!Ft?Y:"",_s={value:Y,currentLabel:_n};return t.multiple&&(_s.hitState=!1),_s},L=()=>{setTimeout(()=>{const Y=t.valueKey;t.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(de=>k.value.findIndex(Pe=>Pn(Pe,Y)===Pn(de,Y)))):e.hoverIndex=-1:e.hoverIndex=k.value.findIndex(de=>xt(de)===xt(e.selected))},300)},G=()=>{var Y,de;Z(),(de=(Y=i.value)==null?void 0:Y.updatePopper)==null||de.call(Y),t.multiple&&!t.filterable&&D()},Z=()=>{var Y;e.inputWidth=(Y=o.value)==null?void 0:Y.$el.getBoundingClientRect().width},j=()=>{t.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,z(e.query))},J=Xr(()=>{j()},$.value),fe=Xr(Y=>{z(Y.target.value)},$.value),X=Y=>{Wo(t.modelValue,Y)||n.emit(Fn,Y)},oe=Y=>{if(Y.target.value.length<=0&&!De()){const de=t.modelValue.slice();de.pop(),n.emit(Ot,de),X(de)}Y.target.value.length===1&&t.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)},ee=(Y,de)=>{const Pe=e.selected.indexOf(de);if(Pe>-1&&!y.value){const We=t.modelValue.slice();We.splice(Pe,1),n.emit(Ot,We),X(We),n.emit("remove-tag",de.value)}Y.stopPropagation()},Q=Y=>{Y.stopPropagation();const de=t.multiple?[]:"";if(!wt(de))for(const Pe of e.selected)Pe.isDisabled&&de.push(Pe.value);n.emit(Ot,de),X(de),e.hoverIndex=-1,e.visible=!1,n.emit("clear")},ie=(Y,de)=>{var Pe;if(t.multiple){const We=(t.modelValue||[]).slice(),Ft=pe(We,Y.value);Ft>-1?We.splice(Ft,1):(t.multipleLimit<=0||We.length<t.multipleLimit)&&We.push(Y.value),n.emit(Ot,We),X(We),Y.created&&(e.query="",z(""),e.inputLength=20),t.filterable&&((Pe=a.value)==null||Pe.focus())}else n.emit(Ot,Y.value),X(Y.value),e.visible=!1;e.isSilentBlur=de,Re(),!e.visible&&nt(()=>{K(Y)})},pe=(Y=[],de)=>{if(!Bt(de))return Y.indexOf(de);const Pe=t.valueKey;let We=-1;return Y.some((Ft,_n)=>fn(Pn(Ft,Pe))===Pn(de,Pe)?(We=_n,!0):!1),We},Re=()=>{e.softFocus=!0;const Y=a.value||o.value;Y&&(Y==null||Y.focus())},K=Y=>{var de,Pe,We,Ft,_n;const _s=Array.isArray(Y)?Y[0]:Y;let qs=null;if(_s!=null&&_s.value){const Sn=k.value.filter(sn=>sn.value===_s.value);Sn.length>0&&(qs=Sn[0].$el)}if(i.value&&qs){const Sn=(Ft=(We=(Pe=(de=i.value)==null?void 0:de.popperRef)==null?void 0:Pe.contentRef)==null?void 0:We.querySelector)==null?void 0:Ft.call(We,`.${r.be("dropdown","wrap")}`);Sn&&iP(Sn,qs)}(_n=c.value)==null||_n.handleScroll()},re=Y=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(Y.value,Y),e.cachedOptions.set(Y.value,Y)},we=(Y,de)=>{e.options.get(Y)===de&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(Y))},Ie=Y=>{Y.code!==ut.backspace&&De(!1),e.inputLength=a.value.value.length*15+20,D()},De=Y=>{if(!Array.isArray(e.selected))return;const de=e.selected[e.selected.length-1];if(!!de)return Y===!0||Y===!1?(de.hitState=Y,Y):(de.hitState=!de.hitState,de.hitState)},_e=Y=>{const de=Y.target.value;if(Y.type==="compositionend")e.isOnComposition=!1,nt(()=>z(de));else{const Pe=de[de.length-1]||"";e.isOnComposition=!dw(Pe)}},ze=()=>{nt(()=>K(e.selected))},Ae=Y=>{e.softFocus?e.softFocus=!1:((t.automaticDropdown||t.filterable)&&(t.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),n.emit("focus",Y))},he=()=>{var Y;e.visible=!1,(Y=o.value)==null||Y.blur()},ve=Y=>{nt(()=>{e.isSilentBlur?e.isSilentBlur=!1:n.emit("blur",Y)}),e.softFocus=!1},me=Y=>{Q(Y)},Ve=()=>{e.visible=!1},Ye=Y=>{e.visible&&(Y.preventDefault(),Y.stopPropagation(),e.visible=!1)},Je=Y=>{var de;Y&&!e.mouseEnter||y.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:(!i.value||!i.value.isFocusInsideContent())&&(e.visible=!e.visible),e.visible&&((de=a.value||o.value)==null||de.focus()))},ct=()=>{e.visible?k.value[e.hoverIndex]&&ie(k.value[e.hoverIndex],void 0):Je()},xt=Y=>Bt(Y.value)?Pn(Y.value,t.valueKey):Y.value,dt=A(()=>k.value.filter(Y=>Y.visible).every(Y=>Y.disabled)),xe=Y=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!dt.value){Y==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):Y==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const de=k.value[e.hoverIndex];(de.disabled===!0||de.states.groupDisabled===!0||!de.visible)&&xe(Y),nt(()=>K(d.value))}};return{optionsArray:k,selectSize:N,handleResize:G,debouncedOnInputChange:J,debouncedQueryChange:fe,deletePrevTag:oe,deleteTag:ee,deleteSelected:Q,handleOptionSelect:ie,scrollToOption:K,readonly:g,resetInputHeight:D,showClose:w,iconComponent:b,iconReverse:_,showNewOption:T,collapseTagSize:M,setSelected:O,managePlaceholder:B,selectDisabled:y,emptyText:x,toggleLastOptionHitState:De,resetInputState:Ie,handleComposition:_e,onOptionCreate:re,onOptionDestroy:we,handleMenuEnter:ze,handleFocus:Ae,blur:he,handleBlur:ve,handleClearClick:me,handleClose:Ve,handleKeydownEscape:Ye,toggleMenu:Je,selectOption:ct,getValueKey:xt,navigateOptions:xe,dropMenuVisible:R,queryChange:f,groupQueryChange:h,reference:o,input:a,tooltipRef:i,tags:l,selectWrapper:u,scrollbar:c,handleMouseEnter:()=>{e.mouseEnter=!0},handleMouseLeave:()=>{e.mouseEnter=!1}}},JO="ElSelect",oqe=ue({name:JO,componentName:JO,components:{ElInput:Or,ElSelectMenu:nqe,ElOption:pk,ElTag:xw,ElScrollbar:jl,ElTooltip:No,ElIcon:rt},directives:{ClickOutside:Ku},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Qh},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:Xs.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:En,default:Bl},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:En,default:zl},tagType:{...ak.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Qd,default:"bottom-start"}},emits:[Ot,Fn,"remove-tag","clear","visible-change","focus","blur"],setup(t,e){const n=Fe("select"),s=Fe("input"),{t:r}=nn(),o=sqe(t),{optionsArray:a,selectSize:i,readonly:l,handleResize:u,collapseTagSize:c,debouncedOnInputChange:d,debouncedQueryChange:f,deletePrevTag:h,deleteTag:p,deleteSelected:m,handleOptionSelect:g,scrollToOption:y,setSelected:w,resetInputHeight:b,managePlaceholder:_,showClose:$,selectDisabled:x,iconComponent:k,iconReverse:C,showNewOption:T,emptyText:N,toggleLastOptionHitState:M,resetInputState:R,handleComposition:D,onOptionCreate:z,onOptionDestroy:B,handleMenuEnter:V,handleFocus:O,blur:F,handleBlur:L,handleClearClick:G,handleClose:Z,handleKeydownEscape:j,toggleMenu:J,selectOption:fe,getValueKey:X,navigateOptions:oe,dropMenuVisible:ee,reference:Q,input:ie,tooltipRef:pe,tags:Re,selectWrapper:K,scrollbar:re,queryChange:we,groupQueryChange:Ie,handleMouseEnter:De,handleMouseLeave:_e}=rqe(t,o,e),{focus:ze}=G9e(Q),{inputWidth:Ae,selected:he,inputLength:ve,filteredOptionsCount:me,visible:Ve,softFocus:Ye,selectedLabel:Je,hoverIndex:ct,query:xt,inputHovering:dt,currentPlaceholder:xe,menuVisibleOnFocus:Ke,isOnComposition:at,isSilentBlur:Y,options:de,cachedOptions:Pe,optionsCount:We,prefixWidth:Ft,tagInMultiLine:_n}=Ps(o),_s=A(()=>{const He=[n.b()],ft=v(i);return ft&&He.push(n.m(ft)),t.disabled&&He.push(n.m("disabled")),He}),qs=A(()=>({maxWidth:`${v(Ae)-32}px`,width:"100%"})),Sn=A(()=>({maxWidth:`${v(Ae)>123?v(Ae)-123:v(Ae)-75}px`}));Lt(Lg,on({props:t,options:de,optionsArray:a,cachedOptions:Pe,optionsCount:We,filteredOptionsCount:me,hoverIndex:ct,handleOptionSelect:g,onOptionCreate:z,onOptionDestroy:B,selectWrapper:K,selected:he,setSelected:w,queryChange:we,groupQueryChange:Ie})),Et(()=>{o.cachedPlaceHolder=xe.value=t.placeholder||r("el.select.placeholder"),t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.length>0&&(xe.value=""),Dr(K,u),t.remote&&t.multiple&&b(),nt(()=>{const He=Q.value&&Q.value.$el;if(!!He&&(Ae.value=He.getBoundingClientRect().width,e.slots.prefix)){const ft=He.querySelector(`.${s.e("prefix")}`);Ft.value=Math.max(ft.getBoundingClientRect().width+5,30)}}),w()}),t.multiple&&!Array.isArray(t.modelValue)&&e.emit(Ot,[]),!t.multiple&&Array.isArray(t.modelValue)&&e.emit(Ot,"");const sn=A(()=>{var He,ft;return(ft=(He=pe.value)==null?void 0:He.popperRef)==null?void 0:ft.contentRef});return{tagInMultiLine:_n,prefixWidth:Ft,selectSize:i,readonly:l,handleResize:u,collapseTagSize:c,debouncedOnInputChange:d,debouncedQueryChange:f,deletePrevTag:h,deleteTag:p,deleteSelected:m,handleOptionSelect:g,scrollToOption:y,inputWidth:Ae,selected:he,inputLength:ve,filteredOptionsCount:me,visible:Ve,softFocus:Ye,selectedLabel:Je,hoverIndex:ct,query:xt,inputHovering:dt,currentPlaceholder:xe,menuVisibleOnFocus:Ke,isOnComposition:at,isSilentBlur:Y,options:de,resetInputHeight:b,managePlaceholder:_,showClose:$,selectDisabled:x,iconComponent:k,iconReverse:C,showNewOption:T,emptyText:N,toggleLastOptionHitState:M,resetInputState:R,handleComposition:D,handleMenuEnter:V,handleFocus:O,blur:F,handleBlur:L,handleClearClick:G,handleClose:Z,handleKeydownEscape:j,toggleMenu:J,selectOption:fe,getValueKey:X,navigateOptions:oe,dropMenuVisible:ee,focus:ze,reference:Q,input:ie,tooltipRef:pe,popperPaneRef:sn,tags:Re,selectWrapper:K,scrollbar:re,wrapperKls:_s,selectTagsStyle:qs,nsSelect:n,tagTextStyle:Sn,handleMouseEnter:De,handleMouseLeave:_e}}}),aqe=["disabled","autocomplete"],iqe={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function lqe(t,e,n,s,r,o){const a=pt("el-tag"),i=pt("el-tooltip"),l=pt("el-icon"),u=pt("el-input"),c=pt("el-option"),d=pt("el-scrollbar"),f=pt("el-select-menu"),h=rh("click-outside");return St((S(),I("div",{ref:"selectWrapper",class:P(t.wrapperKls),onMouseenter:e[22]||(e[22]=(...p)=>t.handleMouseEnter&&t.handleMouseEnter(...p)),onMouseleave:e[23]||(e[23]=(...p)=>t.handleMouseLeave&&t.handleMouseLeave(...p)),onClick:e[24]||(e[24]=yt((...p)=>t.toggleMenu&&t.toggleMenu(...p),["stop"]))},[se(i,{ref:"tooltipRef",visible:t.dropMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onShow:t.handleMenuEnter},{default:ce(()=>[E("div",{class:"select-trigger",onMouseenter:e[20]||(e[20]=p=>t.inputHovering=!0),onMouseleave:e[21]||(e[21]=p=>t.inputHovering=!1)},[t.multiple?(S(),I("div",{key:0,ref:"tags",class:P(t.nsSelect.e("tags")),style:ot(t.selectTagsStyle)},[t.collapseTags&&t.selected.length?(S(),I("span",{key:0,class:P([t.nsSelect.b("tags-wrapper"),{"has-prefix":t.prefixWidth&&t.selected.length}])},[se(a,{closable:!t.selectDisabled&&!t.selected[0].isDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:t.tagType,"disable-transitions":"",onClose:e[0]||(e[0]=p=>t.deleteTag(p,t.selected[0]))},{default:ce(()=>[E("span",{class:P(t.nsSelect.e("tags-text")),style:ot(t.tagTextStyle)},Ue(t.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),t.selected.length>1?(S(),$e(a,{key:0,closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":""},{default:ce(()=>[t.collapseTagsTooltip?(S(),$e(i,{key:0,disabled:t.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ce(()=>[E("span",{class:P(t.nsSelect.e("tags-text"))},"+ "+Ue(t.selected.length-1),3)]),content:ce(()=>[E("div",{class:P(t.nsSelect.e("collapse-tags"))},[(S(!0),I(lt,null,Gt(t.selected.slice(1),(p,m)=>(S(),I("div",{key:m,class:P(t.nsSelect.e("collapse-tag"))},[(S(),$e(a,{key:t.getValueKey(p),class:"in-tooltip",closable:!t.selectDisabled&&!p.isDisabled,size:t.collapseTagSize,hit:p.hitState,type:t.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:g=>t.deleteTag(g,p)},{default:ce(()=>[E("span",{class:P(t.nsSelect.e("tags-text")),style:ot({maxWidth:t.inputWidth-75+"px"})},Ue(p.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(S(),I("span",{key:1,class:P(t.nsSelect.e("tags-text"))},"+ "+Ue(t.selected.length-1),3))]),_:1},8,["size","type"])):ge("v-if",!0)],2)):ge("v-if",!0),ge(" <div> "),t.collapseTags?ge("v-if",!0):(S(),$e(ms,{key:1,onAfterLeave:t.resetInputHeight},{default:ce(()=>[E("span",{class:P([t.nsSelect.b("tags-wrapper"),{"has-prefix":t.prefixWidth&&t.selected.length}])},[(S(!0),I(lt,null,Gt(t.selected,p=>(S(),$e(a,{key:t.getValueKey(p),closable:!t.selectDisabled&&!p.isDisabled,size:t.collapseTagSize,hit:p.hitState,type:t.tagType,"disable-transitions":"",onClose:m=>t.deleteTag(m,p)},{default:ce(()=>[E("span",{class:P(t.nsSelect.e("tags-text")),style:ot({maxWidth:t.inputWidth-75+"px"})},Ue(p.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),ge(" </div> "),t.filterable?St((S(),I("input",{key:2,ref:"input","onUpdate:modelValue":e[1]||(e[1]=p=>t.query=p),type:"text",class:P([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:ot({marginLeft:t.prefixWidth&&!t.selected.length||t.tagInMultiLine?`${t.prefixWidth}px`:"",flexGrow:1,width:`${t.inputLength/(t.inputWidth-32)}%`,maxWidth:`${t.inputWidth-42}px`}),onFocus:e[2]||(e[2]=(...p)=>t.handleFocus&&t.handleFocus(...p)),onBlur:e[3]||(e[3]=(...p)=>t.handleBlur&&t.handleBlur(...p)),onKeyup:e[4]||(e[4]=(...p)=>t.managePlaceholder&&t.managePlaceholder(...p)),onKeydown:[e[5]||(e[5]=(...p)=>t.resetInputState&&t.resetInputState(...p)),e[6]||(e[6]=qt(yt(p=>t.navigateOptions("next"),["prevent"]),["down"])),e[7]||(e[7]=qt(yt(p=>t.navigateOptions("prev"),["prevent"]),["up"])),e[8]||(e[8]=qt((...p)=>t.handleKeydownEscape&&t.handleKeydownEscape(...p),["esc"])),e[9]||(e[9]=qt(yt((...p)=>t.selectOption&&t.selectOption(...p),["stop","prevent"]),["enter"])),e[10]||(e[10]=qt((...p)=>t.deletePrevTag&&t.deletePrevTag(...p),["delete"])),e[11]||(e[11]=qt(p=>t.visible=!1,["tab"]))],onCompositionstart:e[12]||(e[12]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onCompositionupdate:e[13]||(e[13]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onCompositionend:e[14]||(e[14]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onInput:e[15]||(e[15]=(...p)=>t.debouncedQueryChange&&t.debouncedQueryChange(...p))},null,46,aqe)),[[aC,t.query]]):ge("v-if",!0)],6)):ge("v-if",!0),se(u,{id:t.id,ref:"reference",modelValue:t.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=p=>t.selectedLabel=p),type:"text",placeholder:t.currentPlaceholder,name:t.name,autocomplete:t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,class:P([t.nsSelect.is("focus",t.visible)]),tabindex:t.multiple&&t.filterable?-1:void 0,onFocus:t.handleFocus,onBlur:t.handleBlur,onInput:t.debouncedOnInputChange,onPaste:t.debouncedOnInputChange,onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onKeydown:[e[17]||(e[17]=qt(yt(p=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=qt(yt(p=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),qt(yt(t.selectOption,["stop","prevent"]),["enter"]),qt(t.handleKeydownEscape,["esc"]),e[19]||(e[19]=qt(p=>t.visible=!1,["tab"]))]},Uu({suffix:ce(()=>[t.iconComponent&&!t.showClose?(S(),$e(l,{key:0,class:P([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:ce(()=>[(S(),$e(Vt(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),t.showClose&&t.clearIcon?(S(),$e(l,{key:1,class:P([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:ce(()=>[(S(),$e(Vt(t.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0)]),_:2},[t.$slots.prefix?{name:"prefix",fn:ce(()=>[E("div",iqe,[Oe(t.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:ce(()=>[se(f,null,{default:ce(()=>[St(se(d,{ref:"scrollbar",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:P([t.nsSelect.is("empty",!t.allowCreate&&Boolean(t.query)&&t.filteredOptionsCount===0)])},{default:ce(()=>[t.showNewOption?(S(),$e(c,{key:0,value:t.query,created:!0},null,8,["value"])):ge("v-if",!0),Oe(t.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[Qt,t.options.size>0&&!t.loading]]),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&t.options.size===0)?(S(),I(lt,{key:0},[t.$slots.empty?Oe(t.$slots,"empty",{key:0}):(S(),I("p",{key:1,class:P(t.nsSelect.be("dropdown","empty"))},Ue(t.emptyText),3))],64)):ge("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","effect","transition","persistent","onShow"])],34)),[[h,t.handleClose,t.popperPaneRef]])}var uqe=je(oqe,[["render",lqe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const cqe=ue({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(t){const e=Fe("select"),n=U(!0),s=Rt(),r=U([]);Lt(o7,on({...Ps(t)}));const o=et(Lg);Et(()=>{r.value=a(s.subTree)});const a=l=>{const u=[];return Array.isArray(l.children)&&l.children.forEach(c=>{var d;c.type&&c.type.name==="ElOption"&&c.component&&c.component.proxy?u.push(c.component.proxy):(d=c.children)!=null&&d.length&&u.push(...a(c))}),u},{groupQueryChange:i}=fn(o);return Me(i,()=>{n.value=r.value.some(l=>l.visible===!0)},{flush:"post"}),{visible:n,ns:e}}});function dqe(t,e,n,s,r,o){return St((S(),I("ul",{class:P(t.ns.be("group","wrap"))},[E("li",{class:P(t.ns.be("group","title"))},Ue(t.label),3),E("li",null,[E("ul",{class:P(t.ns.b("group"))},[Oe(t.$slots,"default")],2)])],2)),[[Qt,t.visible]])}var a7=je(cqe,[["render",dqe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const kd=Dt(uqe,{Option:pk,OptionGroup:a7}),Dy=ns(pk),fqe=ns(a7),mk=()=>et(zP,{}),hqe=qe({pageSize:{type:Number,required:!0},pageSizes:{type:Se(Array),default:()=>Ln([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:Hl}}),pqe=ue({name:"ElPaginationSizes"}),mqe=ue({...pqe,props:hqe,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:s}=nn(),r=Fe("pagination"),o=mk(),a=U(n.pageSize);Me(()=>n.pageSizes,(u,c)=>{if(!Wo(u,c)&&Array.isArray(u)){const d=u.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",d)}}),Me(()=>n.pageSize,u=>{a.value=u});const i=A(()=>n.pageSizes);function l(u){var c;u!==a.value&&(a.value=u,(c=o.handleSizeChange)==null||c.call(o,Number(u)))}return(u,c)=>(S(),I("span",{class:P(v(r).e("sizes"))},[se(v(kd),{"model-value":a.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,"validate-event":!1,onChange:l},{default:ce(()=>[(S(!0),I(lt,null,Gt(v(i),d=>(S(),$e(v(Dy),{key:d,value:d,label:d+v(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var gqe=je(mqe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const vqe=qe({size:{type:String,values:Hl}}),yqe=["disabled"],bqe=ue({name:"ElPaginationJumper"}),wqe=ue({...bqe,props:vqe,setup(t){const{t:e}=nn(),n=Fe("pagination"),{pageCount:s,disabled:r,currentPage:o,changeEvent:a}=mk(),i=U(),l=A(()=>{var d;return(d=i.value)!=null?d:o==null?void 0:o.value});function u(d){i.value=+d}function c(d){d=Math.trunc(+d),a==null||a(+d),i.value=void 0}return(d,f)=>(S(),I("span",{class:P(v(n).e("jump")),disabled:v(r)},[E("span",{class:P([v(n).e("goto")])},Ue(v(e)("el.pagination.goto")),3),se(v(Or),{size:d.size,class:P([v(n).e("editor"),v(n).is("in-pagination")]),min:1,max:v(s),disabled:v(r),"model-value":v(l),"validate-event":!1,type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value"]),E("span",{class:P([v(n).e("classifier")])},Ue(v(e)("el.pagination.pageClassifier")),3)],10,yqe))}});var _qe=je(wqe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const $qe=qe({total:{type:Number,default:1e3}}),xqe=["disabled"],Sqe=ue({name:"ElPaginationTotal"}),Cqe=ue({...Sqe,props:$qe,setup(t){const{t:e}=nn(),n=Fe("pagination"),{disabled:s}=mk();return(r,o)=>(S(),I("span",{class:P(v(n).e("total")),disabled:v(s)},Ue(v(e)("el.pagination.total",{total:r.total})),11,xqe))}});var kqe=je(Cqe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const Tqe=qe({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Nqe=["onKeyup"],Eqe=["aria-current","tabindex"],Iqe=["tabindex"],Aqe=["aria-current","tabindex"],Oqe=["tabindex"],Rqe=["aria-current","tabindex"],Dqe=ue({name:"ElPaginationPager"}),Fqe=ue({...Dqe,props:Tqe,emits:["change"],setup(t,{emit:e}){const n=t,s=Fe("pager"),r=Fe("icon"),o=U(!1),a=U(!1),i=U(!1),l=U(!1),u=U(!1),c=U(!1),d=A(()=>{const y=n.pagerCount,w=(y-1)/2,b=Number(n.currentPage),_=Number(n.pageCount);let $=!1,x=!1;_>y&&(b>y-w&&($=!0),b<_-w&&(x=!0));const k=[];if($&&!x){const C=_-(y-2);for(let T=C;T<_;T++)k.push(T)}else if(!$&&x)for(let C=2;C<y;C++)k.push(C);else if($&&x){const C=Math.floor(y/2)-1;for(let T=b-C;T<=b+C;T++)k.push(T)}else for(let C=2;C<_;C++)k.push(C);return k}),f=A(()=>n.disabled?-1:0);Ho(()=>{const y=(n.pagerCount-1)/2;o.value=!1,a.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-y&&(o.value=!0),n.currentPage<n.pageCount-y&&(a.value=!0))});function h(y=!1){n.disabled||(y?i.value=!0:l.value=!0)}function p(y=!1){y?u.value=!0:c.value=!0}function m(y){const w=y.target;if(w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("number")){const b=Number(w.textContent);b!==n.currentPage&&e("change",b)}else w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("more")&&g(y)}function g(y){const w=y.target;if(w.tagName.toLowerCase()==="ul"||n.disabled)return;let b=Number(w.textContent);const _=n.pageCount,$=n.currentPage,x=n.pagerCount-2;w.className.includes("more")&&(w.className.includes("quickprev")?b=$-x:w.className.includes("quicknext")&&(b=$+x)),Number.isNaN(+b)||(b<1&&(b=1),b>_&&(b=_)),b!==$&&e("change",b)}return(y,w)=>(S(),I("ul",{class:P(v(s).b()),onClick:g,onKeyup:qt(m,["enter"])},[y.pageCount>0?(S(),I("li",{key:0,class:P([[v(s).is("active",y.currentPage===1),v(s).is("disabled",y.disabled)],"number"]),"aria-current":y.currentPage===1,tabindex:v(f)}," 1 ",10,Eqe)):ge("v-if",!0),o.value?(S(),I("li",{key:1,class:P(["more","btn-quickprev",v(r).b(),v(s).is("disabled",y.disabled)]),tabindex:v(f),onMouseenter:w[0]||(w[0]=b=>h(!0)),onMouseleave:w[1]||(w[1]=b=>i.value=!1),onFocus:w[2]||(w[2]=b=>p(!0)),onBlur:w[3]||(w[3]=b=>u.value=!1)},[(i.value||u.value)&&!y.disabled?(S(),$e(v($d),{key:0})):(S(),$e(v(c6),{key:1}))],42,Iqe)):ge("v-if",!0),(S(!0),I(lt,null,Gt(v(d),b=>(S(),I("li",{key:b,class:P([[v(s).is("active",y.currentPage===b),v(s).is("disabled",y.disabled)],"number"]),"aria-current":y.currentPage===b,tabindex:v(f)},Ue(b),11,Aqe))),128)),a.value?(S(),I("li",{key:2,class:P(["more","btn-quicknext",v(r).b(),v(s).is("disabled",y.disabled)]),tabindex:v(f),onMouseenter:w[4]||(w[4]=b=>h()),onMouseleave:w[5]||(w[5]=b=>l.value=!1),onFocus:w[6]||(w[6]=b=>p()),onBlur:w[7]||(w[7]=b=>c.value=!1)},[(l.value||c.value)&&!y.disabled?(S(),$e(v(xd),{key:0})):(S(),$e(v(c6),{key:1}))],42,Oqe)):ge("v-if",!0),y.pageCount>1?(S(),I("li",{key:3,class:P([[v(s).is("active",y.currentPage===y.pageCount),v(s).is("disabled",y.disabled)],"number"]),"aria-current":y.currentPage===y.pageCount,tabindex:v(f)},Ue(y.pageCount),11,Rqe)):ge("v-if",!0)],42,Nqe))}});var Mqe=je(Fqe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const Vr=t=>typeof t!="number",Pqe=qe({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>typeof t=="number"&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Se(Array),default:()=>Ln([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:En,default:()=>xl},nextText:{type:String,default:""},nextIcon:{type:En,default:()=>Rr},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Lqe={"update:current-page":t=>typeof t=="number","update:page-size":t=>typeof t=="number","size-change":t=>typeof t=="number","current-change":t=>typeof t=="number","prev-click":t=>typeof t=="number","next-click":t=>typeof t=="number"},QO="ElPagination";var zqe=ue({name:QO,props:Pqe,emits:Lqe,setup(t,{emit:e,slots:n}){const{t:s}=nn(),r=Fe("pagination"),o=Rt().vnode.props||{},a="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,i="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,l=A(()=>{if(Vr(t.total)&&Vr(t.pageCount)||!Vr(t.currentPage)&&!a)return!1;if(t.layout.includes("sizes")){if(Vr(t.pageCount)){if(!Vr(t.total)&&!Vr(t.pageSize)&&!i)return!1}else if(!i)return!1}return!0}),u=U(Vr(t.defaultPageSize)?10:t.defaultPageSize),c=U(Vr(t.defaultCurrentPage)?1:t.defaultCurrentPage),d=A({get(){return Vr(t.pageSize)?u.value:t.pageSize},set(b){Vr(t.pageSize)&&(u.value=b),i&&(e("update:page-size",b),e("size-change",b))}}),f=A(()=>{let b=0;return Vr(t.pageCount)?Vr(t.total)||(b=Math.max(1,Math.ceil(t.total/d.value))):b=t.pageCount,b}),h=A({get(){return Vr(t.currentPage)?c.value:t.currentPage},set(b){let _=b;b<1?_=1:b>f.value&&(_=f.value),Vr(t.currentPage)&&(c.value=_),a&&(e("update:current-page",_),e("current-change",_))}});Me(f,b=>{h.value>b&&(h.value=b)});function p(b){h.value=b}function m(b){d.value=b;const _=f.value;h.value>_&&(h.value=_)}function g(){t.disabled||(h.value-=1,e("prev-click",h.value))}function y(){t.disabled||(h.value+=1,e("next-click",h.value))}function w(b,_){b&&(b.props||(b.props={}),b.props.class=[b.props.class,_].join(" "))}return Lt(zP,{pageCount:f,disabled:A(()=>t.disabled),currentPage:h,changeEvent:p,handleSizeChange:m}),()=>{var b,_;if(!l.value)return s("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&f.value<=1)return null;const $=[],x=[],k=it("div",{class:r.e("rightwrapper")},x),C={prev:it(UKe,{disabled:t.disabled,currentPage:h.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:g}),jumper:it(_qe,{size:t.small?"small":"default"}),pager:it(Mqe,{currentPage:h.value,pageCount:f.value,pagerCount:t.pagerCount,onChange:p,disabled:t.disabled}),next:it(YKe,{disabled:t.disabled,currentPage:h.value,pageCount:f.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:y}),sizes:it(gqe,{pageSize:d.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,size:t.small?"small":"default"}),slot:(_=(b=n==null?void 0:n.default)==null?void 0:b.call(n))!=null?_:null,total:it(kqe,{total:Vr(t.total)?0:t.total})},T=t.layout.split(",").map(M=>M.trim());let N=!1;return T.forEach(M=>{if(M==="->"){N=!0;return}N?x.push(C[M]):$.push(C[M])}),w($[0],r.is("first")),w($[$.length-1],r.is("last")),N&&x.length>0&&(w(x[0],r.is("first")),w(x[x.length-1],r.is("last")),$.push(k)),it("div",{role:"pagination","aria-label":"pagination",class:[r.b(),r.is("background",t.background),{[r.m("small")]:t.small}]},$)}}});const Bqe=Dt(zqe),Vqe=qe({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:h6,default:"primary"},cancelButtonType:{type:String,values:h6,default:"text"},icon:{type:En,default:()=>bP},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:Se(Function)},onCancel:{type:Se(Function)},teleported:Xs.teleported,persistent:Xs.persistent,width:{type:[String,Number],default:150}}),Hqe=ue({name:"ElPopconfirm"}),Wqe=ue({...Hqe,props:Vqe,setup(t){const e=t,{t:n}=nn(),s=Fe("popconfirm"),r=U(),o=()=>{var d,f;(f=(d=r.value)==null?void 0:d.onClose)==null||f.call(d)},a=A(()=>({width:Cs(e.width)})),i=d=>{var f;(f=e.onConfirm)==null||f.call(e,d),o()},l=d=>{var f;(f=e.onCancel)==null||f.call(e,d),o()},u=A(()=>e.confirmButtonText||n("el.popconfirm.confirmButtonText")),c=A(()=>e.cancelButtonText||n("el.popconfirm.cancelButtonText"));return(d,f)=>(S(),$e(v(No),zt({ref_key:"tooltipRef",ref:r,trigger:"click",effect:"light"},d.$attrs,{"popper-class":`${v(s).namespace.value}-popover`,"popper-style":v(a),teleported:d.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":d.hideAfter,persistent:d.persistent}),{content:ce(()=>[E("div",{class:P(v(s).b())},[E("div",{class:P(v(s).e("main"))},[!d.hideIcon&&d.icon?(S(),$e(v(rt),{key:0,class:P(v(s).e("icon")),style:ot({color:d.iconColor})},{default:ce(()=>[(S(),$e(Vt(d.icon)))]),_:1},8,["class","style"])):ge("v-if",!0),Jt(" "+Ue(d.title),1)],2),E("div",{class:P(v(s).e("action"))},[se(v(br),{size:"small",type:d.cancelButtonType==="text"?"":d.cancelButtonType,text:d.cancelButtonType==="text",onClick:l},{default:ce(()=>[Jt(Ue(v(c)),1)]),_:1},8,["type","text"]),se(v(br),{size:"small",type:d.confirmButtonType==="text"?"":d.confirmButtonType,text:d.confirmButtonType==="text",onClick:i},{default:ce(()=>[Jt(Ue(v(u)),1)]),_:1},8,["type","text"])],2)],2)]),default:ce(()=>[d.$slots.reference?Oe(d.$slots,"reference",{key:0}):ge("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Uqe=je(Wqe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const Gqe=Dt(Uqe),jqe=qe({trigger:L0.trigger,placement:ey.placement,disabled:L0.disabled,visible:Xs.visible,transition:Xs.transition,popperOptions:ey.popperOptions,tabindex:ey.tabindex,content:Xs.content,popperStyle:Xs.popperStyle,popperClass:Xs.popperClass,enterable:{...Xs.enterable,default:!0},effect:{...Xs.effect,default:"light"},teleported:Xs.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Kqe={"update:visible":t=>Rs(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},qqe="onUpdate:visible",Xqe=ue({name:"ElPopover"}),Yqe=ue({...Xqe,props:jqe,emits:Kqe,setup(t,{expose:e,emit:n}){const s=t,r=A(()=>s[qqe]),o=Fe("popover"),a=U(),i=A(()=>{var g;return(g=v(a))==null?void 0:g.popperRef}),l=A(()=>[{width:Cs(s.width)},s.popperStyle]),u=A(()=>[o.b(),s.popperClass,{[o.m("plain")]:!!s.content}]),c=A(()=>s.transition===`${o.namespace.value}-fade-in-linear`),d=()=>{var g;(g=a.value)==null||g.hide()},f=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},m=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:i,hide:d}),(g,y)=>(S(),$e(v(No),zt({ref_key:"tooltipRef",ref:a},g.$attrs,{trigger:g.trigger,placement:g.placement,disabled:g.disabled,visible:g.visible,transition:g.transition,"popper-options":g.popperOptions,tabindex:g.tabindex,content:g.content,offset:g.offset,"show-after":g.showAfter,"hide-after":g.hideAfter,"auto-close":g.autoClose,"show-arrow":g.showArrow,"aria-label":g.title,effect:g.effect,enterable:g.enterable,"popper-class":v(u),"popper-style":v(l),teleported:g.teleported,persistent:g.persistent,"gpu-acceleration":v(c),"onUpdate:visible":v(r),onBeforeShow:f,onBeforeHide:h,onShow:p,onHide:m}),{content:ce(()=>[g.title?(S(),I("div",{key:0,class:P(v(o).e("title")),role:"title"},Ue(g.title),3)):ge("v-if",!0),Oe(g.$slots,"default",{},()=>[Jt(Ue(g.content),1)])]),default:ce(()=>[g.$slots.reference?Oe(g.$slots,"reference",{key:0}):ge("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Zqe=je(Yqe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const eR=(t,e)=>{const n=e.arg||e.value,s=n==null?void 0:n.popperRef;s&&(s.triggerRef=t)};var Jqe={mounted(t,e){eR(t,e)},updated(t,e){eR(t,e)}};const Qqe="popover",i7=R9e(Jqe,Qqe),eXe=Dt(Zqe,{directive:i7}),tXe=qe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Se(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Se([String,Array,Function]),default:""},format:{type:Se(Function),default:t=>`${t}%`}}),nXe=["aria-valuenow"],sXe={viewBox:"0 0 100 100"},rXe=["d","stroke","stroke-width"],oXe=["d","stroke","opacity","stroke-linecap","stroke-width"],aXe={key:0},iXe=ue({name:"ElProgress"}),lXe=ue({...iXe,props:tXe,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=Fe("progress"),r=A(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:w(e.percentage)})),o=A(()=>(e.strokeWidth/e.width*100).toFixed(1)),a=A(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),i=A(()=>{const b=a.value,_=e.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${_?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${_?"":"-"}${b*2}
          `}),l=A(()=>2*Math.PI*a.value),u=A(()=>e.type==="dashboard"?.75:1),c=A(()=>`${-1*l.value*(1-u.value)/2}px`),d=A(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),f=A(()=>({strokeDasharray:`${l.value*u.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=A(()=>{let b;return e.color?b=w(e.percentage):b=n[e.status]||n.default,b}),p=A(()=>e.status==="warning"?Rg:e.type==="line"?e.status==="success"?iw:Bl:e.status==="success"?Jh:xa),m=A(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),g=A(()=>e.format(e.percentage));function y(b){const _=100/b.length;return b.map((x,k)=>wt(x)?{color:x,percentage:(k+1)*_}:x).sort((x,k)=>x.percentage-k.percentage)}const w=b=>{var _;const{color:$}=e;if(vt($))return $(b);if(wt($))return $;{const x=y($);for(const k of x)if(k.percentage>b)return k.color;return(_=x[x.length-1])==null?void 0:_.color}};return(b,_)=>(S(),I("div",{class:P([v(s).b(),v(s).m(b.type),v(s).is(b.status),{[v(s).m("without-text")]:!b.showText,[v(s).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(S(),I("div",{key:0,class:P(v(s).b("bar"))},[E("div",{class:P(v(s).be("bar","outer")),style:ot({height:`${b.strokeWidth}px`})},[E("div",{class:P([v(s).be("bar","inner"),{[v(s).bem("bar","inner","indeterminate")]:b.indeterminate}]),style:ot(v(r))},[(b.showText||b.$slots.default)&&b.textInside?(S(),I("div",{key:0,class:P(v(s).be("bar","innerText"))},[Oe(b.$slots,"default",{percentage:b.percentage},()=>[E("span",null,Ue(v(g)),1)])],2)):ge("v-if",!0)],6)],6)],2)):(S(),I("div",{key:1,class:P(v(s).b("circle")),style:ot({height:`${b.width}px`,width:`${b.width}px`})},[(S(),I("svg",sXe,[E("path",{class:P(v(s).be("circle","track")),d:v(i),stroke:`var(${v(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":v(o),fill:"none",style:ot(v(d))},null,14,rXe),E("path",{class:P(v(s).be("circle","path")),d:v(i),stroke:v(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":v(o),style:ot(v(f))},null,14,oXe)]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(S(),I("div",{key:2,class:P(v(s).e("text")),style:ot({fontSize:`${v(m)}px`})},[Oe(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(S(),$e(v(rt),{key:1},{default:ce(()=>[(S(),$e(Vt(v(p))))]),_:1})):(S(),I("span",aXe,Ue(v(g)),1))])],6)):ge("v-if",!0)],10,nXe))}});var uXe=je(lXe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const l7=Dt(uXe),cXe=qe({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Se([Array,Object]),default:()=>Ln(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Se([Array,Object]),default:()=>[Hm,Hm,Hm]},voidIcon:{type:En,default:()=>kP},disabledVoidIcon:{type:En,default:()=>Hm},disabled:{type:Boolean},allowHalf:{type:Boolean},showText:{type:Boolean},showScore:{type:Boolean},textColor:{type:String,default:""},texts:{type:Se(Array),default:()=>Ln(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:Qh},label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),dXe={[Fn]:t=>Ct(t),[Ot]:t=>Ct(t)},fXe=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],hXe=["onMousemove","onClick"],pXe=ue({name:"ElRate"}),mXe=ue({...pXe,props:cXe,emits:dXe,setup(t,{expose:e,emit:n}){const s=t;function r(V,O){const F=Z=>Bt(Z),L=Object.keys(O).map(Z=>+Z).filter(Z=>{const j=O[Z];return(F(j)?j.excluded:!1)?V<Z:V<=Z}).sort((Z,j)=>Z-j),G=O[L[0]];return F(G)&&G.value||G}const o=et(Jd,void 0),a=et(Li,void 0),i=ks(),l=Fe("rate"),{inputId:u,isLabeledByFormItem:c}=ic(s,{formItemContext:a}),d=U(s.modelValue),f=U(-1),h=U(!0),p=A(()=>[l.b(),l.m(i.value)]),m=A(()=>s.disabled||(o==null?void 0:o.disabled)),g=A(()=>l.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":_.value})),y=A(()=>{let V="";return s.showScore?V=s.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${s.modelValue}`:`${d.value}`):s.showText&&(V=s.texts[Math.ceil(d.value)-1]),V}),w=A(()=>s.modelValue*100-Math.floor(s.modelValue)*100),b=A(()=>Qe(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),_=A(()=>{const V=r(d.value,b.value);return Bt(V)?"":V}),$=A(()=>{let V="";return m.value?V=`${w.value}%`:s.allowHalf&&(V="50%"),{color:_.value,width:V}}),x=A(()=>{let V=Qe(s.icons)?[...s.icons]:{...s.icons};return V=nd(V),Qe(V)?{[s.lowThreshold]:V[0],[s.highThreshold]:{value:V[1],excluded:!0},[s.max]:V[2]}:V}),k=A(()=>r(s.modelValue,x.value)),C=A(()=>m.value?wt(s.disabledVoidIcon)?s.disabledVoidIcon:nd(s.disabledVoidIcon):wt(s.voidIcon)?s.voidIcon:nd(s.voidIcon)),T=A(()=>r(d.value,x.value));function N(V){const O=m.value&&w.value>0&&V-1<s.modelValue&&V>s.modelValue,F=s.allowHalf&&h.value&&V-.5<=d.value&&V>d.value;return O||F}function M(V){s.clearable&&V===s.modelValue&&(V=0),n(Ot,V),s.modelValue!==V&&n("change",V)}function R(V){m.value||(s.allowHalf&&h.value?M(d.value):M(V))}function D(V){if(m.value)return;let O=d.value;const F=V.code;return F===ut.up||F===ut.right?(s.allowHalf?O+=.5:O+=1,V.stopPropagation(),V.preventDefault()):(F===ut.left||F===ut.down)&&(s.allowHalf?O-=.5:O-=1,V.stopPropagation(),V.preventDefault()),O=O<0?0:O,O=O>s.max?s.max:O,n(Ot,O),n("change",O),O}function z(V,O){if(!m.value){if(s.allowHalf){let F=O.target;ja(F,l.e("item"))&&(F=F.querySelector(`.${l.e("icon")}`)),(F.clientWidth===0||ja(F,l.e("decimal")))&&(F=F.parentNode),h.value=O.offsetX*2<=F.clientWidth,d.value=h.value?V-.5:V}else d.value=V;f.value=V}}function B(){m.value||(s.allowHalf&&(h.value=s.modelValue!==Math.floor(s.modelValue)),d.value=s.modelValue,f.value=-1)}return Me(()=>s.modelValue,V=>{d.value=V,h.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||n(Ot,0),e({setCurrentValue:z,resetCurrentValue:B}),(V,O)=>{var F;return S(),I("div",{id:v(u),class:P([v(p),v(l).is("disabled",v(m))]),role:"slider","aria-label":v(c)?void 0:V.label||"rating","aria-labelledby":v(c)?(F=v(a))==null?void 0:F.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":v(y)||void 0,"aria-valuemin":"0","aria-valuemax":V.max,tabindex:"0",style:ot(v(g)),onKeydown:D},[(S(!0),I(lt,null,Gt(V.max,(L,G)=>(S(),I("span",{key:G,class:P(v(l).e("item")),onMousemove:Z=>z(L,Z),onMouseleave:B,onClick:Z=>R(L)},[se(v(rt),{class:P([v(l).e("icon"),{hover:f.value===L},v(l).is("active",L<=d.value)])},{default:ce(()=>[N(L)?ge("v-if",!0):(S(),I(lt,{key:0},[St((S(),$e(Vt(v(T)),null,null,512)),[[Qt,L<=d.value]]),St((S(),$e(Vt(v(C)),null,null,512)),[[Qt,!(L<=d.value)]])],64)),N(L)?(S(),$e(v(rt),{key:1,style:ot(v($)),class:P([v(l).e("icon"),v(l).e("decimal")])},{default:ce(()=>[(S(),$e(Vt(v(k))))]),_:1},8,["style","class"])):ge("v-if",!0)]),_:2},1032,["class"])],42,hXe))),128)),V.showText||V.showScore?(S(),I("span",{key:0,class:P(v(l).e("text"))},Ue(v(y)),3)):ge("v-if",!0)],46,fXe)}}});var gXe=je(mXe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const vXe=Dt(gXe),Ff={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},tR={[Ff.success]:dP,[Ff.warning]:Rg,[Ff.error]:lw,[Ff.info]:uw},yXe=qe({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),bXe=ue({name:"ElResult"}),wXe=ue({...bXe,props:yXe,setup(t){const e=t,n=Fe("result"),s=A(()=>{const r=e.icon,o=r&&Ff[r]?Ff[r]:"icon-info",a=tR[o]||tR["icon-info"];return{class:o,component:a}});return(r,o)=>(S(),I("div",{class:P(v(n).b())},[E("div",{class:P(v(n).e("icon"))},[Oe(r.$slots,"icon",{},()=>[v(s).component?(S(),$e(Vt(v(s).component),{key:0,class:P(v(s).class)},null,8,["class"])):ge("v-if",!0)])],2),r.title||r.$slots.title?(S(),I("div",{key:0,class:P(v(n).e("title"))},[Oe(r.$slots,"title",{},()=>[E("p",null,Ue(r.title),1)])],2)):ge("v-if",!0),r.subTitle||r.$slots["sub-title"]?(S(),I("div",{key:1,class:P(v(n).e("subtitle"))},[Oe(r.$slots,"sub-title",{},()=>[E("p",null,Ue(r.subTitle),1)])],2)):ge("v-if",!0),r.$slots.extra?(S(),I("div",{key:2,class:P(v(n).e("extra"))},[Oe(r.$slots,"extra")],2)):ge("v-if",!0)],2))}});var _Xe=je(wXe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const $Xe=Dt(_Xe),xXe=["start","center","end","space-around","space-between","space-evenly"],SXe=["top","middle","bottom"],CXe=qe({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:xXe,default:"start"},align:{type:String,values:SXe,default:"top"}}),kXe=ue({name:"ElRow"}),TXe=ue({...kXe,props:CXe,setup(t){const e=t,n=Fe("row"),s=A(()=>e.gutter);Lt(VP,{gutter:s});const r=A(()=>{const a={};return e.gutter&&(a.marginRight=a.marginLeft=`-${e.gutter/2}px`),a}),o=A(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,e.align!=="top")]);return(a,i)=>(S(),$e(Vt(a.tag),{class:P(v(o)),style:ot(v(r))},{default:ce(()=>[Oe(a.$slots,"default")]),_:3},8,["class","style"]))}});var NXe=je(TXe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const EXe=Dt(NXe);var nR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function IXe(t,e){return!!(t===e||nR(t)&&nR(e))}function AXe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!IXe(t[n],e[n]))return!1;return!0}function OXe(t,e){e===void 0&&(e=AXe);var n=null;function s(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var a=t.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return s.clear=function(){n=null},s}const u7=()=>{const e=Rt().proxy.$props;return A(()=>{const n=(s,r,o)=>({});return e.perfMode?sw(n):OXe(n)})},P6=50,Fy="itemRendered",My="scroll",Mf="forward",Py="backward",ca="auto",kw="smart",H0="start",Si="center",W0="end",vh="horizontal",gk="vertical",RXe="ltr",Kf="rtl",U0="negative",vk="positive-ascending",yk="positive-descending",DXe={[vh]:"left",[gk]:"top"},FXe=20,MXe={[vh]:"deltaX",[gk]:"deltaY"},PXe=({atEndEdge:t,atStartEdge:e,layout:n},s)=>{let r,o=0;const a=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:a,onWheel:l=>{MC(r);const u=l[MXe[n.value]];a(o)&&a(o+u)||(o+=u,DC()||l.preventDefault(),r=FC(()=>{s(o),o=0}))}}},L6=oi({type:Se([Number,Function]),required:!0}),z6=oi({type:Number}),B6=oi({type:Number,default:2}),LXe=oi({type:String,values:["ltr","rtl"],default:"ltr"}),V6=oi({type:Number,default:0}),Ly=oi({type:Number,required:!0}),c7=oi({type:String,values:["horizontal","vertical"],default:gk}),d7=qe({className:{type:String,default:""},containerElement:{type:Se([String,Object]),default:"div"},data:{type:Se(Array),default:()=>Ln([])},direction:LXe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Se([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),f7=qe({cache:B6,estimatedItemSize:z6,layout:c7,initScrollOffset:V6,total:Ly,itemSize:L6,...d7}),H6={type:Number,default:6},h7={type:Number,default:0},p7={type:Number,default:2},ad=qe({columnCache:B6,columnWidth:L6,estimatedColumnWidth:z6,estimatedRowHeight:z6,initScrollLeft:V6,initScrollTop:V6,itemKey:{type:Se(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:B6,rowHeight:L6,totalColumn:Ly,totalRow:Ly,hScrollbarSize:H6,vScrollbarSize:H6,scrollbarStartGap:h7,scrollbarEndGap:p7,...d7}),m7=qe({alwaysOn:Boolean,class:String,layout:c7,total:Ly,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:H6,startGap:h7,endGap:p7,visible:Boolean}),Xc=(t,e)=>t<e?Mf:Py,G0=t=>t===RXe||t===Kf||t===vh,sR=t=>t===Kf;let _f=null;function zy(t=!1){if(_f===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const s=document.createElement("div"),r=s.style;return r.width="100px",r.height="100px",e.appendChild(s),document.body.appendChild(e),e.scrollLeft>0?_f=yk:(e.scrollLeft=1,e.scrollLeft===0?_f=U0:_f=vk),document.body.removeChild(e),_f}return _f}function zXe({move:t,size:e,bar:n},s){const r={},o=`translate${n.axis}(${t}px)`;return r[n.size]=e,r.transform=o,r.msTransform=o,r.webkitTransform=o,s==="horizontal"?r.height="100%":r.width="100%",r}const W6=ue({name:"ElVirtualScrollBar",props:m7,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=A(()=>t.startGap+t.endGap),s=Fe("virtual-scrollbar"),r=Fe("scrollbar"),o=U(),a=U();let i=null,l=null;const u=on({isDragging:!1,traveled:0}),c=A(()=>uL[t.layout]),d=A(()=>t.clientSize-v(n)),f=A(()=>({position:"absolute",width:`${vh===t.layout?d.value:t.scrollbarSize}px`,height:`${vh===t.layout?t.scrollbarSize:d.value}px`,[DXe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=A(()=>{const x=t.ratio,k=t.clientSize;if(x>=100)return Number.POSITIVE_INFINITY;if(x>=50)return x*k/100;const C=k/3;return Math.floor(Math.min(Math.max(x*k,FXe),C))}),p=A(()=>{if(!Number.isFinite(h.value))return{display:"none"};const x=`${h.value}px`;return zXe({bar:c.value,size:x,move:u.traveled},t.layout)}),m=A(()=>Math.floor(t.clientSize-h.value-v(n))),g=()=>{window.addEventListener("mousemove",_),window.addEventListener("mouseup",b);const x=v(a);!x||(l=document.onselectstart,document.onselectstart=()=>!1,x.addEventListener("touchmove",_),x.addEventListener("touchend",b))},y=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const x=v(a);!x||(x.removeEventListener("touchmove",_),x.removeEventListener("touchend",b))},w=x=>{x.stopImmediatePropagation(),!(x.ctrlKey||[1,2].includes(x.button))&&(u.isDragging=!0,u[c.value.axis]=x.currentTarget[c.value.offset]-(x[c.value.client]-x.currentTarget.getBoundingClientRect()[c.value.direction]),e("start-move"),g())},b=()=>{u.isDragging=!1,u[c.value.axis]=0,e("stop-move"),y()},_=x=>{const{isDragging:k}=u;if(!k||!a.value||!o.value)return;const C=u[c.value.axis];if(!C)return;MC(i);const T=(o.value.getBoundingClientRect()[c.value.direction]-x[c.value.client])*-1,N=a.value[c.value.offset]-C,M=T-N;i=FC(()=>{u.traveled=Math.max(t.startGap,Math.min(M,m.value)),e("scroll",M,m.value)})},$=x=>{const k=Math.abs(x.target.getBoundingClientRect()[c.value.direction]-x[c.value.client]),C=a.value[c.value.offset]/2,T=k-C;u.traveled=Math.max(0,Math.min(T,m.value)),e("scroll",T,m.value)};return Me(()=>t.scrollFrom,x=>{u.isDragging||(u.traveled=Math.ceil(x*m.value))}),ts(()=>{y()}),()=>it("div",{role:"presentation",ref:o,class:[s.b(),t.class,(t.alwaysOn||u.isDragging)&&"always-on"],style:f.value,onMousedown:yt($,["stop","prevent"]),onTouchstartPrevent:w},it("div",{ref:a,class:r.e("thumb"),style:p.value,onMousedown:w},[]))}}),g7=({name:t,getOffset:e,getItemSize:n,getItemOffset:s,getEstimatedTotalSize:r,getStartIndexForOffset:o,getStopIndexForStartIndex:a,initCache:i,clearCache:l,validateProps:u})=>ue({name:t??"ElVirtualList",props:f7,emits:[Fy,My],setup(c,{emit:d,expose:f}){u(c);const h=Rt(),p=Fe("vl"),m=U(i(c,h)),g=u7(),y=U(),w=U(),b=U(),_=U({isScrolling:!1,scrollDir:"forward",scrollOffset:Ct(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),$=A(()=>{const{total:J,cache:fe}=c,{isScrolling:X,scrollDir:oe,scrollOffset:ee}=v(_);if(J===0)return[0,0,0,0];const Q=o(c,ee,v(m)),ie=a(c,Q,ee,v(m)),pe=!X||oe===Py?Math.max(1,fe):1,Re=!X||oe===Mf?Math.max(1,fe):1;return[Math.max(0,Q-pe),Math.max(0,Math.min(J-1,ie+Re)),Q,ie]}),x=A(()=>r(c,v(m))),k=A(()=>G0(c.layout)),C=A(()=>[{position:"relative",[`overflow-${k.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:Ct(c.height)?`${c.height}px`:c.height,width:Ct(c.width)?`${c.width}px`:c.width},c.style]),T=A(()=>{const J=v(x),fe=v(k);return{height:fe?"100%":`${J}px`,pointerEvents:v(_).isScrolling?"none":void 0,width:fe?`${J}px`:"100%"}}),N=A(()=>k.value?c.width:c.height),{onWheel:M}=PXe({atStartEdge:A(()=>_.value.scrollOffset<=0),atEndEdge:A(()=>_.value.scrollOffset>=x.value),layout:A(()=>c.layout)},J=>{var fe,X;(X=(fe=b.value).onMouseUp)==null||X.call(fe),O(Math.min(_.value.scrollOffset+J,x.value-N.value))}),R=()=>{const{total:J}=c;if(J>0){const[ee,Q,ie,pe]=v($);d(Fy,ee,Q,ie,pe)}const{scrollDir:fe,scrollOffset:X,updateRequested:oe}=v(_);d(My,fe,X,oe)},D=J=>{const{clientHeight:fe,scrollHeight:X,scrollTop:oe}=J.currentTarget,ee=v(_);if(ee.scrollOffset===oe)return;const Q=Math.max(0,Math.min(oe,X-fe));_.value={...ee,isScrolling:!0,scrollDir:Xc(ee.scrollOffset,Q),scrollOffset:Q,updateRequested:!1},nt(G)},z=J=>{const{clientWidth:fe,scrollLeft:X,scrollWidth:oe}=J.currentTarget,ee=v(_);if(ee.scrollOffset===X)return;const{direction:Q}=c;let ie=X;if(Q===Kf)switch(zy()){case U0:{ie=-X;break}case yk:{ie=oe-fe-X;break}}ie=Math.max(0,Math.min(ie,oe-fe)),_.value={...ee,isScrolling:!0,scrollDir:Xc(ee.scrollOffset,ie),scrollOffset:ie,updateRequested:!1},nt(G)},B=J=>{v(k)?z(J):D(J),R()},V=(J,fe)=>{const X=(x.value-N.value)/fe*J;O(Math.min(x.value-N.value,X))},O=J=>{J=Math.max(J,0),J!==v(_).scrollOffset&&(_.value={...v(_),scrollOffset:J,scrollDir:Xc(v(_).scrollOffset,J),updateRequested:!0},nt(G))},F=(J,fe=ca)=>{const{scrollOffset:X}=v(_);J=Math.max(0,Math.min(J,c.total-1)),O(e(c,J,fe,X,v(m)))},L=J=>{const{direction:fe,itemSize:X,layout:oe}=c,ee=g.value(l&&X,l&&oe,l&&fe);let Q;if(Ut(ee,String(J)))Q=ee[J];else{const ie=s(c,J,v(m)),pe=n(c,J,v(m)),Re=v(k),K=fe===Kf,re=Re?ie:0;ee[J]=Q={position:"absolute",left:K?void 0:`${re}px`,right:K?`${re}px`:void 0,top:Re?0:`${ie}px`,height:Re?"100%":`${pe}px`,width:Re?`${pe}px`:"100%"}}return Q},G=()=>{_.value.isScrolling=!1,nt(()=>{g.value(-1,null,null)})},Z=()=>{const J=y.value;J&&(J.scrollTop=0)};Et(()=>{if(!Kt)return;const{initScrollOffset:J}=c,fe=v(y);Ct(J)&&fe&&(v(k)?fe.scrollLeft=J:fe.scrollTop=J),R()}),Ml(()=>{const{direction:J,layout:fe}=c,{scrollOffset:X,updateRequested:oe}=v(_),ee=v(y);if(oe&&ee)if(fe===vh)if(J===Kf)switch(zy()){case U0:{ee.scrollLeft=-X;break}case vk:{ee.scrollLeft=X;break}default:{const{clientWidth:Q,scrollWidth:ie}=ee;ee.scrollLeft=ie-Q-X;break}}else ee.scrollLeft=X;else ee.scrollTop=X});const j={ns:p,clientSize:N,estimatedTotalSize:x,windowStyle:C,windowRef:y,innerRef:w,innerStyle:T,itemsToRender:$,scrollbarRef:b,states:_,getItemStyle:L,onScroll:B,onScrollbarScroll:V,onWheel:M,scrollTo:O,scrollToItem:F,resetScrollTop:Z};return f({windowRef:y,innerRef:w,getItemStyleCache:g,scrollTo:O,scrollToItem:F,resetScrollTop:Z,states:_}),j},render(c){var d;const{$slots:f,className:h,clientSize:p,containerElement:m,data:g,getItemStyle:y,innerElement:w,itemsToRender:b,innerStyle:_,layout:$,total:x,onScroll:k,onScrollbarScroll:C,onWheel:T,states:N,useIsScrolling:M,windowStyle:R,ns:D}=c,[z,B]=b,V=Vt(m),O=Vt(w),F=[];if(x>0)for(let j=z;j<=B;j++)F.push((d=f.default)==null?void 0:d.call(f,{data:g,key:j,index:j,isScrolling:M?N.isScrolling:void 0,style:y(j)}));const L=[it(O,{style:_,ref:"innerRef"},wt(O)?F:{default:()=>F})],G=it(W6,{ref:"scrollbarRef",clientSize:p,layout:$,onScroll:C,ratio:p*100/this.estimatedTotalSize,scrollFrom:N.scrollOffset/(this.estimatedTotalSize-p),total:x}),Z=it(V,{class:[D.e("window"),h],style:R,onScroll:k,onWheel:T,ref:"windowRef",key:0},wt(V)?[L]:{default:()=>[L]});return it("div",{key:0,class:[D.e("wrapper"),N.scrollbarAlwaysOn?"always-on":""]},[Z,G])}}),v7=g7({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:s,width:r},o,a,i)=>{const l=G0(s)?r:t,u=Math.max(0,e*n-l),c=Math.min(u,o*n),d=Math.max(0,(o+1)*n-l);switch(a===kw&&(i>=d-l&&i<=c+l?a=ca:a=Si),a){case H0:return c;case W0:return d;case Si:{const f=Math.round(d+(c-d)/2);return f<Math.ceil(l/2)?0:f>u+Math.floor(l/2)?u:f}case ca:default:return i>=d&&i<=c?i:i<d?d:c}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:s,width:r},o,a)=>{const i=o*n,l=G0(s)?r:t,u=Math.ceil((l+a-i)/n);return Math.max(0,Math.min(e-1,o+u-1))},initCache(){},clearCache:!0,validateProps(){}}),Pf=(t,e,n)=>{const{itemSize:s}=t,{items:r,lastVisitedIndex:o}=n;if(e>o){let a=0;if(o>=0){const i=r[o];a=i.offset+i.size}for(let i=o+1;i<=e;i++){const l=s(i);r[i]={offset:a,size:l},a+=l}n.lastVisitedIndex=e}return r[e]},BXe=(t,e,n)=>{const{items:s,lastVisitedIndex:r}=e;return(r>0?s[r].offset:0)>=n?y7(t,e,0,r,n):VXe(t,e,Math.max(0,r),n)},y7=(t,e,n,s,r)=>{for(;n<=s;){const o=n+Math.floor((s-n)/2),a=Pf(t,o,e).offset;if(a===r)return o;a<r?n=o+1:a>r&&(s=o-1)}return Math.max(0,n-1)},VXe=(t,e,n,s)=>{const{total:r}=t;let o=1;for(;n<r&&Pf(t,n,e).offset<s;)n+=o,o*=2;return y7(t,e,Math.floor(n/2),Math.min(n,r-1),s)},rR=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:s})=>{let r=0;if(s>=t&&(s=t-1),s>=0){const i=e[s];r=i.offset+i.size}const a=(t-s-1)*n;return r+a},HXe=g7({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>Pf(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:rR,getOffset:(t,e,n,s,r)=>{const{height:o,layout:a,width:i}=t,l=G0(a)?i:o,u=Pf(t,e,r),c=rR(t,r),d=Math.max(0,Math.min(c-l,u.offset)),f=Math.max(0,u.offset-l+u.size);switch(n===kw&&(s>=f-l&&s<=d+l?n=ca:n=Si),n){case H0:return d;case W0:return f;case Si:return Math.round(f+(d-f)/2);case ca:default:return s>=f&&s<=d?s:s<f?f:d}},getStartIndexForOffset:(t,e,n)=>BXe(t,n,e),getStopIndexForStartIndex:(t,e,n,s)=>{const{height:r,total:o,layout:a,width:i}=t,l=G0(a)?i:r,u=Pf(t,e,s),c=n+l;let d=u.offset+u.size,f=e;for(;f<o-1&&d<c;)f++,d+=Pf(t,f,s).size;return f},initCache({estimatedItemSize:t=P6},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(s,r=!0)=>{var o,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,s-1),(o=e.exposed)==null||o.getItemStyleCache(-1),r&&((a=e.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),WXe=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:s},r)=>{let o=null,a=0,i=0;const l=(c,d)=>{const f=c<0&&e.value||c>0&&t.value,h=d<0&&s.value||d>0&&n.value;return f&&h};return{hasReachedEdge:l,onWheel:c=>{MC(o);let d=c.deltaX,f=c.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,c.shiftKey&&f!==0&&(d=f,f=0),!(l(a,i)&&l(a+d,i+f))&&(a+=d,i+=f,DC()||c.preventDefault(),o=FC(()=>{r(a,i),a=0,i=0}))}}},b7=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:s,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:o,getEstimatedTotalWidth:a,getColumnOffset:i,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:h,validateProps:p})=>ue({name:t??"ElVirtualList",props:ad,emits:[Fy,My],setup(m,{emit:g,expose:y,slots:w}){const b=Fe("vl");p(m);const _=Rt(),$=U(f(m,_));h==null||h(_,$);const x=U(),k=U(),C=U(),T=U(null),N=U({isScrolling:!1,scrollLeft:Ct(m.initScrollLeft)?m.initScrollLeft:0,scrollTop:Ct(m.initScrollTop)?m.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Mf,yAxisScrollDir:Mf}),M=u7(),R=A(()=>Number.parseInt(`${m.height}`,10)),D=A(()=>Number.parseInt(`${m.width}`,10)),z=A(()=>{const{totalColumn:_e,totalRow:ze,columnCache:Ae}=m,{isScrolling:he,xAxisScrollDir:ve,scrollLeft:me}=v(N);if(_e===0||ze===0)return[0,0,0,0];const Ve=s(m,me,v($)),Ye=r(m,Ve,me,v($)),Je=!he||ve===Py?Math.max(1,Ae):1,ct=!he||ve===Mf?Math.max(1,Ae):1;return[Math.max(0,Ve-Je),Math.max(0,Math.min(_e-1,Ye+ct)),Ve,Ye]}),B=A(()=>{const{totalColumn:_e,totalRow:ze,rowCache:Ae}=m,{isScrolling:he,yAxisScrollDir:ve,scrollTop:me}=v(N);if(_e===0||ze===0)return[0,0,0,0];const Ve=c(m,me,v($)),Ye=d(m,Ve,me,v($)),Je=!he||ve===Py?Math.max(1,Ae):1,ct=!he||ve===Mf?Math.max(1,Ae):1;return[Math.max(0,Ve-Je),Math.max(0,Math.min(ze-1,Ye+ct)),Ve,Ye]}),V=A(()=>o(m,v($))),O=A(()=>a(m,v($))),F=A(()=>{var _e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:Ct(m.height)?`${m.height}px`:m.height,width:Ct(m.width)?`${m.width}px`:m.width},(_e=m.style)!=null?_e:{}]}),L=A(()=>{const _e=`${v(O)}px`;return{height:`${v(V)}px`,pointerEvents:v(N).isScrolling?"none":void 0,width:_e}}),G=()=>{const{totalColumn:_e,totalRow:ze}=m;if(_e>0&&ze>0){const[Ye,Je,ct,xt]=v(z),[dt,xe,Ke,at]=v(B);g(Fy,{columnCacheStart:Ye,columnCacheEnd:Je,rowCacheStart:dt,rowCacheEnd:xe,columnVisibleStart:ct,columnVisibleEnd:xt,rowVisibleStart:Ke,rowVisibleEnd:at})}const{scrollLeft:Ae,scrollTop:he,updateRequested:ve,xAxisScrollDir:me,yAxisScrollDir:Ve}=v(N);g(My,{xAxisScrollDir:me,scrollLeft:Ae,yAxisScrollDir:Ve,scrollTop:he,updateRequested:ve})},Z=_e=>{const{clientHeight:ze,clientWidth:Ae,scrollHeight:he,scrollLeft:ve,scrollTop:me,scrollWidth:Ve}=_e.currentTarget,Ye=v(N);if(Ye.scrollTop===me&&Ye.scrollLeft===ve)return;let Je=ve;if(sR(m.direction))switch(zy()){case U0:Je=-ve;break;case yk:Je=Ve-Ae-ve;break}N.value={...Ye,isScrolling:!0,scrollLeft:Je,scrollTop:Math.max(0,Math.min(me,he-ze)),updateRequested:!0,xAxisScrollDir:Xc(Ye.scrollLeft,Je),yAxisScrollDir:Xc(Ye.scrollTop,me)},nt(()=>Q()),ie(),G()},j=(_e,ze)=>{const Ae=v(R),he=(V.value-Ae)/ze*_e;X({scrollTop:Math.min(V.value-Ae,he)})},J=(_e,ze)=>{const Ae=v(D),he=(O.value-Ae)/ze*_e;X({scrollLeft:Math.min(O.value-Ae,he)})},{onWheel:fe}=WXe({atXStartEdge:A(()=>N.value.scrollLeft<=0),atXEndEdge:A(()=>N.value.scrollLeft>=O.value),atYStartEdge:A(()=>N.value.scrollTop<=0),atYEndEdge:A(()=>N.value.scrollTop>=V.value)},(_e,ze)=>{var Ae,he,ve,me;(he=(Ae=k.value)==null?void 0:Ae.onMouseUp)==null||he.call(Ae),(me=(ve=k.value)==null?void 0:ve.onMouseUp)==null||me.call(ve);const Ve=v(D),Ye=v(R);X({scrollLeft:Math.min(N.value.scrollLeft+_e,O.value-Ve),scrollTop:Math.min(N.value.scrollTop+ze,V.value-Ye)})}),X=({scrollLeft:_e=N.value.scrollLeft,scrollTop:ze=N.value.scrollTop})=>{_e=Math.max(_e,0),ze=Math.max(ze,0);const Ae=v(N);ze===Ae.scrollTop&&_e===Ae.scrollLeft||(N.value={...Ae,xAxisScrollDir:Xc(Ae.scrollLeft,_e),yAxisScrollDir:Xc(Ae.scrollTop,ze),scrollLeft:_e,scrollTop:ze,updateRequested:!0},nt(()=>Q()),ie(),G())},oe=(_e=0,ze=0,Ae=ca)=>{const he=v(N);ze=Math.max(0,Math.min(ze,m.totalColumn-1)),_e=Math.max(0,Math.min(_e,m.totalRow-1));const ve=aP(b.namespace.value),me=v($),Ve=o(m,me),Ye=a(m,me);X({scrollLeft:i(m,ze,Ae,he.scrollLeft,me,Ye>m.width?ve:0),scrollTop:l(m,_e,Ae,he.scrollTop,me,Ve>m.height?ve:0)})},ee=(_e,ze)=>{const{columnWidth:Ae,direction:he,rowHeight:ve}=m,me=M.value(e&&Ae,e&&ve,e&&he),Ve=`${_e},${ze}`;if(Ut(me,Ve))return me[Ve];{const[,Ye]=n(m,ze,v($)),Je=v($),ct=sR(he),[xt,dt]=u(m,_e,Je),[xe]=n(m,ze,Je);return me[Ve]={position:"absolute",left:ct?void 0:`${Ye}px`,right:ct?`${Ye}px`:void 0,top:`${dt}px`,height:`${xt}px`,width:`${xe}px`},me[Ve]}},Q=()=>{N.value.isScrolling=!1,nt(()=>{M.value(-1,null,null)})};Et(()=>{if(!Kt)return;const{initScrollLeft:_e,initScrollTop:ze}=m,Ae=v(x);Ae&&(Ct(_e)&&(Ae.scrollLeft=_e),Ct(ze)&&(Ae.scrollTop=ze)),G()});const ie=()=>{const{direction:_e}=m,{scrollLeft:ze,scrollTop:Ae,updateRequested:he}=v(N),ve=v(x);if(he&&ve){if(_e===Kf)switch(zy()){case U0:{ve.scrollLeft=-ze;break}case vk:{ve.scrollLeft=ze;break}default:{const{clientWidth:me,scrollWidth:Ve}=ve;ve.scrollLeft=Ve-me-ze;break}}else ve.scrollLeft=Math.max(0,ze);ve.scrollTop=Math.max(0,Ae)}},{resetAfterColumnIndex:pe,resetAfterRowIndex:Re,resetAfter:K}=_.proxy;y({windowRef:x,innerRef:T,getItemStyleCache:M,scrollTo:X,scrollToItem:oe,states:N,resetAfterColumnIndex:pe,resetAfterRowIndex:Re,resetAfter:K});const re=()=>{const{scrollbarAlwaysOn:_e,scrollbarStartGap:ze,scrollbarEndGap:Ae,totalColumn:he,totalRow:ve}=m,me=v(D),Ve=v(R),Ye=v(O),Je=v(V),{scrollLeft:ct,scrollTop:xt}=v(N),dt=it(W6,{ref:k,alwaysOn:_e,startGap:ze,endGap:Ae,class:b.e("horizontal"),clientSize:me,layout:"horizontal",onScroll:J,ratio:me*100/Ye,scrollFrom:ct/(Ye-me),total:ve,visible:!0}),xe=it(W6,{ref:C,alwaysOn:_e,startGap:ze,endGap:Ae,class:b.e("vertical"),clientSize:Ve,layout:"vertical",onScroll:j,ratio:Ve*100/Je,scrollFrom:xt/(Je-Ve),total:he,visible:!0});return{horizontalScrollbar:dt,verticalScrollbar:xe}},we=()=>{var _e;const[ze,Ae]=v(z),[he,ve]=v(B),{data:me,totalColumn:Ve,totalRow:Ye,useIsScrolling:Je,itemKey:ct}=m,xt=[];if(Ye>0&&Ve>0)for(let dt=he;dt<=ve;dt++)for(let xe=ze;xe<=Ae;xe++)xt.push((_e=w.default)==null?void 0:_e.call(w,{columnIndex:xe,data:me,key:ct({columnIndex:xe,data:me,rowIndex:dt}),isScrolling:Je?v(N).isScrolling:void 0,style:ee(dt,xe),rowIndex:dt}));return xt},Ie=()=>{const _e=Vt(m.innerElement),ze=we();return[it(_e,{style:v(L),ref:T},wt(_e)?ze:{default:()=>ze})]};return()=>{const _e=Vt(m.containerElement),{horizontalScrollbar:ze,verticalScrollbar:Ae}=re(),he=Ie();return it("div",{key:0,class:b.e("wrapper")},[it(_e,{class:m.className,style:v(F),onScroll:Z,onWheel:fe,ref:x},wt(_e)?he:{default:()=>he}),ze,Ae])}}}),UXe=b7({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},s,r,o,a,i)=>{n=Number(n);const l=Math.max(0,t*e-n),u=Math.min(l,s*e),c=Math.max(0,s*e-n+i+e);switch(r==="smart"&&(o>=c-n&&o<=u+n?r=ca:r=Si),r){case H0:return u;case W0:return c;case Si:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(n/2)?0:d>l+Math.floor(n/2)?l:d}case ca:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getRowOffset:({rowHeight:t,height:e,totalRow:n},s,r,o,a,i)=>{e=Number(e);const l=Math.max(0,n*t-e),u=Math.min(l,s*t),c=Math.max(0,s*t-e+i+t);switch(r===kw&&(o>=c-e&&o<=u+e?r=ca:r=Si),r){case H0:return u;case W0:return c;case Si:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case ca:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},s,r)=>{const o=s*t,a=Math.ceil((n+r-o)/t);return Math.max(0,Math.min(e-1,s+a-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},s,r)=>{const o=s*t,a=Math.ceil((n+r-o)/t);return Math.max(0,Math.min(e-1,s+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:By,min:w7,floor:_7}=Math,GXe={column:"columnWidth",row:"rowHeight"},U6={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},al=(t,e,n,s)=>{const[r,o,a]=[n[s],t[GXe[s]],n[U6[s]]];if(e>a){let i=0;if(a>=0){const l=r[a];i=l.offset+l.size}for(let l=a+1;l<=e;l++){const u=o(l);r[l]={offset:i,size:u},i+=u}n[U6[s]]=e}return r[e]},$7=(t,e,n,s,r,o)=>{for(;n<=s;){const a=n+_7((s-n)/2),i=al(t,a,e,o).offset;if(i===r)return a;i<r?n=a+1:s=a-1}return By(0,n-1)},jXe=(t,e,n,s,r)=>{const o=r==="column"?t.totalColumn:t.totalRow;let a=1;for(;n<o&&al(t,n,e,r).offset<s;)n+=a,a*=2;return $7(t,e,_7(n/2),w7(n,o-1),s,r)},oR=(t,e,n,s)=>{const[r,o]=[e[s],e[U6[s]]];return(o>0?r[o].offset:0)>=n?$7(t,e,0,o,n,s):jXe(t,e,By(0,o),n,s)},x7=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:s})=>{let r=0;if(n>=t&&(n=t-1),n>=0){const i=s[n];r=i.offset+i.size}const a=(t-n-1)*e;return r+a},S7=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:s})=>{let r=0;if(s>t&&(s=t-1),s>=0){const i=e[s];r=i.offset+i.size}const a=(t-s-1)*n;return r+a},KXe={column:S7,row:x7},aR=(t,e,n,s,r,o,a)=>{const[i,l]=[o==="row"?t.height:t.width,KXe[o]],u=al(t,e,r,o),c=l(t,r),d=By(0,w7(c-i,u.offset)),f=By(0,u.offset-i+a+u.size);switch(n===kw&&(s>=f-i&&s<=d+i?n=ca:n=Si),n){case H0:return d;case W0:return f;case Si:return Math.round(f+(d-f)/2);case ca:default:return s>=f&&s<=d?s:f>d||s<f?f:d}},qXe=b7({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const s=al(t,e,n,"column");return[s.size,s.offset]},getRowPosition:(t,e,n)=>{const s=al(t,e,n,"row");return[s.size,s.offset]},getColumnOffset:(t,e,n,s,r,o)=>aR(t,e,n,s,r,"column",o),getRowOffset:(t,e,n,s,r,o)=>aR(t,e,n,s,r,"row",o),getColumnStartIndexForOffset:(t,e,n)=>oR(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,s)=>{const r=al(t,e,s,"column"),o=n+t.width;let a=r.offset+r.size,i=e;for(;i<t.totalColumn-1&&a<o;)i++,a+=al(t,e,s,"column").size;return i},getEstimatedTotalHeight:x7,getEstimatedTotalWidth:S7,getRowStartIndexForOffset:(t,e,n)=>oR(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,s)=>{const{totalRow:r,height:o}=t,a=al(t,e,s,"row"),i=n+o;let l=a.size+a.offset,u=e;for(;u<r-1&&l<i;)u++,l+=al(t,u,s,"row").size;return u},injectToInstance:(t,e)=>{const n=({columnIndex:o,rowIndex:a},i)=>{var l,u;i=er(i)?!0:i,Ct(o)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,o-1)),Ct(a)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,a-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),i&&((u=t.proxy)==null||u.$forceUpdate())},s=(o,a)=>{n({columnIndex:o},a)},r=(o,a)=>{n({rowIndex:o},a)};Object.assign(t.proxy,{resetAfterColumnIndex:s,resetAfterRowIndex:r,resetAfter:n})},initCache:({estimatedColumnWidth:t=P6,estimatedRowHeight:e=P6})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),XXe=ue({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Fe("select")}}});function YXe(t,e,n,s,r,o){return t.item.isTitle?(S(),I("div",{key:0,class:P(t.ns.be("group","title")),style:ot([t.style,{lineHeight:`${t.height}px`}])},Ue(t.item.label),7)):(S(),I("div",{key:1,class:P(t.ns.be("group","split")),style:ot(t.style)},[E("span",{class:P(t.ns.be("group","split-dash")),style:ot({top:`${t.height/2}px`})},null,6)],6))}var ZXe=je(XXe,[["render",YXe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function JXe(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const QXe={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Bl},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Xs.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Qh},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:Se(String),values:Qd,default:"bottom-start"}},eYe={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},tYe=ue({props:eYe,emits:["select","hover"],setup(t,{emit:e}){const n=Fe("select"),{hoverItem:s,selectOptionClick:r}=JXe(t,{emit:e});return{ns:n,hoverItem:s,selectOptionClick:r}}}),nYe=["aria-selected"];function sYe(t,e,n,s,r,o){return S(),I("li",{"aria-selected":t.selected,style:ot(t.style),class:P([t.ns.be("dropdown","option-item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),{hover:t.hovering}]),onMouseenter:e[0]||(e[0]=(...a)=>t.hoverItem&&t.hoverItem(...a)),onClick:e[1]||(e[1]=yt((...a)=>t.selectOptionClick&&t.selectOptionClick(...a),["stop"]))},[Oe(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[E("span",null,Ue(t.item.label),1)])],46,nYe)}var rYe=je(tYe,[["render",sYe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const C7="ElSelectV2Injection";var oYe=ue({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:n}){const s=et(C7),r=Fe("select"),o=U([]),a=U(),i=A(()=>t.data.length);Me(()=>i.value,()=>{var C,T;(T=(C=s.popper.value).updatePopper)==null||T.call(C)});const l=A(()=>er(s.props.estimatedOptionHeight)),u=A(()=>l.value?{itemSize:s.props.itemHeight}:{estimatedSize:s.props.estimatedOptionHeight,itemSize:C=>o.value[C]}),c=(C=[],T)=>{const{props:{valueKey:N}}=s;return Bt(T)?C&&C.some(M=>Pn(M,N)===Pn(T,N)):C.includes(T)},d=(C,T)=>{if(Bt(T)){const{valueKey:N}=s.props;return Pn(C,N)===Pn(T,N)}else return C===T},f=(C,T)=>{const{valueKey:N}=s.props;return s.props.multiple?c(C,Pn(T,N)):d(C,Pn(T,N))},h=(C,T)=>{const{disabled:N,multiple:M,multipleLimit:R}=s.props;return N||!T&&(M?R>0&&C.length>=R:!1)},p=C=>t.hoveringIndex===C;n({listRef:a,isSized:l,isItemDisabled:h,isItemHovering:p,isItemSelected:f,scrollToItem:C=>{const T=a.value;T&&T.scrollToItem(C)},resetScrollTop:()=>{const C=a.value;C&&C.resetScrollTop()}});const y=C=>{const{index:T,data:N,style:M}=C,R=v(l),{itemSize:D,estimatedSize:z}=v(u),{modelValue:B}=s.props,{onSelect:V,onHover:O}=s,F=N[T];if(F.type==="Group")return se(ZXe,{item:F,style:M,height:R?D:z},null);const L=f(B,F),G=h(B,L),Z=p(T);return se(rYe,zt(C,{selected:L,disabled:F.disabled||G,created:!!F.created,hovering:Z,item:F,onSelect:V,onHover:O}),{default:j=>{var J;return((J=e.default)==null?void 0:J.call(e,j))||se("span",null,[F.label])}})},{onKeyboardNavigate:w,onKeyboardSelect:b}=s,_=()=>{w("forward")},$=()=>{w("backward")},x=()=>{s.expanded=!1},k=C=>{const{code:T}=C,{tab:N,esc:M,down:R,up:D,enter:z}=ut;switch(T!==N&&(C.preventDefault(),C.stopPropagation()),T){case N:case M:{x();break}case R:{_();break}case D:{$();break}case z:{b();break}}};return()=>{var C;const{data:T,width:N}=t,{height:M,multiple:R,scrollbarAlwaysOn:D}=s.props;if(T.length===0)return se("div",{class:r.b("dropdown"),style:{width:`${N}px`}},[(C=e.empty)==null?void 0:C.call(e)]);const z=v(l)?v7:HXe;return se("div",{class:[r.b("dropdown"),r.is("multiple",R)]},[se(z,zt({ref:a},v(u),{className:r.be("dropdown","list"),scrollbarAlwaysOn:D,data:T,height:M,width:N,total:T.length,onKeydown:k}),{default:B=>se(y,B,null)})])}}});function aYe(t,e){const n=U(0),s=U(null),r=A(()=>t.allowCreate&&t.filterable);function o(c){const d=f=>f.value===c;return t.options&&t.options.some(d)||e.createdOptions.some(d)}function a(c){!r.value||(t.multiple&&c.created?n.value++:s.value=c)}function i(c){if(r.value)if(c&&c.length>0&&!o(c)){const d={value:c,label:c,created:!0,disabled:!1};e.createdOptions.length>=n.value?e.createdOptions[n.value]=d:e.createdOptions.push(d)}else if(t.multiple)e.createdOptions.length=n.value;else{const d=s.value;e.createdOptions.length=0,d&&d.created&&e.createdOptions.push(d)}}function l(c){if(!r.value||!c||!c.created||c.created&&t.reserveKeyword&&e.inputValue===c.label)return;const d=e.createdOptions.findIndex(f=>f.value===c.value);~d&&(e.createdOptions.splice(d,1),n.value--)}function u(){r.value&&(e.createdOptions.length=0,n.value=0)}return{createNewOption:i,removeNewOption:l,selectNewOption:a,clearAllNewOption:u}}const iYe=t=>{const e=[];return t.forEach(n=>{Qe(n.options)?(e.push({label:n.label,isTitle:!0,type:"Group"}),n.options.forEach(s=>{e.push(s)}),e.push({type:"Group"})):e.push(n)}),e};function lYe(t){const e=U(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:o=>{const a=o.target.value,i=a[a.length-1]||"";e.value=!dw(i)},handleCompositionEnd:o=>{e.value&&(e.value=!1,vt(t)&&t(o))}}}const iR="",lR=11,uYe={larget:51,default:42,small:33},cYe=(t,e)=>{const{t:n}=nn(),s=Fe("select-v2"),r=Fe("input"),{form:o,formItem:a}=to(),i=on({inputValue:iR,displayInputValue:iR,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),l=U(-1),u=U(-1),c=U(null),d=U(null),f=U(null),h=U(null),p=U(null),m=U(null),g=U(null),y=U(!1),w=A(()=>t.disabled||(o==null?void 0:o.disabled)),b=A(()=>{const He=R.value.length*34;return He>t.height?t.height:He}),_=A(()=>!nr(t.modelValue)),$=A(()=>{const He=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:_.value;return t.clearable&&!w.value&&i.comboBoxHovering&&He}),x=A(()=>t.remote&&t.filterable?"":Og),k=A(()=>x.value&&s.is("reverse",y.value)),C=A(()=>(a==null?void 0:a.validateState)||""),T=A(()=>AP[C.value]),N=A(()=>t.remote?300:0),M=A(()=>{const He=R.value;return t.loading?t.loadingText||n("el.select.loading"):t.remote&&i.inputValue===""&&He.length===0?!1:t.filterable&&i.inputValue&&He.length>0?t.noMatchText||n("el.select.noMatch"):He.length===0?t.noDataText||n("el.select.noData"):null}),R=A(()=>{const He=ft=>{const Ht=i.inputValue,pn=new RegExp(rP(Ht),"i");return Ht?pn.test(ft.label||""):!0};return t.loading?[]:iYe(t.options.concat(i.createdOptions).map(ft=>{if(Qe(ft.options)){const Ht=ft.options.filter(He);if(Ht.length>0)return{...ft,options:Ht}}else if(t.remote||He(ft))return ft;return null}).filter(ft=>ft!==null))}),D=A(()=>R.value.every(He=>He.disabled)),z=ks(),B=A(()=>z.value==="small"?"small":"default"),V=A(()=>{const He=m.value,ft=B.value||"default",Ht=He?Number.parseInt(getComputedStyle(He).paddingLeft):0,pn=He?Number.parseInt(getComputedStyle(He).paddingRight):0;return i.selectWidth-pn-Ht-uYe[ft]}),O=()=>{var He;u.value=((He=p.value)==null?void 0:He.offsetWidth)||200},F=A(()=>({width:`${i.calculatedWidth===0?lR:Math.ceil(i.calculatedWidth)+lR}px`})),L=A(()=>Qe(t.modelValue)?t.modelValue.length===0&&!i.displayInputValue:t.filterable?i.displayInputValue.length===0:!0),G=A(()=>{const He=t.placeholder||n("el.select.placeholder");return t.multiple||nr(t.modelValue)?He:i.selectedLabel}),Z=A(()=>{var He,ft;return(ft=(He=h.value)==null?void 0:He.popperRef)==null?void 0:ft.contentRef}),j=A(()=>{if(t.multiple){const He=t.modelValue.length;if(t.modelValue.length>0)return R.value.findIndex(ft=>ft.value===t.modelValue[He-1])}else if(t.modelValue)return R.value.findIndex(He=>He.value===t.modelValue);return-1}),J=A({get(){return y.value&&M.value!==!1},set(He){y.value=He}}),{createNewOption:fe,removeNewOption:X,selectNewOption:oe,clearAllNewOption:ee}=aYe(t,i),{handleCompositionStart:Q,handleCompositionUpdate:ie,handleCompositionEnd:pe}=lYe(He=>_n(He)),Re=()=>{var He,ft,Ht;(ft=(He=d.value).focus)==null||ft.call(He),(Ht=h.value)==null||Ht.updatePopper()},K=()=>{if(!t.automaticDropdown&&!w.value)return i.isComposing&&(i.softFocus=!0),nt(()=>{var He,ft;y.value=!y.value,(ft=(He=d.value)==null?void 0:He.focus)==null||ft.call(He)})},re=()=>(t.filterable&&i.inputValue!==i.selectedLabel&&(i.query=i.selectedLabel),Ie(i.inputValue),nt(()=>{fe(i.inputValue)})),we=Xr(re,N.value),Ie=He=>{i.previousQuery!==He&&(i.previousQuery=He,t.filterable&&vt(t.filterMethod)?t.filterMethod(He):t.filterable&&t.remote&&vt(t.remoteMethod)&&t.remoteMethod(He))},De=He=>{Wo(t.modelValue,He)||e(Fn,He)},_e=He=>{e(Ot,He),De(He),i.previousValue=He==null?void 0:He.toString()},ze=(He=[],ft)=>{if(!Bt(ft))return He.indexOf(ft);const Ht=t.valueKey;let pn=-1;return He.some((di,fi)=>Pn(di,Ht)===Pn(ft,Ht)?(pn=fi,!0):!1),pn},Ae=He=>Bt(He)?Pn(He,t.valueKey):He,he=He=>Bt(He)?He.label:He,ve=()=>{if(!(t.collapseTags&&!t.filterable))return nt(()=>{var He,ft;if(!d.value)return;const Ht=m.value;p.value.height=Ht.offsetHeight,y.value&&M.value!==!1&&((ft=(He=h.value)==null?void 0:He.updatePopper)==null||ft.call(He))})},me=()=>{var He,ft;if(Ve(),O(),(ft=(He=h.value)==null?void 0:He.updatePopper)==null||ft.call(He),t.multiple)return ve()},Ve=()=>{const He=m.value;He&&(i.selectWidth=He.getBoundingClientRect().width)},Ye=(He,ft,Ht=!0)=>{var pn,di;if(t.multiple){let fi=t.modelValue.slice();const G2=ze(fi,Ae(He));G2>-1?(fi=[...fi.slice(0,G2),...fi.slice(G2+1)],i.cachedOptions.splice(G2,1),X(He)):(t.multipleLimit<=0||fi.length<t.multipleLimit)&&(fi=[...fi,Ae(He)],i.cachedOptions.push(He),oe(He),Pe(ft)),_e(fi),He.created&&(i.query="",Ie(""),i.inputLength=20),t.filterable&&!t.reserveKeyword&&((di=(pn=d.value).focus)==null||di.call(pn),at("")),t.filterable&&(i.calculatedWidth=g.value.getBoundingClientRect().width),ve(),Ft()}else l.value=ft,i.selectedLabel=He.label,_e(Ae(He)),y.value=!1,i.isComposing=!1,i.isSilentBlur=Ht,oe(He),He.created||ee(),Pe(ft)},Je=(He,ft)=>{const{valueKey:Ht}=t,pn=t.modelValue.indexOf(Pn(ft,Ht));if(pn>-1&&!w.value){const di=[...t.modelValue.slice(0,pn),...t.modelValue.slice(pn+1)];return i.cachedOptions.splice(pn,1),_e(di),e("remove-tag",Pn(ft,Ht)),i.softFocus=!0,X(ft),nt(Re)}He.stopPropagation()},ct=He=>{const ft=i.isComposing;i.isComposing=!0,i.softFocus?i.softFocus=!1:ft||e("focus",He)},xt=He=>(i.softFocus=!1,nt(()=>{var ft,Ht;(Ht=(ft=d.value)==null?void 0:ft.blur)==null||Ht.call(ft),g.value&&(i.calculatedWidth=g.value.getBoundingClientRect().width),i.isSilentBlur?i.isSilentBlur=!1:i.isComposing&&e("blur",He),i.isComposing=!1})),dt=()=>{i.displayInputValue.length>0?at(""):y.value=!1},xe=He=>{if(i.displayInputValue.length===0){He.preventDefault();const ft=t.modelValue.slice();ft.pop(),X(i.cachedOptions.pop()),_e(ft)}},Ke=()=>{let He;return Qe(t.modelValue)?He=[]:He=void 0,i.softFocus=!0,t.multiple?i.cachedOptions=[]:i.selectedLabel="",y.value=!1,_e(He),e("clear"),ee(),nt(Re)},at=He=>{i.displayInputValue=He,i.inputValue=He},Y=(He,ft=void 0)=>{const Ht=R.value;if(!["forward","backward"].includes(He)||w.value||Ht.length<=0||D.value)return;if(!y.value)return K();ft===void 0&&(ft=i.hoveringIndex);let pn=-1;He==="forward"?(pn=ft+1,pn>=Ht.length&&(pn=0)):He==="backward"&&(pn=ft-1,(pn<0||pn>=Ht.length)&&(pn=Ht.length-1));const di=Ht[pn];if(di.disabled||di.type==="Group")return Y(He,pn);Pe(pn),Sn(pn)},de=()=>{if(y.value)~i.hoveringIndex&&R.value[i.hoveringIndex]&&Ye(R.value[i.hoveringIndex],i.hoveringIndex,!1);else return K()},Pe=He=>{i.hoveringIndex=He},We=()=>{i.hoveringIndex=-1},Ft=()=>{var He;const ft=d.value;ft&&((He=ft.focus)==null||He.call(ft))},_n=He=>{const ft=He.target.value;if(at(ft),i.displayInputValue.length>0&&!y.value&&(y.value=!0),i.calculatedWidth=g.value.getBoundingClientRect().width,t.multiple&&ve(),t.remote)we();else return re()},_s=()=>(y.value=!1,xt()),qs=()=>(i.inputValue=i.displayInputValue,nt(()=>{~j.value&&(Pe(j.value),Sn(i.hoveringIndex))})),Sn=He=>{f.value.scrollToItem(He)},sn=()=>{if(We(),t.multiple)if(t.modelValue.length>0){let He=!1;i.cachedOptions.length=0,i.previousValue=t.modelValue.toString(),t.modelValue.forEach(ft=>{const Ht=R.value.findIndex(pn=>Ae(pn)===ft);~Ht&&(i.cachedOptions.push(R.value[Ht]),He||Pe(Ht),He=!0)})}else i.cachedOptions=[],i.previousValue=void 0;else if(_.value){i.previousValue=t.modelValue;const He=R.value,ft=He.findIndex(Ht=>Ae(Ht)===Ae(t.modelValue));~ft?(i.selectedLabel=He[ft].label,Pe(ft)):i.selectedLabel=`${t.modelValue}`}else i.selectedLabel="",i.previousValue=void 0;ee(),O()};return Me(y,He=>{var ft,Ht;e("visible-change",He),He?(Ht=(ft=h.value).update)==null||Ht.call(ft):(i.displayInputValue="",i.previousQuery=null,fe(""))}),Me(()=>t.modelValue,(He,ft)=>{var Ht;(!He||He.toString()!==i.previousValue)&&sn(),!Wo(He,ft)&&t.validateEvent&&((Ht=a==null?void 0:a.validate)==null||Ht.call(a,"change").catch(pn=>void 0))},{deep:!0}),Me(()=>t.options,()=>{const He=d.value;(!He||He&&document.activeElement!==He)&&sn()},{deep:!0}),Me(R,()=>nt(f.value.resetScrollTop)),Et(()=>{sn()}),Dr(p,me),{collapseTagSize:B,currentPlaceholder:G,expanded:y,emptyText:M,popupHeight:b,debounce:N,filteredOptions:R,iconComponent:x,iconReverse:k,inputWrapperStyle:F,popperSize:u,dropdownMenuVisible:J,hasModelValue:_,shouldShowPlaceholder:L,selectDisabled:w,selectSize:z,showClearBtn:$,states:i,tagMaxWidth:V,nsSelectV2:s,nsInput:r,calculatorRef:g,controlRef:c,inputRef:d,menuRef:f,popper:h,selectRef:p,selectionRef:m,popperRef:Z,validateState:C,validateIcon:T,debouncedOnInputChange:we,deleteTag:Je,getLabel:he,getValueKey:Ae,handleBlur:xt,handleClear:Ke,handleClickOutside:_s,handleDel:xe,handleEsc:dt,handleFocus:ct,handleMenuEnter:qs,handleResize:me,toggleMenu:K,scrollTo:Sn,onInput:_n,onKeyboardNavigate:Y,onKeyboardSelect:de,onSelect:Ye,onHover:Pe,onUpdateInputValue:at,handleCompositionStart:Q,handleCompositionEnd:pe,handleCompositionUpdate:ie}},dYe=ue({name:"ElSelectV2",components:{ElSelectMenu:oYe,ElTag:xw,ElTooltip:No,ElIcon:rt},directives:{ClickOutside:Ku,ModelText:aC},props:QXe,emits:[Ot,Fn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=A(()=>{const{modelValue:r,multiple:o}=t,a=o?[]:void 0;return Qe(r)?o?r:a:o?a:r}),s=cYe(on({...Ps(t),modelValue:n}),e);return Lt(C7,{props:on({...Ps(t),height:s.popupHeight,modelValue:n}),popper:s.popper,onSelect:s.onSelect,onHover:s.onHover,onKeyboardNavigate:s.onKeyboardNavigate,onKeyboardSelect:s.onKeyboardSelect}),{...s,modelValue:n}}}),fYe={key:0},hYe=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],pYe=["textContent"],mYe=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],gYe=["textContent"];function vYe(t,e,n,s,r,o){const a=pt("el-tag"),i=pt("el-tooltip"),l=pt("el-icon"),u=pt("el-select-menu"),c=rh("model-text"),d=rh("click-outside");return St((S(),I("div",{ref:"selectRef",class:P([t.nsSelectV2.b(),t.nsSelectV2.m(t.selectSize)]),onClick:e[25]||(e[25]=yt((...f)=>t.toggleMenu&&t.toggleMenu(...f),["stop"])),onMouseenter:e[26]||(e[26]=f=>t.states.comboBoxHovering=!0),onMouseleave:e[27]||(e[27]=f=>t.states.comboBoxHovering=!1)},[se(i,{ref:"popper",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelectV2.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[24]||(e[24]=f=>t.states.inputValue=t.states.displayInputValue)},{default:ce(()=>{var f;return[E("div",{ref:"selectionRef",class:P([t.nsSelectV2.e("wrapper"),t.nsSelectV2.is("focused",t.states.isComposing||t.expanded),t.nsSelectV2.is("hovering",t.states.comboBoxHovering),t.nsSelectV2.is("filterable",t.filterable),t.nsSelectV2.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(S(),I("div",fYe,[Oe(t.$slots,"prefix")])):ge("v-if",!0),t.multiple?(S(),I("div",{key:1,class:P(t.nsSelectV2.e("selection"))},[t.collapseTags&&t.modelValue.length>0?(S(),I("div",{key:0,class:P(t.nsSelectV2.e("selected-item"))},[se(a,{closable:!t.selectDisabled&&!((f=t.states.cachedOptions[0])!=null&&f.disable),size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:e[0]||(e[0]=h=>t.deleteTag(h,t.states.cachedOptions[0]))},{default:ce(()=>{var h;return[E("span",{class:P(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},Ue((h=t.states.cachedOptions[0])==null?void 0:h.label),7)]}),_:1},8,["closable","size"]),t.modelValue.length>1?(S(),$e(a,{key:0,closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""},{default:ce(()=>[t.collapseTagsTooltip?(S(),$e(i,{key:0,disabled:t.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:!1},{default:ce(()=>[E("span",{class:P(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Ue(t.modelValue.length-1),7)]),content:ce(()=>[E("div",{class:P(t.nsSelectV2.e("selection"))},[(S(!0),I(lt,null,Gt(t.states.cachedOptions.slice(1),(h,p)=>(S(),I("div",{key:p,class:P(t.nsSelectV2.e("selected-item"))},[(S(),$e(a,{key:t.getValueKey(h),closable:!t.selectDisabled&&!h.disabled,size:t.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:m=>t.deleteTag(m,h)},{default:ce(()=>[E("span",{class:P(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},Ue(t.getLabel(h)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(S(),I("span",{key:1,class:P(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Ue(t.modelValue.length-1),7))]),_:1},8,["size"])):ge("v-if",!0)],2)):(S(!0),I(lt,{key:1},Gt(t.states.cachedOptions,(h,p)=>(S(),I("div",{key:p,class:P(t.nsSelectV2.e("selected-item"))},[(S(),$e(a,{key:t.getValueKey(h),closable:!t.selectDisabled&&!h.disabled,size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:m=>t.deleteTag(m,h)},{default:ce(()=>[E("span",{class:P(t.nsSelectV2.e("tags-text")),style:ot({maxWidth:`${t.tagMaxWidth}px`})},Ue(t.getLabel(h)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),E("div",{class:P([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")]),style:ot(t.inputWrapperStyle)},[St(E("input",{id:t.id,ref:"inputRef",autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-labelledby":t.label,class:P([t.nsSelectV2.is(t.selectSize),t.nsSelectV2.e("combobox-input")]),disabled:t.disabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,unselectable:t.expanded?"on":void 0,"onUpdate:modelValue":e[1]||(e[1]=(...h)=>t.onUpdateInputValue&&t.onUpdateInputValue(...h)),onFocus:e[2]||(e[2]=(...h)=>t.handleFocus&&t.handleFocus(...h)),onBlur:e[3]||(e[3]=(...h)=>t.handleBlur&&t.handleBlur(...h)),onInput:e[4]||(e[4]=(...h)=>t.onInput&&t.onInput(...h)),onCompositionstart:e[5]||(e[5]=(...h)=>t.handleCompositionStart&&t.handleCompositionStart(...h)),onCompositionupdate:e[6]||(e[6]=(...h)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...h)),onCompositionend:e[7]||(e[7]=(...h)=>t.handleCompositionEnd&&t.handleCompositionEnd(...h)),onKeydown:[e[8]||(e[8]=qt(yt(h=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[9]||(e[9]=qt(yt(h=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[10]||(e[10]=qt(yt((...h)=>t.onKeyboardSelect&&t.onKeyboardSelect(...h),["stop","prevent"]),["enter"])),e[11]||(e[11]=qt(yt((...h)=>t.handleEsc&&t.handleEsc(...h),["stop","prevent"]),["esc"])),e[12]||(e[12]=qt(yt((...h)=>t.handleDel&&t.handleDel(...h),["stop"]),["delete"]))]},null,42,hYe),[[c,t.states.displayInputValue]]),t.filterable?(S(),I("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:P(t.nsSelectV2.e("input-calculator")),textContent:Ue(t.states.displayInputValue)},null,10,pYe)):ge("v-if",!0)],6)],2)):(S(),I(lt,{key:2},[E("div",{class:P([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")])},[St(E("input",{id:t.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":t.label,"aria-expanded":t.expanded,autocapitalize:"off",autocomplete:t.autocomplete,class:P(t.nsSelectV2.e("combobox-input")),disabled:t.disabled,name:t.name,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",unselectable:t.expanded?"on":void 0,onCompositionstart:e[13]||(e[13]=(...h)=>t.handleCompositionStart&&t.handleCompositionStart(...h)),onCompositionupdate:e[14]||(e[14]=(...h)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...h)),onCompositionend:e[15]||(e[15]=(...h)=>t.handleCompositionEnd&&t.handleCompositionEnd(...h)),onFocus:e[16]||(e[16]=(...h)=>t.handleFocus&&t.handleFocus(...h)),onBlur:e[17]||(e[17]=(...h)=>t.handleBlur&&t.handleBlur(...h)),onInput:e[18]||(e[18]=(...h)=>t.onInput&&t.onInput(...h)),onKeydown:[e[19]||(e[19]=qt(yt(h=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[20]||(e[20]=qt(yt(h=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[21]||(e[21]=qt(yt((...h)=>t.onKeyboardSelect&&t.onKeyboardSelect(...h),["stop","prevent"]),["enter"])),e[22]||(e[22]=qt(yt((...h)=>t.handleEsc&&t.handleEsc(...h),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[23]||(e[23]=(...h)=>t.onUpdateInputValue&&t.onUpdateInputValue(...h))},null,42,mYe),[[c,t.states.displayInputValue]])],2),t.filterable?(S(),I("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:P([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-calculator")]),textContent:Ue(t.states.displayInputValue)},null,10,gYe)):ge("v-if",!0)],64)),t.shouldShowPlaceholder?(S(),I("span",{key:3,class:P([t.nsSelectV2.e("placeholder"),t.nsSelectV2.is("transparent",t.multiple?t.modelValue.length===0:!t.hasModelValue)])},Ue(t.currentPlaceholder),3)):ge("v-if",!0),E("span",{class:P(t.nsSelectV2.e("suffix"))},[t.iconComponent?St((S(),$e(l,{key:0,class:P([t.nsSelectV2.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:ce(()=>[(S(),$e(Vt(t.iconComponent)))]),_:1},8,["class"])),[[Qt,!t.showClearBtn]]):ge("v-if",!0),t.showClearBtn&&t.clearIcon?(S(),$e(l,{key:1,class:P([t.nsSelectV2.e("caret"),t.nsInput.e("icon")]),onClick:yt(t.handleClear,["prevent","stop"])},{default:ce(()=>[(S(),$e(Vt(t.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0),t.validateState&&t.validateIcon?(S(),$e(l,{key:2,class:P([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ce(()=>[(S(),$e(Vt(t.validateIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)]}),content:ce(()=>[se(u,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},{default:ce(f=>[Oe(t.$slots,"default",Wa(Yb(f)))]),empty:ce(()=>[Oe(t.$slots,"empty",{},()=>[E("p",{class:P(t.nsSelectV2.e("empty"))},Ue(t.emptyText?t.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[d,t.handleClickOutside,t.popperRef]])}var ny=je(dYe,[["render",vYe],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);ny.install=t=>{t.component(ny.name,ny)};const yYe=ny,bYe=yYe,wYe=qe({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),_Ye=qe({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),$Ye=ue({name:"ElSkeletonItem"}),xYe=ue({...$Ye,props:_Ye,setup(t){const e=Fe("skeleton");return(n,s)=>(S(),I("div",{class:P([v(e).e("item"),v(e).e(n.variant)])},[n.variant==="image"?(S(),$e(v(yP),{key:0})):ge("v-if",!0)],2))}});var Vy=je(xYe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const SYe=ue({name:"ElSkeleton"}),CYe=ue({...SYe,props:wYe,setup(t,{expose:e}){const n=t,s=Fe("skeleton"),r=nFe(Un(n,"loading"),n.throttle);return e({uiLoading:r}),(o,a)=>v(r)?(S(),I("div",zt({key:0,class:[v(s).b(),v(s).is("animated",o.animated)]},o.$attrs),[(S(!0),I(lt,null,Gt(o.count,i=>(S(),I(lt,{key:i},[o.loading?Oe(o.$slots,"template",{key:i},()=>[se(Vy,{class:P(v(s).is("first")),variant:"p"},null,8,["class"]),(S(!0),I(lt,null,Gt(o.rows,l=>(S(),$e(Vy,{key:l,class:P([v(s).e("paragraph"),v(s).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):ge("v-if",!0)],64))),128))],16)):Oe(o.$slots,"default",Wa(zt({key:1},o.$attrs)))}});var kYe=je(CYe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const TYe=Dt(kYe,{SkeletonItem:Vy}),NYe=ns(Vy),EYe=qe({modelValue:{type:Se([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:wo,inputSize:wo,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Se(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Se(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Qd,default:"top"},marks:{type:Se(Object)},validateEvent:{type:Boolean,default:!0}}),r$=t=>Ct(t)||Qe(t)&&t.every(Ct),IYe={[Ot]:r$,[jr]:r$,[Fn]:r$},AYe=(t,e,n)=>{const s=U();return Et(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),Rn(window,"resize",n),await nt(),n()}),{sliderWrapper:s}},OYe=t=>A(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,s)=>n-s).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),RYe=(t,e,n)=>{const{form:s,formItem:r}=to(),o=Nn(),a=U(),i=U(),l={firstButton:a,secondButton:i},u=A(()=>t.disabled||(s==null?void 0:s.disabled)||!1),c=A(()=>Math.min(e.firstValue,e.secondValue)),d=A(()=>Math.max(e.firstValue,e.secondValue)),f=A(()=>t.range?`${100*(d.value-c.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),h=A(()=>t.range?`${100*(c.value-t.min)/(t.max-t.min)}%`:"0%"),p=A(()=>t.vertical?{height:t.height}:{}),m=A(()=>t.vertical?{height:f.value,bottom:h.value}:{width:f.value,left:h.value}),g=()=>{o.value&&(e.sliderSize=o.value[`client${t.vertical?"Height":"Width"}`])},y=M=>{const R=t.min+M*(t.max-t.min)/100;if(!t.range)return a;let D;return Math.abs(c.value-R)<Math.abs(d.value-R)?D=e.firstValue<e.secondValue?"firstButton":"secondButton":D=e.firstValue>e.secondValue?"firstButton":"secondButton",l[D]},w=M=>{const R=y(M);return R.value.setPosition(M),R},b=M=>{e.firstValue=M,$(t.range?[c.value,d.value]:M)},_=M=>{e.secondValue=M,t.range&&$([c.value,d.value])},$=M=>{n(Ot,M),n(jr,M)},x=async()=>{await nt(),n(Fn,t.range?[c.value,d.value]:t.modelValue)},k=M=>{var R,D,z,B,V,O;if(u.value||e.dragging)return;g();let F=0;if(t.vertical){const L=(z=(D=(R=M.touches)==null?void 0:R.item(0))==null?void 0:D.clientY)!=null?z:M.clientY;F=(o.value.getBoundingClientRect().bottom-L)/e.sliderSize*100}else{const L=(O=(V=(B=M.touches)==null?void 0:B.item(0))==null?void 0:V.clientX)!=null?O:M.clientX,G=o.value.getBoundingClientRect().left;F=(L-G)/e.sliderSize*100}if(!(F<0||F>100))return w(F)};return{elFormItem:r,slider:o,firstButton:a,secondButton:i,sliderDisabled:u,minValue:c,maxValue:d,runwayStyle:p,barStyle:m,resetSize:g,setPosition:w,emitChange:x,onSliderWrapperPrevent:M=>{var R,D;(((R=l.firstButton.value)==null?void 0:R.dragging)||((D=l.secondButton.value)==null?void 0:D.dragging))&&M.preventDefault()},onSliderClick:M=>{k(M)&&x()},onSliderDown:async M=>{const R=k(M);R&&(await nt(),R.value.onButtonDown(M))},setFirstValue:b,setSecondValue:_}},{left:DYe,down:FYe,right:MYe,up:PYe,home:LYe,end:zYe,pageUp:BYe,pageDown:VYe}=ut,HYe=(t,e,n)=>{const s=U(),r=U(!1),o=A(()=>e.value instanceof Function),a=A(()=>o.value&&e.value(t.modelValue)||t.modelValue),i=Xr(()=>{n.value&&(r.value=!0)},50),l=Xr(()=>{n.value&&(r.value=!1)},50);return{tooltip:s,tooltipVisible:r,formatValue:a,displayTooltip:i,hideTooltip:l}},WYe=(t,e,n)=>{const{disabled:s,min:r,max:o,step:a,showTooltip:i,precision:l,sliderSize:u,formatTooltip:c,emitChange:d,resetSize:f,updateDragging:h}=et(WP),{tooltip:p,tooltipVisible:m,formatValue:g,displayTooltip:y,hideTooltip:w}=HYe(t,c,i),b=U(),_=A(()=>`${(t.modelValue-r.value)/(o.value-r.value)*100}%`),$=A(()=>t.vertical?{bottom:_.value}:{left:_.value}),x=()=>{e.hovering=!0,y()},k=()=>{e.hovering=!1,e.dragging||w()},C=j=>{s.value||(j.preventDefault(),F(j),window.addEventListener("mousemove",L),window.addEventListener("touchmove",L),window.addEventListener("mouseup",G),window.addEventListener("touchend",G),window.addEventListener("contextmenu",G),b.value.focus())},T=j=>{s.value||(e.newPosition=Number.parseFloat(_.value)+j/(o.value-r.value)*100,Z(e.newPosition),d())},N=()=>{T(-a.value)},M=()=>{T(a.value)},R=()=>{T(-a.value*4)},D=()=>{T(a.value*4)},z=()=>{s.value||(Z(0),d())},B=()=>{s.value||(Z(100),d())},V=j=>{let J=!0;[DYe,FYe].includes(j.key)?N():[MYe,PYe].includes(j.key)?M():j.key===LYe?z():j.key===zYe?B():j.key===VYe?R():j.key===BYe?D():J=!1,J&&j.preventDefault()},O=j=>{let J,fe;return j.type.startsWith("touch")?(fe=j.touches[0].clientY,J=j.touches[0].clientX):(fe=j.clientY,J=j.clientX),{clientX:J,clientY:fe}},F=j=>{e.dragging=!0,e.isClick=!0;const{clientX:J,clientY:fe}=O(j);t.vertical?e.startY=fe:e.startX=J,e.startPosition=Number.parseFloat(_.value),e.newPosition=e.startPosition},L=j=>{if(e.dragging){e.isClick=!1,y(),f();let J;const{clientX:fe,clientY:X}=O(j);t.vertical?(e.currentY=X,J=(e.startY-e.currentY)/u.value*100):(e.currentX=fe,J=(e.currentX-e.startX)/u.value*100),e.newPosition=e.startPosition+J,Z(e.newPosition)}},G=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||w(),e.isClick||Z(e.newPosition),d()},0),window.removeEventListener("mousemove",L),window.removeEventListener("touchmove",L),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G),window.removeEventListener("contextmenu",G))},Z=async j=>{if(j===null||Number.isNaN(+j))return;j<0?j=0:j>100&&(j=100);const J=100/((o.value-r.value)/a.value);let X=Math.round(j/J)*J*(o.value-r.value)*.01+r.value;X=Number.parseFloat(X.toFixed(l.value)),X!==t.modelValue&&n(Ot,X),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await nt(),e.dragging&&y(),p.value.updatePopper()};return Me(()=>e.dragging,j=>{h(j)}),{disabled:s,button:b,tooltip:p,tooltipVisible:m,showTooltip:i,wrapperStyle:$,formatValue:g,handleMouseEnter:x,handleMouseLeave:k,onButtonDown:C,onKeyDown:V,setPosition:Z}},UYe=(t,e,n,s)=>({stops:A(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const a=(t.max-t.min)/t.step,i=100*t.step/(t.max-t.min),l=Array.from({length:a-1}).map((u,c)=>(c+1)*i);return t.range?l.filter(u=>u<100*(n.value-t.min)/(t.max-t.min)||u>100*(s.value-t.min)/(t.max-t.min)):l.filter(u=>u>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:a=>t.vertical?{bottom:`${a}%`}:{left:`${a}%`}}),GYe=(t,e,n,s,r,o)=>{const a=u=>{r(Ot,u),r(jr,u)},i=()=>t.range?![n.value,s.value].every((u,c)=>u===e.oldValue[c]):t.modelValue!==e.oldValue,l=()=>{var u,c;if(t.min>t.max){Ls("Slider","min should not be greater than max.");return}const d=t.modelValue;t.range&&Array.isArray(d)?d[1]<t.min?a([t.min,t.min]):d[0]>t.max?a([t.max,t.max]):d[0]<t.min?a([t.min,d[1]]):d[1]>t.max?a([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],i()&&(t.validateEvent&&((u=o==null?void 0:o.validate)==null||u.call(o,"change").catch(f=>void 0)),e.oldValue=d.slice())):!t.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<t.min?a(t.min):d>t.max?a(t.max):(e.firstValue=d,i()&&(t.validateEvent&&((c=o==null?void 0:o.validate)==null||c.call(o,"change").catch(f=>void 0)),e.oldValue=d)))};l(),Me(()=>e.dragging,u=>{u||l()}),Me(()=>t.modelValue,(u,c)=>{e.dragging||Array.isArray(u)&&Array.isArray(c)&&u.every((d,f)=>d===c[f])&&e.firstValue===u[0]&&e.secondValue===u[1]||l()},{deep:!0}),Me(()=>[t.min,t.max],()=>{l()})},jYe=qe({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Qd,default:"top"}}),KYe={[Ot]:t=>Ct(t)},qYe=["tabindex"],XYe=ue({name:"ElSliderButton"}),YYe=ue({...XYe,props:jYe,emits:KYe,setup(t,{expose:e,emit:n}){const s=t,r=Fe("slider"),o=on({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:s.modelValue}),{disabled:a,button:i,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:d,formatValue:f,handleMouseEnter:h,handleMouseLeave:p,onButtonDown:m,onKeyDown:g,setPosition:y}=WYe(s,o,n),{hovering:w,dragging:b}=Ps(o);return e({onButtonDown:m,onKeyDown:g,setPosition:y,hovering:w,dragging:b}),(_,$)=>(S(),I("div",{ref_key:"button",ref:i,class:P([v(r).e("button-wrapper"),{hover:v(w),dragging:v(b)}]),style:ot(v(d)),tabindex:v(a)?-1:0,onMouseenter:$[0]||($[0]=(...x)=>v(h)&&v(h)(...x)),onMouseleave:$[1]||($[1]=(...x)=>v(p)&&v(p)(...x)),onMousedown:$[2]||($[2]=(...x)=>v(m)&&v(m)(...x)),onTouchstart:$[3]||($[3]=(...x)=>v(m)&&v(m)(...x)),onFocus:$[4]||($[4]=(...x)=>v(h)&&v(h)(...x)),onBlur:$[5]||($[5]=(...x)=>v(p)&&v(p)(...x)),onKeydown:$[6]||($[6]=(...x)=>v(g)&&v(g)(...x))},[se(v(No),{ref_key:"tooltip",ref:l,visible:v(c),placement:_.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":_.tooltipClass,disabled:!v(u),persistent:""},{content:ce(()=>[E("span",null,Ue(v(f)),1)]),default:ce(()=>[E("div",{class:P([v(r).e("button"),{hover:v(w),dragging:v(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,qYe))}});var uR=je(YYe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const ZYe=qe({mark:{type:Se([String,Object]),default:void 0}});var JYe=ue({name:"ElSliderMarker",props:ZYe,setup(t){const e=Fe("slider"),n=A(()=>wt(t.mark)?t.mark:t.mark.label),s=A(()=>wt(t.mark)?void 0:t.mark.style);return()=>it("div",{class:e.e("marks-text"),style:s.value},n.value)}});const QYe=["id","role","aria-label","aria-labelledby"],eZe={key:1},tZe=ue({name:"ElSlider"}),nZe=ue({...tZe,props:EYe,emits:IYe,setup(t,{expose:e,emit:n}){const s=t,r=Fe("slider"),{t:o}=nn(),a=on({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:l,firstButton:u,secondButton:c,sliderDisabled:d,minValue:f,maxValue:h,runwayStyle:p,barStyle:m,resetSize:g,emitChange:y,onSliderWrapperPrevent:w,onSliderClick:b,onSliderDown:_,setFirstValue:$,setSecondValue:x}=RYe(s,a,n),{stops:k,getStopStyle:C}=UYe(s,a,f,h),{inputId:T,isLabeledByFormItem:N}=ic(s,{formItemContext:i}),M=ks(),R=A(()=>s.inputSize||M.value),D=A(()=>s.label||o("el.slider.defaultLabel",{min:s.min,max:s.max})),z=A(()=>s.range?s.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):D.value),B=A(()=>s.formatValueText?s.formatValueText(j.value):`${j.value}`),V=A(()=>s.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),O=A(()=>s.formatValueText?s.formatValueText(J.value):`${J.value}`),F=A(()=>[r.b(),r.m(M.value),r.is("vertical",s.vertical),{[r.m("with-input")]:s.showInput}]),L=OYe(s);GYe(s,a,f,h,n,i);const G=A(()=>{const oe=[s.min,s.max,s.step].map(ee=>{const Q=`${ee}`.split(".")[1];return Q?Q.length:0});return Math.max.apply(null,oe)}),{sliderWrapper:Z}=AYe(s,a,g),{firstValue:j,secondValue:J,sliderSize:fe}=Ps(a),X=oe=>{a.dragging=oe};return Lt(WP,{...Ps(s),sliderSize:fe,disabled:d,precision:G,emitChange:y,resetSize:g,updateDragging:X}),e({onSliderClick:b}),(oe,ee)=>{var Q,ie;return S(),I("div",{id:oe.range?v(T):void 0,ref_key:"sliderWrapper",ref:Z,class:P(v(F)),role:oe.range?"group":void 0,"aria-label":oe.range&&!v(N)?v(D):void 0,"aria-labelledby":oe.range&&v(N)?(Q=v(i))==null?void 0:Q.labelId:void 0,onTouchstart:ee[2]||(ee[2]=(...pe)=>v(w)&&v(w)(...pe)),onTouchmove:ee[3]||(ee[3]=(...pe)=>v(w)&&v(w)(...pe))},[E("div",{ref_key:"slider",ref:l,class:P([v(r).e("runway"),{"show-input":oe.showInput&&!oe.range},v(r).is("disabled",v(d))]),style:ot(v(p)),onMousedown:ee[0]||(ee[0]=(...pe)=>v(_)&&v(_)(...pe)),onTouchstart:ee[1]||(ee[1]=(...pe)=>v(_)&&v(_)(...pe))},[E("div",{class:P(v(r).e("bar")),style:ot(v(m))},null,6),se(uR,{id:oe.range?void 0:v(T),ref_key:"firstButton",ref:u,"model-value":v(j),vertical:oe.vertical,"tooltip-class":oe.tooltipClass,placement:oe.placement,role:"slider","aria-label":oe.range||!v(N)?v(z):void 0,"aria-labelledby":!oe.range&&v(N)?(ie=v(i))==null?void 0:ie.labelId:void 0,"aria-valuemin":oe.min,"aria-valuemax":oe.range?v(J):oe.max,"aria-valuenow":v(j),"aria-valuetext":v(B),"aria-orientation":oe.vertical?"vertical":"horizontal","aria-disabled":v(d),"onUpdate:modelValue":v($)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),oe.range?(S(),$e(uR,{key:0,ref_key:"secondButton",ref:c,"model-value":v(J),vertical:oe.vertical,"tooltip-class":oe.tooltipClass,placement:oe.placement,role:"slider","aria-label":v(V),"aria-valuemin":v(j),"aria-valuemax":oe.max,"aria-valuenow":v(J),"aria-valuetext":v(O),"aria-orientation":oe.vertical?"vertical":"horizontal","aria-disabled":v(d),"onUpdate:modelValue":v(x)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ge("v-if",!0),oe.showStops?(S(),I("div",eZe,[(S(!0),I(lt,null,Gt(v(k),(pe,Re)=>(S(),I("div",{key:Re,class:P(v(r).e("stop")),style:ot(v(C)(pe))},null,6))),128))])):ge("v-if",!0),v(L).length>0?(S(),I(lt,{key:2},[E("div",null,[(S(!0),I(lt,null,Gt(v(L),(pe,Re)=>(S(),I("div",{key:Re,style:ot(v(C)(pe.position)),class:P([v(r).e("stop"),v(r).e("marks-stop")])},null,6))),128))]),E("div",{class:P(v(r).e("marks"))},[(S(!0),I(lt,null,Gt(v(L),(pe,Re)=>(S(),$e(v(JYe),{key:Re,mark:pe.mark,style:ot(v(C)(pe.position))},null,8,["mark","style"]))),128))],2)],64)):ge("v-if",!0)],38),oe.showInput&&!oe.range?(S(),$e(v(e7),{key:0,ref:"input","model-value":v(j),class:P(v(r).e("input")),step:oe.step,disabled:v(d),controls:oe.showInputControls,min:oe.min,max:oe.max,debounce:oe.debounce,size:v(R),"onUpdate:modelValue":v($),onChange:v(y)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):ge("v-if",!0)],42,QYe)}}});var sZe=je(nZe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const rZe=Dt(sZe),oZe=qe({prefixCls:{type:String}}),cR=ue({name:"ElSpaceItem",props:oZe,setup(t,{slots:e}){const n=Fe("space"),s=A(()=>`${t.prefixCls||n.b()}__item`);return()=>it("div",{class:s.value},Oe(e,"default"))}}),dR={small:8,default:12,large:16};function aZe(t){const e=Fe("space"),n=A(()=>[e.b(),e.m(t.direction),t.class]),s=U(0),r=U(0),o=A(()=>{const i=t.wrap||t.fill?{flexWrap:"wrap",marginBottom:`-${r.value}px`}:{},l={alignItems:t.alignment};return[i,l,t.style]}),a=A(()=>{const i={paddingBottom:`${r.value}px`,marginRight:`${s.value}px`},l=t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{};return[i,l]});return Ho(()=>{const{size:i="small",wrap:l,direction:u,fill:c}=t;if(Qe(i)){const[d=0,f=0]=i;s.value=d,r.value=f}else{let d;Ct(i)?d=i:d=dR[i||"small"]||dR.small,(l||c)&&u==="horizontal"?s.value=r.value=d:u==="horizontal"?(s.value=d,r.value=0):(r.value=d,s.value=0)}}),{classes:n,containerStyle:o,itemStyle:a}}const iZe=qe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Se([String,Object,Array]),default:""},style:{type:Se([String,Array,Object]),default:""},alignment:{type:Se(String),default:"center"},prefixCls:{type:String},spacer:{type:Se([Object,String,Number,Array]),default:null,validator:t=>Bn(t)||Ct(t)||wt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Hl,validator:t=>Ct(t)||Qe(t)&&t.length===2&&t.every(Ct)}}),lZe=ue({name:"ElSpace",props:iZe,setup(t,{slots:e}){const{classes:n,containerStyle:s,itemStyle:r}=aZe(t);function o(a,i="",l=[]){const{prefixCls:u}=t;return a.forEach((c,d)=>{d6(c)?Qe(c.children)&&c.children.forEach((f,h)=>{d6(f)&&Qe(f.children)?o(f.children,`${i+h}-`,l):l.push(se(cR,{style:r.value,prefixCls:u,key:`nested-${i+h}`},{default:()=>[f]},ra.PROPS|ra.STYLE,["style","prefixCls"]))}):L9e(c)&&l.push(se(cR,{style:r.value,prefixCls:u,key:`LoopKey${i+d}`},{default:()=>[c]},ra.PROPS|ra.STYLE,["style","prefixCls"]))}),l}return()=>{var a;const{spacer:i,direction:l}=t,u=Oe(e,"default",{key:0},()=>[]);if(((a=u.children)!=null?a:[]).length===0)return null;if(Qe(u.children)){let c=o(u.children);if(i){const d=c.length-1;c=c.reduce((f,h,p)=>{const m=[...f,h];return p!==d&&m.push(se("span",{style:[r.value,l==="vertical"?"width: 100%":null],key:p},[Bn(i)?i:Jt(i,ra.TEXT)],ra.STYLE)),m},[])}return se("div",{class:n.value,style:s.value},c,ra.STYLE|ra.CLASS)}return u.children}}}),uZe=Dt(lZe),cZe=qe({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),dZe={[Fn]:(t,e)=>[t,e].every(Ct)},fZe=ue({name:"ElSteps"}),hZe=ue({...fZe,props:cZe,emits:dZe,setup(t,{emit:e}){const n=t,s=Fe("steps"),r=U([]);return Me(r,()=>{r.value.forEach((o,a)=>{o.setIndex(a)})}),Lt("ElSteps",{props:n,steps:r}),Me(()=>n.active,(o,a)=>{e(Fn,o,a)}),(o,a)=>(S(),I("div",{class:P([v(s).b(),v(s).m(o.simple?"simple":o.direction)])},[Oe(o.$slots,"default")],2))}});var pZe=je(hZe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/steps.vue"]]);const mZe=qe({title:{type:String,default:""},icon:{type:En},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),gZe=ue({name:"ElStep"}),vZe=ue({...gZe,props:mZe,setup(t){const e=t,n=Fe("step"),s=U(-1),r=U({}),o=U(""),a=et("ElSteps"),i=Rt();Et(()=>{Me([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([$])=>{b($)},{immediate:!0})}),ts(()=>{a.steps.value=a.steps.value.filter($=>$.uid!==(i==null?void 0:i.uid))});const l=A(()=>e.status||o.value),u=A(()=>{const $=a.steps.value[s.value-1];return $?$.currentStatus:"wait"}),c=A(()=>a.props.alignCenter),d=A(()=>a.props.direction==="vertical"),f=A(()=>a.props.simple),h=A(()=>a.steps.value.length),p=A(()=>{var $;return(($=a.steps.value[h.value-1])==null?void 0:$.uid)===(i==null?void 0:i.uid)}),m=A(()=>f.value?"":a.props.space),g=A(()=>{const $={flexBasis:typeof m.value=="number"?`${m.value}px`:m.value?m.value:`${100/(h.value-(c.value?0:1))}%`};return d.value||p.value&&($.maxWidth=`${100/h.value}%`),$}),y=$=>{s.value=$},w=$=>{let x=100;const k={};k.transitionDelay=`${150*s.value}ms`,$===a.props.processStatus?x=0:$==="wait"&&(x=0,k.transitionDelay=`${-150*s.value}ms`),k.borderWidth=x&&!f.value?"1px":0,k[a.props.direction==="vertical"?"height":"width"]=`${x}%`,r.value=k},b=$=>{$>s.value?o.value=a.props.finishStatus:$===s.value&&u.value!=="error"?o.value=a.props.processStatus:o.value="wait";const x=a.steps.value[s.value-1];x&&x.calcProgress(o.value)},_=on({uid:A(()=>i==null?void 0:i.uid),currentStatus:l,setIndex:y,calcProgress:w});return a.steps.value=[...a.steps.value,_],($,x)=>(S(),I("div",{style:ot(v(g)),class:P([v(n).b(),v(n).is(v(f)?"simple":v(a).props.direction),v(n).is("flex",v(p)&&!v(m)&&!v(c)),v(n).is("center",v(c)&&!v(d)&&!v(f))])},[ge(" icon & line "),E("div",{class:P([v(n).e("head"),v(n).is(v(l))])},[v(f)?ge("v-if",!0):(S(),I("div",{key:0,class:P(v(n).e("line"))},[E("i",{class:P(v(n).e("line-inner")),style:ot(r.value)},null,6)],2)),E("div",{class:P([v(n).e("icon"),v(n).is($.icon||$.$slots.icon?"icon":"text")])},[Oe($.$slots,"icon",{},()=>[$.icon?(S(),$e(v(rt),{key:0,class:P(v(n).e("icon-inner"))},{default:ce(()=>[(S(),$e(Vt($.icon)))]),_:1},8,["class"])):v(l)==="success"?(S(),$e(v(rt),{key:1,class:P([v(n).e("icon-inner"),v(n).is("status")])},{default:ce(()=>[se(v(Jh))]),_:1},8,["class"])):v(l)==="error"?(S(),$e(v(rt),{key:2,class:P([v(n).e("icon-inner"),v(n).is("status")])},{default:ce(()=>[se(v(xa))]),_:1},8,["class"])):v(f)?ge("v-if",!0):(S(),I("div",{key:3,class:P(v(n).e("icon-inner"))},Ue(s.value+1),3))])],2)],2),ge(" title & description "),E("div",{class:P(v(n).e("main"))},[E("div",{class:P([v(n).e("title"),v(n).is(v(l))])},[Oe($.$slots,"title",{},()=>[Jt(Ue($.title),1)])],2),v(f)?(S(),I("div",{key:0,class:P(v(n).e("arrow"))},null,2)):(S(),I("div",{key:1,class:P([v(n).e("description"),v(n).is(v(l))])},[Oe($.$slots,"description",{},()=>[Jt(Ue($.description),1)])],2))],2)],6))}});var k7=je(vZe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const yZe=Dt(pZe,{Step:k7}),bZe=ns(k7),wZe=qe({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:En},inactiveIcon:{type:En},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Se(Function)},size:{type:String,validator:Qh},tabindex:{type:[String,Number]}}),_Ze={[Ot]:t=>Rs(t)||wt(t)||Ct(t),[Fn]:t=>Rs(t)||wt(t)||Ct(t),[jr]:t=>Rs(t)||wt(t)||Ct(t)},$Ze=["onClick"],xZe=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],SZe=["aria-hidden"],CZe=["aria-hidden"],kZe=["aria-hidden"],G6="ElSwitch",TZe=ue({name:G6}),NZe=ue({...TZe,props:wZe,emits:_Ze,setup(t,{expose:e,emit:n}){const s=t,r=Rt(),{formItem:o}=to(),a=ks(),i=Fe("switch");Sl({from:'"value"',replacement:'"model-value" or "v-model"',scope:G6,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},A(()=>{var $;return!!(($=r.vnode.props)!=null&&$.value)}));const{inputId:l}=ic(s,{formItemContext:o}),u=To(A(()=>s.loading)),c=U(s.modelValue!==!1),d=U(),f=U(),h=A(()=>[i.b(),i.m(a.value),i.is("disabled",u.value),i.is("checked",g.value)]),p=A(()=>({width:Cs(s.width)}));Me(()=>s.modelValue,()=>{c.value=!0}),Me(()=>s.value,()=>{c.value=!1});const m=A(()=>c.value?s.modelValue:s.value),g=A(()=>m.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(m.value)||(n(Ot,s.inactiveValue),n(Fn,s.inactiveValue),n(jr,s.inactiveValue)),Me(g,$=>{var x;d.value.checked=$,s.validateEvent&&((x=o==null?void 0:o.validate)==null||x.call(o,"change").catch(k=>void 0))});const y=()=>{const $=g.value?s.inactiveValue:s.activeValue;n(Ot,$),n(Fn,$),n(jr,$),nt(()=>{d.value.checked=g.value})},w=()=>{if(u.value)return;const{beforeChange:$}=s;if(!$){y();return}const x=$();[b0(x),Rs(x)].includes(!0)||Ls(G6,"beforeChange must return type `Promise<boolean>` or `boolean`"),b0(x)?x.then(C=>{C&&y()}).catch(C=>{}):x&&y()},b=A(()=>i.cssVarBlock({...s.activeColor?{"on-color":s.activeColor}:null,...s.inactiveColor?{"off-color":s.inactiveColor}:null,...s.borderColor?{"border-color":s.borderColor}:null})),_=()=>{var $,x;(x=($=d.value)==null?void 0:$.focus)==null||x.call($)};return Et(()=>{d.value.checked=g.value}),e({focus:_,checked:g}),($,x)=>(S(),I("div",{class:P(v(h)),style:ot(v(b)),onClick:yt(w,["prevent"])},[E("input",{id:v(l),ref_key:"input",ref:d,class:P(v(i).e("input")),type:"checkbox",role:"switch","aria-checked":v(g),"aria-disabled":v(u),name:$.name,"true-value":$.activeValue,"false-value":$.inactiveValue,disabled:v(u),tabindex:$.tabindex,onChange:y,onKeydown:qt(w,["enter"])},null,42,xZe),!$.inlinePrompt&&($.inactiveIcon||$.inactiveText)?(S(),I("span",{key:0,class:P([v(i).e("label"),v(i).em("label","left"),v(i).is("active",!v(g))])},[$.inactiveIcon?(S(),$e(v(rt),{key:0},{default:ce(()=>[(S(),$e(Vt($.inactiveIcon)))]),_:1})):ge("v-if",!0),!$.inactiveIcon&&$.inactiveText?(S(),I("span",{key:1,"aria-hidden":v(g)},Ue($.inactiveText),9,SZe)):ge("v-if",!0)],2)):ge("v-if",!0),E("span",{ref_key:"core",ref:f,class:P(v(i).e("core")),style:ot(v(p))},[$.inlinePrompt?(S(),I("div",{key:0,class:P(v(i).e("inner"))},[$.activeIcon||$.inactiveIcon?(S(),$e(v(rt),{key:0,class:P(v(i).is("icon"))},{default:ce(()=>[(S(),$e(Vt(v(g)?$.activeIcon:$.inactiveIcon)))]),_:1},8,["class"])):$.activeText||$.inactiveText?(S(),I("span",{key:1,class:P(v(i).is("text")),"aria-hidden":!v(g)},Ue(v(g)?$.activeText:$.inactiveText),11,CZe)):ge("v-if",!0)],2)):ge("v-if",!0),E("div",{class:P(v(i).e("action"))},[$.loading?(S(),$e(v(rt),{key:0,class:P(v(i).is("loading"))},{default:ce(()=>[se(v(Vl))]),_:1},8,["class"])):ge("v-if",!0)],2)],6),!$.inlinePrompt&&($.activeIcon||$.activeText)?(S(),I("span",{key:1,class:P([v(i).e("label"),v(i).em("label","right"),v(i).is("active",v(g))])},[$.activeIcon?(S(),$e(v(rt),{key:0},{default:ce(()=>[(S(),$e(Vt($.activeIcon)))]),_:1})):ge("v-if",!0),!$.activeIcon&&$.activeText?(S(),I("span",{key:1,"aria-hidden":!v(g)},Ue($.activeText),9,kZe)):ge("v-if",!0)],2)):ge("v-if",!0)],14,$Ze))}});var EZe=je(NZe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const IZe=Dt(EZe);var AZe=/["'&<>]/,OZe=RZe;function RZe(t){var e=""+t,n=AZe.exec(e);if(!n)return e;var s,r="",o=0,a=0;for(o=n.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}a!==o&&(r+=e.substring(a,o)),a=o+1,r+=s}return a!==o?r+e.substring(a,o):r}const o$=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},fR=function(t){return t!==null&&typeof t=="object"},DZe=function(t,e,n,s,r){if(!e&&!s&&(!r||Array.isArray(r)&&!r.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=s?null:function(i,l){return r?(Array.isArray(r)||(r=[r]),r.map(u=>typeof u=="string"?Pn(i,u):u(i,l,t))):(e!=="$key"&&fR(i)&&"$value"in i&&(i=i.$value),[fR(i)?Pn(i,e):i])},a=function(i,l){if(s)return s(i.value,l.value);for(let u=0,c=i.key.length;u<c;u++){if(i.key[u]<l.key[u])return-1;if(i.key[u]>l.key[u])return 1}return 0};return t.map((i,l)=>({value:i,index:l,key:o?o(i,l):null})).sort((i,l)=>{let u=a(i,l);return u||(u=i.index-l.index),u*+n}).map(i=>i.value)},T7=function(t,e){let n=null;return t.columns.forEach(s=>{s.id===e&&(n=s)}),n},FZe=function(t,e){let n=null;for(let s=0;s<t.columns.length;s++){const r=t.columns[s];if(r.columnKey===e){n=r;break}}return n||Ls("ElTable",`No column matching with column-key: ${e}`),n},hR=function(t,e,n){const s=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return s?T7(t,s[0]):null},mr=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let s=t;for(const r of n)s=s[r];return`${s}`}else if(typeof e=="function")return e.call(null,t)},Yc=function(t,e){const n={};return(t||[]).forEach((s,r)=>{n[mr(s,e)]={row:s,index:r}}),n};function MZe(t,e){const n={};let s;for(s in t)n[s]=t[s];for(s in e)if(Ut(e,s)){const r=e[s];typeof r<"u"&&(n[s]=r)}return n}function bk(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function N7(t){return t===""||t!==void 0&&(t=bk(t),Number.isNaN(t)&&(t=80)),t}function PZe(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function LZe(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function h0(t,e,n){let s=!1;const r=t.indexOf(e),o=r!==-1,a=i=>{i==="add"?t.push(e):t.splice(r,1),s=!0,Qe(e.children)&&e.children.forEach(l=>{h0(t,l,n??!o)})};return Rs(n)?n&&!o?a("add"):!n&&o&&a("remove"):a(o?"remove":"add"),s}function zZe(t,e,n="children",s="hasChildren"){const r=a=>!(Array.isArray(a)&&a.length);function o(a,i,l){e(a,i,l),i.forEach(u=>{if(u[s]){e(u,null,l+1);return}const c=u[n];r(c)||o(u,c,l+1)})}t.forEach(a=>{if(a[s]){e(a,null,0);return}const i=a[n];r(i)||o(a,i,0)})}let nl;function BZe(t,e,n,s,r){const{nextZIndex:o}=Ul(),a=t==null?void 0:t.dataset.prefix,i=t==null?void 0:t.querySelector(`.${a}-scrollbar__wrap`);function l(){const p=r==="light",m=document.createElement("div");return m.className=`${a}-popper ${p?"is-light":"is-dark"}`,n=OZe(n),m.innerHTML=n,m.style.zIndex=String(o()),t==null||t.appendChild(m),m}function u(){const p=document.createElement("div");return p.className=`${a}-popper__arrow`,p}function c(){d&&d.update()}nl==null||nl(),nl=()=>{try{d&&d.destroy(),f&&(t==null||t.removeChild(f)),e.removeEventListener("mouseenter",c),e.removeEventListener("mouseleave",nl),i==null||i.removeEventListener("scroll",nl),nl=void 0}catch{}};let d=null;const f=l(),h=u();return f.appendChild(h),d=kL(e,f,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:h,padding:10}}],...s}),e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",nl),i==null||i.addEventListener("scroll",nl),d}function E7(t){return t.children?Ple(t.children,E7):[t]}function pR(t,e){return t+e.colSpan}const I7=(t,e,n,s)=>{let r=0,o=t;const a=n.states.columns.value;if(s){const l=E7(s[t]);r=a.slice(0,a.indexOf(l[0])).reduce(pR,0),o=r+l.reduce(pR,0)-1}else r=t;let i;switch(e){case"left":o<n.states.fixedLeafColumnsLength.value&&(i="left");break;case"right":r>=a.length-n.states.rightFixedLeafColumnsLength.value&&(i="right");break;default:o<n.states.fixedLeafColumnsLength.value?i="left":r>=a.length-n.states.rightFixedLeafColumnsLength.value&&(i="right")}return i?{direction:i,start:r,after:o}:{}},wk=(t,e,n,s,r,o=0)=>{const a=[],{direction:i,start:l,after:u}=I7(e,n,s,r);if(i){const c=i==="left";a.push(`${t}-fixed-column--${i}`),c&&u+o===s.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):!c&&l-o===s.states.columns.value.length-s.states.rightFixedLeafColumnsLength.value&&a.push("is-first-column")}return a};function mR(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const _k=(t,e,n,s)=>{const{direction:r,start:o=0,after:a=0}=I7(t,e,n,s);if(!r)return;const i={},l=r==="left",u=n.states.columns.value;return l?i.left=u.slice(0,o).reduce(mR,0):i.right=u.slice(a+1).reverse().reduce(mR,0),i},yh=(t,e)=>{!t||Number.isNaN(t[e])||(t[e]=`${t[e]}px`)};function VZe(t){const e=Rt(),n=U(!1),s=U([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(n.value)s.value=l.slice();else if(u){const c=Yc(s.value,u);s.value=l.reduce((d,f)=>{const h=mr(f,u);return c[h]&&d.push(f),d},[])}else s.value=[]},toggleRowExpansion:(l,u)=>{h0(s.value,l,u)&&e.emit("expand-change",l,s.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],c=t.rowKey.value,d=Yc(u,c);s.value=l.reduce((f,h)=>{const p=d[h];return p&&f.push(p.row),f},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!Yc(s.value,u)[mr(l,u)]:s.value.includes(l)},states:{expandRows:s,defaultExpandAll:n}}}function HZe(t){const e=Rt(),n=U(null),s=U(null),r=u=>{e.store.assertRowKey(),n.value=u,a(u)},o=()=>{n.value=null},a=u=>{const{data:c,rowKey:d}=t;let f=null;d.value&&(f=(v(c)||[]).find(h=>mr(h,d.value)===u)),s.value=f,e.emit("current-change",s.value,null)};return{setCurrentRowKey:r,restoreCurrentRowKey:o,setCurrentRowByKey:a,updateCurrentRow:u=>{const c=s.value;if(u&&u!==c){s.value=u,e.emit("current-change",s.value,c);return}!u&&c&&(s.value=null,e.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=t.rowKey.value,c=t.data.value||[],d=s.value;if(!c.includes(d)&&d){if(u){const f=mr(d,u);a(f)}else s.value=null;s.value===null&&e.emit("current-change",null,d)}else n.value&&(a(n.value),o())},states:{_currentRowKey:n,currentRow:s}}}function WZe(t){const e=U([]),n=U({}),s=U(16),r=U(!1),o=U({}),a=U("hasChildren"),i=U("children"),l=Rt(),u=A(()=>{if(!t.rowKey.value)return{};const y=t.data.value||[];return d(y)}),c=A(()=>{const y=t.rowKey.value,w=Object.keys(o.value),b={};return w.length&&w.forEach(_=>{if(o.value[_].length){const $={children:[]};o.value[_].forEach(x=>{const k=mr(x,y);$.children.push(k),x[a.value]&&!b[k]&&(b[k]={children:[]})}),b[_]=$}}),b}),d=y=>{const w=t.rowKey.value,b={};return zZe(y,(_,$,x)=>{const k=mr(_,w);Array.isArray($)?b[k]={children:$.map(C=>mr(C,w)),level:x}:r.value&&(b[k]={children:[],lazy:!0,level:x})},i.value,a.value),b},f=(y=!1,w=(b=>(b=l.store)==null?void 0:b.states.defaultExpandAll.value)())=>{var b;const _=u.value,$=c.value,x=Object.keys(_),k={};if(x.length){const C=v(n),T=[],N=(R,D)=>{if(y)return e.value?w||e.value.includes(D):!!(w||(R==null?void 0:R.expanded));{const z=w||e.value&&e.value.includes(D);return!!((R==null?void 0:R.expanded)||z)}};x.forEach(R=>{const D=C[R],z={..._[R]};if(z.expanded=N(D,R),z.lazy){const{loaded:B=!1,loading:V=!1}=D||{};z.loaded=!!B,z.loading=!!V,T.push(R)}k[R]=z});const M=Object.keys($);r.value&&M.length&&T.length&&M.forEach(R=>{const D=C[R],z=$[R].children;if(T.includes(R)){if(k[R].children.length!==0)throw new Error("[ElTable]children must be an empty array.");k[R].children=z}else{const{loaded:B=!1,loading:V=!1}=D||{};k[R]={lazy:!0,loaded:!!B,loading:!!V,expanded:N(D,R),children:z,level:""}}})}n.value=k,(b=l.store)==null||b.updateTableScrollY()};Me(()=>e.value,()=>{f(!0)}),Me(()=>u.value,()=>{f()}),Me(()=>c.value,()=>{f()});const h=y=>{e.value=y,f()},p=(y,w)=>{l.store.assertRowKey();const b=t.rowKey.value,_=mr(y,b),$=_&&n.value[_];if(_&&$&&"expanded"in $){const x=$.expanded;w=typeof w>"u"?!$.expanded:w,n.value[_].expanded=w,x!==w&&l.emit("expand-change",y,w),l.store.updateTableScrollY()}},m=y=>{l.store.assertRowKey();const w=t.rowKey.value,b=mr(y,w),_=n.value[b];r.value&&_&&"loaded"in _&&!_.loaded?g(y,b,_):p(y,void 0)},g=(y,w,b)=>{const{load:_}=l.props;_&&!n.value[w].loaded&&(n.value[w].loading=!0,_(y,b,$=>{if(!Array.isArray($))throw new TypeError("[ElTable] data must be an array");n.value[w].loading=!1,n.value[w].loaded=!0,n.value[w].expanded=!0,$.length&&(o.value[w]=$),l.emit("expand-change",y,!0)}))};return{loadData:g,loadOrToggle:m,toggleTreeExpansion:p,updateTreeExpandKeys:h,updateTreeData:f,normalize:d,states:{expandRowKeys:e,treeData:n,indent:s,lazy:r,lazyTreeNodeMap:o,lazyColumnIdentifier:a,childrenColumnName:i}}}const UZe=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:DZe(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},sy=t=>{const e=[];return t.forEach(n=>{n.children?e.push.apply(e,sy(n.children)):e.push(n)}),e};function GZe(){var t;const e=Rt(),{size:n}=Ps((t=e.proxy)==null?void 0:t.$props),s=U(null),r=U([]),o=U([]),a=U(!1),i=U([]),l=U([]),u=U([]),c=U([]),d=U([]),f=U([]),h=U([]),p=U([]),m=U(0),g=U(0),y=U(0),w=U(!1),b=U([]),_=U(!1),$=U(!1),x=U(null),k=U({}),C=U(null),T=U(null),N=U(null),M=U(null),R=U(null);Me(r,()=>e.state&&V(!1),{deep:!0});const D=()=>{if(!s.value)throw new Error("[ElTable] prop row-key is required")},z=xe=>{var Ke;(Ke=xe.children)==null||Ke.forEach(at=>{at.fixed=xe.fixed,z(at)})},B=()=>{i.value.forEach(de=>{z(de)}),c.value=i.value.filter(de=>de.fixed===!0||de.fixed==="left"),d.value=i.value.filter(de=>de.fixed==="right"),c.value.length>0&&i.value[0]&&i.value[0].type==="selection"&&!i.value[0].fixed&&(i.value[0].fixed=!0,c.value.unshift(i.value[0]));const xe=i.value.filter(de=>!de.fixed);l.value=[].concat(c.value).concat(xe).concat(d.value);const Ke=sy(xe),at=sy(c.value),Y=sy(d.value);m.value=Ke.length,g.value=at.length,y.value=Y.length,u.value=[].concat(at).concat(Ke).concat(Y),a.value=c.value.length>0||d.value.length>0},V=(xe,Ke=!1)=>{xe&&B(),Ke?e.state.doLayout():e.state.debouncedUpdateLayout()},O=xe=>b.value.includes(xe),F=()=>{w.value=!1,b.value.length&&(b.value=[],e.emit("selection-change",[]))},L=()=>{let xe;if(s.value){xe=[];const Ke=Yc(b.value,s.value),at=Yc(r.value,s.value);for(const Y in Ke)Ut(Ke,Y)&&!at[Y]&&xe.push(Ke[Y].row)}else xe=b.value.filter(Ke=>!r.value.includes(Ke));if(xe.length){const Ke=b.value.filter(at=>!xe.includes(at));b.value=Ke,e.emit("selection-change",Ke.slice())}},G=()=>(b.value||[]).slice(),Z=(xe,Ke=void 0,at=!0)=>{if(h0(b.value,xe,Ke)){const de=(b.value||[]).slice();at&&e.emit("select",de,xe),e.emit("selection-change",de)}},j=()=>{var xe,Ke;const at=$.value?!w.value:!(w.value||b.value.length);w.value=at;let Y=!1,de=0;const Pe=(Ke=(xe=e==null?void 0:e.store)==null?void 0:xe.states)==null?void 0:Ke.rowKey.value;r.value.forEach((We,Ft)=>{const _n=Ft+de;x.value?x.value.call(null,We,_n)&&h0(b.value,We,at)&&(Y=!0):h0(b.value,We,at)&&(Y=!0),de+=X(mr(We,Pe))}),Y&&e.emit("selection-change",b.value?b.value.slice():[]),e.emit("select-all",b.value)},J=()=>{const xe=Yc(b.value,s.value);r.value.forEach(Ke=>{const at=mr(Ke,s.value),Y=xe[at];Y&&(b.value[Y.index]=Ke)})},fe=()=>{var xe,Ke,at;if(((xe=r.value)==null?void 0:xe.length)===0){w.value=!1;return}let Y;s.value&&(Y=Yc(b.value,s.value));const de=function(_n){return Y?!!Y[mr(_n,s.value)]:b.value.includes(_n)};let Pe=!0,We=0,Ft=0;for(let _n=0,_s=(r.value||[]).length;_n<_s;_n++){const qs=(at=(Ke=e==null?void 0:e.store)==null?void 0:Ke.states)==null?void 0:at.rowKey.value,Sn=_n+Ft,sn=r.value[_n],He=x.value&&x.value.call(null,sn,Sn);if(de(sn))We++;else if(!x.value||He){Pe=!1;break}Ft+=X(mr(sn,qs))}We===0&&(Pe=!1),w.value=Pe},X=xe=>{var Ke;if(!e||!e.store)return 0;const{treeData:at}=e.store.states;let Y=0;const de=(Ke=at.value[xe])==null?void 0:Ke.children;return de&&(Y+=de.length,de.forEach(Pe=>{Y+=X(Pe)})),Y},oe=(xe,Ke)=>{Array.isArray(xe)||(xe=[xe]);const at={};return xe.forEach(Y=>{k.value[Y.id]=Ke,at[Y.columnKey||Y.id]=Ke}),at},ee=(xe,Ke,at)=>{T.value&&T.value!==xe&&(T.value.order=null),T.value=xe,N.value=Ke,M.value=at},Q=()=>{let xe=v(o);Object.keys(k.value).forEach(Ke=>{const at=k.value[Ke];if(!at||at.length===0)return;const Y=T7({columns:u.value},Ke);Y&&Y.filterMethod&&(xe=xe.filter(de=>at.some(Pe=>Y.filterMethod.call(null,Pe,de,Y))))}),C.value=xe},ie=()=>{r.value=UZe(C.value,{sortingColumn:T.value,sortProp:N.value,sortOrder:M.value})},pe=(xe=void 0)=>{xe&&xe.filter||Q(),ie()},Re=xe=>{const{tableHeaderRef:Ke}=e.refs;if(!Ke)return;const at=Object.assign({},Ke.filterPanels),Y=Object.keys(at);if(!!Y.length)if(typeof xe=="string"&&(xe=[xe]),Array.isArray(xe)){const de=xe.map(Pe=>FZe({columns:u.value},Pe));Y.forEach(Pe=>{const We=de.find(Ft=>Ft.id===Pe);We&&(We.filteredValue=[])}),e.store.commit("filterChange",{column:de,values:[],silent:!0,multi:!0})}else Y.forEach(de=>{const Pe=u.value.find(We=>We.id===de);Pe&&(Pe.filteredValue=[])}),k.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},K=()=>{!T.value||(ee(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:re,toggleRowExpansion:we,updateExpandRows:Ie,states:De,isRowExpanded:_e}=VZe({data:r,rowKey:s}),{updateTreeExpandKeys:ze,toggleTreeExpansion:Ae,updateTreeData:he,loadOrToggle:ve,states:me}=WZe({data:r,rowKey:s}),{updateCurrentRowData:Ve,updateCurrentRow:Ye,setCurrentRowKey:Je,states:ct}=HZe({data:r,rowKey:s});return{assertRowKey:D,updateColumns:B,scheduleLayout:V,isSelected:O,clearSelection:F,cleanSelection:L,getSelectionRows:G,toggleRowSelection:Z,_toggleAllSelection:j,toggleAllSelection:null,updateSelectionByRowKey:J,updateAllSelected:fe,updateFilters:oe,updateCurrentRow:Ye,updateSort:ee,execFilter:Q,execSort:ie,execQuery:pe,clearFilter:Re,clearSort:K,toggleRowExpansion:we,setExpandRowKeysAdapter:xe=>{re(xe),ze(xe)},setCurrentRowKey:Je,toggleRowExpansionAdapter:(xe,Ke)=>{u.value.some(({type:Y})=>Y==="expand")?we(xe,Ke):Ae(xe,Ke)},isRowExpanded:_e,updateExpandRows:Ie,updateCurrentRowData:Ve,loadOrToggle:ve,updateTreeData:he,states:{tableSize:n,rowKey:s,data:r,_data:o,isComplex:a,_columns:i,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:h,rightFixedLeafColumns:p,leafColumnsLength:m,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:y,isAllSelected:w,selection:b,reserveSelection:_,selectOnIndeterminate:$,selectable:x,filters:k,filteredData:C,sortingColumn:T,sortProp:N,sortOrder:M,hoverRow:R,...De,...me,...ct}}}function j6(t,e){return t.map(n=>{var s;return n.id===e.id?e:((s=n.children)!=null&&s.length&&(n.children=j6(n.children,e)),n)})}function A7(t){t.forEach(e=>{var n,s;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(s=e.children)!=null&&s.length&&A7(e.children)}),t.sort((e,n)=>e.no-n.no)}function jZe(){const t=Rt(),e=GZe();return{ns:Fe("table"),...e,mutations:{setData(a,i){const l=v(a._data)!==i;a.data.value=i,a._data.value=i,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),v(a.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(a,i,l){const u=v(a._columns);let c=[];l?(l&&!l.children&&(l.children=[]),l.children.push(i),c=j6(u,l)):(u.push(i),c=u),A7(c),a._columns.value=c,i.type==="selection"&&(a.selectable.value=i.selectable,a.reserveSelection.value=i.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},removeColumn(a,i,l){const u=v(a._columns)||[];if(l)l.children.splice(l.children.findIndex(c=>c.id===i.id),1),nt(()=>{var c;((c=l.children)==null?void 0:c.length)===0&&delete l.children}),a._columns.value=j6(u,l);else{const c=u.indexOf(i);c>-1&&(u.splice(c,1),a._columns.value=u)}t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(a,i){const{prop:l,order:u,init:c}=i;if(l){const d=v(a.columns).find(f=>f.property===l);d&&(d.order=u,t.store.updateSort(d,l,u),t.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(a,i){const{sortingColumn:l,sortProp:u,sortOrder:c}=a,d=v(l),f=v(u),h=v(c);h===null&&(a.sortingColumn.value=null,a.sortProp.value=null);const p={filter:!0};t.store.execQuery(p),(!i||!(i.silent||i.init))&&t.emit("sort-change",{column:d,prop:f,order:h}),t.store.updateTableScrollY()},filterChange(a,i){const{column:l,values:u,silent:c}=i,d=t.store.updateFilters(l,u);t.store.execQuery(),c||t.emit("filter-change",d),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(a,i){t.store.toggleRowSelection(i),t.store.updateAllSelected()},setHoverRow(a,i){a.hoverRow.value=i},setCurrentRow(a,i){t.store.updateCurrentRow(i)}},commit:function(a,...i){const l=t.store.mutations;if(l[a])l[a].apply(t,[t.store.states].concat(i));else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){nt(()=>t.layout.updateScrollY.apply(t.layout))}}}const p0={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function KZe(t,e){if(!t)throw new Error("Table is required.");const n=jZe();return n.toggleAllSelection=Xr(n._toggleAllSelection,10),Object.keys(p0).forEach(s=>{O7(R7(e,s),s,n)}),qZe(n,e),n}function qZe(t,e){Object.keys(p0).forEach(n=>{Me(()=>R7(e,n),s=>{O7(s,n,t)})})}function O7(t,e,n){let s=t,r=p0[e];typeof p0[e]=="object"&&(r=r.key,s=s||p0[e].default),n.states[r].value=s}function R7(t,e){if(e.includes(".")){const n=e.split(".");let s=t;return n.forEach(r=>{s=s[r]}),s}else return t[e]}class XZe{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=U(null),this.scrollX=U(!1),this.scrollY=U(!1),this.bodyWidth=U(null),this.fixedWidth=U(null),this.rightFixedWidth=U(null),this.gutterWidth=0;for(const n in e)Ut(e,n)&&(kn(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&n){let s=!0;const r=this.scrollY.value;return s=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=s,r!==s}return!1}setHeight(e,n="height"){if(!Kt)return;const s=this.table.vnode.el;if(e=PZe(e),this.height.value=Number(e),!s&&(e||e===0))return nt(()=>this.setHeight(e,n));typeof e=="number"?(s.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(s.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(s=>{s.isColumnGroup?e.push.apply(e,s.columns):e.push(s)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Kt)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let s=0;const r=this.getFlattenColumns(),o=r.filter(l=>typeof l.width!="number");if(r.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),o.length>0&&e){if(r.forEach(l=>{s+=Number(l.width||l.minWidth||80)}),s<=n){this.scrollX.value=!1;const l=n-s;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+l;else{const u=o.reduce((f,h)=>f+Number(h.minWidth||80),0),c=l/u;let d=0;o.forEach((f,h)=>{if(h===0)return;const p=Math.floor(Number(f.minWidth||80)*c);d+=p,f.realWidth=Number(f.minWidth||80)+p}),o[0].realWidth=Number(o[0].minWidth||80)+l-d}}else this.scrollX.value=!0,o.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(s,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),s+=l.realWidth}),this.scrollX.value=s>n,this.bodyWidth.value=s;const a=this.store.states.fixedColumns.value;if(a.length>0){let l=0;a.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const i=this.store.states.rightFixedColumns.value;if(i.length>0){let l=0;i.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(s=>{var r,o;switch(e){case"columns":(r=s.state)==null||r.onColumnsChange(this);break;case"scrollable":(o=s.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:YZe}=ka,ZZe=ue({name:"ElTableFilterPanel",components:{ElCheckbox:ka,ElCheckboxGroup:YZe,ElScrollbar:jl,ElTooltip:No,ElIcon:rt,ArrowDown:zl,ArrowUp:Og},directives:{ClickOutside:Ku},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=Rt(),{t:n}=nn(),s=Fe("table-filter"),r=e==null?void 0:e.parent;r.filterPanels.value[t.column.id]||(r.filterPanels.value[t.column.id]=e);const o=U(!1),a=U(null),i=A(()=>t.column&&t.column.filters),l=A({get:()=>{var _;return(((_=t.column)==null?void 0:_.filteredValue)||[])[0]},set:_=>{u.value&&(typeof _<"u"&&_!==null?u.value.splice(0,1,_):u.value.splice(0,1))}}),u=A({get(){return t.column?t.column.filteredValue||[]:[]},set(_){t.column&&t.upDataColumn("filteredValue",_)}}),c=A(()=>t.column?t.column.filterMultiple:!0),d=_=>_.value===l.value,f=()=>{o.value=!1},h=_=>{_.stopPropagation(),o.value=!o.value},p=()=>{o.value=!1},m=()=>{w(u.value),f()},g=()=>{u.value=[],w(u.value),f()},y=_=>{l.value=_,w(typeof _<"u"&&_!==null?u.value:[]),f()},w=_=>{t.store.commit("filterChange",{column:t.column,values:_}),t.store.updateAllSelected()};Me(o,_=>{t.column&&t.upDataColumn("filterOpened",_)},{immediate:!0});const b=A(()=>{var _,$;return($=(_=a.value)==null?void 0:_.popperRef)==null?void 0:$.contentRef});return{tooltipVisible:o,multiple:c,filteredValue:u,filterValue:l,filters:i,handleConfirm:m,handleReset:g,handleSelect:y,isActive:d,t:n,ns:s,showFilterPanel:h,hideFilterPanel:p,popperPaneRef:b,tooltip:a}}}),JZe={key:0},QZe=["disabled"],eJe=["label","onClick"];function tJe(t,e,n,s,r,o){const a=pt("el-checkbox"),i=pt("el-checkbox-group"),l=pt("el-scrollbar"),u=pt("arrow-up"),c=pt("arrow-down"),d=pt("el-icon"),f=pt("el-tooltip"),h=rh("click-outside");return S(),$e(f,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.ns.b(),persistent:""},{content:ce(()=>[t.multiple?(S(),I("div",JZe,[E("div",{class:P(t.ns.e("content"))},[se(l,{"wrap-class":t.ns.e("wrap")},{default:ce(()=>[se(i,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=p=>t.filteredValue=p),class:P(t.ns.e("checkbox-group"))},{default:ce(()=>[(S(!0),I(lt,null,Gt(t.filters,p=>(S(),$e(a,{key:p.value,label:p.value},{default:ce(()=>[Jt(Ue(p.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),E("div",{class:P(t.ns.e("bottom"))},[E("button",{class:P({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...p)=>t.handleConfirm&&t.handleConfirm(...p))},Ue(t.t("el.table.confirmFilter")),11,QZe),E("button",{type:"button",onClick:e[2]||(e[2]=(...p)=>t.handleReset&&t.handleReset(...p))},Ue(t.t("el.table.resetFilter")),1)],2)])):(S(),I("ul",{key:1,class:P(t.ns.e("list"))},[E("li",{class:P([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:e[3]||(e[3]=p=>t.handleSelect(null))},Ue(t.t("el.table.clearFilter")),3),(S(!0),I(lt,null,Gt(t.filters,p=>(S(),I("li",{key:p.value,class:P([t.ns.e("list-item"),t.ns.is("active",t.isActive(p))]),label:p.value,onClick:m=>t.handleSelect(p.value)},Ue(p.text),11,eJe))),128))],2))]),default:ce(()=>[St((S(),I("span",{class:P([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...p)=>t.showFilterPanel&&t.showFilterPanel(...p))},[se(d,null,{default:ce(()=>[t.column.filterOpened?(S(),$e(u,{key:0})):(S(),$e(c,{key:1}))]),_:1})],2)),[[h,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var nJe=je(ZZe,[["render",tJe],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function D7(t){const e=Rt();qb(()=>{n.value.addObserver(e)}),Et(()=>{s(n.value),r(n.value)}),Ml(()=>{s(n.value),r(n.value)}),Xd(()=>{n.value.removeObserver(e)});const n=A(()=>{const o=t.layout;if(!o)throw new Error("Can not find table layout.");return o}),s=o=>{var a;const i=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!i.length)return;const l=o.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,d=i.length;c<d;c++){const f=i[c],h=f.getAttribute("name"),p=u[h];p&&f.setAttribute("width",p.realWidth||p.width)}},r=o=>{var a,i;const l=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,d=l.length;c<d;c++)l[c].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const u=((i=t.vnode.el)==null?void 0:i.querySelectorAll("th.gutter"))||[];for(let c=0,d=u.length;c<d;c++){const f=u[c];f.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",f.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:s,onScrollableChange:r}}const Yi=Symbol("ElTable");function sJe(t,e){const n=Rt(),s=et(Yi),r=m=>{m.stopPropagation()},o=(m,g)=>{!g.filters&&g.sortable?p(m,g,!1):g.filterable&&!g.sortable&&r(m),s==null||s.emit("header-click",g,m)},a=(m,g)=>{s==null||s.emit("header-contextmenu",g,m)},i=U(null),l=U(!1),u=U({}),c=(m,g)=>{if(!!Kt&&!(g.children&&g.children.length>0)&&i.value&&t.border){l.value=!0;const y=s;e("set-drag-visible",!0);const b=(y==null?void 0:y.vnode.el).getBoundingClientRect().left,_=n.vnode.el.querySelector(`th.${g.id}`),$=_.getBoundingClientRect(),x=$.left-b+30;xi(_,"noclick"),u.value={startMouseLeft:m.clientX,startLeft:$.right-b,startColumnLeft:$.left-b,tableLeft:b};const k=y==null?void 0:y.refs.resizeProxy;k.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const C=N=>{const M=N.clientX-u.value.startMouseLeft,R=u.value.startLeft+M;k.style.left=`${Math.max(x,R)}px`},T=()=>{if(l.value){const{startColumnLeft:N,startLeft:M}=u.value,D=Number.parseInt(k.style.left,10)-N;g.width=g.realWidth=D,y==null||y.emit("header-dragend",g.width,M-N,g,m),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,i.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",T),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{mo(_,"noclick")},0)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",T)}},d=(m,g)=>{var y;if(g.children&&g.children.length>0)return;const w=(y=m.target)==null?void 0:y.closest("th");if(!(!g||!g.resizable)&&!l.value&&t.border){const b=w.getBoundingClientRect(),_=document.body.style;b.width>12&&b.right-m.pageX<8?(_.cursor="col-resize",ja(w,"is-sortable")&&(w.style.cursor="col-resize"),i.value=g):l.value||(_.cursor="",ja(w,"is-sortable")&&(w.style.cursor="pointer"),i.value=null)}},f=()=>{!Kt||(document.body.style.cursor="")},h=({order:m,sortOrders:g})=>{if(m==="")return g[0];const y=g.indexOf(m||null);return g[y>g.length-2?0:y+1]},p=(m,g,y)=>{var w;m.stopPropagation();const b=g.order===y?null:y||h(g),_=(w=m.target)==null?void 0:w.closest("th");if(_&&ja(_,"noclick")){mo(_,"noclick");return}if(!g.sortable)return;const $=t.store.states;let x=$.sortProp.value,k;const C=$.sortingColumn.value;(C!==g||C===g&&C.order===null)&&(C&&(C.order=null),$.sortingColumn.value=g,x=g.property),b?k=g.order=b:k=g.order=null,$.sortProp.value=x,$.sortOrder.value=k,s==null||s.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:a,handleMouseDown:c,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:r}}function rJe(t){const e=et(Yi),n=Fe("table");return{getHeaderRowStyle:i=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:i}):l},getHeaderRowClass:i=>{const l=[],u=e==null?void 0:e.props.headerRowClassName;return typeof u=="string"?l.push(u):typeof u=="function"&&l.push(u.call(null,{rowIndex:i})),l.join(" ")},getHeaderCellStyle:(i,l,u,c)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};typeof f=="function"&&(f=f.call(null,{rowIndex:i,columnIndex:l,row:u,column:c}));const h=_k(l,c.fixed,t.store,u);return yh(h,"left"),yh(h,"right"),Object.assign({},f,h)},getHeaderCellClass:(i,l,u,c)=>{const d=wk(n.b(),l,c.fixed,t.store,u),f=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...d];c.children||f.push("is-leaf"),c.sortable&&f.push("is-sortable");const h=e==null?void 0:e.props.headerCellClassName;return typeof h=="string"?f.push(h):typeof h=="function"&&f.push(h.call(null,{rowIndex:i,columnIndex:l,row:u,column:c})),f.push(n.e("cell")),f.filter(p=>Boolean(p)).join(" ")}}}const F7=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,F7(n.children))):e.push(n)}),e},oJe=t=>{let e=1;const n=(o,a)=>{if(a&&(o.level=a.level+1,e<o.level&&(e=o.level)),o.children){let i=0;o.children.forEach(l=>{n(l,o),i+=l.colSpan}),o.colSpan=i}else o.colSpan=1};t.forEach(o=>{o.level=1,n(o,void 0)});const s=[];for(let o=0;o<e;o++)s.push([]);return F7(t).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(a=>a.isSubColumn=!0)):o.rowSpan=e-o.level+1,s[o.level-1].push(o)}),s};function aJe(t){const e=et(Yi),n=A(()=>oJe(t.store.states.originColumns.value));return{isGroup:A(()=>{const o=n.value.length>1;return o&&e&&(e.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var iJe=ue({name:"ElTableHeader",components:{ElCheckbox:ka},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=Rt(),s=et(Yi),r=Fe("table"),o=U({}),{onColumnsChange:a,onScrollableChange:i}=D7(s);Et(async()=>{await nt(),await nt();const{prop:x,order:k}=t.defaultSort;s==null||s.store.commit("sort",{prop:x,order:k,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:f,handleSortClick:h,handleFilterClick:p}=sJe(t,e),{getHeaderRowStyle:m,getHeaderRowClass:g,getHeaderCellStyle:y,getHeaderCellClass:w}=rJe(t),{isGroup:b,toggleAllSelection:_,columnRows:$}=aJe(t);return n.state={onColumnsChange:a,onScrollableChange:i},n.filterPanels=o,{ns:r,filterPanels:o,onColumnsChange:a,onScrollableChange:i,columnRows:$,getHeaderRowClass:g,getHeaderRowStyle:m,getHeaderCellClass:w,getHeaderCellStyle:y,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:f,handleSortClick:h,handleFilterClick:p,isGroup:b,toggleAllSelection:_}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:s,getHeaderCellClass:r,getHeaderRowClass:o,getHeaderRowStyle:a,handleHeaderClick:i,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:d,handleMouseOut:f,store:h,$parent:p}=this;let m=1;return it("thead",{class:{[t.is("group")]:e}},n.map((g,y)=>it("tr",{class:o(y),key:y,style:a(y)},g.map((w,b)=>(w.rowSpan>m&&(m=w.rowSpan),it("th",{class:r(y,b,g,w),colspan:w.colSpan,key:`${w.id}-thead`,rowspan:w.rowSpan,style:s(y,b,g,w),onClick:_=>i(_,w),onContextmenu:_=>l(_,w),onMousedown:_=>u(_,w),onMousemove:_=>c(_,w),onMouseout:f},[it("div",{class:["cell",w.filteredValue&&w.filteredValue.length>0?"highlight":""]},[w.renderHeader?w.renderHeader({column:w,$index:b,store:h,_self:p}):w.label,w.sortable&&it("span",{onClick:_=>d(_,w),class:"caret-wrapper"},[it("i",{onClick:_=>d(_,w,"ascending"),class:"sort-caret ascending"}),it("i",{onClick:_=>d(_,w,"descending"),class:"sort-caret descending"})]),w.filterable&&it(nJe,{store:h,placement:w.filterPlacement||"bottom-start",column:w,upDataColumn:(_,$)=>{w[_]=$}})])]))))))}});function lJe(t){const e=et(Yi),n=U(""),s=U(it("div")),r=(f,h,p)=>{var m;const g=e,y=o$(f);let w;const b=(m=g==null?void 0:g.vnode.el)==null?void 0:m.dataset.prefix;y&&(w=hR({columns:t.store.states.columns.value},y,b),w&&(g==null||g.emit(`cell-${p}`,h,w,y,f))),g==null||g.emit(`row-${p}`,h,w,f)},o=(f,h)=>{r(f,h,"dblclick")},a=(f,h)=>{t.store.commit("setCurrentRow",h),r(f,h,"click")},i=(f,h)=>{r(f,h,"contextmenu")},l=Xr(f=>{t.store.commit("setHoverRow",f)},30),u=Xr(()=>{t.store.commit("setHoverRow",null)},30);return{handleDoubleClick:o,handleClick:a,handleContextMenu:i,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(f,h,p)=>{var m;const g=e,y=o$(f),w=(m=g==null?void 0:g.vnode.el)==null?void 0:m.dataset.prefix;if(y){const k=hR({columns:t.store.states.columns.value},y,w),C=g.hoverState={cell:y,column:k,row:h};g==null||g.emit("cell-mouse-enter",C.row,C.column,C.cell,f)}const b=f.target.querySelector(".cell");if(!(ja(b,`${w}-tooltip`)&&b.childNodes.length))return;const _=document.createRange();_.setStart(b,0),_.setEnd(b,b.childNodes.length);const $=Math.round(_.getBoundingClientRect().width),x=(Number.parseInt(dl(b,"paddingLeft"),10)||0)+(Number.parseInt(dl(b,"paddingRight"),10)||0);($+x>b.offsetWidth||b.scrollWidth>b.offsetWidth)&&BZe(e==null?void 0:e.refs.tableWrapper,y,y.innerText||y.textContent,{placement:"top",strategy:"fixed"},p)},handleCellMouseLeave:f=>{if(!o$(f))return;const p=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",p==null?void 0:p.row,p==null?void 0:p.column,p==null?void 0:p.cell,f)},tooltipContent:n,tooltipTrigger:s}}function uJe(t){const e=et(Yi),n=Fe("table");return{getRowStyle:(u,c)=>{const d=e==null?void 0:e.props.rowStyle;return typeof d=="function"?d.call(null,{row:u,rowIndex:c}):d||null},getRowClass:(u,c)=>{const d=[n.e("row")];(e==null?void 0:e.props.highlightCurrentRow)&&u===t.store.states.currentRow.value&&d.push("current-row"),t.stripe&&c%2===1&&d.push(n.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return typeof f=="string"?d.push(f):typeof f=="function"&&d.push(f.call(null,{row:u,rowIndex:c})),d},getCellStyle:(u,c,d,f)=>{const h=e==null?void 0:e.props.cellStyle;let p=h??{};typeof h=="function"&&(p=h.call(null,{rowIndex:u,columnIndex:c,row:d,column:f}));const m=_k(c,t==null?void 0:t.fixed,t.store);return yh(m,"left"),yh(m,"right"),Object.assign({},p,m)},getCellClass:(u,c,d,f,h)=>{const p=wk(n.b(),c,t==null?void 0:t.fixed,t.store,void 0,h),m=[f.id,f.align,f.className,...p],g=e==null?void 0:e.props.cellClassName;return typeof g=="string"?m.push(g):typeof g=="function"&&m.push(g.call(null,{rowIndex:u,columnIndex:c,row:d,column:f})),m.push(n.e("cell")),m.filter(y=>Boolean(y)).join(" ")},getSpan:(u,c,d,f)=>{let h=1,p=1;const m=e==null?void 0:e.props.spanMethod;if(typeof m=="function"){const g=m({row:u,column:c,rowIndex:d,columnIndex:f});Array.isArray(g)?(h=g[0],p=g[1]):typeof g=="object"&&(h=g.rowspan,p=g.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(u,c,d)=>{if(c<1)return u[d].realWidth;const f=u.map(({realWidth:h,width:p})=>h||p).slice(d,d+c);return Number(f.reduce((h,p)=>Number(h)+Number(p),-1))}}}function cJe(t){const e=et(Yi),n=Fe("table"),{handleDoubleClick:s,handleClick:r,handleContextMenu:o,handleMouseEnter:a,handleMouseLeave:i,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:d}=lJe(t),{getRowStyle:f,getRowClass:h,getCellStyle:p,getCellClass:m,getSpan:g,getColspanRealWidth:y}=uJe(t),w=A(()=>t.store.states.columns.value.findIndex(({type:k})=>k==="default")),b=(k,C)=>{const T=e.props.rowKey;return T?mr(k,T):C},_=(k,C,T,N=!1)=>{const{tooltipEffect:M,store:R}=t,{indent:D,columns:z}=R.states,B=h(k,C);let V=!0;return T&&(B.push(n.em("row",`level-${T.level}`)),V=T.display),it("tr",{style:[V?null:{display:"none"},f(k,C)],class:B,key:b(k,C),onDblclick:F=>s(F,k),onClick:F=>r(F,k),onContextmenu:F=>o(F,k),onMouseenter:()=>a(C),onMouseleave:i},z.value.map((F,L)=>{const{rowspan:G,colspan:Z}=g(k,F,C,L);if(!G||!Z)return null;const j={...F};j.realWidth=y(z.value,Z,L);const J={store:t.store,_self:t.context||e,column:j,row:k,$index:C,cellIndex:L,expanded:N};L===w.value&&T&&(J.treeNode={indent:T.level*D.value,level:T.level},typeof T.expanded=="boolean"&&(J.treeNode.expanded=T.expanded,"loading"in T&&(J.treeNode.loading=T.loading),"noLazyChildren"in T&&(J.treeNode.noLazyChildren=T.noLazyChildren)));const fe=`${C},${L}`,X=j.columnKey||j.rawColumnKey||"",oe=$(L,F,J);return it("td",{style:p(C,L,k,F),class:m(C,L,k,F,Z-1),key:`${X}${fe}`,rowspan:G,colspan:Z,onMouseenter:ee=>l(ee,k,M),onMouseleave:u},[oe])}))},$=(k,C,T)=>C.renderCell(T);return{wrappedRowRender:(k,C)=>{const T=t.store,{isRowExpanded:N,assertRowKey:M}=T,{treeData:R,lazyTreeNodeMap:D,childrenColumnName:z,rowKey:B}=T.states,V=T.states.columns.value;if(V.some(({type:F})=>F==="expand")){const F=N(k),L=_(k,C,void 0,F),G=e.renderExpanded;return F?G?[[L,it("tr",{key:`expanded-row__${L.key}`},[it("td",{colspan:V.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[G({row:k,$index:C,store:T,expanded:F})])])]]:(console.error("[Element Error]renderExpanded is required."),L):[[L]]}else if(Object.keys(R.value).length){M();const F=mr(k,B.value);let L=R.value[F],G=null;L&&(G={expanded:L.expanded,level:L.level,display:!0},typeof L.lazy=="boolean"&&(typeof L.loaded=="boolean"&&L.loaded&&(G.noLazyChildren=!(L.children&&L.children.length)),G.loading=L.loading));const Z=[_(k,C,G)];if(L){let j=0;const J=(X,oe)=>{!(X&&X.length&&oe)||X.forEach(ee=>{const Q={display:oe.display&&oe.expanded,level:oe.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ie=mr(ee,B.value);if(ie==null)throw new Error("For nested data item, row-key is required.");if(L={...R.value[ie]},L&&(Q.expanded=L.expanded,L.level=L.level||Q.level,L.display=!!(L.expanded&&Q.display),typeof L.lazy=="boolean"&&(typeof L.loaded=="boolean"&&L.loaded&&(Q.noLazyChildren=!(L.children&&L.children.length)),Q.loading=L.loading)),j++,Z.push(_(ee,C+j,Q)),L){const pe=D.value[ie]||ee[z.value];J(pe,L)}})};L.display=!0;const fe=D.value[F]||k[z.value];J(fe,L)}return Z}else return _(k,C,void 0)},tooltipContent:c,tooltipTrigger:d}}const dJe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var fJe=ue({name:"ElTableBody",props:dJe,setup(t){const e=Rt(),n=et(Yi),s=Fe("table"),{wrappedRowRender:r,tooltipContent:o,tooltipTrigger:a}=cJe(t),{onColumnsChange:i,onScrollableChange:l}=D7(n);return Me(t.store.states.hoverRow,(u,c)=>{if(!t.store.states.isComplex.value||!Kt)return;let d=window.requestAnimationFrame;d||(d=f=>window.setTimeout(f,16)),d(()=>{const f=e==null?void 0:e.vnode.el,h=Array.from((f==null?void 0:f.children)||[]).filter(g=>g==null?void 0:g.classList.contains(`${s.e("row")}`)),p=h[c],m=h[u];p&&mo(p,"hover-row"),m&&xi(m,"hover-row")})}),Xd(()=>{var u;(u=nl)==null||u()}),{ns:s,onColumnsChange:i,onScrollableChange:l,wrappedRowRender:r,tooltipContent:o,tooltipTrigger:a}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return it("tbody",{},[n.reduce((s,r)=>s.concat(t(r,s.length)),[])])}});function $k(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(r=>r.width===void 0)&&(n=[]);const s=r=>{const o={key:`${t.tableLayout}_${r.id}`,style:{},name:void 0};return e?o.style={width:`${r.width}px`}:o.name=r.id,o};return it("colgroup",{},n.map(r=>it("col",s(r))))}$k.props=["columns","tableLayout"];function hJe(){const t=et(Yi),e=t==null?void 0:t.store,n=A(()=>e.states.fixedLeafColumnsLength.value),s=A(()=>e.states.rightFixedColumns.value.length),r=A(()=>e.states.columns.value.length),o=A(()=>e.states.fixedColumns.value.length),a=A(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:s,columnsCount:r,leftFixedCount:o,rightFixedCount:a,columns:e.states.columns}}function pJe(t){const{columns:e}=hJe(),n=Fe("table");return{getCellClasses:(o,a)=>{const i=o[a],l=[n.e("cell"),i.id,i.align,i.labelClassName,...wk(n.b(),a,i.fixed,t.store)];return i.className&&l.push(i.className),i.children||l.push(n.is("leaf")),l},getCellStyles:(o,a)=>{const i=_k(a,o.fixed,t.store);return yh(i,"left"),yh(i,"right"),i},columns:e}}var mJe=ue({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:s}=pJe(t);return{ns:Fe("table"),getCellClasses:e,getCellStyles:n,columns:s}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:s,sumText:r,ns:o}=this,a=this.store.states.data.value;let i=[];return s?i=s({columns:t,data:a}):t.forEach((l,u)=>{if(u===0){i[u]=r;return}const c=a.map(p=>Number(p[l.property])),d=[];let f=!0;c.forEach(p=>{if(!Number.isNaN(+p)){f=!1;const m=`${p}`.split(".")[1];d.push(m?m.length:0)}});const h=Math.max.apply(null,d);f?i[u]="":i[u]=c.reduce((p,m)=>{const g=Number(m);return Number.isNaN(+g)?p:Number.parseFloat((p+m).toFixed(Math.min(h,20)))},0)}),it("table",{class:o.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[$k({columns:t}),it("tbody",[it("tr",{},[...t.map((l,u)=>it("td",{key:u,colspan:l.colSpan,rowspan:l.rowSpan,class:n(t,u),style:e(l,u)},[it("div",{class:["cell",l.labelClassName]},[i[u]])]))])])])}});function gJe(t){return{setCurrentRow:c=>{t.commit("setCurrentRow",c)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(c,d)=>{t.toggleRowSelection(c,d,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:c=>{t.clearFilter(c)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(c,d)=>{t.toggleRowExpansionAdapter(c,d)},clearSort:()=>{t.clearSort()},sort:(c,d)=>{t.commit("sort",{prop:c,order:d})}}}function vJe(t,e,n,s){const r=U(!1),o=U(null),a=U(!1),i=F=>{a.value=F},l=U({width:null,height:null,headerHeight:null}),u=U(!1),c={display:"inline-block",verticalAlign:"middle"},d=U(),f=U(0),h=U(0),p=U(0),m=U(0);Ho(()=>{e.setHeight(t.height)}),Ho(()=>{e.setMaxHeight(t.maxHeight)}),Me(()=>[t.currentRowKey,n.states.rowKey],([F,L])=>{!v(L)||!v(F)||n.setCurrentRowKey(`${F}`)},{immediate:!0}),Me(()=>t.data,F=>{s.store.commit("setData",F)},{immediate:!0,deep:!0}),Ho(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const g=()=>{s.store.commit("setHoverRow",null),s.hoverState&&(s.hoverState=null)},y=(F,L)=>{const{pixelX:G,pixelY:Z}=L;Math.abs(G)>=Math.abs(Z)&&(s.refs.bodyWrapper.scrollLeft+=L.pixelX/5)},w=A(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),b=A(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),_=()=>{w.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(C)};Et(async()=>{await nt(),n.updateColumns(),T(),requestAnimationFrame(_);const F=s.vnode.el,L=s.refs.headerWrapper;t.flexible&&F&&F.parentElement&&(F.parentElement.style.minWidth="0"),l.value={width:d.value=F.offsetWidth,height:F.offsetHeight,headerHeight:t.showHeader&&L?L.offsetHeight:null},n.states.columns.value.forEach(G=>{G.filteredValue&&G.filteredValue.length&&s.store.commit("filterChange",{column:G,values:G.filteredValue,silent:!0})}),s.$ready=!0});const $=(F,L)=>{if(!F)return;const G=Array.from(F.classList).filter(Z=>!Z.startsWith("is-scrolling-"));G.push(e.scrollX.value?L:"is-scrolling-none"),F.className=G.join(" ")},x=F=>{const{tableWrapper:L}=s.refs;$(L,F)},k=F=>{const{tableWrapper:L}=s.refs;return!!(L&&L.classList.contains(F))},C=function(){if(!s.refs.scrollBarRef)return;if(!e.scrollX.value){const X="is-scrolling-none";k(X)||x(X);return}const F=s.refs.scrollBarRef.wrapRef;if(!F)return;const{scrollLeft:L,offsetWidth:G,scrollWidth:Z}=F,{headerWrapper:j,footerWrapper:J}=s.refs;j&&(j.scrollLeft=L),J&&(J.scrollLeft=L);const fe=Z-G-1;L>=fe?x("is-scrolling-right"):x(L===0?"is-scrolling-left":"is-scrolling-middle")},T=()=>{!s.refs.scrollBarRef||(s.refs.scrollBarRef.wrapRef&&Rn(s.refs.scrollBarRef.wrapRef,"scroll",C,{passive:!0}),t.fit?Dr(s.vnode.el,N):Rn(window,"resize",N),Dr(s.refs.bodyWrapper,()=>{var F,L;N(),(L=(F=s.refs)==null?void 0:F.scrollBarRef)==null||L.update()}))},N=()=>{var F,L,G;const Z=s.vnode.el;if(!s.$ready||!Z)return;let j=!1;const{width:J,height:fe,headerHeight:X}=l.value,oe=d.value=Z.offsetWidth;J!==oe&&(j=!0);const ee=Z.offsetHeight;(t.height||w.value)&&fe!==ee&&(j=!0);const Q=t.tableLayout==="fixed"?s.refs.headerWrapper:(F=s.refs.tableHeaderRef)==null?void 0:F.$el;t.showHeader&&(Q==null?void 0:Q.offsetHeight)!==X&&(j=!0),f.value=((L=s.refs.tableWrapper)==null?void 0:L.scrollHeight)||0,p.value=(Q==null?void 0:Q.scrollHeight)||0,m.value=((G=s.refs.footerWrapper)==null?void 0:G.offsetHeight)||0,h.value=f.value-p.value-m.value,j&&(l.value={width:oe,height:ee,headerHeight:t.showHeader&&(Q==null?void 0:Q.offsetHeight)||0},_())},M=ks(),R=A(()=>{const{bodyWidth:F,scrollY:L,gutterWidth:G}=e;return F.value?`${F.value-(L.value?G:0)}px`:""}),D=A(()=>t.maxHeight?"fixed":t.tableLayout),z=A(()=>{if(t.data&&t.data.length)return null;let F="100%";t.height&&h.value&&(F=`${h.value}px`);const L=d.value;return{width:L?`${L}px`:"",height:F}}),B=A(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),V=A(()=>{if(t.height)return{height:"100%"};if(t.maxHeight){if(Number.isNaN(Number(t.maxHeight)))return{maxHeight:`calc(${t.maxHeight} - ${p.value+m.value}px)`};{const F=t.maxHeight;if(f.value>=Number(F))return{maxHeight:`${f.value-p.value-m.value}px`}}}return{}});return{isHidden:r,renderExpanded:o,setDragVisible:i,isGroup:u,handleMouseLeave:g,handleHeaderFooterMousewheel:y,tableSize:M,emptyBlockStyle:z,handleFixedMousewheel:(F,L)=>{const G=s.refs.bodyWrapper;if(Math.abs(L.spinY)>0){const Z=G.scrollTop;L.pixelY<0&&Z!==0&&F.preventDefault(),L.pixelY>0&&G.scrollHeight-G.clientHeight>Z&&F.preventDefault(),G.scrollTop+=Math.ceil(L.pixelY/5)}else G.scrollLeft+=Math.ceil(L.pixelX/5)},resizeProxyVisible:a,bodyWidth:R,resizeState:l,doLayout:_,tableBodyStyles:b,tableLayout:D,scrollbarViewStyle:c,tableInnerStyle:B,scrollbarStyle:V}}var yJe={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const bJe=()=>{const t=U(),e=(o,a)=>{const i=t.value;i&&i.scrollTo(o,a)},n=(o,a)=>{const i=t.value;i&&Ct(a)&&["Top","Left"].includes(o)&&i[`setScroll${o}`](a)};return{scrollBarRef:t,scrollTo:e,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};let wJe=1;const _Je=ue({name:"ElTable",directives:{Mousewheel:Gze},components:{TableHeader:iJe,TableBody:fJe,TableFooter:mJe,ElScrollbar:jl,hColgroup:$k},props:yJe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=nn(),n=Fe("table"),s=Rt();Lt(Yi,s);const r=KZe(s,t);s.store=r;const o=new XZe({store:s.store,table:s,fit:t.fit,showHeader:t.showHeader});s.layout=o;const a=A(()=>(r.states.data.value||[]).length===0),{setCurrentRow:i,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,sort:m}=gJe(r),{isHidden:g,renderExpanded:y,setDragVisible:w,isGroup:b,handleMouseLeave:_,handleHeaderFooterMousewheel:$,tableSize:x,emptyBlockStyle:k,handleFixedMousewheel:C,resizeProxyVisible:T,bodyWidth:N,resizeState:M,doLayout:R,tableBodyStyles:D,tableLayout:z,scrollbarViewStyle:B,tableInnerStyle:V,scrollbarStyle:O}=vJe(t,o,r,s),{scrollBarRef:F,scrollTo:L,setScrollLeft:G,setScrollTop:Z}=bJe(),j=Xr(R,50),J=`${n.namespace.value}-table_${wJe++}`;s.tableId=J,s.state={isGroup:b,resizeState:M,doLayout:R,debouncedUpdateLayout:j};const fe=A(()=>t.sumText||e("el.table.sumText")),X=A(()=>t.emptyText||e("el.table.emptyText"));return{ns:n,layout:o,store:r,handleHeaderFooterMousewheel:$,handleMouseLeave:_,tableId:J,tableSize:x,isHidden:g,isEmpty:a,renderExpanded:y,resizeProxyVisible:T,resizeState:M,isGroup:b,bodyWidth:N,tableBodyStyles:D,emptyBlockStyle:k,debouncedUpdateLayout:j,handleFixedMousewheel:C,setCurrentRow:i,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,doLayout:R,sort:m,t:e,setDragVisible:w,context:s,computedSumText:fe,computedEmptyText:X,tableLayout:z,scrollbarViewStyle:B,tableInnerStyle:V,scrollbarStyle:O,scrollBarRef:F,scrollTo:L,setScrollLeft:G,setScrollTop:Z}}}),$Je=["data-prefix"],xJe={ref:"hiddenColumns",class:"hidden-columns"};function SJe(t,e,n,s,r,o){const a=pt("hColgroup"),i=pt("table-header"),l=pt("table-body"),u=pt("el-scrollbar"),c=pt("table-footer"),d=rh("mousewheel");return S(),I("div",{ref:"tableWrapper",class:P([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:ot(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[0]||(e[0]=f=>t.handleMouseLeave())},[E("div",{class:P(t.ns.e("inner-wrapper")),style:ot(t.tableInnerStyle)},[E("div",xJe,[Oe(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?St((S(),I("div",{key:0,ref:"headerWrapper",class:P(t.ns.e("header-wrapper"))},[E("table",{ref:"tableHeader",class:P(t.ns.e("header")),style:ot(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[se(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),se(i,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):ge("v-if",!0),E("div",{ref:"bodyWrapper",class:P(t.ns.e("body-wrapper"))},[se(u,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:ce(()=>[E("table",{ref:"tableBody",class:P(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:ot({width:t.bodyWidth,tableLayout:t.tableLayout})},[se(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(S(),$e(i,{key:0,ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):ge("v-if",!0),se(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),t.isEmpty?(S(),I("div",{key:0,ref:"emptyBlock",style:ot(t.emptyBlockStyle),class:P(t.ns.e("empty-block"))},[E("span",{class:P(t.ns.e("empty-text"))},[Oe(t.$slots,"empty",{},()=>[Jt(Ue(t.computedEmptyText),1)])],2)],6)):ge("v-if",!0),t.$slots.append?(S(),I("div",{key:1,ref:"appendWrapper",class:P(t.ns.e("append-wrapper"))},[Oe(t.$slots,"append")],2)):ge("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary?St((S(),I("div",{key:1,ref:"footerWrapper",class:P(t.ns.e("footer-wrapper"))},[se(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,style:ot(t.tableBodyStyles),"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[Qt,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):ge("v-if",!0),t.border||t.isGroup?(S(),I("div",{key:2,class:P(t.ns.e("border-left-patch"))},null,2)):ge("v-if",!0)],6),St(E("div",{ref:"resizeProxy",class:P(t.ns.e("column-resize-proxy"))},null,2),[[Qt,t.resizeProxyVisible]])],46,$Je)}var CJe=je(_Je,[["render",SJe],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const kJe={selection:"table-column--selection",expand:"table__expand-column"},TJe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},NJe=t=>kJe[t]||"",EJe={selection:{renderHeader({store:t}){function e(){return t.states.data.value&&t.states.data.value.length===0}return it(ka,{disabled:e(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value})},renderCell({row:t,column:e,store:n,$index:s}){return it(ka,{disabled:e.selectable?!e.selectable.call(null,t,s):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:r=>r.stopPropagation(),modelValue:n.isSelected(t)})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const s=t.index;return typeof s=="number"?n=e+s:typeof s=="function"&&(n=s(e)),it("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:s}=e,r=[s.e("expand-icon")];return n&&r.push(s.em("expand-icon","expanded")),it("div",{class:r,onClick:function(a){a.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[it(rt,null,{default:()=>[it(Rr)]})]})},sortable:!1,resizable:!1}};function IJe({row:t,column:e,$index:n}){var s;const r=e.property,o=r&&Wv(t,r).value;return e&&e.formatter?e.formatter(t,e,o,n):((s=o==null?void 0:o.toString)==null?void 0:s.call(o))||""}function AJe({row:t,treeNode:e,store:n},s=!1){const{ns:r}=n;if(!e)return s?[it("span",{class:r.e("placeholder")})]:null;const o=[],a=function(i){i.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&o.push(it("span",{class:r.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const i=[r.e("expand-icon"),e.expanded?r.em("expand-icon","expanded"):""];let l=Rr;e.loading&&(l=Vl),o.push(it("div",{class:i,onClick:a},{default:()=>[it(rt,{class:{[r.is("loading")]:e.loading}},{default:()=>[it(l)]})]}))}else o.push(it("span",{class:r.e("placeholder")}));return o}function gR(t,e){return t.reduce((n,s)=>(n[s]=s,n),e)}function OJe(t,e){const n=Rt();return{registerComplexWatchers:()=>{const o=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},i=gR(o,a);Object.keys(i).forEach(l=>{const u=a[l];Ut(e,u)&&Me(()=>e[u],c=>{let d=c;u==="width"&&l==="realWidth"&&(d=bk(c)),u==="minWidth"&&l==="realMinWidth"&&(d=N7(c)),n.columnConfig.value[u]=d,n.columnConfig.value[l]=d;const f=u==="fixed";t.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],a={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},i=gR(o,a);Object.keys(i).forEach(l=>{const u=a[l];Ut(e,u)&&Me(()=>e[u],c=>{n.columnConfig.value[l]=c})})}}}function RJe(t,e,n){const s=Rt(),r=U(""),o=U(!1),a=U(),i=U(),l=Fe("table");Ho(()=>{a.value=t.align?`is-${t.align}`:null,a.value}),Ho(()=>{i.value=t.headerAlign?`is-${t.headerAlign}`:a.value,i.value});const u=A(()=>{let b=s.vnode.vParent||s.parent;for(;b&&!b.tableId&&!b.columnId;)b=b.vnode.vParent||b.parent;return b}),c=A(()=>{const{store:b}=s.parent;if(!b)return!1;const{treeData:_}=b.states,$=_.value;return $&&Object.keys($).length>0}),d=U(bk(t.width)),f=U(N7(t.minWidth)),h=b=>(d.value&&(b.width=d.value),f.value&&(b.minWidth=f.value),!d.value&&f.value&&(b.width=void 0),b.minWidth||(b.minWidth=80),b.realWidth=Number(b.width===void 0?b.minWidth:b.width),b),p=b=>{const _=b.type,$=EJe[_]||{};Object.keys($).forEach(k=>{const C=$[k];k!=="className"&&C!==void 0&&(b[k]=C)});const x=NJe(_);if(x){const k=`${v(l.namespace)}-${x}`;b.className=b.className?`${b.className} ${k}`:k}return b},m=b=>{Array.isArray(b)?b.forEach($=>_($)):_(b);function _($){var x;((x=$==null?void 0:$.type)==null?void 0:x.name)==="ElTableColumn"&&($.vParent=s)}};return{columnId:r,realAlign:a,isSubColumn:o,realHeaderAlign:i,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:b=>{t.renderHeader||b.type!=="selection"&&(b.renderHeader=$=>{s.columnConfig.value.label;const x=e.header;return x?x($):b.label});let _=b.renderCell;return b.type==="expand"?(b.renderCell=$=>it("div",{class:"cell"},[_($)]),n.value.renderExpanded=$=>e.default?e.default($):e.default):(_=_||IJe,b.renderCell=$=>{let x=null;if(e.default){const N=e.default($);x=N.some(M=>M.type!==Gr)?N:_($)}else x=_($);const k=c.value&&$.cellIndex===0&&$.column.type!=="selection",C=AJe($,k),T={class:"cell",style:{}};return b.showOverflowTooltip&&(T.class=`${T.class} ${v(l.namespace)}-tooltip`,T.style={width:`${($.column.realWidth||Number($.column.width))-1}px`}),m(x),it("div",T,[C,x])}),b},getPropsData:(...b)=>b.reduce((_,$)=>(Array.isArray($)&&$.forEach(x=>{_[x]=t[x]}),_),{}),getColumnElIndex:(b,_)=>Array.prototype.indexOf.call(b,_)}}var DJe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let FJe=1;var M7=ue({name:"ElTableColumn",components:{ElCheckbox:ka},props:DJe,setup(t,{slots:e}){const n=Rt(),s=U({}),r=A(()=>{let w=n.parent;for(;w&&!w.tableId;)w=w.parent;return w}),{registerNormalWatchers:o,registerComplexWatchers:a}=OJe(r,t),{columnId:i,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:h,getPropsData:p,getColumnElIndex:m,realAlign:g}=RJe(t,e,r),y=c.value;i.value=`${y.tableId||y.columnId}_column_${FJe++}`,qb(()=>{l.value=r.value!==y;const w=t.type||"default",b=t.sortable===""?!0:t.sortable,_={...TJe[w],id:i.value,type:w,property:t.prop||t.property,align:g,headerAlign:u,showOverflowTooltip:t.showOverflowTooltip||t.showTooltipWhenOverflow,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:b,index:t.index,rawColumnKey:n.vnode.key};let T=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);T=MZe(_,T),T=LZe(h,d,f)(T),s.value=T,o(),a()}),Et(()=>{var w;const b=c.value,_=l.value?b.vnode.el.children:(w=b.refs.hiddenColumns)==null?void 0:w.children,$=()=>m(_||[],n.vnode.el);s.value.getColumnIndex=$,$()>-1&&r.value.store.commit("insertColumn",s.value,l.value?b.columnConfig.value:null)}),ts(()=>{r.value.store.commit("removeColumn",s.value,l.value?y.columnConfig.value:null)}),n.columnId=i.value,n.columnConfig=s},render(){var t,e,n;try{const s=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),r=[];if(Array.isArray(s))for(const a of s)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?r.push(a):a.type===lt&&Array.isArray(a.children)&&a.children.forEach(i=>{(i==null?void 0:i.patchFlag)!==1024&&!wt(i==null?void 0:i.children)&&r.push(i)});return it("div",r)}catch{return it("div",[])}}});const MJe=Dt(CJe,{TableColumn:M7}),PJe=ns(M7);var j0=(t=>(t.ASC="asc",t.DESC="desc",t))(j0||{}),K0=(t=>(t.CENTER="center",t.RIGHT="right",t))(K0||{}),P7=(t=>(t.LEFT="left",t.RIGHT="right",t))(P7||{});const K6={asc:"desc",desc:"asc"},q0=Symbol("placeholder"),LJe=(t,e,n)=>{var s;const r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(r.flexShrink=1);const o={...(s=t.style)!=null?s:{},...r,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(o.maxWidth=t.maxWidth),t.minWidth&&(o.minWidth=t.minWidth)),o};function zJe(t,e,n){const s=A(()=>v(e).filter(m=>!m.hidden)),r=A(()=>v(s).filter(m=>m.fixed==="left"||m.fixed===!0)),o=A(()=>v(s).filter(m=>m.fixed==="right")),a=A(()=>v(s).filter(m=>!m.fixed)),i=A(()=>{const m=[];return v(r).forEach(g=>{m.push({...g,placeholderSign:q0})}),v(a).forEach(g=>{m.push(g)}),v(o).forEach(g=>{m.push({...g,placeholderSign:q0})}),m}),l=A(()=>v(r).length||v(o).length),u=A(()=>v(e).reduce((g,y)=>(g[y.key]=LJe(y,v(n),t.fixed),g),{})),c=A(()=>v(s).reduce((m,g)=>m+g.width,0)),d=m=>v(e).find(g=>g.key===m),f=m=>v(u)[m],h=(m,g)=>{m.width=g};function p(m){var g;const{key:y}=m.currentTarget.dataset;if(!y)return;const{sortState:w,sortBy:b}=t;let _=j0.ASC;Bt(w)?_=K6[w[y]]:_=K6[b.order],(g=t.onColumnSort)==null||g.call(t,{column:d(y),key:y,order:_})}return{columns:e,columnsStyles:u,columnsTotalWidth:c,fixedColumnsOnLeft:r,fixedColumnsOnRight:o,hasFixedColumns:l,mainColumns:i,normalColumns:a,visibleColumns:s,getColumn:d,getColumnStyle:f,updateColumnWidth:h,onColumnSorted:p}}const BJe=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,onMaybeEndReached:r})=>{const o=U({scrollLeft:0,scrollTop:0});function a(h){var p,m,g;const{scrollTop:y}=h;(p=e.value)==null||p.scrollTo(h),(m=n.value)==null||m.scrollToTop(y),(g=s.value)==null||g.scrollToTop(y)}function i(h){o.value=h,a(h)}function l(h){o.value.scrollTop=h,a(v(o))}function u(h){var p,m;o.value.scrollLeft=h,(m=(p=e.value)==null?void 0:p.scrollTo)==null||m.call(p,v(o))}function c(h){var p;i(h),(p=t.onScroll)==null||p.call(t,h)}function d({scrollTop:h}){const{scrollTop:p}=v(o);h!==p&&l(h)}function f(h,p="auto"){var m;(m=e.value)==null||m.scrollToRow(h,p)}return Me(()=>v(o).scrollTop,(h,p)=>{h>p&&r()}),{scrollPos:o,scrollTo:i,scrollToLeft:u,scrollToTop:l,scrollToRow:f,onScroll:c,onVerticalScroll:d}},VJe=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,onMaybeEndReached:r})=>{const o=Rt(),{emit:a}=o,i=Nn(!1),l=Nn(null),u=U(t.defaultExpandedRowKeys||[]),c=U(-1),d=Nn(null),f=U({}),h=U({}),p=Nn({}),m=Nn({}),g=Nn({}),y=A(()=>Ct(t.estimatedRowHeight));function w(T){var N;(N=t.onRowsRendered)==null||N.call(t,T),T.rowCacheEnd>v(c)&&(c.value=T.rowCacheEnd)}function b({hovered:T,rowKey:N}){l.value=T?N:null}function _({expanded:T,rowData:N,rowIndex:M,rowKey:R}){var D,z;const B=[...v(u)],V=B.indexOf(R);T?V===-1&&B.push(R):V>-1&&B.splice(V,1),u.value=B,a("update:expandedRowKeys",B),(D=t.onRowExpand)==null||D.call(t,{expanded:T,rowData:N,rowIndex:M,rowKey:R}),(z=t.onExpandedRowsChange)==null||z.call(t,B)}const $=Xr(()=>{var T,N,M,R;i.value=!0,f.value={...v(f),...v(h)},x(v(d),!1),h.value={},d.value=null,(T=e.value)==null||T.forceUpdate(),(N=n.value)==null||N.forceUpdate(),(M=s.value)==null||M.forceUpdate(),(R=o.proxy)==null||R.$forceUpdate(),i.value=!1},0);function x(T,N=!1){!v(y)||[e,n,s].forEach(M=>{const R=v(M);R&&R.resetAfterRowIndex(T,N)})}function k(T,N,M){const R=v(d);(R===null||R>M)&&(d.value=M),h.value[T]=N}function C({rowKey:T,height:N,rowIndex:M},R){R?R===P7.RIGHT?g.value[T]=N:p.value[T]=N:m.value[T]=N;const D=Math.max(...[p,g,m].map(z=>z.value[T]||0));v(f)[T]!==D&&(k(T,D,M),$())}return Me(c,()=>r()),{hoveringRowKey:l,expandedRowKeys:u,lastRenderedRowIndex:c,isDynamic:y,isResetting:i,rowHeights:f,resetAfterIndex:x,onRowExpanded:_,onRowHovered:b,onRowsRendered:w,onRowHeightChange:C}},HJe=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:s})=>{const r=U({}),o=A(()=>{const i={},{data:l,rowKey:u}=t,c=v(e);if(!c||!c.length)return l;const d=[],f=new Set;c.forEach(p=>f.add(p));let h=l.slice();for(h.forEach(p=>i[p[u]]=0);h.length>0;){const p=h.shift();d.push(p),f.has(p[u])&&Array.isArray(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(m=>i[m[u]]=i[p[u]]+1))}return r.value=i,d}),a=A(()=>{const{data:i,expandColumnKey:l}=t;return l?v(o):i});return Me(a,(i,l)=>{i!==l&&(n.value=-1,s(0,!0))}),{data:a,depthMap:r}},WJe=(t,e)=>t+e,ry=t=>Qe(t)?t.reduce(WJe,0):t,Td=(t,e,n={})=>vt(t)?t(e):t??n,Su=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Cs(t[e])}),t),L7=t=>Bn(t)?e=>it(t,e):t,UJe=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:s,fixedColumnsOnRight:r})=>{const o=A(()=>{const{fixed:b,width:_,vScrollbarSize:$}=t,x=_-$;return b?Math.max(Math.round(v(e)),x):x}),a=A(()=>v(o)+(t.fixed?t.vScrollbarSize:0)),i=A(()=>{const{height:b=0,maxHeight:_=0,footerHeight:$,hScrollbarSize:x}=t;if(_>0){const k=v(p),C=v(l),N=v(h)+k+C+x;return Math.min(N,_-$)}return b-$}),l=A(()=>{const{rowHeight:b,estimatedRowHeight:_}=t,$=v(n);return Ct(_)?$.length*_:$.length*b}),u=A(()=>{const{maxHeight:b}=t,_=v(i);if(Ct(b)&&b>0)return _;const $=v(l)+v(h)+v(p);return Math.min(_,$)}),c=b=>b.width,d=A(()=>ry(v(s).map(c))),f=A(()=>ry(v(r).map(c))),h=A(()=>ry(t.headerHeight)),p=A(()=>{var b;return(((b=t.fixedData)==null?void 0:b.length)||0)*t.rowHeight}),m=A(()=>v(i)-v(h)-v(p)),g=A(()=>{const{style:b={},height:_,width:$}=t;return Su({...b,height:_,width:$})}),y=A(()=>Su({height:t.footerHeight})),w=A(()=>({top:Cs(v(h)),bottom:Cs(t.footerHeight),width:Cs(t.width)}));return{bodyWidth:o,fixedTableHeight:u,mainTableHeight:i,leftTableWidth:d,rightTableWidth:f,headerWidth:a,rowsHeight:l,windowHeight:m,footerHeight:y,emptyStyle:w,rootStyle:g,headerHeight:h}},GJe=t=>{const e=U(),n=U(0),s=U(0);let r;return Et(()=>{r=Dr(e,([o])=>{const{width:a,height:i}=o.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:d}=getComputedStyle(o.target),f=Number.parseInt(l)||0,h=Number.parseInt(u)||0,p=Number.parseInt(c)||0,m=Number.parseInt(d)||0;n.value=a-f-h,s.value=i-p-m}).stop}),ts(()=>{r==null||r()}),Me([n,s],([o,a])=>{var i;(i=t.onResize)==null||i.call(t,{width:o,height:a})}),{sizer:e,width:n,height:s}};function jJe(t){const e=U(),n=U(),s=U(),{columns:r,columnsStyles:o,columnsTotalWidth:a,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:d}=zJe(t,Un(t,"columns"),Un(t,"fixed")),{scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:m,onScroll:g,onVerticalScroll:y,scrollPos:w}=BJe(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,onMaybeEndReached:K}),{expandedRowKeys:b,hoveringRowKey:_,lastRenderedRowIndex:$,isDynamic:x,isResetting:k,rowHeights:C,resetAfterIndex:T,onRowExpanded:N,onRowHeightChange:M,onRowHovered:R,onRowsRendered:D}=VJe(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,onMaybeEndReached:K}),{data:z,depthMap:B}=HJe(t,{expandedRowKeys:b,lastRenderedRowIndex:$,resetAfterIndex:T}),{bodyWidth:V,fixedTableHeight:O,mainTableHeight:F,leftTableWidth:L,rightTableWidth:G,headerWidth:Z,rowsHeight:j,windowHeight:J,footerHeight:fe,emptyStyle:X,rootStyle:oe,headerHeight:ee}=UJe(t,{columnsTotalWidth:a,data:z,fixedColumnsOnLeft:i,fixedColumnsOnRight:l}),Q=Nn(!1),ie=U(),pe=A(()=>{const re=v(z).length===0;return Qe(t.fixedData)?t.fixedData.length===0&&re:re});function Re(re){const{estimatedRowHeight:we,rowHeight:Ie,rowKey:De}=t;return we?v(C)[v(z)[re][De]]||we:Ie}function K(){const{onEndReached:re}=t;if(!re)return;const{scrollTop:we}=v(w),Ie=v(j),De=v(J),_e=Ie-(we+De)+t.hScrollbarSize;v($)>=0&&Ie===we+v(F)-v(ee)&&re(_e)}return Me(()=>t.expandedRowKeys,re=>b.value=re,{deep:!0}),{columns:r,containerRef:ie,mainTableRef:e,leftTableRef:n,rightTableRef:s,isDynamic:x,isResetting:k,isScrolling:Q,hoveringRowKey:_,hasFixedColumns:u,columnsStyles:o,columnsTotalWidth:a,data:z,expandedRowKeys:b,depthMap:B,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:V,emptyStyle:X,rootStyle:oe,headerWidth:Z,footerHeight:fe,mainTableHeight:F,fixedTableHeight:O,leftTableWidth:L,rightTableWidth:G,showEmpty:pe,getRowHeight:Re,onColumnSorted:d,onRowHovered:R,onRowExpanded:N,onRowsRendered:D,onRowHeightChange:M,scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:m,onScroll:g,onVerticalScroll:y}}const xk=Symbol("tableV2"),z7=String,zg={type:Se(Array),required:!0},Sk={type:Se(Array)},B7={...Sk,required:!0},KJe=String,vR={type:Se(Array),default:()=>Ln([])},Bc={type:Number,required:!0},V7={type:Se([String,Number,Symbol]),default:"id"},yR={type:Se(Object)},Zc=qe({class:String,columns:zg,columnsStyles:{type:Se(Object),required:!0},depth:Number,expandColumnKey:KJe,estimatedRowHeight:{...ad.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Se(Function)},onRowHover:{type:Se(Function)},onRowHeightChange:{type:Se(Function)},rowData:{type:Se(Object),required:!0},rowEventHandlers:{type:Se(Object)},rowIndex:{type:Number,required:!0},rowKey:V7,style:{type:Se(Object)}}),a$={type:Number,required:!0},Ck=qe({class:String,columns:zg,fixedHeaderData:{type:Se(Array)},headerData:{type:Se(Array),required:!0},headerHeight:{type:Se([Number,Array]),default:50},rowWidth:a$,rowHeight:{type:Number,default:50},height:a$,width:a$}),oy=qe({columns:zg,data:B7,fixedData:Sk,estimatedRowHeight:Zc.estimatedRowHeight,width:Bc,height:Bc,headerWidth:Bc,headerHeight:Ck.headerHeight,bodyWidth:Bc,rowHeight:Bc,cache:f7.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:ad.scrollbarAlwaysOn,scrollbarStartGap:ad.scrollbarStartGap,scrollbarEndGap:ad.scrollbarEndGap,class:z7,style:yR,containerStyle:yR,getRowHeight:{type:Se(Function),required:!0},rowKey:Zc.rowKey,onRowsRendered:{type:Se(Function)},onScroll:{type:Se(Function)}}),qJe=qe({cache:oy.cache,estimatedRowHeight:Zc.estimatedRowHeight,rowKey:V7,headerClass:{type:Se([String,Function])},headerProps:{type:Se([Object,Function])},headerCellProps:{type:Se([Object,Function])},headerHeight:Ck.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Se([String,Function])},rowProps:{type:Se([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Se([Object,Function])},columns:zg,data:B7,dataGetter:{type:Se(Function)},fixedData:Sk,expandColumnKey:Zc.expandColumnKey,expandedRowKeys:vR,defaultExpandedRowKeys:vR,class:z7,fixed:Boolean,style:{type:Se(Object)},width:Bc,height:Bc,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:ad.hScrollbarSize,vScrollbarSize:ad.vScrollbarSize,scrollbarAlwaysOn:m7.alwaysOn,sortBy:{type:Se(Object),default:()=>({})},sortState:{type:Se(Object),default:void 0},onColumnSort:{type:Se(Function)},onExpandedRowsChange:{type:Se(Function)},onEndReached:{type:Se(Function)},onRowExpand:Zc.onRowExpand,onScroll:oy.onScroll,onRowsRendered:oy.onRowsRendered,rowEventHandlers:Zc.rowEventHandlers}),kk=(t,{slots:e})=>{var n;const{cellData:s,style:r}=t,o=((n=s==null?void 0:s.toString)==null?void 0:n.call(s))||"";return se("div",{class:t.class,title:o,style:r},[e.default?e.default(t):o])};kk.displayName="ElTableV2Cell";kk.inheritAttrs=!1;const Tk=(t,{slots:e})=>{var n,s;return e.default?e.default(t):se("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(s=t.column)==null?void 0:s.title])};Tk.displayName="ElTableV2HeaderCell";Tk.inheritAttrs=!1;const XJe=qe({class:String,columns:zg,columnsStyles:{type:Se(Object),required:!0},headerIndex:Number,style:{type:Se(Object)}}),YJe=ue({name:"ElTableV2HeaderRow",props:XJe,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:s,headerIndex:r,style:o}=t;let a=n.map((i,l)=>e.cell({columns:n,column:i,columnIndex:l,headerIndex:r,style:s[i.key]}));return e.header&&(a=e.header({cells:a.map(i=>Qe(i)&&i.length===1?i[0]:i),columns:n,headerIndex:r})),se("div",{class:t.class,style:o},[a])}}}),ZJe="ElTableV2Header",JJe=ue({name:ZJe,props:Ck,setup(t,{slots:e,expose:n}){const s=Fe("table-v2"),r=U(),o=A(()=>Su({width:t.width,height:t.height})),a=A(()=>Su({width:t.rowWidth,height:t.height})),i=A(()=>dh(v(t.headerHeight))),l=d=>{const f=v(r);nt(()=>{f!=null&&f.scroll&&f.scroll({left:d})})},u=()=>{const d=s.e("fixed-header-row"),{columns:f,fixedHeaderData:h,rowHeight:p}=t;return h==null?void 0:h.map((m,g)=>{var y;const w=Su({height:p,width:"100%"});return(y=e.fixed)==null?void 0:y.call(e,{class:d,columns:f,rowData:m,rowIndex:-(g+1),style:w})})},c=()=>{const d=s.e("dynamic-header-row"),{columns:f}=t;return v(i).map((h,p)=>{var m;const g=Su({width:"100%",height:h});return(m=e.dynamic)==null?void 0:m.call(e,{class:d,columns:f,headerIndex:p,style:g})})};return n({scrollToLeft:l}),()=>{if(!(t.height<=0))return se("div",{ref:r,class:t.class,style:v(o)},[se("div",{style:v(a),class:s.e("header")},[c(),u()])])}}}),QJe=t=>{const{isScrolling:e}=et(xk),n=U(!1),s=U(),r=A(()=>Ct(t.estimatedRowHeight)&&t.rowIndex>=0),o=(l=!1)=>{const u=v(s);if(!u)return;const{columns:c,onRowHeightChange:d,rowKey:f,rowIndex:h,style:p}=t,{height:m}=u.getBoundingClientRect();n.value=!0,nt(()=>{if(l||m!==Number.parseInt(p.height)){const g=c[0],y=(g==null?void 0:g.placeholderSign)===q0;d==null||d({rowKey:f,height:m,rowIndex:h},g&&!y&&g.fixed)}})},a=A(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:d}=t,f=t.rowEventHandlers||{},h={};return Object.entries(f).forEach(([p,m])=>{vt(m)&&(h[p]=g=>{m({event:g,rowData:l,rowIndex:u,rowKey:c})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:m})=>{const g=h[p];h[p]=y=>{d({event:y,hovered:m,rowData:l,rowIndex:u,rowKey:c}),g==null||g(y)}}),h}),i=l=>{const{onRowExpand:u,rowData:c,rowIndex:d,rowKey:f}=t;u==null||u({expanded:l,rowData:c,rowIndex:d,rowKey:f})};return Et(()=>{v(r)&&o(!0)}),{isScrolling:e,measurable:r,measured:n,rowRef:s,eventHandlers:a,onExpand:i}},eQe="ElTableV2TableRow",tQe=ue({name:eQe,props:Zc,setup(t,{expose:e,slots:n,attrs:s}){const{eventHandlers:r,isScrolling:o,measurable:a,measured:i,rowRef:l,onExpand:u}=QJe(t);return e({onExpand:u}),()=>{const{columns:c,columnsStyles:d,expandColumnKey:f,depth:h,rowData:p,rowIndex:m,style:g}=t;let y=c.map((w,b)=>{const _=Qe(p.children)&&p.children.length>0&&w.key===f;return n.cell({column:w,columns:c,columnIndex:b,depth:h,style:d[w.key],rowData:p,rowIndex:m,isScrolling:v(o),expandIconProps:_?{rowData:p,rowIndex:m,onExpand:u}:void 0})});if(n.row&&(y=n.row({cells:y.map(w=>Qe(w)&&w.length===1?w[0]:w),style:g,columns:c,depth:h,rowData:p,rowIndex:m,isScrolling:v(o)})),v(a)){const{height:w,...b}=g||{},_=v(i);return se("div",zt({ref:l,class:t.class,style:_?g:b},s,v(r)),[y])}return se("div",zt(s,{ref:l,class:t.class,style:g},v(r)),[y])}}}),nQe=t=>{const{sortOrder:e}=t;return se(rt,{size:14,class:t.class},{default:()=>[e===j0.ASC?se(CP,null,null):se(SP,null,null)]})},sQe=t=>{const{expanded:e,expandable:n,onExpand:s,style:r,size:o}=t,a={onClick:n?()=>s(!e):void 0,class:t.class};return se(rt,zt(a,{size:o,style:r}),{default:()=>[se(Rr,null,null)]})},rQe="ElTableV2Grid",oQe=t=>{const e=U(),n=U(),s=A(()=>{const{data:m,rowHeight:g,estimatedRowHeight:y}=t;if(!y)return m.length*g}),r=A(()=>{const{fixedData:m,rowHeight:g}=t;return((m==null?void 0:m.length)||0)*g}),o=A(()=>ry(t.headerHeight)),a=A(()=>{const{height:m}=t;return Math.max(0,m-v(o)-v(r))}),i=A(()=>v(o)+v(r)>0),l=({data:m,rowIndex:g})=>m[g][t.rowKey];function u({rowCacheStart:m,rowCacheEnd:g,rowVisibleStart:y,rowVisibleEnd:w}){var b;(b=t.onRowsRendered)==null||b.call(t,{rowCacheStart:m,rowCacheEnd:g,rowVisibleStart:y,rowVisibleEnd:w})}function c(m,g){var y;(y=n.value)==null||y.resetAfterRowIndex(m,g)}function d(m,g){const y=v(e),w=v(n);!y||!w||(Bt(m)?(y.scrollToLeft(m.scrollLeft),w.scrollTo(m)):(y.scrollToLeft(m),w.scrollTo({scrollLeft:m,scrollTop:g})))}function f(m){var g;(g=v(n))==null||g.scrollTo({scrollTop:m})}function h(m,g){var y;(y=v(n))==null||y.scrollToItem(m,1,g)}function p(){var m,g;(m=v(n))==null||m.$forceUpdate(),(g=v(e))==null||g.$forceUpdate()}return{bodyRef:n,forceUpdate:p,fixedRowHeight:r,gridHeight:a,hasHeader:i,headerHeight:o,headerRef:e,totalHeight:s,itemKey:l,onItemRendered:u,resetAfterRowIndex:c,scrollTo:d,scrollToTop:f,scrollToRow:h}},Nk=ue({name:rQe,props:oy,setup(t,{slots:e,expose:n}){const{ns:s}=et(xk),{bodyRef:r,fixedRowHeight:o,gridHeight:a,hasHeader:i,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:d,itemKey:f,onItemRendered:h,resetAfterRowIndex:p,scrollTo:m,scrollToTop:g,scrollToRow:y}=oQe(t);n({forceUpdate:d,totalHeight:c,scrollTo:m,scrollToTop:g,scrollToRow:y,resetAfterRowIndex:p});const w=()=>t.bodyWidth;return()=>{const{cache:b,columns:_,data:$,fixedData:x,useIsScrolling:k,scrollbarAlwaysOn:C,scrollbarEndGap:T,scrollbarStartGap:N,style:M,rowHeight:R,bodyWidth:D,estimatedRowHeight:z,headerWidth:B,height:V,width:O,getRowHeight:F,onScroll:L}=t,G=Ct(z),Z=G?qXe:UXe,j=v(u);return se("div",{role:"table",class:[s.e("table"),t.class],style:M},[se(Z,{ref:r,data:$,useIsScrolling:k,itemKey:f,columnCache:0,columnWidth:G?w:D,totalColumn:1,totalRow:$.length,rowCache:b,rowHeight:G?F:R,width:O,height:v(a),class:s.e("body"),scrollbarStartGap:N,scrollbarEndGap:T,scrollbarAlwaysOn:C,onScroll:L,onItemRendered:h,perfMode:!1},{default:J=>{var fe;const X=$[J.rowIndex];return(fe=e.row)==null?void 0:fe.call(e,{...J,columns:_,rowData:X})}}),v(i)&&se(JJe,{ref:l,class:s.e("header-wrapper"),columns:_,headerData:$,headerHeight:t.headerHeight,fixedHeaderData:x,rowWidth:B,rowHeight:R,width:O,height:Math.min(j+v(o),V)},{dynamic:e.header,fixed:e.row})])}}});function aQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Bn(t)}const iQe=(t,{slots:e})=>{const{mainTableRef:n,...s}=t;return se(Nk,zt({ref:n},s),aQe(e)?e:{default:()=>[e]})};function lQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Bn(t)}const uQe=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...s}=t;return se(Nk,zt({ref:n},s),lQe(e)?e:{default:()=>[e]})};function cQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Bn(t)}const dQe=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...s}=t;return se(Nk,zt({ref:n},s),cQe(e)?e:{default:()=>[e]})};function fQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Bn(t)}const hQe=(t,{slots:e})=>{const{columns:n,columnsStyles:s,depthMap:r,expandColumnKey:o,expandedRowKeys:a,estimatedRowHeight:i,hasFixedColumns:l,hoveringRowKey:u,rowData:c,rowIndex:d,style:f,isScrolling:h,rowProps:p,rowClass:m,rowKey:g,rowEventHandlers:y,ns:w,onRowHovered:b,onRowExpanded:_}=t,$=Td(m,{columns:n,rowData:c,rowIndex:d},""),x=Td(p,{columns:n,rowData:c,rowIndex:d}),k=c[g],C=r[k]||0,T=Boolean(o),N=d<0,M=[w.e("row"),$,{[w.e(`row-depth-${C}`)]:T&&d>=0,[w.is("expanded")]:T&&a.includes(k),[w.is("hovered")]:!h&&k===u,[w.is("fixed")]:!C&&N,[w.is("customized")]:Boolean(e.row)}],R=l?b:void 0,D={...x,columns:n,columnsStyles:s,class:M,depth:C,expandColumnKey:o,estimatedRowHeight:N?void 0:i,isScrolling:h,rowIndex:d,rowData:c,rowKey:k,rowEventHandlers:y,style:f};return se(tQe,zt(D,{onRowHover:R,onRowExpand:_}),fQe(e)?e:{default:()=>[e]})},q6=({columns:t,column:e,columnIndex:n,depth:s,expandIconProps:r,isScrolling:o,rowData:a,rowIndex:i,style:l,expandedRowKeys:u,ns:c,cellProps:d,expandColumnKey:f,indentSize:h,iconSize:p,rowKey:m},{slots:g})=>{const y=Su(l);if(e.placeholderSign===q0)return se("div",{class:c.em("row-cell","placeholder"),style:y},null);const{cellRenderer:w,dataKey:b,dataGetter:_}=e,x=L7(w)||g.default||(V=>se(kk,V,null)),k=vt(_)?_({columns:t,column:e,columnIndex:n,rowData:a,rowIndex:i}):Pn(a,b??""),C=Td(d,{cellData:k,columns:t,column:e,columnIndex:n,rowIndex:i,rowData:a}),T={class:c.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:k,isScrolling:o,rowData:a,rowIndex:i},N=x(T),M=[c.e("row-cell"),e.align===K0.CENTER&&c.is("align-center"),e.align===K0.RIGHT&&c.is("align-right")],R=i>=0&&e.key===f,D=i>=0&&u.includes(a[m]);let z;const B=`margin-inline-start: ${s*h}px;`;return R&&(Bt(r)?z=se(sQe,zt(r,{class:[c.e("expand-icon"),c.is("expanded",D)],size:p,expanded:D,style:B,expandable:!0}),null):z=se("div",{style:[B,`width: ${p}px; height: ${p}px;`].join(" ")},null)),se("div",zt({class:M,style:y},C),[z,N])};q6.inheritAttrs=!1;function pQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Bn(t)}const mQe=({columns:t,columnsStyles:e,headerIndex:n,style:s,headerClass:r,headerProps:o,ns:a},{slots:i})=>{const l={columns:t,headerIndex:n},u=[a.e("header-row"),Td(r,l,""),{[a.is("customized")]:Boolean(i.header)}],c={...Td(o,l),columnsStyles:e,class:u,columns:t,headerIndex:n,style:s};return se(YJe,c,pQe(i)?i:{default:()=>[i]})},bR=(t,{slots:e})=>{const{column:n,ns:s,style:r,onColumnSorted:o}=t,a=Su(r);if(n.placeholderSign===q0)return se("div",{class:s.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:i,headerClass:l,sortable:u}=n,c={...t,class:s.e("header-cell-text")},f=(L7(i)||e.default||(_=>se(Tk,_,null)))(c),{sortBy:h,sortState:p,headerCellProps:m}=t;let g,y;if(p){const _=p[n.key];g=Boolean(K6[_]),y=g?_:j0.ASC}else g=n.key===h.key,y=g?h.order:j0.ASC;const w=[s.e("header-cell"),Td(l,t,""),n.align===K0.CENTER&&s.is("align-center"),n.align===K0.RIGHT&&s.is("align-right"),u&&s.is("sortable")],b={...Td(m,t),onClick:n.sortable?o:void 0,class:w,style:a,["data-key"]:n.key};return se("div",b,[f,u&&se(nQe,{class:[s.e("sort-icon"),g&&s.is("sorting")],sortOrder:y},null)])},H7=(t,{slots:e})=>{var n;return se("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};H7.displayName="ElTableV2Footer";const W7=(t,{slots:e})=>se("div",{class:t.class,style:t.style},[e.default?e.default():se(Yz,null,null)]);W7.displayName="ElTableV2Empty";const U7=(t,{slots:e})=>{var n;return se("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};U7.displayName="ElTableV2Overlay";function Rm(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!Bn(t)}const gQe="ElTableV2",vQe=ue({name:gQe,props:qJe,setup(t,{slots:e,expose:n}){const s=Fe("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:o,fixedColumnsOnRight:a,mainColumns:i,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:c,rightTableWidth:d,data:f,depthMap:h,expandedRowKeys:p,hasFixedColumns:m,hoveringRowKey:g,mainTableRef:y,leftTableRef:w,rightTableRef:b,isDynamic:_,isResetting:$,isScrolling:x,bodyWidth:k,emptyStyle:C,rootStyle:T,headerWidth:N,footerHeight:M,showEmpty:R,scrollTo:D,scrollToLeft:z,scrollToTop:B,scrollToRow:V,getRowHeight:O,onColumnSorted:F,onRowHeightChange:L,onRowHovered:G,onRowExpanded:Z,onRowsRendered:j,onScroll:J,onVerticalScroll:fe}=jJe(t);return n({scrollTo:D,scrollToLeft:z,scrollToTop:B,scrollToRow:V}),Lt(xk,{ns:s,isResetting:$,hoveringRowKey:g,isScrolling:x}),()=>{const{cache:X,cellProps:oe,estimatedRowHeight:ee,expandColumnKey:Q,fixedData:ie,headerHeight:pe,headerClass:Re,headerProps:K,headerCellProps:re,sortBy:we,sortState:Ie,rowHeight:De,rowClass:_e,rowEventHandlers:ze,rowKey:Ae,rowProps:he,scrollbarAlwaysOn:ve,indentSize:me,iconSize:Ve,useIsScrolling:Ye,vScrollbarSize:Je,width:ct}=t,xt=v(f),dt={cache:X,class:s.e("main"),columns:v(i),data:xt,fixedData:ie,estimatedRowHeight:ee,bodyWidth:v(k),headerHeight:pe,headerWidth:v(N),height:v(l),mainTableRef:y,rowKey:Ae,rowHeight:De,scrollbarAlwaysOn:ve,scrollbarStartGap:2,scrollbarEndGap:Je,useIsScrolling:Ye,width:ct,getRowHeight:O,onRowsRendered:j,onScroll:J},xe=v(c),Ke=v(u),at={cache:X,class:s.e("left"),columns:v(o),data:xt,estimatedRowHeight:ee,leftTableRef:w,rowHeight:De,bodyWidth:xe,headerWidth:xe,headerHeight:pe,height:Ke,rowKey:Ae,scrollbarAlwaysOn:ve,scrollbarStartGap:2,scrollbarEndGap:Je,useIsScrolling:Ye,width:xe,getRowHeight:O,onScroll:fe},de=v(d)+Je,Pe={cache:X,class:s.e("right"),columns:v(a),data:xt,estimatedRowHeight:ee,rightTableRef:b,rowHeight:De,bodyWidth:de,headerWidth:de,headerHeight:pe,height:Ke,rowKey:Ae,scrollbarAlwaysOn:ve,scrollbarStartGap:2,scrollbarEndGap:Je,width:de,style:`--${v(s.namespace)}-table-scrollbar-size: ${Je}px`,useIsScrolling:Ye,getRowHeight:O,onScroll:fe},We=v(r),Ft={ns:s,depthMap:v(h),columnsStyles:We,expandColumnKey:Q,expandedRowKeys:v(p),estimatedRowHeight:ee,hasFixedColumns:v(m),hoveringRowKey:v(g),rowProps:he,rowClass:_e,rowKey:Ae,rowEventHandlers:ze,onRowHovered:G,onRowExpanded:Z,onRowHeightChange:L},_n={cellProps:oe,expandColumnKey:Q,indentSize:me,iconSize:Ve,rowKey:Ae,expandedRowKeys:v(p),ns:s},_s={ns:s,headerClass:Re,headerProps:K,columnsStyles:We},qs={ns:s,sortBy:we,sortState:Ie,headerCellProps:re,onColumnSorted:F},Sn={row:ft=>se(hQe,zt(ft,Ft),{row:e.row,cell:Ht=>{let pn;return e.cell?se(q6,zt(Ht,_n,{style:We[Ht.column.key]}),Rm(pn=e.cell(Ht))?pn:{default:()=>[pn]}):se(q6,zt(Ht,_n,{style:We[Ht.column.key]}),null)}}),header:ft=>se(mQe,zt(ft,_s),{header:e.header,cell:Ht=>{let pn;return e["header-cell"]?se(bR,zt(Ht,qs,{style:We[Ht.column.key]}),Rm(pn=e["header-cell"](Ht))?pn:{default:()=>[pn]}):se(bR,zt(Ht,qs,{style:We[Ht.column.key]}),null)}})},sn=[t.class,s.b(),s.e("root"),{[s.is("dynamic")]:v(_)}],He={class:s.e("footer"),style:v(M)};return se("div",{class:sn,style:v(T)},[se(iQe,dt,Rm(Sn)?Sn:{default:()=>[Sn]}),se(uQe,at,Rm(Sn)?Sn:{default:()=>[Sn]}),se(dQe,Pe,Rm(Sn)?Sn:{default:()=>[Sn]}),e.footer&&se(H7,He,{default:e.footer}),v(R)&&se(W7,{class:s.e("empty"),style:v(C)},{default:e.empty}),e.overlay&&se(U7,{class:s.e("overlay")},{default:e.overlay})])}}}),yQe=qe({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Se(Function)}}),bQe=ue({name:"ElAutoResizer",props:yQe,setup(t,{slots:e}){const n=Fe("auto-resizer"),{height:s,width:r,sizer:o}=GJe(t),a={width:"100%",height:"100%"};return()=>{var i;return se("div",{ref:o,class:n.b(),style:a},[(i=e.default)==null?void 0:i.call(e,{height:s.value,width:r.value})])}}}),wQe=Dt(vQe),_Qe=Dt(bQe),$Qe=qe({tabs:{type:Se(Array),default:()=>Ln([])}}),G7="ElTabBar",xQe=ue({name:G7}),SQe=ue({...xQe,props:$Qe,setup(t,{expose:e}){const n=t,s=Rt(),r=et(hw);r||Ls(G7,"<el-tabs><el-tab-bar /></el-tabs>");const o=Fe("tabs"),a=U(),i=U(),l=()=>{let c=0,d=0;const f=["top","bottom"].includes(r.props.tabPosition)?"width":"height",h=f==="width"?"x":"y";return n.tabs.every(p=>{var m,g,y,w;const b=(g=(m=s.parent)==null?void 0:m.refs)==null?void 0:g[`tab-${p.uid}`];if(!b)return!1;if(!p.active)return!0;d=b[`client${la(f)}`];const _=h==="x"?"left":"top";c=b[`offset${la(_)}`]-((w=(y=b.parentElement)==null?void 0:y[`offset${la(_)}`])!=null?w:0);const $=b.closest(".is-scrollable");if($){const k=window.getComputedStyle($);c+=Number.parseFloat(k[`padding${la(_)}`])}const x=window.getComputedStyle(b);return f==="width"&&(n.tabs.length>1&&(d-=Number.parseFloat(x.paddingLeft)+Number.parseFloat(x.paddingRight)),c+=Number.parseFloat(x.paddingLeft)),!1}),{[f]:`${d}px`,transform:`translate${la(h)}(${c}px)`}},u=()=>i.value=l();return Me(()=>n.tabs,async()=>{await nt(),u()},{immediate:!0}),Dr(a,()=>u()),e({ref:a,update:u}),(c,d)=>(S(),I("div",{ref_key:"barRef",ref:a,class:P([v(o).e("active-bar"),v(o).is(v(r).props.tabPosition)]),style:ot(i.value)},null,6))}});var CQe=je(SQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const kQe=qe({panes:{type:Se(Array),default:()=>Ln([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),TQe={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},wR="ElTabNav",NQe=ue({name:wR,props:kQe,emits:TQe,setup(t,{expose:e,emit:n}){const s=Rt(),r=et(hw);r||Ls(wR,"<el-tabs><tab-nav /></el-tabs>");const o=Fe("tabs"),a=wue(),i=Iue(),l=U(),u=U(),c=U(),d=U(!1),f=U(0),h=U(!1),p=U(!0),m=A(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),g=A(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${f.value}px)`})),y=()=>{if(!l.value)return;const C=l.value[`offset${la(m.value)}`],T=f.value;if(!T)return;const N=T>C?T-C:0;f.value=N},w=()=>{if(!l.value||!u.value)return;const C=u.value[`offset${la(m.value)}`],T=l.value[`offset${la(m.value)}`],N=f.value;if(C-N<=T)return;const M=C-N>T*2?N+T:C-T;f.value=M},b=async()=>{const C=u.value;if(!d.value||!c.value||!l.value||!C)return;await nt();const T=c.value.querySelector(".is-active");if(!T)return;const N=l.value,M=["top","bottom"].includes(r.props.tabPosition),R=T.getBoundingClientRect(),D=N.getBoundingClientRect(),z=M?C.offsetWidth-D.width:C.offsetHeight-D.height,B=f.value;let V=B;M?(R.left<D.left&&(V=B-(D.left-R.left)),R.right>D.right&&(V=B+R.right-D.right)):(R.top<D.top&&(V=B-(D.top-R.top)),R.bottom>D.bottom&&(V=B+(R.bottom-D.bottom))),V=Math.max(V,0),f.value=Math.min(V,z)},_=()=>{if(!u.value||!l.value)return;const C=u.value[`offset${la(m.value)}`],T=l.value[`offset${la(m.value)}`],N=f.value;if(T<C){const M=f.value;d.value=d.value||{},d.value.prev=M,d.value.next=M+T<C,C-M<T&&(f.value=C-T)}else d.value=!1,N>0&&(f.value=0)},$=C=>{const T=C.code,{up:N,down:M,left:R,right:D}=ut;if(![N,M,R,D].includes(T))return;const z=Array.from(C.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),B=z.indexOf(C.target);let V;T===R||T===N?B===0?V=z.length-1:V=B-1:B<z.length-1?V=B+1:V=0,z[V].focus({preventScroll:!0}),z[V].click(),x()},x=()=>{p.value&&(h.value=!0)},k=()=>h.value=!1;return Me(a,C=>{C==="hidden"?p.value=!1:C==="visible"&&setTimeout(()=>p.value=!0,50)}),Me(i,C=>{C?setTimeout(()=>p.value=!0,50):p.value=!1}),Dr(c,_),Et(()=>setTimeout(()=>b(),0)),Ml(()=>_()),e({scrollToActiveTab:b,removeFocus:k}),Me(()=>t.panes,()=>s.update(),{flush:"post"}),()=>{const C=d.value?[se("span",{class:[o.e("nav-prev"),o.is("disabled",!d.value.prev)],onClick:y},[se(rt,null,{default:()=>[se(xl,null,null)]})]),se("span",{class:[o.e("nav-next"),o.is("disabled",!d.value.next)],onClick:w},[se(rt,null,{default:()=>[se(Rr,null,null)]})])]:null,T=t.panes.map((N,M)=>{var R,D,z,B;const V=N.uid,O=N.props.disabled,F=(D=(R=N.props.name)!=null?R:N.index)!=null?D:`${M}`,L=!O&&(N.isClosable||t.editable);N.index=`${M}`;const G=L?se(rt,{class:"is-icon-close",onClick:J=>n("tabRemove",N,J)},{default:()=>[se(xa,null,null)]}):null,Z=((B=(z=N.slots).label)==null?void 0:B.call(z))||N.props.label,j=!O&&N.active?0:-1;return se("div",{ref:`tab-${V}`,class:[o.e("item"),o.is(r.props.tabPosition),o.is("active",N.active),o.is("disabled",O),o.is("closable",L),o.is("focus",h.value)],id:`tab-${F}`,key:`tab-${V}`,"aria-controls":`pane-${F}`,role:"tab","aria-selected":N.active,tabindex:j,onFocus:()=>x(),onBlur:()=>k(),onClick:J=>{k(),n("tabClick",N,F,J)},onKeydown:J=>{L&&(J.code===ut.delete||J.code===ut.backspace)&&n("tabRemove",N,J)}},[Z,G])});return se("div",{ref:c,class:[o.e("nav-wrap"),o.is("scrollable",!!d.value),o.is(r.props.tabPosition)]},[C,se("div",{class:o.e("nav-scroll"),ref:l},[se("div",{class:[o.e("nav"),o.is(r.props.tabPosition),o.is("stretch",t.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:u,style:g.value,role:"tablist",onKeydown:$},[t.type?null:se(CQe,{tabs:[...t.panes]},null),T])])])}}}),EQe=qe({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Se(Function),default:()=>!0},stretch:Boolean}),i$=t=>wt(t)||Ct(t),IQe={[Ot]:t=>i$(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>i$(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>i$(t),tabAdd:()=>!0};var AQe=ue({name:"ElTabs",props:EQe,emits:IQe,setup(t,{emit:e,slots:n,expose:s}){var r,o;const a=Fe("tabs"),{children:i,addChild:l,removeChild:u}=iL(Rt(),"ElTabPane"),c=U(),d=U((o=(r=t.modelValue)!=null?r:t.activeName)!=null?o:"0"),f=y=>{d.value=y,e(Ot,y),e("tabChange",y)},h=async y=>{var w,b,_;if(!(d.value===y||er(y)))try{await((w=t.beforeLeave)==null?void 0:w.call(t,y,d.value))!==!1&&(f(y),(_=(b=c.value)==null?void 0:b.removeFocus)==null||_.call(b))}catch{}},p=(y,w,b)=>{y.props.disabled||(h(w),e("tabClick",y,b))},m=(y,w)=>{y.props.disabled||er(y.props.name)||(w.stopPropagation(),e("edit",y.props.name,"remove"),e("tabRemove",y.props.name))},g=()=>{e("edit",void 0,"add"),e("tabAdd")};return Sl({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},A(()=>!!t.activeName)),Me(()=>t.activeName,y=>h(y)),Me(()=>t.modelValue,y=>h(y)),Me(d,async()=>{var y;await nt(),(y=c.value)==null||y.scrollToActiveTab()}),Lt(hw,{props:t,currentName:d,registerPane:l,unregisterPane:u}),s({currentName:d}),()=>{const y=t.editable||t.addable?se("span",{class:a.e("new-tab"),tabindex:"0",onClick:g,onKeydown:_=>{_.code===ut.enter&&g()}},[se(rt,{class:a.is("icon-plus")},{default:()=>[se(IC,null,null)]})]):null,w=se("div",{class:[a.e("header"),a.is(t.tabPosition)]},[y,se(NQe,{ref:c,currentName:d.value,editable:t.editable,type:t.type,panes:i.value,stretch:t.stretch,onTabClick:p,onTabRemove:m},null)]),b=se("div",{class:a.e("content")},[Oe(n,"default")]);return se("div",{class:[a.b(),a.m(t.tabPosition),{[a.m("card")]:t.type==="card",[a.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[w,b]:[b,w]])}}});const OQe=qe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),RQe=["id","aria-hidden","aria-labelledby"],j7="ElTabPane",DQe=ue({name:j7}),FQe=ue({...DQe,props:OQe,setup(t){const e=t,n=Rt(),s=ir(),r=et(hw);r||Ls(j7,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=Fe("tab-pane"),a=U(),i=A(()=>e.closable||r.props.closable),l=AA(()=>{var h;return r.currentName.value===((h=e.name)!=null?h:a.value)}),u=U(l.value),c=A(()=>{var h;return(h=e.name)!=null?h:a.value}),d=AA(()=>!e.lazy||u.value||l.value);Me(l,h=>{h&&(u.value=!0)});const f=on({uid:n.uid,slots:s,props:e,paneName:c,active:l,index:a,isClosable:i});return Et(()=>{r.registerPane(f)}),Xd(()=>{r.unregisterPane(f.uid)}),(h,p)=>v(d)?St((S(),I("div",{key:0,id:`pane-${v(c)}`,class:P(v(o).b()),role:"tabpanel","aria-hidden":!v(l),"aria-labelledby":`tab-${v(c)}`},[Oe(h.$slots,"default")],10,RQe)),[[Qt,v(l)]]):ge("v-if",!0)}});var K7=je(FQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const MQe=Dt(AQe,{TabPane:K7}),PQe=ns(K7),LQe=qe({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:wo,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Se([String,Object]),default:()=>EC},clearIcon:{type:Se([String,Object]),default:()=>Bl}}),fl=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const s=Number.parseInt(e[1],10),r=t.toUpperCase();return r.includes("AM")&&n===12?n=0:r.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:s}}return null},l$=(t,e)=>{const n=fl(t);if(!n)return-1;const s=fl(e);if(!s)return-1;const r=n.minutes+n.hours*60,o=s.minutes+s.hours*60;return r===o?0:r>o?1:-1},_R=t=>`${t}`.padStart(2,"0"),Nf=t=>`${_R(t.hours)}:${_R(t.minutes)}`,zQe=(t,e)=>{const n=fl(t);if(!n)return"";const s=fl(e);if(!s)return"";const r={hours:n.hours,minutes:n.minutes};return r.minutes+=s.minutes,r.hours+=s.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,Nf(r)},BQe=ue({name:"ElTimeSelect"}),VQe=ue({...BQe,props:LQe,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:e}){const n=t;Nt.extend(sk);const{Option:s}=kd,r=Fe("input"),o=U(),a=To(),i=A(()=>n.modelValue),l=A(()=>{const g=fl(n.start);return g?Nf(g):null}),u=A(()=>{const g=fl(n.end);return g?Nf(g):null}),c=A(()=>{const g=fl(n.step);return g?Nf(g):null}),d=A(()=>{const g=fl(n.minTime||"");return g?Nf(g):null}),f=A(()=>{const g=fl(n.maxTime||"");return g?Nf(g):null}),h=A(()=>{const g=[];if(n.start&&n.end&&n.step){let y=l.value,w;for(;y&&u.value&&l$(y,u.value)<=0;)w=Nt(y,"HH:mm").format(n.format),g.push({value:w,disabled:l$(y,d.value||"-1:-1")<=0||l$(y,f.value||"100:100")>=0}),y=zQe(y,c.value)}return g});return e({blur:()=>{var g,y;(y=(g=o.value)==null?void 0:g.blur)==null||y.call(g)},focus:()=>{var g,y;(y=(g=o.value)==null?void 0:g.focus)==null||y.call(g)}}),(g,y)=>(S(),$e(v(kd),{ref_key:"select",ref:o,"model-value":v(i),disabled:v(a),clearable:g.clearable,"clear-icon":g.clearIcon,size:g.size,effect:g.effect,placeholder:g.placeholder,"default-first-option":"",filterable:g.editable,"onUpdate:modelValue":y[0]||(y[0]=w=>g.$emit("update:modelValue",w)),onChange:y[1]||(y[1]=w=>g.$emit("change",w)),onBlur:y[2]||(y[2]=w=>g.$emit("blur",w)),onFocus:y[3]||(y[3]=w=>g.$emit("focus",w))},{prefix:ce(()=>[g.prefixIcon?(S(),$e(v(rt),{key:0,class:P(v(r).e("prefix-icon"))},{default:ce(()=>[(S(),$e(Vt(g.prefixIcon)))]),_:1},8,["class"])):ge("v-if",!0)]),default:ce(()=>[(S(!0),I(lt,null,Gt(v(h),w=>(S(),$e(v(s),{key:w.value,label:w.value,value:w.value,disabled:w.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var ay=je(VQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);ay.install=t=>{t.component(ay.name,ay)};const HQe=ay,WQe=HQe,UQe=ue({name:"ElTimeline",setup(t,{slots:e}){const n=Fe("timeline");return Lt("timeline",e),()=>it("ul",{class:[n.b()]},[Oe(e,"default")])}}),GQe=qe({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:En},hollow:{type:Boolean,default:!1}}),jQe=ue({name:"ElTimelineItem"}),KQe=ue({...jQe,props:GQe,setup(t){const e=Fe("timeline-item");return(n,s)=>(S(),I("li",{class:P([v(e).b(),{[v(e).e("center")]:n.center}])},[E("div",{class:P(v(e).e("tail"))},null,2),n.$slots.dot?ge("v-if",!0):(S(),I("div",{key:0,class:P([v(e).e("node"),v(e).em("node",n.size||""),v(e).em("node",n.type||""),v(e).is("hollow",n.hollow)]),style:ot({backgroundColor:n.color})},[n.icon?(S(),$e(v(rt),{key:0,class:P(v(e).e("icon"))},{default:ce(()=>[(S(),$e(Vt(n.icon)))]),_:1},8,["class"])):ge("v-if",!0)],6)),n.$slots.dot?(S(),I("div",{key:1,class:P(v(e).e("dot"))},[Oe(n.$slots,"dot")],2)):ge("v-if",!0),E("div",{class:P(v(e).e("wrapper"))},[!n.hideTimestamp&&n.placement==="top"?(S(),I("div",{key:0,class:P([v(e).e("timestamp"),v(e).is("top")])},Ue(n.timestamp),3)):ge("v-if",!0),E("div",{class:P(v(e).e("content"))},[Oe(n.$slots,"default")],2),!n.hideTimestamp&&n.placement==="bottom"?(S(),I("div",{key:1,class:P([v(e).e("timestamp"),v(e).is("bottom")])},Ue(n.timestamp),3)):ge("v-if",!0)],2)],2))}});var q7=je(KQe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const qQe=Dt(UQe,{TimelineItem:q7}),XQe=ns(q7),X7=qe({nowrap:Boolean});var Y7=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(Y7||{});const YQe=Object.values(Y7),Ek=qe({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Se(Object),default:null}}),ZQe=qe({side:{type:Se(String),values:YQe,required:!0}}),JQe=["absolute","fixed"],QQe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],Ik=qe({ariaLabel:String,arrowPadding:{type:Se(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:Se(String),values:QQe,default:"bottom"},reference:{type:Se(Object),default:null},offset:{type:Number,default:8},strategy:{type:Se(String),values:JQe,default:"absolute"},showArrow:{type:Boolean,default:!1}}),Ak=qe({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Se(Function)},"onUpdate:open":{type:Se(Function)}}),$f={type:Se(Function)},Ok=qe({onBlur:$f,onClick:$f,onFocus:$f,onMouseDown:$f,onMouseEnter:$f,onMouseLeave:$f}),eet=qe({...Ak,...Ek,...Ok,...Ik,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Se(Object),default:null},teleported:Boolean,to:{type:Se(String),default:"body"}}),tet=ue({name:"ElTooltipV2Root"}),net=ue({...tet,props:Ak,setup(t,{expose:e}){const n=t,s=U(n.defaultOpen),r=U(null),o=A({get:()=>Due(n.open)?s.value:n.open,set:g=>{var y;s.value=g,(y=n["onUpdate:open"])==null||y.call(n,g)}}),a=A(()=>Ct(n.delayDuration)&&n.delayDuration>0),{start:i,stop:l}=_d(()=>{o.value=!0},A(()=>n.delayDuration),{immediate:!1}),u=Fe("tooltip-v2"),c=ei(),d=()=>{l(),o.value=!0},f=()=>{v(a)?i():d()},h=d,p=()=>{l(),o.value=!1};return Me(o,g=>{var y;g&&(document.dispatchEvent(new CustomEvent(W4)),h()),(y=n.onOpenChange)==null||y.call(n,g)}),Et(()=>{document.addEventListener(W4,p)}),ts(()=>{l(),document.removeEventListener(W4,p)}),Lt(mw,{contentId:c,triggerRef:r,ns:u,onClose:p,onDelayOpen:f,onOpen:h}),e({onOpen:h,onClose:p}),(g,y)=>Oe(g.$slots,"default",{open:v(o)})}});var set=je(net,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const ret=ue({name:"ElTooltipV2Arrow"}),oet=ue({...ret,props:{...Ek,...ZQe},setup(t){const e=t,{ns:n}=et(mw),{arrowRef:s}=et(jP),r=A(()=>{const{style:o,width:a,height:i}=e,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${a}px`,[`--${l}-tooltip-v2-arrow-height`]:`${i}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${a/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:a/2-1,...o||{}}});return(o,a)=>(S(),I("span",{ref_key:"arrowRef",ref:s,style:ot(v(r)),class:P(v(n).e("arrow"))},null,6))}});var $R=je(oet,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const aet=qe({style:{type:Se([String,Object,Array]),default:()=>({})}}),iet=ue({name:"ElVisuallyHidden"}),uet=ue({...iet,props:aet,setup(t){const e=t,n=A(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(s,r)=>(S(),I("span",zt(s.$attrs,{style:v(n)}),[Oe(s.$slots,"default")],16))}});var cet=je(uet,[["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const det=["data-side"],fet=ue({name:"ElTooltipV2Content"}),het=ue({...fet,props:{...Ik,...X7},setup(t){const e=t,{triggerRef:n,contentId:s}=et(mw),r=U(e.placement),o=U(e.strategy),a=U(null),{referenceRef:i,contentRef:l,middlewareData:u,x:c,y:d,update:f}=DFe({placement:r,strategy:o,middleware:A(()=>{const b=[bFe(e.offset)];return e.showArrow&&b.push(FFe({arrowRef:a})),b})}),h=Ul().nextZIndex(),p=Fe("tooltip-v2"),m=A(()=>r.value.split("-")[0]),g=A(()=>({position:v(o),top:`${v(d)||0}px`,left:`${v(c)||0}px`,zIndex:h})),y=A(()=>{if(!e.showArrow)return{};const{arrow:b}=v(u);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),w=A(()=>[p.e("content"),p.is("dark",e.effect==="dark"),p.is(v(o)),e.contentClass]);return Me(a,()=>f()),Me(()=>e.placement,b=>r.value=b),Et(()=>{Me(()=>e.reference||n.value,b=>{i.value=b||void 0},{immediate:!0})}),Lt(jP,{arrowRef:a}),(b,_)=>(S(),I("div",{ref_key:"contentRef",ref:l,style:ot(v(g)),"data-tooltip-v2-root":""},[b.nowrap?ge("v-if",!0):(S(),I("div",{key:0,"data-side":v(m),class:P(v(w))},[Oe(b.$slots,"default",{contentStyle:v(g),contentClass:v(w)}),se(v(cet),{id:v(s),role:"tooltip"},{default:ce(()=>[b.ariaLabel?(S(),I(lt,{key:0},[Jt(Ue(b.ariaLabel),1)],64)):Oe(b.$slots,"default",{key:1})]),_:3},8,["id"]),Oe(b.$slots,"arrow",{style:ot(v(y)),side:v(m)})],10,det))],4))}});var xR=je(het,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const pet=qe({setRef:{type:Se(Function),required:!0},onlyChild:Boolean});var met=ue({props:pet,setup(t,{slots:e}){const n=U(),s=cw(n,r=>{r?t.setRef(r.nextElementSibling):t.setRef(null)});return()=>{var r;const[o]=((r=e.default)==null?void 0:r.call(e))||[],a=t.onlyChild?B9e(o.children):o.children;return se(lt,{ref:s},[a])}}});const get=ue({name:"ElTooltipV2Trigger"}),vet=ue({...get,props:{...X7,...Ok},setup(t){const e=t,{onClose:n,onOpen:s,onDelayOpen:r,triggerRef:o,contentId:a}=et(mw);let i=!1;const l=w=>{o.value=w},u=()=>{i=!1},c=Xn(e.onMouseEnter,r),d=Xn(e.onMouseLeave,n),f=Xn(e.onMouseDown,()=>{n(),i=!0,document.addEventListener("mouseup",u,{once:!0})}),h=Xn(e.onFocus,()=>{i||s()}),p=Xn(e.onBlur,n),m=Xn(e.onClick,w=>{w.detail===0&&n()}),g={blur:p,click:m,focus:h,mousedown:f,mouseenter:c,mouseleave:d},y=(w,b,_)=>{w&&Object.entries(b).forEach(([$,x])=>{w[_]($,x)})};return Me(o,(w,b)=>{y(w,g,"addEventListener"),y(b,g,"removeEventListener"),w&&w.setAttribute("aria-describedby",a.value)}),ts(()=>{y(o.value,g,"removeEventListener"),document.removeEventListener("mouseup",u)}),(w,b)=>w.nowrap?(S(),$e(v(met),{key:0,"set-ref":l,"only-child":""},{default:ce(()=>[Oe(w.$slots,"default")]),_:3})):(S(),I("button",zt({key:1,ref_key:"triggerRef",ref:o},w.$attrs),[Oe(w.$slots,"default")],16))}});var yet=je(vet,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const bet=ue({name:"ElTooltipV2"}),wet=ue({...bet,props:eet,setup(t){const n=Ps(t),s=on(gl(n,Object.keys(Ek))),r=on(gl(n,Object.keys(Ik))),o=on(gl(n,Object.keys(Ak))),a=on(gl(n,Object.keys(Ok)));return(i,l)=>(S(),$e(set,Wa(Yb(o)),{default:ce(({open:u})=>[se(yet,zt(a,{nowrap:""}),{default:ce(()=>[Oe(i.$slots,"trigger")]),_:3},16),(S(),$e(kg,{to:i.to,disabled:!i.teleported},[i.fullTransition?(S(),$e(ms,Wa(zt({key:0},i.transitionProps)),{default:ce(()=>[i.alwaysOn||u?(S(),$e(xR,Wa(zt({key:0},r)),{arrow:ce(({style:c,side:d})=>[i.showArrow?(S(),$e($R,zt({key:0},s,{style:c,side:d}),null,16,["style","side"])):ge("v-if",!0)]),default:ce(()=>[Oe(i.$slots,"default")]),_:3},16)):ge("v-if",!0)]),_:2},1040)):(S(),I(lt,{key:1},[i.alwaysOn||u?(S(),$e(xR,Wa(zt({key:0},r)),{arrow:ce(({style:c,side:d})=>[i.showArrow?(S(),$e($R,zt({key:0},s,{style:c,side:d}),null,16,["style","side"])):ge("v-if",!0)]),default:ce(()=>[Oe(i.$slots,"default")]),_:3},16)):ge("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var _et=je(wet,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const $et=Dt(_et),Z7="left-check-change",J7="right-check-change",Ef=qe({data:{type:Se(Array),default:()=>[]},titles:{type:Se(Array),default:()=>[]},buttonTexts:{type:Se(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Se(Function)},leftDefaultChecked:{type:Se(Array),default:()=>[]},rightDefaultChecked:{type:Se(Array),default:()=>[]},renderContent:{type:Se(Function)},modelValue:{type:Se(Array),default:()=>[]},format:{type:Se(Object),default:()=>({})},filterable:Boolean,props:{type:Se(Object),default:()=>Ln({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),X6=(t,e)=>[t,e].every(Qe)||Qe(t)&&nr(e),xet={[Fn]:(t,e,n)=>[t,n].every(Qe)&&["left","right"].includes(e),[Ot]:t=>Qe(t),[Z7]:X6,[J7]:X6},Y6="checked-change",Cet=qe({data:Ef.data,optionRender:{type:Se(Function)},placeholder:String,title:String,filterable:Boolean,format:Ef.format,filterMethod:Ef.filterMethod,defaultChecked:Ef.leftDefaultChecked,props:Ef.props}),ket={[Y6]:X6},Bg=t=>{const e={label:"label",key:"key",disabled:"disabled"};return A(()=>({...e,...t.props}))},Tet=(t,e,n)=>{const s=Bg(t),r=A(()=>t.data.filter(c=>vt(t.filterMethod)?t.filterMethod(e.query,c):String(c[s.value.label]||c[s.value.key]).toLowerCase().includes(e.query.toLowerCase()))),o=A(()=>r.value.filter(c=>!c[s.value.disabled])),a=A(()=>{const c=e.checked.length,d=t.data.length,{noChecked:f,hasChecked:h}=t.format;return f&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):`${c}/${d}`}),i=A(()=>{const c=e.checked.length;return c>0&&c<o.value.length}),l=()=>{const c=o.value.map(d=>d[s.value.key]);e.allChecked=c.length>0&&c.every(d=>e.checked.includes(d))},u=c=>{e.checked=c?o.value.map(d=>d[s.value.key]):[]};return Me(()=>e.checked,(c,d)=>{if(l(),e.checkChangeByUser){const f=c.concat(d).filter(h=>!c.includes(h)||!d.includes(h));n(Y6,c,f)}else n(Y6,c),e.checkChangeByUser=!0}),Me(o,()=>{l()}),Me(()=>t.data,()=>{const c=[],d=r.value.map(f=>f[s.value.key]);e.checked.forEach(f=>{d.includes(f)&&c.push(f)}),e.checkChangeByUser=!1,e.checked=c}),Me(()=>t.defaultChecked,(c,d)=>{if(d&&c.length===d.length&&c.every(p=>d.includes(p)))return;const f=[],h=o.value.map(p=>p[s.value.key]);c.forEach(p=>{h.includes(p)&&f.push(p)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:r,checkableData:o,checkedSummary:a,isIndeterminate:i,updateAllChecked:l,handleAllCheckedChange:u}},Net=(t,e)=>({onSourceCheckedChange:(r,o)=>{t.leftChecked=r,o&&e(Z7,r,o)},onTargetCheckedChange:(r,o)=>{t.rightChecked=r,o&&e(J7,r,o)}}),Eet=t=>{const e=Bg(t),n=A(()=>t.data.reduce((o,a)=>(o[a[e.value.key]]=a)&&o,{})),s=A(()=>t.data.filter(o=>!t.modelValue.includes(o[e.value.key]))),r=A(()=>t.targetOrder==="original"?t.data.filter(o=>t.modelValue.includes(o[e.value.key])):t.modelValue.reduce((o,a)=>{const i=n.value[a];return i&&o.push(i),o},[]));return{sourceData:s,targetData:r}},Iet=(t,e,n)=>{const s=Bg(t),r=(i,l,u)=>{n(Ot,i),n(Fn,i,l,u)};return{addToLeft:()=>{const i=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=i.indexOf(l);u>-1&&i.splice(u,1)}),r(i,"left",e.rightChecked)},addToRight:()=>{let i=t.modelValue.slice();const l=t.data.filter(u=>{const c=u[s.value.key];return e.leftChecked.includes(c)&&!t.modelValue.includes(c)}).map(u=>u[s.value.key]);i=t.targetOrder==="unshift"?l.concat(i):i.concat(l),t.targetOrder==="original"&&(i=t.data.filter(u=>i.includes(u[s.value.key])).map(u=>u[s.value.key])),r(i,"right",e.leftChecked)}}},Aet=ue({name:"ElTransferPanel"}),Oet=ue({...Aet,props:Cet,emits:ket,setup(t,{expose:e,emit:n}){const s=t,r=ir(),o=({option:_})=>_,{t:a}=nn(),i=Fe("transfer"),l=on({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),u=Bg(s),{filteredData:c,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:h}=Tet(s,l,n),p=A(()=>!ia(l.query)&&ia(c.value)),m=A(()=>!ia(r.default()[0].children)),{checked:g,allChecked:y,query:w,inputHover:b}=Ps(l);return e({query:w}),(_,$)=>(S(),I("div",{class:P(v(i).b("panel"))},[E("p",{class:P(v(i).be("panel","header"))},[se(v(ka),{modelValue:v(y),"onUpdate:modelValue":$[0]||($[0]=x=>kn(y)?y.value=x:null),indeterminate:v(f),"validate-event":!1,onChange:v(h)},{default:ce(()=>[Jt(Ue(_.title)+" ",1),E("span",null,Ue(v(d)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),E("div",{class:P([v(i).be("panel","body"),v(i).is("with-footer",v(m))])},[_.filterable?(S(),$e(v(Or),{key:0,modelValue:v(w),"onUpdate:modelValue":$[1]||($[1]=x=>kn(w)?w.value=x:null),class:P(v(i).be("panel","filter")),size:"default",placeholder:_.placeholder,"prefix-icon":v(xP),clearable:"","validate-event":!1,onMouseenter:$[2]||($[2]=x=>b.value=!0),onMouseleave:$[3]||($[3]=x=>b.value=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):ge("v-if",!0),St(se(v(cz),{modelValue:v(g),"onUpdate:modelValue":$[4]||($[4]=x=>kn(g)?g.value=x:null),"validate-event":!1,class:P([v(i).is("filterable",_.filterable),v(i).be("panel","list")])},{default:ce(()=>[(S(!0),I(lt,null,Gt(v(c),x=>(S(),$e(v(ka),{key:x[v(u).key],class:P(v(i).be("panel","item")),label:x[v(u).key],disabled:x[v(u).disabled],"validate-event":!1},{default:ce(()=>{var k;return[se(o,{option:(k=_.optionRender)==null?void 0:k.call(_,x)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Qt,!v(p)&&!v(ia)(_.data)]]),St(E("p",{class:P(v(i).be("panel","empty"))},Ue(v(p)?v(a)("el.transfer.noMatch"):v(a)("el.transfer.noData")),3),[[Qt,v(p)||v(ia)(_.data)]])],2),v(m)?(S(),I("p",{key:0,class:P(v(i).be("panel","footer"))},[Oe(_.$slots,"default")],2)):ge("v-if",!0)],2))}});var SR=je(Oet,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Ret={key:0},Det={key:0},Fet=ue({name:"ElTransfer"}),Met=ue({...Fet,props:Ef,emits:xet,setup(t,{expose:e,emit:n}){const s=t,r=ir(),{t:o}=nn(),a=Fe("transfer"),{formItem:i}=to(),l=on({leftChecked:[],rightChecked:[]}),u=Bg(s),{sourceData:c,targetData:d}=Eet(s),{onSourceCheckedChange:f,onTargetCheckedChange:h}=Net(l,n),{addToLeft:p,addToRight:m}=Iet(s,l,n),g=U(),y=U(),w=C=>{switch(C){case"left":g.value.query="";break;case"right":y.value.query="";break}},b=A(()=>s.buttonTexts.length===2),_=A(()=>s.titles[0]||o("el.transfer.titles.0")),$=A(()=>s.titles[1]||o("el.transfer.titles.1")),x=A(()=>s.filterPlaceholder||o("el.transfer.filterPlaceholder"));Me(()=>s.modelValue,()=>{var C;s.validateEvent&&((C=i==null?void 0:i.validate)==null||C.call(i,"change").catch(T=>void 0))});const k=A(()=>C=>s.renderContent?s.renderContent(it,C):r.default?r.default({option:C}):it("span",C[u.value.label]||C[u.value.key]));return e({clearQuery:w,leftPanel:g,rightPanel:y}),(C,T)=>(S(),I("div",{class:P(v(a).b())},[se(SR,{ref_key:"leftPanel",ref:g,data:v(c),"option-render":v(k),placeholder:v(x),title:v(_),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,"default-checked":C.leftDefaultChecked,props:s.props,onCheckedChange:v(f)},{default:ce(()=>[Oe(C.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),E("div",{class:P(v(a).e("buttons"))},[se(v(br),{type:"primary",class:P([v(a).e("button"),v(a).is("with-texts",v(b))]),disabled:v(ia)(l.rightChecked),onClick:v(p)},{default:ce(()=>[se(v(rt),null,{default:ce(()=>[se(v(xl))]),_:1}),v(er)(C.buttonTexts[0])?ge("v-if",!0):(S(),I("span",Ret,Ue(C.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),se(v(br),{type:"primary",class:P([v(a).e("button"),v(a).is("with-texts",v(b))]),disabled:v(ia)(l.leftChecked),onClick:v(m)},{default:ce(()=>[v(er)(C.buttonTexts[1])?ge("v-if",!0):(S(),I("span",Det,Ue(C.buttonTexts[1]),1)),se(v(rt),null,{default:ce(()=>[se(v(Rr))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),se(SR,{ref_key:"rightPanel",ref:y,data:v(d),"option-render":v(k),placeholder:v(x),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,title:v($),"default-checked":C.rightDefaultChecked,props:s.props,onCheckedChange:v(h)},{default:ce(()=>[Oe(C.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Pet=je(Met,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const Let=Dt(Pet),qf="$treeNodeId",CR=function(t,e){!e||e[qf]||Object.defineProperty(e,qf,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Rk=function(t,e){return t?e[t]:e[qf]},Z6=(t,e,n)=>{const s=t.value.currentNode;n();const r=t.value.currentNode;s!==r&&e("current-change",r?r.data:null,r)},J6=t=>{let e=!0,n=!0,s=!0;for(let r=0,o=t.length;r<o;r++){const a=t[r];(a.checked!==!0||a.indeterminate)&&(e=!1,a.disabled||(s=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:s,half:!e&&!n}},iy=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:s}=J6(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):s?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||iy(r)},fv=function(t,e){const n=t.store.props,s=t.data||{},r=n[e];if(typeof r=="function")return r(s,t);if(typeof r=="string")return s[r];if(typeof r>"u"){const o=s[e];return o===void 0?"":o}};let zet=0,Xf=class{constructor(e){this.id=zet++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)Ut(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const o=fv(this,"isLeaf");typeof o=="boolean"&&(this.isLeafByUser=o)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||CR(this,this.data),!this.data)return;const s=e.defaultExpandedKeys,r=e.key;r&&s&&s.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||CR(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=fv(this,"children")||[];for(let s=0,r=n.length;s<r;s++)this.insertChild({data:n[s]})}get label(){return fv(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return fv(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(s=>s===e||n&&s.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,s){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Xf)){if(!s){const r=this.getChildren(!0);r.includes(e.data)||(typeof n>"u"||n<0?r.push(e.data):r.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=on(new Xf(e)),e instanceof Xf&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let s;n&&(s=this.childNodes.indexOf(n)),this.insertChild(e,s)}insertAfter(e,n){let s;n&&(s=this.childNodes.indexOf(n),s!==-1&&(s+=1)),this.insertChild(e,s)}removeChild(e){const n=this.getChildren()||[],s=n.indexOf(e.data);s>-1&&n.splice(s,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===e){n=this.childNodes[s];break}n&&this.removeChild(n)}expand(e,n){const s=()=>{if(n){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||iy(this),s())}):s()}doCreateChildren(e,n={}){e.forEach(s=>{this.insertChild(Object.assign({data:s},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,s,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:a,allWithoutDisable:i}=J6(this.childNodes);!this.isLeaf&&!a&&i&&(this.checked=!1,e=!1);const l=()=>{if(n){const u=this.childNodes;for(let f=0,h=u.length;f<h;f++){const p=u[f];r=r||e!==!1;const m=p.disabled?p.checked:r;p.setChecked(m,n,!0,r)}const{half:c,all:d}=J6(u);d||(this.checked=d,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),iy(this)},{checked:e!==!1});return}else l()}const o=this.parent;!o||o.level===0||s||iy(o)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const s=this.store.props;let r="children";return s&&(r=s.children||"children"),n[r]===void 0&&(n[r]=null),e&&!n[r]&&(n[r]=[]),n[r]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(o=>o.data),s={},r=[];e.forEach((o,a)=>{const i=o[qf];!!i&&n.findIndex(u=>u[qf]===i)>=0?s[i]={index:a,data:o}:r.push({index:a,data:o})}),this.store.lazy||n.forEach(o=>{s[o[qf]]||this.removeChildByData(o)}),r.forEach(({index:o,data:a})=>{this.insertChild({data:a},o)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const s=r=>{this.childNodes=[],this.doCreateChildren(r,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,r)};this.store.load(this,s)}else e&&e.call(this)}};class Bet{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)Ut(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new Xf({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,s=this.lazy,r=function(o){const a=o.root?o.root.childNodes:o.childNodes;if(a.forEach(i=>{i.visible=n.call(i,e,i.data,i),r(i)}),!o.visible&&a.length){let i=!0;i=!a.some(l=>l.visible),o.root?o.root.visible=i===!1:o.visible=i===!1}!e||o.visible&&!o.isLeaf&&!s&&o.expand()};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Xf)return e;const n=Bt(e)?Rk(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const s=this.getNode(n);s.parent.insertBefore({data:e},s)}insertAfter(e,n){const s=this.getNode(n);s.parent.insertAfter({data:e},s)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const s=n?this.getNode(n):this.root;s&&s.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(s=>{const r=n[s];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const s=[],r=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(i=>{(i.checked||n&&i.indeterminate)&&(!e||e&&i.isLeaf)&&s.push(i.data),r(i)})};return r(this),s}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),n(o)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const s in n)Ut(n,s)&&e.push(n[s]);return e}updateChildren(e,n){const s=this.nodesMap[e];if(!s)return;const r=s.childNodes;for(let o=r.length-1;o>=0;o--){const a=r[o];this.remove(a.data)}for(let o=0,a=n.length;o<a;o++){const i=n[o];this.append(i,s.data)}}_setCheckedKeys(e,n=!1,s){const r=this._getAllNodes().sort((i,l)=>l.level-i.level),o=Object.create(null),a=Object.keys(s);r.forEach(i=>i.setChecked(!1,!1));for(let i=0,l=r.length;i<l;i++){const u=r[i],c=u.data[e].toString();if(!a.includes(c)){u.checked&&!o[c]&&u.setChecked(!1,!1);continue}let f=u.parent;for(;f&&f.level>0;)o[f.data[e]]=!0,f=f.parent;if(u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),n){u.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(g=>{g.isLeaf||g.setChecked(!1,!1),h(g)})};h(u)}}}setCheckedNodes(e,n=!1){const s=this.key,r={};e.forEach(o=>{r[(o||{})[s]]=!0}),this._setCheckedKeys(s,n,r)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const s=this.key,r={};e.forEach(o=>{r[o]=!0}),this._setCheckedKeys(s,n,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const s=this.getNode(n);s&&s.expand(null,this.autoExpandParent)})}setChecked(e,n,s){const r=this.getNode(e);r&&r.setChecked(!!n,s)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const s=e[this.key],r=this.nodesMap[s];this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(e);s&&(this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Vet=ue({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Fe("tree"),n=et("NodeInstance"),s=et("RootTree");return()=>{const r=t.node,{data:o,store:a}=r;return t.renderContent?t.renderContent(it,{_self:n,node:r,data:o,store:a}):s.ctx.slots.default?s.ctx.slots.default({node:r,data:o}):it("span",{class:e.be("node","label")},[r.label])}}});var Het=je(Vet,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function Q7(t){const e=et("TreeNodeMap",null),n={treeNodeExpand:s=>{t.node!==s&&t.node.collapse()},children:[]};return e&&e.children.push(n),Lt("TreeNodeMap",n),{broadcastExpanded:s=>{if(!!t.accordion)for(const r of n.children)r.treeNodeExpand(s)}}}const eB=Symbol("dragEvents");function Wet({props:t,ctx:e,el$:n,dropIndicator$:s,store:r}){const o=Fe("tree"),a=U({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Lt(eB,{treeNodeDragStart:({event:c,treeNode:d})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(d.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}a.value.draggingNode=d,e.emit("node-drag-start",d.node,c)},treeNodeDragOver:({event:c,treeNode:d})=>{const f=d,h=a.value.dropNode;h&&h!==f&&mo(h.$el,o.is("drop-inner"));const p=a.value.draggingNode;if(!p||!f)return;let m=!0,g=!0,y=!0,w=!0;typeof t.allowDrop=="function"&&(m=t.allowDrop(p.node,f.node,"prev"),w=g=t.allowDrop(p.node,f.node,"inner"),y=t.allowDrop(p.node,f.node,"next")),c.dataTransfer.dropEffect=g||m||y?"move":"none",(m||g||y)&&h!==f&&(h&&e.emit("node-drag-leave",p.node,h.node,c),e.emit("node-drag-enter",p.node,f.node,c)),(m||g||y)&&(a.value.dropNode=f),f.node.nextSibling===p.node&&(y=!1),f.node.previousSibling===p.node&&(m=!1),f.node.contains(p.node,!1)&&(g=!1),(p.node===f.node||p.node.contains(f.node))&&(m=!1,g=!1,y=!1);const b=f.$el.getBoundingClientRect(),_=n.value.getBoundingClientRect();let $;const x=m?g?.25:y?.45:1:-1,k=y?g?.75:m?.55:0:1;let C=-9999;const T=c.clientY-b.top;T<b.height*x?$="before":T>b.height*k?$="after":g?$="inner":$="none";const N=f.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),M=s.value;$==="before"?C=N.top-_.top:$==="after"&&(C=N.bottom-_.top),M.style.top=`${C}px`,M.style.left=`${N.right-_.left}px`,$==="inner"?xi(f.$el,o.is("drop-inner")):mo(f.$el,o.is("drop-inner")),a.value.showDropIndicator=$==="before"||$==="after",a.value.allowDrop=a.value.showDropIndicator||w,a.value.dropType=$,e.emit("node-drag-over",p.node,f.node,c)},treeNodeDragEnd:c=>{const{draggingNode:d,dropType:f,dropNode:h}=a.value;if(c.preventDefault(),c.dataTransfer.dropEffect="move",d&&h){const p={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?h.node.parent.insertBefore(p,h.node):f==="after"?h.node.parent.insertAfter(p,h.node):f==="inner"&&h.node.insertChild(p),f!=="none"&&r.value.registerNode(p),mo(h.$el,o.is("drop-inner")),e.emit("node-drag-end",d.node,h.node,f,c),f!=="none"&&e.emit("node-drop",d.node,h.node,f,c)}d&&!h&&e.emit("node-drag-end",d.node,null,f,c),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0}}),{dragState:a}}const Uet=ue({name:"ElTreeNode",components:{ElCollapseTransition:Sw,ElCheckbox:ka,NodeContent:Het,ElIcon:rt,Loading:Vl},props:{node:{type:Xf,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Fe("tree"),{broadcastExpanded:s}=Q7(t),r=et("RootTree"),o=U(!1),a=U(!1),i=U(null),l=U(null),u=U(null),c=et(eB),d=Rt();Lt("NodeInstance",d),t.node.expanded&&(o.value=!0,a.value=!0);const f=r.props.children||"children";Me(()=>{const T=t.node.data[f];return T&&[...T]},()=>{t.node.updateChildren()}),Me(()=>t.node.indeterminate,T=>{m(t.node.checked,T)}),Me(()=>t.node.checked,T=>{m(T,t.node.indeterminate)}),Me(()=>t.node.expanded,T=>{nt(()=>o.value=T),T&&(a.value=!0)});const h=T=>Rk(r.props.nodeKey,T.data),p=T=>{const N=t.props.class;if(!N)return{};let M;if(vt(N)){const{data:R}=T;M=N(R,T)}else M=N;return wt(M)?{[M]:!0}:M},m=(T,N)=>{(i.value!==T||l.value!==N)&&r.ctx.emit("check-change",t.node.data,T,N),i.value=T,l.value=N},g=T=>{Z6(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&w(),r.props.checkOnClickNode&&!t.node.disabled&&b(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,d,T)},y=T=>{r.instance.vnode.props.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),r.ctx.emit("node-contextmenu",T,t.node.data,t.node,d)},w=()=>{t.node.isLeaf||(o.value?(r.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,d)))},b=(T,N)=>{t.node.setChecked(N.target.checked,!r.props.checkStrictly),nt(()=>{const M=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:M.getCheckedNodes(),checkedKeys:M.getCheckedKeys(),halfCheckedNodes:M.getHalfCheckedNodes(),halfCheckedKeys:M.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:r,expanded:o,childNodeRendered:a,oldChecked:i,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:m,handleClick:g,handleContextMenu:y,handleExpandIconClick:w,handleCheckChange:b,handleChildNodeExpand:(T,N,M)=>{s(N),r.ctx.emit("node-expand",T,N,M)},handleDragStart:T=>{!r.props.draggable||c.treeNodeDragStart({event:T,treeNode:t})},handleDragOver:T=>{T.preventDefault(),r.props.draggable&&c.treeNodeDragOver({event:T,treeNode:{$el:u.value,node:t.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{!r.props.draggable||c.treeNodeDragEnd(T)},CaretRight:NC}}}),Get=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],jet=["aria-expanded"];function Ket(t,e,n,s,r,o){const a=pt("el-icon"),i=pt("el-checkbox"),l=pt("loading"),u=pt("node-content"),c=pt("el-tree-node"),d=pt("el-collapse-transition");return St((S(),I("div",{ref:"node$",class:P([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[1]||(e[1]=yt((...f)=>t.handleClick&&t.handleClick(...f),["stop"])),onContextmenu:e[2]||(e[2]=(...f)=>t.handleContextMenu&&t.handleContextMenu(...f)),onDragstart:e[3]||(e[3]=yt((...f)=>t.handleDragStart&&t.handleDragStart(...f),["stop"])),onDragover:e[4]||(e[4]=yt((...f)=>t.handleDragOver&&t.handleDragOver(...f),["stop"])),onDragend:e[5]||(e[5]=yt((...f)=>t.handleDragEnd&&t.handleDragEnd(...f),["stop"])),onDrop:e[6]||(e[6]=yt((...f)=>t.handleDrop&&t.handleDrop(...f),["stop"]))},[E("div",{class:P(t.ns.be("node","content")),style:ot({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(S(),$e(a,{key:0,class:P([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:yt(t.handleExpandIconClick,["stop"])},{default:ce(()=>[(S(),$e(Vt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):ge("v-if",!0),t.showCheckbox?(S(),$e(i,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=yt(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):ge("v-if",!0),t.node.loading?(S(),$e(a,{key:2,class:P([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:ce(()=>[se(l)]),_:1},8,["class"])):ge("v-if",!0),se(u,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),se(d,null,{default:ce(()=>[!t.renderAfterExpand||t.childNodeRendered?St((S(),I("div",{key:0,class:P(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(S(!0),I(lt,null,Gt(t.node.childNodes,f=>(S(),$e(c,{key:t.getNodeKey(f),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:f,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,jet)),[[Qt,t.expanded]]):ge("v-if",!0)]),_:1})],42,Get)),[[Qt,t.node.visible]])}var qet=je(Uet,[["render",Ket],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function Xet({el$:t},e){const n=Fe("tree"),s=Nn([]),r=Nn([]);Et(()=>{a()}),Ml(()=>{s.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Me(r,i=>{i.forEach(l=>{l.setAttribute("tabindex","-1")})}),Rn(t,"keydown",i=>{const l=i.target;if(!l.className.includes(n.b("node")))return;const u=i.code;s.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const c=s.value.indexOf(l);let d;if([ut.up,ut.down].includes(u)){if(i.preventDefault(),u===ut.up){d=c===-1?0:c!==0?c-1:s.value.length-1;const h=d;for(;!e.value.getNode(s.value[d].dataset.key).canFocus;){if(d--,d===h){d=-1;break}d<0&&(d=s.value.length-1)}}else{d=c===-1?0:c<s.value.length-1?c+1:0;const h=d;for(;!e.value.getNode(s.value[d].dataset.key).canFocus;){if(d++,d===h){d=-1;break}d>=s.value.length&&(d=0)}}d!==-1&&s.value[d].focus()}[ut.left,ut.right].includes(u)&&(i.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[ut.enter,ut.space].includes(u)&&f&&(i.preventDefault(),f.click())});const a=()=>{var i;s.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(i=s.value[0])==null||i.setAttribute("tabindex","0")}}const Yet=ue({name:"ElTree",components:{ElTreeNode:qet},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:En}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=nn(),s=Fe("tree"),r=U(new Bet({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));r.value.initialize();const o=U(r.value.root),a=U(null),i=U(null),l=U(null),{broadcastExpanded:u}=Q7(t),{dragState:c}=Wet({props:t,ctx:e,el$:i,dropIndicator$:l,store:r});Xet({el$:i},r);const d=A(()=>{const{childNodes:O}=o.value;return!O||O.length===0||O.every(({visible:F})=>!F)});Me(()=>t.currentNodeKey,O=>{r.value.setCurrentNodeKey(O)}),Me(()=>t.defaultCheckedKeys,O=>{r.value.setDefaultCheckedKey(O)}),Me(()=>t.defaultExpandedKeys,O=>{r.value.setDefaultExpandedKeys(O)}),Me(()=>t.data,O=>{r.value.setData(O)},{deep:!0}),Me(()=>t.checkStrictly,O=>{r.value.checkStrictly=O});const f=O=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(O)},h=O=>Rk(t.nodeKey,O.data),p=O=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const F=r.value.getNode(O);if(!F)return[];const L=[F.data];let G=F.parent;for(;G&&G!==o.value;)L.push(G.data),G=G.parent;return L.reverse()},m=(O,F)=>r.value.getCheckedNodes(O,F),g=O=>r.value.getCheckedKeys(O),y=()=>{const O=r.value.getCurrentNode();return O?O.data:null},w=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const O=y();return O?O[t.nodeKey]:null},b=(O,F)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(O,F)},_=(O,F)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(O,F)},$=(O,F,L)=>{r.value.setChecked(O,F,L)},x=()=>r.value.getHalfCheckedNodes(),k=()=>r.value.getHalfCheckedKeys(),C=(O,F=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Z6(r,e.emit,()=>r.value.setUserCurrentNode(O,F))},T=(O,F=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Z6(r,e.emit,()=>r.value.setCurrentNodeKey(O,F))},N=O=>r.value.getNode(O),M=O=>{r.value.remove(O)},R=(O,F)=>{r.value.append(O,F)},D=(O,F)=>{r.value.insertBefore(O,F)},z=(O,F)=>{r.value.insertAfter(O,F)},B=(O,F,L)=>{u(F),e.emit("node-expand",O,F,L)},V=(O,F)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(O,F)};return Lt("RootTree",{ctx:e,props:t,store:r,root:o,currentNode:a,instance:Rt()}),Lt(Li,void 0),{ns:s,store:r,root:o,currentNode:a,dragState:c,el$:i,dropIndicator$:l,isEmpty:d,filter:f,getNodeKey:h,getNodePath:p,getCheckedNodes:m,getCheckedKeys:g,getCurrentNode:y,getCurrentKey:w,setCheckedNodes:b,setCheckedKeys:_,setChecked:$,getHalfCheckedNodes:x,getHalfCheckedKeys:k,setCurrentNode:C,setCurrentKey:T,t:n,getNode:N,remove:M,append:R,insertBefore:D,insertAfter:z,handleNodeExpand:B,updateKeyChildren:V}}});function Zet(t,e,n,s,r,o){var a;const i=pt("el-tree-node");return S(),I("div",{ref:"el$",class:P([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(S(!0),I(lt,null,Gt(t.root.childNodes,l=>(S(),$e(i,{key:t.getNodeKey(l),node:l,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(S(),I("div",{key:0,class:P(t.ns.e("empty-block"))},[E("span",{class:P(t.ns.e("empty-text"))},Ue((a=t.emptyText)!=null?a:t.t("el.tree.emptyText")),3)],2)):ge("v-if",!0),St(E("div",{ref:"dropIndicator$",class:P(t.ns.e("drop-indicator"))},null,2),[[Qt,t.dragState.showDropIndicator]])],2)}var ly=je(Yet,[["render",Zet],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);ly.install=t=>{t.component(ly.name,ly)};const Hy=ly,Jet=Hy,Qet=(t,{attrs:e},{tree:n,key:s})=>{const r=Fe("tree-select"),o={...gl(Ps(t),Object.keys(kd.props)),...e,valueKey:s,popperClass:A(()=>{const a=[r.e("popper")];return t.popperClass&&a.push(t.popperClass),a.join(" ")}),filterMethod:(a="")=>{t.filterMethod&&t.filterMethod(a),nt(()=>{var i;(i=n.value)==null||i.filter(a)})},onVisibleChange:a=>{var i;(i=e.onVisibleChange)==null||i.call(e,a),t.filterable&&a&&o.filterMethod()}};return o},ett=ue({extends:Dy,setup(t,e){const n=Dy.setup(t,e);delete n.selectOptionClick;const s=Rt().proxy;return nt(()=>{n.select.cachedOptions.get(s.value)||n.select.onOptionCreate(s)}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Q6(t){return t||t===0}function Dk(t){return Array.isArray(t)&&t.length}function u$(t){return Array.isArray(t)?t:Q6(t)?[t]:[]}function uy(t,e,n,s,r){for(let o=0;o<t.length;o++){const a=t[o];if(e(a,o,t,r))return s?s(a,o,t,r):a;{const i=n(a);if(Dk(i)){const l=uy(i,e,n,s,a);if(l)return l}}}}function tB(t,e,n,s){for(let r=0;r<t.length;r++){const o=t[r];e(o,r,t,s);const a=n(o);Dk(a)&&tB(a,e,n,o)}}const ttt=(t,{attrs:e,slots:n,emit:s},{select:r,tree:o,key:a})=>{Me(()=>t.modelValue,()=>{t.showCheckbox&&nt(()=>{const d=o.value;d&&!Wo(d.getCheckedKeys(),u$(t.modelValue))&&d.setCheckedKeys(u$(t.modelValue))})},{immediate:!0,deep:!0});const i=A(()=>({value:a.value,...t.props})),l=(d,f)=>{var h;const p=i.value[d];return vt(p)?p(f,(h=o.value)==null?void 0:h.getNode(l("value",f))):f[p]},u=u$(t.modelValue).map(d=>uy(t.data||[],f=>l("value",f)===d,f=>l("children",f),(f,h,p,m)=>m&&l("value",m))).filter(d=>Q6(d)),c=A(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const d=[];return tB(t.data.concat(t.cacheData),f=>{const h=l("value",f);d.push({value:h,currentLabel:l("label",f),isDisabled:l("disabled",f)})},f=>l("children",f)),d});return{...gl(Ps(t),Object.keys(Hy.props)),...e,nodeKey:a,expandOnClickNode:A(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:A(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(u):u),renderContent:(d,{node:f,data:h,store:p})=>d(ett,{value:l("value",h),label:l("label",h),disabled:l("disabled",h)},t.renderContent?()=>t.renderContent(d,{node:f,data:h,store:p}):n.default?()=>n.default({node:f,data:h,store:p}):void 0),filterNodeMethod:(d,f,h)=>{var p;return t.filterNodeMethod?t.filterNodeMethod(d,f,h):d?(p=l("label",f))==null?void 0:p.includes(d):!0},onNodeClick:(d,f,h)=>{var p,m,g;if((p=e.onNodeClick)==null||p.call(e,d,f,h),!(t.showCheckbox&&t.checkOnClickNode))if(!t.showCheckbox&&(t.checkStrictly||f.isLeaf)){if(!l("disabled",d)){const y=(m=r.value)==null?void 0:m.options.get(l("value",d));(g=r.value)==null||g.handleOptionSelect(y,!0)}}else t.expandOnClickNode&&h.proxy.handleExpandIconClick()},onCheck:(d,f)=>{var h;(h=e.onCheck)==null||h.call(e,d,f);const p=l("value",d);if(t.checkStrictly)s(Ot,t.multiple?f.checkedKeys:f.checkedKeys.includes(p)?p:void 0);else if(t.multiple)s(Ot,o.value.getCheckedKeys(!0));else{const m=uy([d],w=>!Dk(l("children",w))&&!l("disabled",w),w=>l("children",w)),g=m?l("value",m):void 0,y=Q6(t.modelValue)&&!!uy([d],w=>l("value",w)===t.modelValue,w=>l("children",w));s(Ot,g===t.modelValue||y?void 0:g)}},cacheOptions:c}};var ntt=ue({props:{data:{type:Array,default:()=>[]}},setup(t){const e=et(Lg);return t.data.forEach(n=>e.cachedOptions.set(n.value,n)),()=>{}}});const stt=ue({name:"ElTreeSelect",inheritAttrs:!1,props:{...kd.props,...Hy.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:s}=e,r=U(),o=U(),a=A(()=>t.nodeKey||t.valueKey||"value"),i=Qet(t,e,{select:r,tree:o,key:a}),{cacheOptions:l,...u}=ttt(t,e,{select:r,tree:o,key:a}),c=on({});return s(c),Et(()=>{Object.assign(c,{...gl(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...gl(r.value,["focus","blur"])})}),()=>it(kd,on({...i,ref:d=>r.value=d}),{...n,default:()=>[it(ntt,{data:l.value}),it(Hy,on({...u,ref:d=>o.value=d}))]})}});var cy=je(stt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);cy.install=t=>{t.component(cy.name,cy)};const rtt=cy,ott=rtt,Fk=Symbol(),att={key:-1,level:-1,data:{}};var Um=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(Um||{}),ex=(t=>(t.ADD="add",t.DELETE="delete",t))(ex||{});const itt=qe({data:{type:Se(Array),default:()=>Ln([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Se(Object),default:()=>Ln({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Se(Array),default:()=>Ln([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Se(Array),default:()=>Ln([])},indent:{type:Number,default:16},icon:{type:En},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Se([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Se(Function)},perfMode:{type:Boolean,default:!0}}),ltt=qe({node:{type:Se(Object),default:()=>Ln(att)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),utt=qe({node:{type:Se(Object),required:!0}}),nB="node-click",sB="node-expand",rB="node-collapse",oB="current-change",aB="check",iB="check-change",lB="node-contextmenu",ctt={[nB]:(t,e,n)=>t&&e&&n,[sB]:(t,e)=>t&&e,[rB]:(t,e)=>t&&e,[oB]:(t,e)=>t&&e,[aB]:(t,e)=>t&&e,[iB]:(t,e)=>t&&typeof e=="boolean",[lB]:(t,e,n)=>t&&e&&n},dtt={click:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function ftt(t,e){const n=U(new Set),s=U(new Set),{emit:r}=Rt();Me([()=>e.value,()=>t.defaultCheckedKeys],()=>nt(()=>{w(t.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:_}=e.value,$=n.value,x=new Set;for(let k=_-1;k>=1;--k){const C=b.get(k);!C||C.forEach(T=>{const N=T.children;if(N){let M=!0,R=!1;for(const D of N){const z=D.key;if($.has(z))R=!0;else if(x.has(z)){M=!1,R=!0;break}else M=!1}M?$.add(T.key):R?(x.add(T.key),$.delete(T.key)):($.delete(T.key),x.delete(T.key))}})}s.value=x},a=b=>n.value.has(b.key),i=b=>s.value.has(b.key),l=(b,_,$=!0)=>{const x=n.value,k=(C,T)=>{x[T?ex.ADD:ex.DELETE](C.key);const N=C.children;!t.checkStrictly&&N&&N.forEach(M=>{M.disabled||k(M,T)})};k(b,_),o(),$&&u(b,_)},u=(b,_)=>{const{checkedNodes:$,checkedKeys:x}=p(),{halfCheckedNodes:k,halfCheckedKeys:C}=m();r(aB,b.data,{checkedKeys:x,checkedNodes:$,halfCheckedKeys:C,halfCheckedNodes:k}),r(iB,b.data,_)};function c(b=!1){return p(b).checkedKeys}function d(b=!1){return p(b).checkedNodes}function f(){return m().halfCheckedKeys}function h(){return m().halfCheckedNodes}function p(b=!1){const _=[],$=[];if((e==null?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:x}=e.value;n.value.forEach(k=>{const C=x.get(k);C&&(!b||b&&C.isLeaf)&&($.push(k),_.push(C.data))})}return{checkedKeys:$,checkedNodes:_}}function m(){const b=[],_=[];if((e==null?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:$}=e.value;s.value.forEach(x=>{const k=$.get(x);k&&(_.push(x),b.push(k.data))})}return{halfCheckedNodes:b,halfCheckedKeys:_}}function g(b){n.value.clear(),s.value.clear(),w(b)}function y(b,_){if((e==null?void 0:e.value)&&t.showCheckbox){const $=e.value.treeNodeMap.get(b);$&&l($,_,!1)}}function w(b){if(e!=null&&e.value){const{treeNodeMap:_}=e.value;if(t.showCheckbox&&_&&b)for(const $ of b){const x=_.get($);x&&!a(x)&&l(x,!0,!1)}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:a,isIndeterminate:i,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:y,setCheckedKeys:g}}function htt(t,e){const n=U(new Set([])),s=U(new Set([])),r=A(()=>vt(t.filterMethod));function o(i){var l;if(!r.value)return;const u=new Set,c=s.value,d=n.value,f=[],h=((l=e.value)==null?void 0:l.treeNodes)||[],p=t.filterMethod;d.clear();function m(g){g.forEach(y=>{f.push(y),p!=null&&p(i,y.data)?f.forEach(b=>{u.add(b.key)}):y.isLeaf&&d.add(y.key);const w=y.children;if(w&&m(w),!y.isLeaf){if(!u.has(y.key))d.add(y.key);else if(w){let b=!0;for(const _ of w)if(!d.has(_.key)){b=!1;break}b?c.add(y.key):c.delete(y.key)}}f.pop()})}return m(h),u}function a(i){return s.value.has(i.key)}return{hiddenExpandIconKeySet:s,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:a}}function ptt(t,e){const n=U(new Set(t.defaultExpandedKeys)),s=U(),r=Nn();Me(()=>t.currentNodeKey,Q=>{s.value=Q},{immediate:!0}),Me(()=>t.data,Q=>{oe(Q)},{immediate:!0});const{isIndeterminate:o,isChecked:a,toggleCheckbox:i,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:h}=ftt(t,r),{doFilter:p,hiddenNodeKeySet:m,isForceHiddenExpandIcon:g}=htt(t,r),y=A(()=>{var Q;return((Q=t.props)==null?void 0:Q.value)||Um.KEY}),w=A(()=>{var Q;return((Q=t.props)==null?void 0:Q.children)||Um.CHILDREN}),b=A(()=>{var Q;return((Q=t.props)==null?void 0:Q.disabled)||Um.DISABLED}),_=A(()=>{var Q;return((Q=t.props)==null?void 0:Q.label)||Um.LABEL}),$=A(()=>{const Q=n.value,ie=m.value,pe=[],Re=r.value&&r.value.treeNodes||[];function K(){const re=[];for(let we=Re.length-1;we>=0;--we)re.push(Re[we]);for(;re.length;){const we=re.pop();if(!!we&&(ie.has(we.key)||pe.push(we),Q.has(we.key))){const Ie=we.children;if(Ie){const De=Ie.length;for(let _e=De-1;_e>=0;--_e)re.push(Ie[_e])}}}}return K(),pe}),x=A(()=>$.value.length>0);function k(Q){const ie=new Map,pe=new Map;let Re=1;function K(we,Ie=1,De=void 0){var _e;const ze=[];for(const Ae of we){const he=N(Ae),ve={level:Ie,key:he,data:Ae};ve.label=R(Ae),ve.parent=De;const me=T(Ae);ve.disabled=M(Ae),ve.isLeaf=!me||me.length===0,me&&me.length&&(ve.children=K(me,Ie+1,ve)),ze.push(ve),ie.set(he,ve),pe.has(Ie)||pe.set(Ie,[]),(_e=pe.get(Ie))==null||_e.push(ve)}return Ie>Re&&(Re=Ie),ze}const re=K(Q);return{treeNodeMap:ie,levelTreeNodeMap:pe,maxLevel:Re,treeNodes:re}}function C(Q){const ie=p(Q);ie&&(n.value=ie)}function T(Q){return Q[w.value]}function N(Q){return Q?Q[y.value]:""}function M(Q){return Q[b.value]}function R(Q){return Q[_.value]}function D(Q){n.value.has(Q.key)?L(Q):F(Q)}function z(Q){n.value=new Set(Q)}function B(Q,ie){e(nB,Q.data,Q,ie),V(Q),t.expandOnClickNode&&D(Q),t.showCheckbox&&t.checkOnClickNode&&!Q.disabled&&i(Q,!a(Q),!0)}function V(Q){j(Q)||(s.value=Q.key,e(oB,Q.data,Q))}function O(Q,ie){i(Q,ie)}function F(Q){const ie=n.value;if(r.value&&t.accordion){const{treeNodeMap:pe}=r.value;ie.forEach(Re=>{const K=pe.get(Re);Q&&Q.level===(K==null?void 0:K.level)&&ie.delete(Re)})}ie.add(Q.key),e(sB,Q.data,Q)}function L(Q){n.value.delete(Q.key),e(rB,Q.data,Q)}function G(Q){return n.value.has(Q.key)}function Z(Q){return!!Q.disabled}function j(Q){const ie=s.value;return!!ie&&ie===Q.key}function J(){var Q,ie;if(!!s.value)return(ie=(Q=r.value)==null?void 0:Q.treeNodeMap.get(s.value))==null?void 0:ie.data}function fe(){return s.value}function X(Q){s.value=Q}function oe(Q){nt(()=>r.value=k(Q))}function ee(Q){var ie;const pe=Bt(Q)?N(Q):Q;return(ie=r.value)==null?void 0:ie.treeNodeMap.get(pe)}return{tree:r,flattenTree:$,isNotEmpty:x,getKey:N,getChildren:T,toggleExpand:D,toggleCheckbox:i,isExpanded:G,isChecked:a,isIndeterminate:o,isDisabled:Z,isCurrent:j,isForceHiddenExpandIcon:g,handleNodeClick:B,handleNodeCheck:O,getCurrentNode:J,getCurrentKey:fe,setCurrentKey:X,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:h,filter:C,setData:oe,getNode:ee,expandNode:F,collapseNode:L,setExpandedKeys:z}}var mtt=ue({name:"ElTreeNodeContent",props:utt,setup(t){const e=et(Fk),n=Fe("tree");return()=>{const s=t.node,{data:r}=s;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:s,data:r}):it("span",{class:n.be("node","label")},[s==null?void 0:s.label])}}});const gtt=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],vtt=ue({name:"ElTreeNode"}),ytt=ue({...vtt,props:ltt,emits:dtt,setup(t,{emit:e}){const n=t,s=et(Fk),r=Fe("tree"),o=A(()=>{var d;return(d=s==null?void 0:s.props.indent)!=null?d:16}),a=A(()=>{var d;return(d=s==null?void 0:s.props.icon)!=null?d:NC}),i=d=>{e("click",n.node,d)},l=()=>{e("toggle",n.node)},u=d=>{e("check",n.node,d)},c=d=>{var f,h,p,m;(p=(h=(f=s==null?void 0:s.instance)==null?void 0:f.vnode)==null?void 0:h.props)!=null&&p.onNodeContextmenu&&(d.stopPropagation(),d.preventDefault()),s==null||s.ctx.emit(lB,d,(m=n.node)==null?void 0:m.data,n.node)};return(d,f)=>{var h,p,m;return S(),I("div",{ref:"node$",class:P([v(r).b("node"),v(r).is("expanded",d.expanded),v(r).is("current",d.current),v(r).is("focusable",!d.disabled),v(r).is("checked",!d.disabled&&d.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":d.expanded,"aria-disabled":d.disabled,"aria-checked":d.checked,"data-key":(h=d.node)==null?void 0:h.key,onClick:yt(i,["stop"]),onContextmenu:c},[E("div",{class:P(v(r).be("node","content")),style:ot({paddingLeft:`${(d.node.level-1)*v(o)}px`})},[v(a)?(S(),$e(v(rt),{key:0,class:P([v(r).is("leaf",!!((p=d.node)!=null&&p.isLeaf)),v(r).is("hidden",d.hiddenExpandIcon),{expanded:!((m=d.node)!=null&&m.isLeaf)&&d.expanded},v(r).be("node","expand-icon")]),onClick:yt(l,["stop"])},{default:ce(()=>[(S(),$e(Vt(v(a))))]),_:1},8,["class","onClick"])):ge("v-if",!0),d.showCheckbox?(S(),$e(v(ka),{key:1,"model-value":d.checked,indeterminate:d.indeterminate,disabled:d.disabled,onChange:u,onClick:f[0]||(f[0]=yt(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):ge("v-if",!0),se(v(mtt),{node:d.node},null,8,["node"])],6)],42,gtt)}}});var btt=je(ytt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const wtt=26,_tt=ue({name:"ElTreeV2"}),$tt=ue({..._tt,props:itt,emits:ctt,setup(t,{expose:e,emit:n}){const s=t,r=ir();Lt(Fk,{ctx:{emit:n,slots:r},props:s,instance:Rt()}),Lt(Li,void 0);const{t:o}=nn(),a=Fe("tree"),{flattenTree:i,isNotEmpty:l,toggleExpand:u,isExpanded:c,isIndeterminate:d,isChecked:f,isDisabled:h,isCurrent:p,isForceHiddenExpandIcon:m,handleNodeClick:g,handleNodeCheck:y,toggleCheckbox:w,getCurrentNode:b,getCurrentKey:_,setCurrentKey:$,getCheckedKeys:x,getCheckedNodes:k,getHalfCheckedKeys:C,getHalfCheckedNodes:T,setChecked:N,setCheckedKeys:M,filter:R,setData:D,getNode:z,expandNode:B,collapseNode:V,setExpandedKeys:O}=ptt(s,n);return e({toggleCheckbox:w,getCurrentNode:b,getCurrentKey:_,setCurrentKey:$,getCheckedKeys:x,getCheckedNodes:k,getHalfCheckedKeys:C,getHalfCheckedNodes:T,setChecked:N,setCheckedKeys:M,filter:R,setData:D,getNode:z,expandNode:B,collapseNode:V,setExpandedKeys:O}),(F,L)=>{var G;return S(),I("div",{class:P([v(a).b(),{[v(a).m("highlight-current")]:F.highlightCurrent}]),role:"tree"},[v(l)?(S(),$e(v(v7),{key:0,"class-name":v(a).b("virtual-list"),data:v(i),total:v(i).length,height:F.height,"item-size":wtt,"perf-mode":F.perfMode},{default:ce(({data:Z,index:j,style:J})=>[(S(),$e(btt,{key:Z[j].key,style:ot(J),node:Z[j],expanded:v(c)(Z[j]),"show-checkbox":F.showCheckbox,checked:v(f)(Z[j]),indeterminate:v(d)(Z[j]),disabled:v(h)(Z[j]),current:v(p)(Z[j]),"hidden-expand-icon":v(m)(Z[j]),onClick:v(g),onToggle:v(u),onCheck:v(y)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","perf-mode"])):(S(),I("div",{key:1,class:P(v(a).e("empty-block"))},[E("span",{class:P(v(a).e("empty-text"))},Ue((G=F.emptyText)!=null?G:v(o)("el.tree.emptyText")),3)],2))],2)}}});var xtt=je($tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const Stt=Dt(xtt),Ctt="ElUpload";class ktt extends Error{constructor(e,n,s,r){super(e),this.name="UploadAjaxError",this.status=n,this.method=s,this.url=r}}function kR(t,e,n){let s;return n.response?s=`${n.response.error||n.response}`:n.responseText?s=`${n.responseText}`:s=`fail to ${e.method} ${t} ${n.status}`,new ktt(s,n.status,e.method,t)}function Ttt(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Ntt=t=>{typeof XMLHttpRequest>"u"&&Ls(Ctt,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",o=>{const a=o;a.percent=o.total>0?o.loaded/o.total*100:0,t.onProgress(a)});const s=new FormData;if(t.data)for(const[o,a]of Object.entries(t.data))Array.isArray(a)?s.append(o,...a):s.append(o,a);s.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(kR(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(kR(n,t,e));t.onSuccess(Ttt(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=t.headers||{};if(r instanceof Headers)r.forEach((o,a)=>e.setRequestHeader(a,o));else for(const[o,a]of Object.entries(r))nr(a)||e.setRequestHeader(o,String(a));return e.send(s),e},uB=["text","picture","picture-card"];let Ett=1;const tx=()=>Date.now()+Ett++,cB=qe({action:{type:String,default:"#"},headers:{type:Se(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>Ln({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:Se(Array),default:()=>Ln([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uB,default:"text"},httpRequest:{type:Se(Function),default:Ntt},disabled:Boolean,limit:Number}),Itt=qe({...cB,beforeUpload:{type:Se(Function),default:gn},beforeRemove:{type:Se(Function)},onRemove:{type:Se(Function),default:gn},onChange:{type:Se(Function),default:gn},onPreview:{type:Se(Function),default:gn},onSuccess:{type:Se(Function),default:gn},onProgress:{type:Se(Function),default:gn},onError:{type:Se(Function),default:gn},onExceed:{type:Se(Function),default:gn}}),Att=qe({files:{type:Se(Array),default:()=>Ln([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Se(Function),default:gn},listType:{type:String,values:uB,default:"text"}}),Ott={remove:t=>!!t},Rtt=["onKeydown"],Dtt=["src"],Ftt=["onClick"],Mtt=["onClick"],Ptt=["onClick"],Ltt=ue({name:"ElUploadList"}),ztt=ue({...Ltt,props:Att,emits:Ott,setup(t,{emit:e}){const{t:n}=nn(),s=Fe("upload"),r=Fe("icon"),o=Fe("list"),a=To(),i=U(!1),l=u=>{e("remove",u)};return(u,c)=>(S(),$e(Dte,{tag:"ul",class:P([v(s).b("list"),v(s).bm("list",u.listType),v(s).is("disabled",v(a))]),name:v(o).b()},{default:ce(()=>[(S(!0),I(lt,null,Gt(u.files,d=>(S(),I("li",{key:d.uid||d.name,class:P([v(s).be("list","item"),v(s).is(d.status),{focusing:i.value}]),tabindex:"0",onKeydown:qt(f=>!v(a)&&l(d),["delete"]),onFocus:c[0]||(c[0]=f=>i.value=!0),onBlur:c[1]||(c[1]=f=>i.value=!1),onClick:c[2]||(c[2]=f=>i.value=!1)},[Oe(u.$slots,"default",{file:d},()=>[u.listType==="picture"||d.status!=="uploading"&&u.listType==="picture-card"?(S(),I("img",{key:0,class:P(v(s).be("list","item-thumbnail")),src:d.url,alt:""},null,10,Dtt)):ge("v-if",!0),d.status==="uploading"||u.listType!=="picture-card"?(S(),I("div",{key:1,class:P(v(s).be("list","item-info"))},[E("a",{class:P(v(s).be("list","item-name")),onClick:yt(f=>u.handlePreview(d),["prevent"])},[se(v(rt),{class:P(v(r).m("document"))},{default:ce(()=>[se(v(hP))]),_:1},8,["class"]),E("span",{class:P(v(s).be("list","item-file-name"))},Ue(d.name),3)],10,Ftt),d.status==="uploading"?(S(),$e(v(l7),{key:0,type:u.listType==="picture-card"?"circle":"line","stroke-width":u.listType==="picture-card"?6:2,percentage:Number(d.percentage),style:ot(u.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ge("v-if",!0)],2)):ge("v-if",!0),E("label",{class:P(v(s).be("list","item-status-label"))},[u.listType==="text"?(S(),$e(v(rt),{key:0,class:P([v(r).m("upload-success"),v(r).m("circle-check")])},{default:ce(()=>[se(v(iw))]),_:1},8,["class"])):["picture-card","picture"].includes(u.listType)?(S(),$e(v(rt),{key:1,class:P([v(r).m("upload-success"),v(r).m("check")])},{default:ce(()=>[se(v(Jh))]),_:1},8,["class"])):ge("v-if",!0)],2),v(a)?ge("v-if",!0):(S(),$e(v(rt),{key:2,class:P(v(r).m("close")),onClick:f=>l(d)},{default:ce(()=>[se(v(xa))]),_:2},1032,["class","onClick"])),ge(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ge(" This is a bug which needs to be fixed "),ge(" TODO: Fix the incorrect navigation interaction "),v(a)?ge("v-if",!0):(S(),I("i",{key:3,class:P(v(r).m("close-tip"))},Ue(v(n)("el.upload.deleteTip")),3)),u.listType==="picture-card"?(S(),I("span",{key:4,class:P(v(s).be("list","item-actions"))},[E("span",{class:P(v(s).be("list","item-preview")),onClick:f=>u.handlePreview(d)},[se(v(rt),{class:P(v(r).m("zoom-in"))},{default:ce(()=>[se(v(OC))]),_:1},8,["class"])],10,Mtt),v(a)?ge("v-if",!0):(S(),I("span",{key:0,class:P(v(s).be("list","item-delete")),onClick:f=>l(d)},[se(v(rt),{class:P(v(r).m("delete"))},{default:ce(()=>[se(v(fP))]),_:1},8,["class"])],10,Ptt))],2)):ge("v-if",!0)])],42,Rtt))),128)),Oe(u.$slots,"append")]),_:3},8,["class","name"]))}});var TR=je(ztt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Btt=qe({disabled:{type:Boolean,default:!1}}),Vtt={file:t=>Qe(t)},Htt=["onDrop","onDragover"],dB="ElUploadDrag",Wtt=ue({name:dB}),Utt=ue({...Wtt,props:Btt,emits:Vtt,setup(t,{emit:e}){const n=et(UP);n||Ls(dB,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=Fe("upload"),r=U(!1),o=To(),a=l=>{if(o.value)return;r.value=!1;const u=Array.from(l.dataTransfer.files),c=n.accept.value;if(!c){e("file",u);return}const d=u.filter(f=>{const{type:h,name:p}=f,m=p.includes(".")?`.${p.split(".").pop()}`:"",g=h.replace(/\/.*$/,"");return c.split(",").map(y=>y.trim()).filter(y=>y).some(y=>y.startsWith(".")?m===y:/\/\*$/.test(y)?g===y.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(y)?h===y:!1)});e("file",d)},i=()=>{o.value||(r.value=!0)};return(l,u)=>(S(),I("div",{class:P([v(s).b("dragger"),v(s).is("dragover",r.value)]),onDrop:yt(a,["prevent"]),onDragover:yt(i,["prevent"]),onDragleave:u[0]||(u[0]=yt(c=>r.value=!1,["prevent"]))},[Oe(l.$slots,"default")],42,Htt))}});var Gtt=je(Utt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const jtt=qe({...cB,beforeUpload:{type:Se(Function),default:gn},onRemove:{type:Se(Function),default:gn},onStart:{type:Se(Function),default:gn},onSuccess:{type:Se(Function),default:gn},onProgress:{type:Se(Function),default:gn},onError:{type:Se(Function),default:gn},onExceed:{type:Se(Function),default:gn}}),Ktt=["onKeydown"],qtt=["name","multiple","accept"],Xtt=ue({name:"ElUploadContent",inheritAttrs:!1}),Ytt=ue({...Xtt,props:jtt,setup(t,{expose:e}){const n=t,s=Fe("upload"),r=To(),o=Nn({}),a=Nn(),i=p=>{if(p.length===0)return;const{autoUpload:m,limit:g,fileList:y,multiple:w,onStart:b,onExceed:_}=n;if(g&&y.length+p.length>g){_(p,y);return}w||(p=p.slice(0,1));for(const $ of p){const x=$;x.uid=tx(),b(x),m&&l(x)}},l=async p=>{if(a.value.value="",!n.beforeUpload)return u(p);let m;try{m=await n.beforeUpload(p)}catch{m=!1}if(m===!1){n.onRemove(p);return}let g=p;m instanceof Blob&&(m instanceof File?g=m:g=new File([m],p.name,{type:p.type})),u(Object.assign(g,{uid:p.uid}))},u=p=>{const{headers:m,data:g,method:y,withCredentials:w,name:b,action:_,onProgress:$,onSuccess:x,onError:k,httpRequest:C}=n,{uid:T}=p,N={headers:m||{},withCredentials:w,file:p,data:g,method:y,filename:b,action:_,onProgress:R=>{$(R,p)},onSuccess:R=>{x(R,p),delete o.value[T]},onError:R=>{k(R,p),delete o.value[T]}},M=C(N);o.value[T]=M,M instanceof Promise&&M.then(N.onSuccess,N.onError)},c=p=>{const m=p.target.files;!m||i(Array.from(m))},d=()=>{r.value||(a.value.value="",a.value.click())},f=()=>{d()};return e({abort:p=>{Mue(o.value).filter(p?([g])=>String(p.uid)===g:()=>!0).forEach(([g,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete o.value[g]})},upload:l}),(p,m)=>(S(),I("div",{class:P([v(s).b(),v(s).m(p.listType),v(s).is("drag",p.drag)]),tabindex:"0",onClick:d,onKeydown:qt(yt(f,["self"]),["enter","space"])},[p.drag?(S(),$e(Gtt,{key:0,disabled:v(r),onFile:i},{default:ce(()=>[Oe(p.$slots,"default")]),_:3},8,["disabled"])):Oe(p.$slots,"default",{key:1}),E("input",{ref_key:"inputRef",ref:a,class:P(v(s).e("input")),name:p.name,multiple:p.multiple,accept:p.accept,type:"file",onChange:c,onClick:m[0]||(m[0]=yt(()=>{},["stop"]))},null,42,qtt)],42,Ktt))}});var NR=je(Ytt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const ER="ElUpload",Ztt=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Jtt=(t,e)=>{const n=Eue(t,"fileList",void 0,{passive:!0}),s=f=>n.value.find(h=>h.uid===f.uid);function r(f){var h;(h=e.value)==null||h.abort(f)}function o(f=["ready","uploading","success","fail"]){n.value=n.value.filter(h=>!f.includes(h.status))}const a=(f,h)=>{const p=s(h);!p||(console.error(f),p.status="fail",n.value.splice(n.value.indexOf(p),1),t.onError(f,p,n.value),t.onChange(p,n.value))},i=(f,h)=>{const p=s(h);!p||(t.onProgress(f,p,n.value),p.status="uploading",p.percentage=Math.round(f.percent))},l=(f,h)=>{const p=s(h);!p||(p.status="success",p.response=f,t.onSuccess(f,p,n.value),t.onChange(p,n.value))},u=f=>{nr(f.uid)&&(f.uid=tx());const h={name:f.name,percentage:0,status:"ready",size:f.size,raw:f,uid:f.uid};if(t.listType==="picture-card"||t.listType==="picture")try{h.url=URL.createObjectURL(f)}catch(p){p.message,t.onError(p,h,n.value)}n.value=[...n.value,h],t.onChange(h,n.value)},c=async f=>{const h=f instanceof File?s(f):f;h||Ls(ER,"file to be removed not found");const p=m=>{r(m);const g=n.value;g.splice(g.indexOf(m),1),t.onRemove(m,g),Ztt(m)};t.beforeRemove?await t.beforeRemove(h,n.value)!==!1&&p(h):p(h)};function d(){n.value.filter(({status:f})=>f==="ready").forEach(({raw:f})=>{var h;return f&&((h=e.value)==null?void 0:h.upload(f))})}return Me(()=>t.listType,f=>{f!=="picture-card"&&f!=="picture"||(n.value=n.value.map(h=>{const{raw:p,url:m}=h;if(!m&&p)try{h.url=URL.createObjectURL(p)}catch(g){t.onError(g,h,n.value)}return h}))}),Me(n,f=>{for(const h of f)h.uid||(h.uid=tx()),h.status||(h.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:r,clearFiles:o,handleError:a,handleProgress:i,handleStart:u,handleSuccess:l,handleRemove:c,submit:d}},Qtt=ue({name:"ElUpload"}),ent=ue({...Qtt,props:Itt,setup(t,{expose:e}){const n=t,s=ir(),r=To(),o=Nn(),{abort:a,submit:i,clearFiles:l,uploadFiles:u,handleStart:c,handleError:d,handleRemove:f,handleSuccess:h,handleProgress:p}=Jtt(n,o),m=A(()=>n.listType==="picture-card"),g=A(()=>({...n,fileList:u.value,onStart:c,onProgress:p,onSuccess:h,onError:d,onRemove:f}));return ts(()=>{u.value.forEach(({url:y})=>{y!=null&&y.startsWith("blob:")&&URL.revokeObjectURL(y)})}),Lt(UP,{accept:Un(n,"accept")}),e({abort:a,submit:i,clearFiles:l,handleStart:c,handleRemove:f}),(y,w)=>(S(),I("div",null,[v(m)&&y.showFileList?(S(),$e(TR,{key:0,disabled:v(r),"list-type":y.listType,files:v(u),"handle-preview":y.onPreview,onRemove:v(f)},Uu({append:ce(()=>[se(NR,zt({ref_key:"uploadRef",ref:o},v(g)),{default:ce(()=>[v(s).trigger?Oe(y.$slots,"trigger",{key:0}):ge("v-if",!0),!v(s).trigger&&v(s).default?Oe(y.$slots,"default",{key:1}):ge("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:ce(({file:b})=>[Oe(y.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ge("v-if",!0),!v(m)||v(m)&&!y.showFileList?(S(),$e(NR,zt({key:1,ref_key:"uploadRef",ref:o},v(g)),{default:ce(()=>[v(s).trigger?Oe(y.$slots,"trigger",{key:0}):ge("v-if",!0),!v(s).trigger&&v(s).default?Oe(y.$slots,"default",{key:1}):ge("v-if",!0)]),_:3},16)):ge("v-if",!0),y.$slots.trigger?Oe(y.$slots,"default",{key:2}):ge("v-if",!0),Oe(y.$slots,"tip"),!v(m)&&y.showFileList?(S(),$e(TR,{key:3,disabled:v(r),"list-type":y.listType,files:v(u),"handle-preview":y.onPreview,onRemove:v(f)},Uu({_:2},[y.$slots.file?{name:"default",fn:ce(({file:b})=>[Oe(y.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ge("v-if",!0)]))}});var tnt=je(ent,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const nnt=Dt(tnt);var snt=[GFe,nMe,OLe,_Qe,zLe,jLe,OL,oze,aze,br,PL,x7e,N7e,H7e,W7e,nVe,WBe,lVe,ka,uBe,cz,hVe,OVe,RVe,xVe,rHe,iHe,bHe,wHe,_He,$He,xHe,IWe,BWe,VWe,tUe,Vz,mUe,aGe,iGe,lGe,Yz,Rje,Dje,rt,qje,Qz,Or,e7,lKe,NKe,EKe,IKe,PKe,Bqe,Gqe,eXe,EL,l7,gz,CBe,SBe,vXe,$Xe,EXe,jl,kd,Dy,fqe,bYe,TYe,NYe,rZe,uZe,yZe,bZe,IZe,MJe,PJe,wQe,MQe,PQe,xw,n7e,WQe,qQe,XQe,No,$et,Let,Jet,ott,Stt,nnt];const Pa="ElInfiniteScroll",rnt=50,ont=200,ant=0,int={delay:{type:Number,default:ont},distance:{type:Number,default:ant},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Mk=(t,e)=>Object.entries(int).reduce((n,[s,r])=>{var o,a;const{type:i,default:l}=r,u=t.getAttribute(`infinite-scroll-${s}`);let c=(a=(o=e[u])!=null?o:u)!=null?a:l;return c=c==="false"?!1:c,c=i(c),n[s]=Number.isNaN(c)?l:c,n},{}),fB=t=>{const{observer:e}=t[Pa];e&&(e.disconnect(),delete t[Pa].observer)},lnt=(t,e)=>{const{container:n,containerEl:s,instance:r,observer:o,lastScrollTop:a}=t[Pa],{disabled:i,distance:l}=Mk(t,r),{clientHeight:u,scrollHeight:c,scrollTop:d}=s,f=d-a;if(t[Pa].lastScrollTop=d,o||i||f<0)return;let h=!1;if(n===t)h=c-(u+d)<=l;else{const{clientTop:p,scrollHeight:m}=t,g=Rue(t,s);h=d+u>=g+p+m-l}h&&e.call(r)};function c$(t,e){const{containerEl:n,instance:s}=t[Pa],{disabled:r}=Mk(t,s);r||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(s):fB(t))}const unt={async mounted(t,e){const{instance:n,value:s}=e;vt(s)||Ls(Pa,"'v-infinite-scroll' binding value must be a function"),await nt();const{delay:r,immediate:o}=Mk(t,n),a=TC(t,!0),i=a===window?document.documentElement:a,l=rd(lnt.bind(null,t,s),r);if(!!a){if(t[Pa]={instance:n,container:a,containerEl:i,delay:r,cb:s,onScroll:l,lastScrollTop:i.scrollTop},o){const u=new MutationObserver(rd(c$.bind(null,t,s),rnt));t[Pa].observer=u,u.observe(t,{childList:!0,subtree:!0}),c$(t,s)}a.addEventListener("scroll",l)}},unmounted(t){const{container:e,onScroll:n}=t[Pa];e==null||e.removeEventListener("scroll",n),fB(t)},async updated(t){t[Pa]||await nt();const{containerEl:e,cb:n,observer:s}=t[Pa];e.clientHeight&&s&&c$(t,n)}},nx=unt;nx.install=t=>{t.directive("InfiniteScroll",nx)};const cnt=nx;function dnt(t){let e;const n=Fe("loading"),s=U(!1),r=on({...t,originalPosition:"",originalOverflow:"",visible:!1});function o(h){r.text=h}function a(){const h=r.parent;if(!h.vLoadingAddClassList){let p=h.getAttribute("loading-number");p=Number.parseInt(p)-1,p?h.setAttribute("loading-number",p.toString()):(mo(h,n.bm("parent","relative")),h.removeAttribute("loading-number")),mo(h,n.bm("parent","hidden"))}i(),d.unmount()}function i(){var h,p;(p=(h=f.$el)==null?void 0:h.parentNode)==null||p.removeChild(f.$el)}function l(){var h;t.beforeClose&&!t.beforeClose()||(s.value=!0,clearTimeout(e),e=window.setTimeout(u,400),r.visible=!1,(h=t.closed)==null||h.call(t))}function u(){if(!s.value)return;const h=r.parent;s.value=!1,h.vLoadingAddClassList=void 0,a()}const d=dM({name:"ElLoading",setup(){return()=>{const h=r.spinner||r.svg,p=it("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...h?{innerHTML:h}:{}},[it("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),m=r.text?it("p",{class:n.b("text")},[r.text]):void 0;return it(ms,{name:n.b("fade"),onAfterLeave:u},{default:ce(()=>[St(se("div",{style:{backgroundColor:r.background||""},class:[n.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[it("div",{class:n.b("spinner")},[p,m])]),[[Qt,r.visible]])])})}}}),f=d.mount(document.createElement("div"));return{...Ps(r),setText:o,removeElLoadingChild:i,close:l,handleAfterLeave:u,vm:f,get $el(){return f.$el}}}let hv;const sx=function(t={}){if(!Kt)return;const e=fnt(t);if(e.fullscreen&&hv)return hv;const n=dnt({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(hv=void 0)}});hnt(e,e.parent,n),IR(e,e.parent,n),e.parent.vLoadingAddClassList=()=>IR(e,e.parent,n);let s=e.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",e.parent.setAttribute("loading-number",s),e.parent.appendChild(n.$el),nt(()=>n.visible.value=e.visible),e.fullscreen&&(hv=n),n},fnt=t=>{var e,n,s,r;let o;return wt(t.target)?o=(e=document.querySelector(t.target))!=null?e:document.body:o=t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(s=t.lock)!=null?s:!1,customClass:t.customClass||"",visible:(r=t.visible)!=null?r:!0,target:o}},hnt=async(t,e,n)=>{const{nextZIndex:s}=Ul(),r={};if(t.fullscreen)n.originalPosition.value=dl(document.body,"position"),n.originalOverflow.value=dl(document.body,"overflow"),r.zIndex=s();else if(t.parent===document.body){n.originalPosition.value=dl(document.body,"position"),await nt();for(const o of["top","left"]){const a=o==="top"?"scrollTop":"scrollLeft";r[o]=`${t.target.getBoundingClientRect()[o]+document.body[a]+document.documentElement[a]-Number.parseInt(dl(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])r[o]=`${t.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=dl(e,"position");for(const[o,a]of Object.entries(r))n.$el.style[o]=a},IR=(t,e,n)=>{const s=Fe("loading");["absolute","fixed","sticky"].includes(n.originalPosition.value)?mo(e,s.bm("parent","relative")):xi(e,s.bm("parent","relative")),t.fullscreen&&t.lock?xi(e,s.bm("parent","hidden")):mo(e,s.bm("parent","hidden"))},rx=Symbol("ElLoading"),AR=(t,e)=>{var n,s,r,o;const a=e.instance,i=f=>Bt(e.value)?e.value[f]:void 0,l=f=>{const h=wt(f)&&(a==null?void 0:a[f])||f;return h&&U(h)},u=f=>l(i(f)||t.getAttribute(`element-loading-${ac(f)}`)),c=(n=i("fullscreen"))!=null?n:e.modifiers.fullscreen,d={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(s=i("target"))!=null?s:c?void 0:t,body:(r=i("body"))!=null?r:e.modifiers.body,lock:(o=i("lock"))!=null?o:e.modifiers.lock};t[rx]={options:d,instance:sx(d)}},pnt=(t,e)=>{for(const n of Object.keys(e))kn(e[n])&&(e[n].value=t[n])},OR={mounted(t,e){e.value&&AR(t,e)},updated(t,e){const n=t[rx];e.oldValue!==e.value&&(e.value&&!e.oldValue?AR(t,e):e.value&&e.oldValue?Bt(e.value)&&pnt(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[rx])==null||e.instance.close()}},mnt={install(t){t.directive("loading",OR),t.config.globalProperties.$loading=sx},directive:OR,service:sx},hB=["success","info","warning","error"],oo=Ln({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Kt?document.body:void 0}),gnt=qe({customClass:{type:String,default:oo.customClass},center:{type:Boolean,default:oo.center},dangerouslyUseHTMLString:{type:Boolean,default:oo.dangerouslyUseHTMLString},duration:{type:Number,default:oo.duration},icon:{type:En,default:oo.icon},id:{type:String,default:oo.id},message:{type:Se([String,Object,Function]),default:oo.message},onClose:{type:Se(Function),required:!1},showClose:{type:Boolean,default:oo.showClose},type:{type:String,values:hB,default:oo.type},offset:{type:Number,default:oo.offset},zIndex:{type:Number,default:oo.zIndex},grouping:{type:Boolean,default:oo.grouping},repeatNum:{type:Number,default:oo.repeatNum}}),vnt={destroy:()=>!0},Ci=bF([]),ynt=t=>{const e=Ci.findIndex(r=>r.id===t),n=Ci[e];let s;return e>0&&(s=Ci[e-1]),{current:n,prev:s}},bnt=t=>{const{prev:e}=ynt(t);return e?e.vm.exposed.bottom.value:0},wnt=["id"],_nt=["innerHTML"],$nt=ue({name:"ElMessage"}),xnt=ue({...$nt,props:gnt,emits:vnt,setup(t,{expose:e}){const n=t,{Close:s}=RC,r=Fe("message"),o=U(),a=U(!1),i=U(0);let l;const u=A(()=>n.type?n.type==="error"?"danger":n.type:"info"),c=A(()=>{const _=n.type;return{[r.bm("icon",_)]:_&&Gu[_]}}),d=A(()=>n.icon||Gu[n.type]||""),f=A(()=>bnt(n.id)),h=A(()=>n.offset+f.value),p=A(()=>i.value+h.value),m=A(()=>({top:`${h.value}px`,zIndex:n.zIndex}));function g(){n.duration!==0&&({stop:l}=_d(()=>{w()},n.duration))}function y(){l==null||l()}function w(){a.value=!1}function b({code:_}){_===ut.esc&&w()}return Et(()=>{g(),a.value=!0}),Me(()=>n.repeatNum,()=>{y(),g()}),Rn(document,"keydown",b),Dr(o,()=>{i.value=o.value.getBoundingClientRect().height}),e({visible:a,bottom:p,close:w}),(_,$)=>(S(),$e(ms,{name:v(r).b("fade"),onBeforeLeave:_.onClose,onAfterLeave:$[0]||($[0]=x=>_.$emit("destroy")),persisted:""},{default:ce(()=>[St(E("div",{id:_.id,ref_key:"messageRef",ref:o,class:P([v(r).b(),{[v(r).m(_.type)]:_.type&&!_.icon},v(r).is("center",_.center),v(r).is("closable",_.showClose),_.customClass]),style:ot(v(m)),role:"alert",onMouseenter:y,onMouseleave:g},[_.repeatNum>1?(S(),$e(v(OL),{key:0,value:_.repeatNum,type:v(u),class:P(v(r).e("badge"))},null,8,["value","type","class"])):ge("v-if",!0),v(d)?(S(),$e(v(rt),{key:1,class:P([v(r).e("icon"),v(c)])},{default:ce(()=>[(S(),$e(Vt(v(d))))]),_:1},8,["class"])):ge("v-if",!0),Oe(_.$slots,"default",{},()=>[_.dangerouslyUseHTMLString?(S(),I(lt,{key:1},[ge(" Caution here, message could've been compromised, never use user's input as message "),E("p",{class:P(v(r).e("content")),innerHTML:_.message},null,10,_nt)],2112)):(S(),I("p",{key:0,class:P(v(r).e("content"))},Ue(_.message),3))]),_.showClose?(S(),$e(v(rt),{key:2,class:P(v(r).e("closeBtn")),onClick:yt(w,["stop"])},{default:ce(()=>[se(v(s))]),_:1},8,["class","onClick"])):ge("v-if",!0)],46,wnt),[[Qt,a.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Snt=je(xnt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Cnt=1;const pB=t=>{const e=!t||wt(t)||Bn(t)||vt(t)?{message:t}:t,n={...oo,...e};if(!n.appendTo)n.appendTo=document.body;else if(wt(n.appendTo)){let s=document.querySelector(n.appendTo);Qa(s)||(s=document.body),n.appendTo=s}return n},knt=t=>{const e=Ci.indexOf(t);if(e===-1)return;Ci.splice(e,1);const{handler:n}=t;n.close()},Tnt=({appendTo:t,...e},n)=>{const{nextZIndex:s}=Ul(),r=`message_${Cnt++}`,o=e.onClose,a=document.createElement("div"),i={...e,zIndex:s()+e.zIndex,id:r,onClose:()=>{o==null||o(),knt(d)},onDestroy:()=>{ih(null,a)}},l=se(Snt,i,vt(i.message)||Bn(i.message)?{default:vt(i.message)?i.message:()=>i.message}:null);l.appContext=n||bh._context,ih(l,a),t.appendChild(a.firstElementChild);const u=l.component,d={id:r,vnode:l,vm:u,handler:{close:()=>{u.exposed.visible.value=!1}},props:l.component.props};return d},bh=(t={},e)=>{if(!Kt)return{close:()=>{}};if(Ct(N6.max)&&Ci.length>=N6.max)return{close:()=>{}};const n=pB(t);if(n.grouping&&Ci.length){const r=Ci.find(({vnode:o})=>{var a;return((a=o.props)==null?void 0:a.message)===n.message});if(r)return r.props.repeatNum+=1,r.props.type=n.type,r.handler}const s=Tnt(n,e);return Ci.push(s),s.handler};hB.forEach(t=>{bh[t]=(e={},n)=>{const s=pB(e);return bh({...s,type:t},n)}});function Nnt(t){for(const e of Ci)(!t||t===e.props.type)&&e.handler.close()}bh.closeAll=Nnt;bh._context=null;const mB=OP(bh,"$message"),Ent=ue({name:"ElMessageBox",directives:{TrapFocus:Lze},components:{ElButton:br,ElFocusTrap:$w,ElInput:Or,ElOverlay:uk,ElIcon:rt,...RC},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Qh},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{t:n}=nn(),s=Fe("message-box"),r=U(!1),{nextZIndex:o}=Ul(),a=on({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),i=A(()=>{const D=a.type;return{[s.bm("icon",D)]:D&&Gu[D]}}),l=ei(),u=ei(),c=ks(A(()=>t.buttonSize),{prop:!0,form:!0,formItem:!0}),d=A(()=>a.icon||Gu[a.type]||""),f=A(()=>!!a.message),h=U(),p=U(),m=U(),g=U(),y=U(),w=A(()=>a.confirmButtonClass);Me(()=>a.inputValue,async D=>{await nt(),t.boxType==="prompt"&&D!==null&&T()},{immediate:!0}),Me(()=>r.value,D=>{var z,B;D&&(t.boxType!=="prompt"&&(a.autofocus?m.value=(B=(z=y.value)==null?void 0:z.$el)!=null?B:h.value:m.value=h.value),a.zIndex=o()),t.boxType==="prompt"&&(D?nt().then(()=>{var V;g.value&&g.value.$el&&(a.autofocus?m.value=(V=N())!=null?V:h.value:m.value=h.value)}):(a.editorErrorMessage="",a.validateError=!1))});const b=A(()=>t.draggable);XP(h,p,b),Et(async()=>{await nt(),t.closeOnHashChange&&window.addEventListener("hashchange",_)}),ts(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",_)});function _(){!r.value||(r.value=!1,nt(()=>{a.action&&e("action",a.action)}))}const $=()=>{t.closeOnClickModal&&C(a.distinguishCancelAndClose?"close":"cancel")},x=BC($),k=D=>{if(a.inputType!=="textarea")return D.preventDefault(),C("confirm")},C=D=>{var z;t.boxType==="prompt"&&D==="confirm"&&!T()||(a.action=D,a.beforeClose?(z=a.beforeClose)==null||z.call(a,D,a,_):_())},T=()=>{if(t.boxType==="prompt"){const D=a.inputPattern;if(D&&!D.test(a.inputValue||""))return a.editorErrorMessage=a.inputErrorMessage||n("el.messagebox.error"),a.validateError=!0,!1;const z=a.inputValidator;if(typeof z=="function"){const B=z(a.inputValue);if(B===!1)return a.editorErrorMessage=a.inputErrorMessage||n("el.messagebox.error"),a.validateError=!0,!1;if(typeof B=="string")return a.editorErrorMessage=B,a.validateError=!0,!1}}return a.editorErrorMessage="",a.validateError=!1,!0},N=()=>{const D=g.value.$refs;return D.input||D.textarea},M=()=>{C("close")},R=()=>{t.closeOnPressEscape&&M()};return t.lockScroll&&ZP(r),tFe(r),{...Ps(a),ns:s,overlayEvent:x,visible:r,hasMessage:f,typeClass:i,contentId:l,inputId:u,btnSize:c,iconComponent:d,confirmButtonClasses:w,rootRef:h,focusStartRef:m,headerRef:p,inputRef:g,confirmRef:y,doClose:_,handleClose:M,onCloseRequested:R,handleWrapperClick:$,handleInputEnter:k,handleAction:C,t:n}}}),Int=["aria-label","aria-describedby"],Ant=["aria-label"],Ont=["id"];function Rnt(t,e,n,s,r,o){const a=pt("el-icon"),i=pt("close"),l=pt("el-input"),u=pt("el-button"),c=pt("el-focus-trap"),d=pt("el-overlay");return S(),$e(ms,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=f=>t.$emit("vanish")),persisted:""},{default:ce(()=>[St(se(d,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:ce(()=>[E("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:P(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...f)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...f)),onMousedown:e[9]||(e[9]=(...f)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...f)),onMouseup:e[10]||(e[10]=(...f)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...f))},[se(c,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:ce(()=>[E("div",{ref:"rootRef",class:P([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:ot(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=yt(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(S(),I("div",{key:0,ref:"headerRef",class:P(t.ns.e("header"))},[E("div",{class:P(t.ns.e("title"))},[t.iconComponent&&t.center?(S(),$e(a,{key:0,class:P([t.ns.e("status"),t.typeClass])},{default:ce(()=>[(S(),$e(Vt(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),E("span",null,Ue(t.title),1)],2),t.showClose?(S(),I("button",{key:0,type:"button",class:P(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=qt(yt(f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[se(a,{class:P(t.ns.e("close"))},{default:ce(()=>[se(i)]),_:1},8,["class"])],42,Ant)):ge("v-if",!0)],2)):ge("v-if",!0),E("div",{id:t.contentId,class:P(t.ns.e("content"))},[E("div",{class:P(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(S(),$e(a,{key:0,class:P([t.ns.e("status"),t.typeClass])},{default:ce(()=>[(S(),$e(Vt(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),t.hasMessage?(S(),I("div",{key:1,class:P(t.ns.e("message"))},[Oe(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(S(),$e(Vt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(S(),$e(Vt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:ce(()=>[Jt(Ue(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):ge("v-if",!0)],2),St(E("div",{class:P(t.ns.e("input"))},[se(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=f=>t.inputValue=f),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:P({invalid:t.validateError}),onKeydown:qt(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),E("div",{class:P(t.ns.e("errormsg")),style:ot({visibility:t.editorErrorMessage?"visible":"hidden"})},Ue(t.editorErrorMessage),7)],2),[[Qt,t.showInput]])],10,Ont),E("div",{class:P(t.ns.e("btns"))},[t.showCancelButton?(S(),$e(u,{key:0,loading:t.cancelButtonLoading,class:P([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=f=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=qt(yt(f=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:ce(()=>[Jt(Ue(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):ge("v-if",!0),St(se(u,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:P([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=f=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=qt(yt(f=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:ce(()=>[Jt(Ue(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Qt,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Int)]),_:3},8,["z-index","overlay-class","mask"]),[[Qt,t.visible]])]),_:3})}var Dnt=je(Ent,[["render",Rnt],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const X0=new Map,Fnt=t=>{let e=document.body;return t.appendTo&&(wt(t.appendTo)&&(e=document.querySelector(t.appendTo)),Qa(t.appendTo)&&(e=t.appendTo),Qa(e)||(e=document.body)),e},Mnt=(t,e,n=null)=>{const s=se(Dnt,t,vt(t.message)||Bn(t.message)?{default:vt(t.message)?t.message:()=>t.message}:null);return s.appContext=n,ih(s,e),Fnt(t).appendChild(e.firstElementChild),s.component},Pnt=()=>document.createElement("div"),Lnt=(t,e)=>{const n=Pnt();t.onVanish=()=>{ih(null,n),X0.delete(r)},t.onAction=o=>{const a=X0.get(r);let i;t.showInput?i={value:r.inputValue,action:o}:i=o,t.callback?t.callback(i,s.proxy):o==="cancel"||o==="close"?t.distinguishCancelAndClose&&o!=="cancel"?a.reject("close"):a.reject("cancel"):a.resolve(i)};const s=Mnt(t,n,e),r=s.proxy;for(const o in t)Ut(t,o)&&!Ut(r.$props,o)&&(r[o]=t[o]);return r.visible=!0,r};function tp(t,e=null){if(!Kt)return Promise.reject();let n;return wt(t)||Bn(t)?t={message:t}:n=t.callback,new Promise((s,r)=>{const o=Lnt(t,e??tp._context);X0.set(o,{options:t,callback:n,resolve:s,reject:r})})}const znt=["alert","confirm","prompt"],Bnt={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};znt.forEach(t=>{tp[t]=Vnt(t)});function Vnt(t){return(e,n,s,r)=>{let o="";return Bt(n)?(s=n,o=""):er(n)?o="":o=n,tp(Object.assign({title:o,message:e,type:"",...Bnt[t]},s,{boxType:t}),r)}}tp.close=()=>{X0.forEach((t,e)=>{e.doClose()}),X0.clear()};tp._context=null;const hu=tp;hu.install=t=>{hu._context=t._context,t.config.globalProperties.$msgbox=hu,t.config.globalProperties.$messageBox=hu,t.config.globalProperties.$alert=hu.alert,t.config.globalProperties.$confirm=hu.confirm,t.config.globalProperties.$prompt=hu.prompt};const Hnt=hu,gB=["success","info","warning","error"],Wnt=qe({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:En},id:{type:String,default:""},message:{type:Se([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Se(Function),default:()=>{}},onClose:{type:Se(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...gB,""],default:""},zIndex:{type:Number,default:0}}),Unt={destroy:()=>!0},Gnt=["id"],jnt=["textContent"],Knt={key:0},qnt=["innerHTML"],Xnt=ue({name:"ElNotification"}),Ynt=ue({...Xnt,props:Wnt,emits:Unt,setup(t,{expose:e}){const n=t,s=Fe("notification"),{Close:r}=IP,o=U(!1);let a;const i=A(()=>{const g=n.type;return g&&Gu[n.type]?s.m(g):""}),l=A(()=>n.type&&Gu[n.type]||n.icon),u=A(()=>n.position.endsWith("right")?"right":"left"),c=A(()=>n.position.startsWith("top")?"top":"bottom"),d=A(()=>({[c.value]:`${n.offset}px`,zIndex:n.zIndex}));function f(){n.duration>0&&({stop:a}=_d(()=>{o.value&&p()},n.duration))}function h(){a==null||a()}function p(){o.value=!1}function m({code:g}){g===ut.delete||g===ut.backspace?h():g===ut.esc?o.value&&p():f()}return Et(()=>{f(),o.value=!0}),Rn(document,"keydown",m),e({visible:o,close:p}),(g,y)=>(S(),$e(ms,{name:v(s).b("fade"),onBeforeLeave:g.onClose,onAfterLeave:y[1]||(y[1]=w=>g.$emit("destroy")),persisted:""},{default:ce(()=>[St(E("div",{id:g.id,class:P([v(s).b(),g.customClass,v(u)]),style:ot(v(d)),role:"alert",onMouseenter:h,onMouseleave:f,onClick:y[0]||(y[0]=(...w)=>g.onClick&&g.onClick(...w))},[v(l)?(S(),$e(v(rt),{key:0,class:P([v(s).e("icon"),v(i)])},{default:ce(()=>[(S(),$e(Vt(v(l))))]),_:1},8,["class"])):ge("v-if",!0),E("div",{class:P(v(s).e("group"))},[E("h2",{class:P(v(s).e("title")),textContent:Ue(g.title)},null,10,jnt),St(E("div",{class:P(v(s).e("content")),style:ot(g.title?void 0:{margin:0})},[Oe(g.$slots,"default",{},()=>[g.dangerouslyUseHTMLString?(S(),I(lt,{key:1},[ge(" Caution here, message could've been compromised, never use user's input as message "),E("p",{innerHTML:g.message},null,8,qnt)],2112)):(S(),I("p",Knt,Ue(g.message),1))])],6),[[Qt,g.message]]),g.showClose?(S(),$e(v(rt),{key:0,class:P(v(s).e("closeBtn")),onClick:yt(p,["stop"])},{default:ce(()=>[se(v(r))]),_:1},8,["class","onClick"])):ge("v-if",!0)],2)],46,Gnt),[[Qt,o.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Znt=je(Ynt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const Wy={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},ox=16;let Jnt=1;const wh=function(t={},e=null){if(!Kt)return{close:()=>{}};(typeof t=="string"||Bn(t))&&(t={message:t});const n=t.position||"top-right";let s=t.offset||0;Wy[n].forEach(({vm:d})=>{var f;s+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+ox}),s+=ox;const{nextZIndex:r}=Ul(),o=`notification_${Jnt++}`,a=t.onClose,i={...t,zIndex:r(),offset:s,id:o,onClose:()=>{Qnt(o,n,a)}};let l=document.body;Qa(t.appendTo)?l=t.appendTo:wt(t.appendTo)&&(l=document.querySelector(t.appendTo)),Qa(l)||(l=document.body);const u=document.createElement("div"),c=se(Znt,i,Bn(i.message)?{default:()=>i.message}:null);return c.appContext=e??wh._context,c.props.onDestroy=()=>{ih(null,u)},ih(c,u),Wy[n].push({vm:c}),l.appendChild(u.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};gB.forEach(t=>{wh[t]=(e={})=>((typeof e=="string"||Bn(e))&&(e={message:e}),wh({...e,type:t}))});function Qnt(t,e,n){const s=Wy[e],r=s.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===t});if(r===-1)return;const{vm:o}=s[r];if(!o)return;n==null||n(o);const a=o.el.offsetHeight,i=e.split("-")[0];s.splice(r,1);const l=s.length;if(!(l<1))for(let u=r;u<l;u++){const{el:c,component:d}=s[u].vm,f=Number.parseInt(c.style[i],10)-a-ox;d.props.offset=f}}function est(){for(const t of Object.values(Wy))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}wh.closeAll=est;wh._context=null;const tst=OP(wh,"$notify");var nst=[cnt,mnt,mB,Hnt,tst,i7],sst=zFe([...snt,...nst]),Zo={},cc={};const rst=1e-7,ost=1e-4;let Pk=class{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}},Tw=class{refCount(e){return ro("refCount")}incRef(e){return ro("incRef")}timerAvailable(){return!0}time(e){return ro("time")}read(e){return ro("read")}readSync(e){return ro("readSync")}readToGPU(e,n){return ro("readToGPU")}numDataIds(){return ro("numDataIds")}disposeData(e,n){return ro("disposeData")}write(e,n,s){return ro("write")}move(e,n,s,r,o){return ro("move")}createTensorFromTexture(e,n,s){return ro("createTensorFromTexture")}memory(){return ro("memory")}floatPrecision(){return ro("floatPrecision")}epsilon(){return this.floatPrecision()===32?rst:ost}dispose(){return ro("dispose")}};function ro(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Lk(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,hl(t,e,n)}function ast(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,s=0;for(;n>0;)s=Math.random()*n|0,n--,hl(t,n,s),hl(e,n,s)}function qu(t,e,n){return Math.max(t,Math.min(e,n))}function Nw(t){return t%2===0?t:t+1}function hl(t,e,n){const s=t[e];t[e]=t[n],t[n]=s}function vB(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function ist(t,e){const n=Math.random();return e*n+(1-n)*t}function lst(t,e){let n=0;for(let s=0;s<t.length;s++){const r=Number(t[s])-Number(e[s]);n+=r*r}return n}function q(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function lr(t,e,n=""){q(hn(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function ef(t){q(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Tl(t,e=[],n=!1){if(e==null&&(e=[]),Array.isArray(t)||Zs(t)&&!n)for(let s=0;s<t.length;++s)Tl(t[s],e,n);else e.push(t);return e}function Ge(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function ust(t){return t.length===0}function hn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Nd(t){return t%1===0}function cst(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function Uy(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function dst(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return Lk(e),e}function id(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function ax(t,e=r=>0,n,s){return new Promise((r,o)=>{let a=0;const i=()=>{if(t()){r();return}a++;const l=e(a);if(n!=null&&a>=n){o();return}s!=null?s(i,l):setTimeout(i,l)};i()})}function zk(t,e){let n=1,s=-1;for(let o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(t[o]===-1){if(s!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${s} and dim ${o}`);s=o}else if(t[o]<0)throw Error(`Shapes can not be < 0. Found ${t[o]} at dim ${o}`);if(s===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const r=t.slice();return r[s]=e/n,r}function un(t,e){const n=e.length;return t=t==null?e.map((s,r)=>r):[].concat(t),q(t.every(s=>s>=-n&&s<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),q(t.every(s=>Nd(s)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(s=>s<0?n+s:s)}function Kl(t,e){const n=[],s=[],r=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||r?null:un(e,t).sort();let a=0;for(let i=0;i<t.length;++i){if(o!=null){if(o[a]===i&&t[i]!==1)throw new Error(`Can't squeeze axis ${i} since its dim '${t[i]}' is not 1`);(o[a]==null||o[a]>i)&&t[i]===1&&(n.push(t[i]),s.push(i)),o[a]<=i&&a++}t[i]!==1&&(n.push(t[i]),s.push(i))}return{newShape:n,keptDims:s}}function zs(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else throw new Error(`Unknown data type ${t}`);return n}function gs(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function yB(t,e){for(let n=0;n<t.length;n++){const s=t[n];if(isNaN(s)||!isFinite(s))throw Error(`A tensor of type ${e} being uploaded contains ${s}.`)}}function bB(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function Bk(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Zs(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function Gy(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function wB(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function ki(t){return typeof t=="string"||t instanceof String}function _B(t){return typeof t=="boolean"}function jy(t){return typeof t=="number"}function np(t){return Array.isArray(t)?np(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":jy(t)?"float32":ki(t)?"string":_B(t)?"bool":"float32"}function Xu(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Ky(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function Mt(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let s=e-3;s>=0;--s)n[s]=n[s+1]*t[s+1];return n}function $B(t,e,n,s=!1){const r=new Array;if(e.length===1){const o=e[0]*(s?2:1);for(let a=0;a<o;a++)r[a]=n[t+a]}else{const o=e[0],a=e.slice(1),i=a.reduce((l,u)=>l*u)*(s?2:1);for(let l=0;l<o;l++)r[l]=$B(t+l*i,a,n,s)}return r}function Uo(t,e,n=!1){if(t.length===0)return e[0];const s=t.reduce((r,o)=>r*o)*(n?2:1);if(s===0)return[];if(s!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return $B(0,t,e,n)}function Ew(t,e){const n=or(t,e);for(let s=0;s<n.length;s++)n[s]=1;return n}function or(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function Vk(t,e){const n=t.reduce((s,r)=>s*r,1);if(e==null||e==="float32")return Uo(t,new Float32Array(n));if(e==="int32")return Uo(t,new Int32Array(n));if(e==="bool")return Uo(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Eo(t){t.forEach(e=>{q(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function Ka(t,e,n){if(e===0)return 0;if(e===1)return t[0];let s=t[t.length-1];for(let r=0;r<t.length-1;++r)s+=n[r]*t[r];return s}function tf(t,e,n){if(e===0)return[];if(e===1)return[t];const s=new Array(e);for(let r=0;r<s.length-1;++r)s[r]=Math.floor(t/n[r]),t-=s[r]*n[r];return s[s.length-1]=t,s}function Yu(t){return t&&t.then&&typeof t.then=="function"}const RR="tfjsflags";let xB=class{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=fst,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Be().getBool("IS_TEST")||Be().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,s){if(this.flagRegistry[e]={evaluationFn:n,setHook:s},this.urlFlags[e]!=null){const r=this.urlFlags[e];Be().getBool("IS_TEST")||Be().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${r}.`),this.set(e,r)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Yu(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);RR in e&&e[RR].split(",").forEach(s=>{const[r,o]=s.split(":");this.urlFlags[r]=pst(r,o)})}};function fst(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...s)=>(hst(e,s[0],s[1]),s.join("="))),e}function hst(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function pst(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}function Be(){return Hk}let Hk=null;function mst(t){Hk=t}let d$;function SB(){if(d$==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");d$=t}return d$}function gst(){const t=SB();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function Wk(t,e){const n=gst();if(n.has(t))return n.get(t);{const s=e();return n.set(t,s),n.get(t)}}const Vg="Abs",sp="Acos",rp="Acosh",nf="Add",Hg="AddN",Iw="All",Aw="Any",Wg="ArgMax",Ug="ArgMin",op="Asin",ap="Asinh",ip="Atan",lp="Atanh",up="Atan2",Gg="AvgPool",Ow="AvgPoolGrad",jg="AvgPool3D",Rw="AvgPool3DGrad",Kg="BatchMatMul",qg="BatchToSpaceND",Dw="Bincount",CB="BroadcastTo",Fw="BroadcastArgs",cp="Cast",dp="Ceil",fp="ClipByValue",Mw="Complex",Xg="ComplexAbs",Yg="Concat",Zg="Conv2D",Pw="Conv2DBackpropFilter",Jg="Conv2DBackpropInput",Qg="Conv3D",Lw="Conv3DBackpropFilterV2",zw="Conv3DBackpropInputV2",hp="Cos",pp="Cosh",Bw="Cumprod",e1="Cumsum",Vw="CropAndResize",Hw="DenseBincount",Ww="DepthToSpace",t1="DepthwiseConv2dNative",Uw="DepthwiseConv2dNativeBackpropFilter",Gw="DepthwiseConv2dNativeBackpropInput",jw="Diag",n1="Dilation2D",qy="Dilation2DBackpropInput",Xy="Dilation2DBackpropFilter",mp="RealDiv",Kw="Einsum",gp="Elu",qw="EluGrad",vp="Erf",s1="Equal",yp="Exp",r1="ExpandDims",bp="Expm1",Xw="FFT",Yw="Fill",Zw="FlipLeftRight",wp="Floor",_p="FloorDiv",o1="FusedBatchNorm",a1="GatherV2",Jw="GatherNd",i1="Greater",$p="GreaterEqual",xp="Identity",Qw="IFFT",e_="Imag",Sp="IsFinite",Cp="IsInf",kp="IsNan",l1="LeakyRelu",u1="Less",c1="LessEqual",t_="LinSpace",Tp="Log",Np="Log1p",d1="LogicalAnd",f1="LogicalNot",h1="LogicalOr",vst="LogicalXor",kB="LogSoftmax",yst="LowerBound",p1="LRN",n_="LRNGrad",m1="Max",Ep="Maximum",g1="MaxPool",s_="MaxPoolGrad",v1="MaxPool3D",r_="MaxPool3DGrad",o_="MaxPoolWithArgmax",y1="Mean",b1="Min",Ip="Minimum",w1="MirrorPad",Ap="Mod",a_="Multinomial",Op="Multiply",_1="Neg",$1="NotEqual",i_="NonMaxSuppressionV3",l_="NonMaxSuppressionV4",u_="NonMaxSuppressionV5",x1="OnesLike",S1="OneHot",C1="Pack",k1="PadV2",bst="Pool",Rp="Pow",T1="Prelu",N1="Prod",c_="RaggedGather",d_="RaggedRange",f_="RaggedTensorToTensor",h_="Range",p_="Real",Dp="Reciprocal",Fp="Relu",E1="Reshape",I1="ResizeNearestNeighbor",m_="ResizeNearestNeighborGrad",A1="ResizeBilinear",g_="ResizeBilinearGrad",Mp="Relu6",O1="Reverse",Pp="Round",Lp="Rsqrt",v_="ScatterNd",y_="SearchSorted",R1="Select",zp="Selu",D1="Slice",Bp="Sin",Vp="Sinh",Hp="Sign",Wp="Sigmoid",Up="Softplus",Gp="Sqrt",F1="Sum",M1="SpaceToBatchND",P1="SplitV",L1="Softmax",b_="SparseFillEmptyRows",w_="SparseReshape",__="SparseSegmentMean",$_="SparseSegmentSum",x_="SparseToDense",jp="SquaredDifference",S_="Square",C_="StridedSlice",k_="StringNGrams",T_="StringSplit",N_="StringToHashBucketFast",Kp="Sub",qp="Tan",Xp="Tanh",Yp="Tile",E_="TopK",I_="Transform",ld="Transpose",A_="Unique",z1="Unpack",B1="UnsortedSegmentSum",wst="UpperBound",V1="ZerosLike",Zp="Step",Yy="FromPixels",O_="RotateWithOffset",Y0="_FusedMatMul",Z0="FusedConv2D",J0="FusedDepthwiseConv2D";function Fo(...t){Be().getBool("IS_TEST")||Be().getBool("PROD")||console.warn(...t)}function _st(...t){Be().getBool("IS_TEST")||Be().getBool("PROD")||console.log(...t)}const _h=Wk("kernelRegistry",()=>new Map),Q0=Wk("gradRegistry",()=>new Map);function Zy(t,e){const n=Uk(t,e);return _h.get(n)}function ix(t){return Q0.get(t)}function Jy(t){const e=_h.entries(),n=[];for(;;){const{done:s,value:r}=e.next();if(s)break;const[o,a]=r,[i]=o.split("_");i===t&&n.push(a)}return n}function R_(t){const{kernelName:e,backendName:n}=t,s=Uk(e,n);_h.has(s)&&Fo(`The kernel '${e}' for backend '${n}' is already registered`),_h.set(s,t)}function TB(t){const{kernelName:e}=t;Q0.has(e)&&Be().getBool("DEBUG")&&Fo(`Overriding the gradient for '${e}'`),Q0.set(e,t)}function $st(t,e){const n=Uk(t,e);if(!_h.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);_h.delete(n)}function xst(t){if(!Q0.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);Q0.delete(t)}function Sst(t,e){Jy(t).forEach(s=>{const r=Object.assign({},s,{backendName:e});R_(r)})}function Uk(t,e){return`${e}_${t}`}var Qy=Yn,da=null;try{da=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Yn(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Yn.prototype.__isLong__;Object.defineProperty(Yn.prototype,"__isLong__",{value:!0});function Io(t){return(t&&t.__isLong__)===!0}Yn.isLong=Io;var DR={},FR={};function sf(t,e){var n,s,r;return e?(t>>>=0,(r=0<=t&&t<256)&&(s=FR[t],s)?s:(n=Zn(t,(t|0)<0?-1:0,!0),r&&(FR[t]=n),n)):(t|=0,(r=-128<=t&&t<128)&&(s=DR[t],s)?s:(n=Zn(t,t<0?-1:0,!1),r&&(DR[t]=n),n))}Yn.fromInt=sf;function fa(t,e){if(isNaN(t))return e?Jc:ha;if(e){if(t<0)return Jc;if(t>=NB)return AB}else{if(t<=-PR)return ho;if(t+1>=PR)return IB}return t<0?fa(-t,e).neg():Zn(t%$h|0,t/$h|0,e)}Yn.fromNumber=fa;function Zn(t,e,n){return new Yn(t,e,n)}Yn.fromBits=Zn;var eb=Math.pow;function Gk(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return ha;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var s;if((s=t.indexOf("-"))>0)throw Error("interior hyphen");if(s===0)return Gk(t.substring(1),e,n).neg();for(var r=fa(eb(n,8)),o=ha,a=0;a<t.length;a+=8){var i=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+i),n);if(i<8){var u=fa(eb(n,i));o=o.mul(u).add(fa(l))}else o=o.mul(r),o=o.add(fa(l))}return o.unsigned=e,o}Yn.fromString=Gk;function ii(t,e){return typeof t=="number"?fa(t,e):typeof t=="string"?Gk(t,e):Zn(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Yn.fromValue=ii;var MR=1<<16,Cst=1<<24,$h=MR*MR,NB=$h*$h,PR=NB/2,LR=sf(Cst),ha=sf(0);Yn.ZERO=ha;var Jc=sf(0,!0);Yn.UZERO=Jc;var Lf=sf(1);Yn.ONE=Lf;var EB=sf(1,!0);Yn.UONE=EB;var lx=sf(-1);Yn.NEG_ONE=lx;var IB=Zn(-1,2147483647,!1);Yn.MAX_VALUE=IB;var AB=Zn(-1,-1,!0);Yn.MAX_UNSIGNED_VALUE=AB;var ho=Zn(0,-2147483648,!1);Yn.MIN_VALUE=ho;var mt=Yn.prototype;mt.toInt=function(){return this.unsigned?this.low>>>0:this.low};mt.toNumber=function(){return this.unsigned?(this.high>>>0)*$h+(this.low>>>0):this.high*$h+(this.low>>>0)};mt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ho)){var n=fa(e),s=this.div(n),r=s.mul(n).sub(this);return s.toString(e)+r.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=fa(eb(e,6),this.unsigned),a=this,i="";;){var l=a.div(o),u=a.sub(l.mul(o)).toInt()>>>0,c=u.toString(e);if(a=l,a.isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}};mt.getHighBits=function(){return this.high};mt.getHighBitsUnsigned=function(){return this.high>>>0};mt.getLowBits=function(){return this.low};mt.getLowBitsUnsigned=function(){return this.low>>>0};mt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ho)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1};mt.isZero=function(){return this.high===0&&this.low===0};mt.eqz=mt.isZero;mt.isNegative=function(){return!this.unsigned&&this.high<0};mt.isPositive=function(){return this.unsigned||this.high>=0};mt.isOdd=function(){return(this.low&1)===1};mt.isEven=function(){return(this.low&1)===0};mt.equals=function(e){return Io(e)||(e=ii(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};mt.eq=mt.equals;mt.notEquals=function(e){return!this.eq(e)};mt.neq=mt.notEquals;mt.ne=mt.notEquals;mt.lessThan=function(e){return this.comp(e)<0};mt.lt=mt.lessThan;mt.lessThanOrEqual=function(e){return this.comp(e)<=0};mt.lte=mt.lessThanOrEqual;mt.le=mt.lessThanOrEqual;mt.greaterThan=function(e){return this.comp(e)>0};mt.gt=mt.greaterThan;mt.greaterThanOrEqual=function(e){return this.comp(e)>=0};mt.gte=mt.greaterThanOrEqual;mt.ge=mt.greaterThanOrEqual;mt.compare=function(e){if(Io(e)||(e=ii(e)),this.eq(e))return 0;var n=this.isNegative(),s=e.isNegative();return n&&!s?-1:!n&&s?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};mt.comp=mt.compare;mt.negate=function(){return!this.unsigned&&this.eq(ho)?ho:this.not().add(Lf)};mt.neg=mt.negate;mt.add=function(e){Io(e)||(e=ii(e));var n=this.high>>>16,s=this.high&65535,r=this.low>>>16,o=this.low&65535,a=e.high>>>16,i=e.high&65535,l=e.low>>>16,u=e.low&65535,c=0,d=0,f=0,h=0;return h+=o+u,f+=h>>>16,h&=65535,f+=r+l,d+=f>>>16,f&=65535,d+=s+i,c+=d>>>16,d&=65535,c+=n+a,c&=65535,Zn(f<<16|h,c<<16|d,this.unsigned)};mt.subtract=function(e){return Io(e)||(e=ii(e)),this.add(e.neg())};mt.sub=mt.subtract;mt.multiply=function(e){if(this.isZero())return ha;if(Io(e)||(e=ii(e)),da){var n=da.mul(this.low,this.high,e.low,e.high);return Zn(n,da.get_high(),this.unsigned)}if(e.isZero())return ha;if(this.eq(ho))return e.isOdd()?ho:ha;if(e.eq(ho))return this.isOdd()?ho:ha;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(LR)&&e.lt(LR))return fa(this.toNumber()*e.toNumber(),this.unsigned);var s=this.high>>>16,r=this.high&65535,o=this.low>>>16,a=this.low&65535,i=e.high>>>16,l=e.high&65535,u=e.low>>>16,c=e.low&65535,d=0,f=0,h=0,p=0;return p+=a*c,h+=p>>>16,p&=65535,h+=o*c,f+=h>>>16,h&=65535,h+=a*u,f+=h>>>16,h&=65535,f+=r*c,d+=f>>>16,f&=65535,f+=o*u,d+=f>>>16,f&=65535,f+=a*l,d+=f>>>16,f&=65535,d+=s*c+r*u+o*l+a*i,d&=65535,Zn(h<<16|p,d<<16|f,this.unsigned)};mt.mul=mt.multiply;mt.divide=function(e){if(Io(e)||(e=ii(e)),e.isZero())throw Error("division by zero");if(da){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?da.div_u:da.div_s)(this.low,this.high,e.low,e.high);return Zn(n,da.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Jc:ha;var s,r,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Jc;if(e.gt(this.shru(1)))return EB;o=Jc}else{if(this.eq(ho)){if(e.eq(Lf)||e.eq(lx))return ho;if(e.eq(ho))return Lf;var a=this.shr(1);return s=a.div(e).shl(1),s.eq(ha)?e.isNegative()?Lf:lx:(r=this.sub(e.mul(s)),o=s.add(r.div(e)),o)}else if(e.eq(ho))return this.unsigned?Jc:ha;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=ha}for(r=this;r.gte(e);){s=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(s)/Math.LN2),l=i<=48?1:eb(2,i-48),u=fa(s),c=u.mul(e);c.isNegative()||c.gt(r);)s-=l,u=fa(s,this.unsigned),c=u.mul(e);u.isZero()&&(u=Lf),o=o.add(u),r=r.sub(c)}return o};mt.div=mt.divide;mt.modulo=function(e){if(Io(e)||(e=ii(e)),da){var n=(this.unsigned?da.rem_u:da.rem_s)(this.low,this.high,e.low,e.high);return Zn(n,da.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};mt.mod=mt.modulo;mt.rem=mt.modulo;mt.not=function(){return Zn(~this.low,~this.high,this.unsigned)};mt.and=function(e){return Io(e)||(e=ii(e)),Zn(this.low&e.low,this.high&e.high,this.unsigned)};mt.or=function(e){return Io(e)||(e=ii(e)),Zn(this.low|e.low,this.high|e.high,this.unsigned)};mt.xor=function(e){return Io(e)||(e=ii(e)),Zn(this.low^e.low,this.high^e.high,this.unsigned)};mt.shiftLeft=function(e){return Io(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Zn(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Zn(0,this.low<<e-32,this.unsigned)};mt.shl=mt.shiftLeft;mt.shiftRight=function(e){return Io(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Zn(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Zn(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};mt.shr=mt.shiftRight;mt.shiftRightUnsigned=function(e){if(Io(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var s=this.low;return Zn(s>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Zn(n,0,this.unsigned):Zn(n>>>e-32,0,this.unsigned)};mt.shru=mt.shiftRightUnsigned;mt.shr_u=mt.shiftRightUnsigned;mt.toSigned=function(){return this.unsigned?Zn(this.low,this.high,!1):this};mt.toUnsigned=function(){return this.unsigned?this:Zn(this.low,this.high,!0)};mt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};mt.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};mt.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Yn.fromBytes=function(e,n,s){return s?Yn.fromBytesLE(e,n):Yn.fromBytesBE(e,n)};Yn.fromBytesLE=function(e,n){return new Yn(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Yn.fromBytesBE=function(e,n){return new Yn(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const OB=wQ({__proto__:null,default:Qy},[Qy]);const Vc=Qy||OB;function H1(t){return Vc.fromString(t,!0,16)}const RB=H1("c3a5c85c97cb3127"),Rc=H1("b492b66fbe98f273"),Sr=H1("9ae16a3b2f90404f");function ux(t){return t.xor(t.shru(47))}function DB(t,e,n){const s=t.slice(e,e+n);return Vc.fromBytes(Array.from(s),!0,!0)}function Vn(t,e){return DB(t,e,8)}function zR(t,e){return DB(t,e,4)}function Bs(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Fu(t,e,n=H1("9ddfea08eb382d69")){let s=t.xor(e).mul(n);s=s.xor(s.shru(47));let r=e.xor(s).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function kst(t,e,n,s,r,o){r=r.add(t),o=Bs(o.add(r).add(s),21);const a=r;return r=r.add(e),r=r.add(n),o=o.add(Bs(r,44)),[r.add(s),o.add(a)]}function pv(t,e,n,s){return kst(Vn(t,e),Vn(t,e+8),Vn(t,e+16),Vn(t,e+24),n,s)}function Tst(t,e=t.length){if(e>=8){const n=Sr.add(e*2),s=Vn(t,0).add(Sr),r=Vn(t,e-8),o=Bs(r,37).mul(n).add(s),a=Bs(s,25).add(r).mul(n);return Fu(o,a,n)}if(e>=4){const n=Sr.add(e*2),s=zR(t,0);return Fu(s.shl(3).add(e),zR(t,e-4),n)}if(e>0){const n=t[0],s=t[e>>1],r=t[e-1],o=n+(s<<8),a=e+(r<<2);return ux(Sr.mul(o).xor(RB.mul(a))).mul(Sr)}return Sr}function Nst(t,e=t.length){const n=Sr.add(e*2),s=Vn(t,0).mul(Rc),r=Vn(t,8),o=Vn(t,e-8).mul(n),a=Vn(t,e-16).mul(Sr);return Fu(Bs(s.add(r),43).add(Bs(o,30)).add(a),s.add(Bs(r.add(Sr),18)).add(o),n)}function Est(t,e=t.length){const n=Sr.add(e*2),s=Vn(t,0).mul(Sr),r=Vn(t,8),o=Vn(t,e-8).mul(n),a=Vn(t,e-16).mul(Sr),i=Bs(s.add(r),43).add(Bs(o,30)).add(a),l=Fu(i,s.add(Bs(r.add(Sr),18)).add(o),n),u=Vn(t,16).mul(n),c=Vn(t,24),d=i.add(Vn(t,e-32)).mul(n),f=l.add(Vn(t,e-24)).mul(n);return Fu(Bs(u.add(c),43).add(Bs(d,30)).add(f),u.add(Bs(c.add(s),18)).add(d),n)}function FB(t,e=t.length){const n=Vc.fromNumber(81,!0);if(e<=32)return e<=16?Tst(t,e):Nst(t,e);if(e<=64)return Est(t,e);let s=n,r=n.mul(Rc).add(113),o=ux(r.mul(Sr).add(113)).mul(Sr),a=[Vc.UZERO,Vc.UZERO],i=[Vc.UZERO,Vc.UZERO];s=s.mul(Sr).add(Vn(t,0));let l=0;const u=(e-1>>6)*64,c=u+(e-1&63)-63;do s=Bs(s.add(r).add(a[0]).add(Vn(t,l+8)),37).mul(Rc),r=Bs(r.add(a[1]).add(Vn(t,l+48)),42).mul(Rc),s=s.xor(i[1]),r=r.add(a[0]).add(Vn(t,l+40)),o=Bs(o.add(i[0]),33).mul(Rc),a=pv(t,l,a[1].mul(Rc),s.add(i[0])),i=pv(t,l+32,o.add(i[1]),r.add(Vn(t,l+16))),[o,s]=[s,o],l+=64;while(l!==u);const d=Rc.add(o.and(255).shl(1));return l=c,i[0]=i[0].add(e-1&63),a[0]=a[0].add(i[0]),i[0]=i[0].add(a[0]),s=Bs(s.add(r).add(a[0]).add(Vn(t,l+8)),37).mul(d),r=Bs(r.add(a[1]).add(Vn(t,l+48)),42).mul(d),s=s.xor(i[1].mul(9)),r=r.add(a[0].mul(9).add(Vn(t,l+40))),o=Bs(o.add(i[0]),33).mul(d),a=pv(t,l,a[1].mul(d),s.add(i[0])),i=pv(t,l+32,o.add(i[1]),r.add(Vn(t,l+16))),[o,s]=[s,o],Fu(Fu(a[0],i[0],d).add(ux(r).mul(RB)).add(o),Fu(a[1],i[1],d).add(s),d)}function ql(t,e){return e==="string"?Oi(t):dc([t],e)}function Ist(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function dc(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Tl(t)),Be().getBool("DEBUG")&&yB(t,e),Ist(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let s=0;s<n.length;++s)Math.round(t[s])!==0&&(n[s]=1);return n}else throw new Error(`Unknown data type ${e}`)}function Ys(){return Be().platform.now()}function MB(t,e){return Be().platform.fetch(t,e)}function Oi(t,e="utf-8"){return e=e||"utf-8",Be().platform.encode(t,e)}function Nl(t,e="utf-8"){return e=e||"utf-8",Be().platform.decode(t,e)}const Ast=Object.freeze(Object.defineProperty({__proto__:null,createScalarValue:ql,toTypedArray:dc,now:Ys,fetch:MB,encodeString:Oi,decodeString:Nl,shuffle:Lk,shuffleCombo:ast,clamp:qu,nearestLargerEven:Nw,swap:hl,sum:vB,randUniform:ist,distSquared:lst,assert:q,assertShapesMatch:lr,assertNonNull:ef,flatten:Tl,sizeFromShape:Ge,isScalarShape:ust,arraysEqual:hn,isInt:Nd,tanh:cst,sizeToSquarishShape:Uy,createShuffledIndices:dst,rightPad:id,repeatedTry:ax,inferFromImplicitShape:zk,parseAxisParam:un,squeezeShape:Kl,getTypedArrayFromDType:zs,getArrayFromDType:gs,checkConversionForErrors:yB,isValidDtype:bB,hasEncodingLoss:Bk,isTypedArray:Zs,bytesPerElement:Gy,bytesFromStringArray:wB,isString:ki,isBoolean:_B,isNumber:jy,inferDtype:np,isFunction:Xu,nearestDivisor:Ky,computeStrides:Mt,toNestedArray:Uo,makeOnesTypedArray:Ew,makeZerosTypedArray:or,makeZerosNestedTypedArray:Vk,assertNonNegativeIntegerDimensions:Eo,locToIndex:Ka,indexToLoc:tf,isPromise:Yu,hexToLong:H1,fingerPrint64:FB},Symbol.toStringTag,{value:"Module"}));let Ost=class{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new Dst)}profileKernel(e,n,s){let r;const o=()=>{r=s()};let a;const i=Ys();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();for(const u of r)u.dataSync();a=Promise.resolve({kernelMs:Ys()-i})}if(Be().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<r.length;u++){const c=r[u];c.data().then(d=>{Rst(d,c.dtype,e)})}return{kernelName:e,outputs:r,inputs:n,timeMs:a.then(u=>u.kernelMs),extraInfo:a.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:s,timeMs:r,inputs:o,extraInfo:a}=e;s.forEach(i=>{Promise.all([i.data(),r,a]).then(l=>{this.logger.logKernelProfile(n,i,l[0],l[1],o,l[2])})})}};function Rst(t,e,n){if(e!=="float32")return!1;for(let s=0;s<t.length;s++){const r=t[s];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${n}'`),!0}return!1}let Dst=class{logKernelProfile(e,n,s,r,o,a){const i=typeof r=="number"?id(`${r}ms`,9):r.error,l=id(e,25),u=n.rank,c=n.size,d=id(n.shape.toString(),14);let f="";for(const h in o){const p=o[h];if(p!=null){const m=p.shape||n.shape,g=m.length;f+=`${h}: ${g}D ${g>0?m:""} `}}console.log(`%c${l}	%c${i}	%c${u}D ${d}	%c${c}	%c${f}	%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};function Fst(t,e,n){const s={},r={};for(let l=0;l<e.length;l++)s[e[l].id]=!0;for(let l=0;l<t.length;l++){const u=t[l],c=u.inputs;for(const d in c){const f=c[d];let h=!1;for(let p=0;p<e.length;p++)if(s[f.id]){u.outputs.forEach(m=>s[m.id]=!0),h=!0,r[u.id]=!0;break}if(h)break}}const o={};o[n.id]=!0;const a={};for(let l=t.length-1;l>=0;l--){const u=t[l],c=u.inputs;for(let d=0;d<u.outputs.length;d++)if(o[u.outputs[d].id]){for(const f in c)o[c[f].id]=!0,a[u.id]=!0;break}}const i=[];for(let l=0;l<t.length;l++){const u=t[l];if(r[u.id]&&a[u.id]){const c={};for(const f in u.inputs){const h=u.inputs[f];s[h.id]&&(c[f]=h)}const d=Object.assign({},u);d.inputs=c,d.outputs=u.outputs,i.push(d)}}return i}function Mst(t,e,n,s){for(let r=e.length-1;r>=0;r--){const o=e[r],a=[];if(o.outputs.forEach(l=>{const u=t[l.id];u!=null?a.push(u):a.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const i=o.gradient(a);for(const l in o.inputs){if(!(l in i))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(i)}.`);const u=n(()=>i[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=o.inputs[l];if(!hn(u.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=u;else{const d=t[c.id];t[c.id]=s(d,u),d.dispose()}}}}const BR=20,Dm=3,f$=7;function Pst(t,e,n,s){const r=Mt(e),o=Lst(t,e,n,r),a=e.length,i=dy(t,e,n,r,o),l=["Tensor"];return s&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${a}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(i.map(u=>"    "+u).join(`
`)),l.join(`
`)}function Lst(t,e,n,s){const r=Ge(e),o=s[s.length-1],a=new Array(o).fill(0),i=e.length,l=n==="complex64"?jm(t):t;if(i>1)for(let u=0;u<r/o;u++){const c=u*o;for(let d=0;d<o;d++)a[d]=Math.max(a[d],Gm(l[c+d],0,n).length)}return a}function Gm(t,e,n){let s;return Array.isArray(t)?s=`${parseFloat(t[0].toFixed(f$))} + ${parseFloat(t[1].toFixed(f$))}j`:ki(t)?s=`'${t}'`:n==="bool"?s=PB(t):s=parseFloat(t.toFixed(f$)).toString(),id(s,e)}function PB(t){return t===0?"false":"true"}function dy(t,e,n,s,r,o=!0){const a=n==="complex64"?2:1,i=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=jm(t);return[Gm(m[0],0,n)]}return n==="bool"?[PB(t[0])]:[t[0].toString()]}if(l===1){if(i>BR){const g=Dm*a;let y=Array.from(t.slice(0,g)),w=Array.from(t.slice((i-Dm)*a,i*a));return n==="complex64"&&(y=jm(y),w=jm(w)),["["+y.map((b,_)=>Gm(b,r[_],n)).join(", ")+", ..., "+w.map((b,_)=>Gm(b,r[i-Dm+_],n)).join(", ")+"]"]}return["["+(n==="complex64"?jm(t):Array.from(t)).map((g,y)=>Gm(g,r[y],n)).join(", ")+"]"]}const u=e.slice(1),c=s.slice(1),d=s[0]*a,f=[];if(i>BR){for(let m=0;m<Dm;m++){const g=m*d,y=g+d;f.push(...dy(t.slice(g,y),u,n,c,r,!1))}f.push("...");for(let m=i-Dm;m<i;m++){const g=m*d,y=g+d;f.push(...dy(t.slice(g,y),u,n,c,r,m===i-1))}}else for(let m=0;m<i;m++){const g=m*d,y=g+d;f.push(...dy(t.slice(g,y),u,n,c,r,m===i-1))}const h=l===2?",":"";f[0]="["+f[0]+h;for(let m=1;m<f.length-1;m++)f[m]=" "+f[m]+h;let p=`,
`;for(let m=2;m<l;m++)p+=`
`;return f[f.length-1]=" "+f[f.length-1]+"]"+(o?"":p),f}function jm(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}let Ds=class{constructor(e,n,s){if(this.dtype=n,this.shape=e.slice(),this.size=Ge(e),s!=null){const r=s.length;q(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=s||gs(n,this.size),this.strides=Mt(e)}set(e,...n){n.length===0&&(n=[0]),q(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const s=this.locToIndex(n);this.values[s]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const r of e){if(r<0||r>=this.shape[n]){const o=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let s=e[e.length-1];for(let r=0;r<e.length-1;++r)s+=this.strides[r]*e[r];return this.values[s]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let s=0;s<e.length-1;++s)n+=this.strides[s]*e[s];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let s=0;s<n.length-1;++s)n[s]=Math.floor(e/this.strides[s]),e-=n[s]*this.strides[s];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return La().makeTensor(this.values,this.shape,this.dtype)}},La=null,If=null;function zst(t){La=t}function Bst(t){If=t}let $n=class{constructor(e,n,s,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Ge(e),this.strides=Mt(e),this.dataId=s,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return If.buffer(this.shape,this.dtype,e)}bufferSync(){return If.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Uo(this.shape,e,this.dtype==="complex64")}arraySync(){return Uo(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=La().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(s=>Nl(s))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),La().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=La().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>Nl(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await La().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(La().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return If.print(this,e)}clone(){return this.throwIfDisposed(),If.clone(this)}toString(e=!1){const n=this.dataSync();return Pst(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),If.cast(this,e)}variable(e=!0,n,s){return this.throwIfDisposed(),La().makeVariable(this,e,n,s)}};Object.defineProperty($n,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function Xe(){return Wk("Tensor",()=>$n)}Xe();let eg=class extends $n{constructor(e,n,s,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=n,this.name=s}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!hn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);La().disposeTensor(this),this.dataId=e.dataId,La().incRef(this,null)}dispose(){La().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(eg,Symbol.hasInstance,{value:t=>t instanceof $n&&t.assign!=null&&t.assign instanceof Function});var cx;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(cx||(cx={}));var dx;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(dx||(dx={}));var fx;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(fx||(fx={}));var hx;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(hx||(hx={}));var px;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(px||(px={}));const Vst={float32:hx,int32:dx,bool:fx,complex64:px};function Yr(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return Vst[t][e]}function D_(t){return Yr(t,"int32")}function ds(t,e){if(t.dtype===e.dtype)return[t,e];const n=Yr(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function LB(t,e){q(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function F_(t,e){return e.some(n=>n.id===t.id)}function El(t){const e=[];return zB(t,e,new Set),e}function zB(t,e,n){if(t==null)return;if(t instanceof $n){e.push(t);return}if(!Hst(t))return;const s=t;for(const r in s){const o=s[r];n.has(o)||(n.add(o),zB(o,e,n))}}function Hst(t){return Array.isArray(t)||typeof t=="object"}const Wst=Object.freeze(Object.defineProperty({__proto__:null,makeTypesMatch:ds,assertTypesMatch:LB,isTensorInList:F_,getTensorsInContainer:El},Symbol.toStringTag,{value:"Module"}));function h$(t){return t.kernelName!=null}let VR=class{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}},tg=class{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new VR}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const s=e[n];if(await this.initializeBackend(s).success){await this.setBackend(s);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,s=1){return e in this.registryFactory?(Fo(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:s},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:s}=this.initializeBackend(e);if(!(s?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Ost(this.backendInstance),!0}setupRegisteredKernels(){Jy(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){Jy(e).forEach(s=>{s.disposeFunc!=null&&s.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const s=n.factory();if(s&&!(s instanceof Tw)&&typeof s.then=="function"){const r=++this.pendingBackendInitId,o=s.then(a=>r<this.pendingBackendInitId?!1:(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>(r<this.pendingBackendInitId||(this.pendingBackendInit=null,Fo(`Initialization of backend ${e} failed`),Fo(a.stack||a.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=s,{success:!0,asyncInit:!1}}catch(s){return Fo(`Initialization of backend ${e} failed`),Fo(s.stack||s.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const s=e[n],{success:r,asyncInit:o}=this.initializeBackend(s);if(o||r)return{name:s,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const s=this.state.tensorInfo.get(n),r=s.backend,o=this.readSync(n),a=r.refCount(n);r.disposeData(n,!0),s.backend=e,e.move(n,o,s.shape,s.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let s=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");s=e}let r;return this.scopedRun(()=>this.startScope(s),()=>this.endScope(r),()=>(r=n(),r instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r))}scopedRun(e,n,s){e();try{const r=s();return n(),r}catch(r){throw n(),r}}nextTensorId(){return tg.nextTensorId++}nextVariableId(){return tg.nextVariableId++}clone(e){const n=ye.runKernel(xp,{x:e}),s={x:e},r=a=>({x:()=>{const i="float32",l={x:a},u={dtype:i};return ye.runKernel(cp,l,u)}}),o=[];return this.addTapeNode(this.state.activeScope.name,s,[n],r,o,{}),n}runKernel(e,n,s){if(this.backendName==null&&this.backend,!(Zy(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:s})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,s){const r=this.backend.numDataIds();let o=0;s.forEach(l=>{o+=l.dtype==="complex64"?3:1});const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-n-o-a;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let n,s=[];const r=this.isTapeOn(),o=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let i;this.backendName==null&&this.backend;let l;const u=h$(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(h$(e)){const{kernelName:p,inputs:m,attrs:g}=e;this.backendName==null&&this.backend;const y=Zy(p,this.backendName);q(y!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),i=()=>{const w=this.backend.numDataIds();l=y.kernelFunc({inputs:m,attrs:g,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,w,b);const _=b.map($=>$.rank!=null?$:this.makeTensorFromTensorInfo($));if(r){const $=this.getTensorsForGradient(p,m,_);s=this.saveTensorsForBackwardMode($)}return _}}else{const{forwardFunc:p}=e,m=g=>{!r||(s=g.map(y=>this.keep(this.clone(y))))};i=()=>{const g=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,m));const y=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,g,y),y}}const{inputs:c,attrs:d}=e,f=h$(e)?null:e.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=i():(h=this.profiler.profileKernel(u,c,()=>i()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),r&&this.addTapeNode(u,c,n,f,s,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(p=>c[p]!=null?c[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(s=>this.keep(this.clone(s)))}getTensorsForGradient(e,n,s){const r=ix(e);if(r!=null){const o=r.inputsToSave||[],a=r.outputsToSave||[];let i;r.saveAllInputs?(q(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),i=Object.keys(n).map(u=>n[u])):i=o.map(u=>n[u]);const l=s.filter((u,c)=>a[c]);return i.concat(l)}return[]}makeTensor(e,n,s,r){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");s=s||"float32",r=r||this.backend;let o=e;s==="string"&&ki(e[0])&&(o=e.map(l=>Oi(l)));const a=r.write(o,n,s),i=new $n(n,s,a,this.nextTensorId());if(this.trackTensor(i,r),s==="string"){const l=this.state.tensorInfo.get(a),u=wB(o);this.state.numBytes+=u-l.bytes,l.bytes=u}return i}makeTensorFromDataId(e,n,s,r){s=s||"float32";const o={dataId:e,shape:n,dtype:s};return this.makeTensorFromTensorInfo(o,r)}makeTensorFromTensorInfo(e,n){const{dataId:s,shape:r,dtype:o}=e,a=new $n(r,o,s,this.nextTensorId());return this.trackTensor(a,n),a}makeVariable(e,n=!0,s,r){s=s||this.nextVariableId().toString(),r!=null&&r!==e.dtype&&(e=e.cast(r));const o=new eg(e,n,s,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let s=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(s=e.size*Gy(e.dtype)),this.state.numBytes+=s,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:s})),e instanceof eg||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const s=e.size*Gy(e.dtype);this.state.numBytes-=s}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,s=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(r=>r.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-s;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,s,r,o,a){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:s,saved:o},l=ix(e);l!=null&&(r=l.gradFunc),r!=null&&(i.gradient=u=>(u=u.map((c,d)=>{if(c==null){const f=s[d],h=or(f.size,f.dtype);return this.makeTensor(h,f.shape,f.dtype)}return c}),r(u.length>1?u:u[0],o,a))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=El(e),s=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const a=this.state.activeScope.track[o];!a.kept&&!s.has(a.id)&&a.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===r.id&&this.track(o)})}gradients(e,n,s,r=!1){if(q(n.length>0,()=>"gradients() received an empty list of xs."),s!=null&&s.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${s.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));q(o instanceof $n,()=>"The result y returned by f() must be a tensor.");const a=Fst(this.state.activeTape,n,o);if(!r&&a.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const i={};i[o.id]=s??Ust(o.shape),Mst(i,a,u=>this.tidy(u),Gst);const l=n.map(u=>i[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:l}})}customGrad(e){return q(Xu(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{q(n.every(i=>i instanceof $n),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let s;const r={};n.forEach((i,l)=>{r[l]=i});const o=(i,l)=>(s=e(...n,l),q(s.value instanceof $n,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),q(Xu(s.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),s.value),a=(i,l)=>{const u=s.gradFunc(i,l),c=Array.isArray(u)?u:[u];q(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),q(c.every(f=>f instanceof $n),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return c.forEach((f,h)=>{d[h]=()=>f}),d};return this.runKernelFunc({forwardFunc:o,backwardsFunc:a,inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Ys(),s=await this.backend.time(e);return s.wallMs=Ys()-n,s}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new VR;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}};tg.nextTensorId=0;tg.nextVariableId=0;function Ust(t){const e=Ew(Ge(t),"float32");return ye.makeTensor(e,t,"float32")}function BB(){const t=SB();if(t._tfengine==null){const e=new xB(t);t._tfengine=new tg(e)}return mst(t._tfengine.ENV),zst(()=>t._tfengine),t._tfengine}const ye=BB();function Gst(t,e){const n={a:t,b:e};return ye.runKernel(nf,n)}function jst(){return typeof navigator<"u"&&navigator!=null}let mx;function Kst(t){mx=t}function jk(t){if(mx!==void 0)return mx;if(t||jst()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function Kk(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const qst=Object.freeze(Object.defineProperty({__proto__:null,mockIsMobile:Kst,isMobile:jk,isBrowser:Kk},Symbol.toStringTag,{value:"Module"}));const qo=Be();qo.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});qo.registerFlag("IS_BROWSER",()=>Kk());qo.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");qo.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));qo.registerFlag("PROD",()=>!1);qo.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>qo.getBool("DEBUG"));qo.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);qo.registerFlag("IS_TEST",()=>!1);qo.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);qo.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);qo.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);qo.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function Vi(t,e){let n=t;if(Zs(t))return e==="string"?[]:[t.length];if(typeof t=="object"&&"texture"in t){const r=t.channels||"RGBA";return[t.height,t.width*r.length]}if(!Array.isArray(t))return[];const s=[];for(;Array.isArray(n)||Zs(n)&&e!=="string";)s.push(n.length),n=n[0];return Array.isArray(t)&&Be().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&VB(t,s,[]),s}function VB(t,e,n){if(n=n||[],!Array.isArray(t)&&!Zs(t)){q(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}q(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),q(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const s=e.slice(1);for(let r=0;r<t.length;++r)VB(t[r],s,n.concat(r))}function HR(t,e,n,s){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${s}' must be ${t} tensor, but got ${e} tensor`)}}function te(t,e,n,s="numeric"){if(t instanceof $n)return HR(s,t.dtype,e,n),t;let r=np(t);if(r!=="string"&&["bool","int32","float32"].indexOf(s)>=0&&(r=s),HR(s,r,e,n),t==null||!Zs(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const o=Vi(t,r);!Zs(t)&&!Array.isArray(t)&&(t=[t]);const i=r!=="string"?dc(t,r):Tl(t,[],!0);return ye.makeTensor(i,o,r)}function ng(t,e,n,s="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((o,a)=>te(o,`${e}[${a}]`,n,s))}const qk="__op";function be(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const s=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+qk;const r=(...o)=>{ye.startScope(n);try{const a=s(...o);return Yu(a)&&console.error("Cannot return a Promise inside of tidy."),ye.endScope(a),a}catch(a){throw ye.endScope(null),a}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}function Xst(t,e){const n=te(t,"real","complex"),s=te(e,"imag","complex");lr(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);const r={real:n,imag:s};return ye.runKernel(Mw,r)}const Il=be({complex_:Xst});function fc(t,e,n,s){if(s==null&&(s=np(t)),s==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(typeof t=="object"&&"texture"in t){if(s!=="float32"&&s!=="int32")throw new Error(`Creating tensor from texture only supports 'float32'|'int32' dtype, while the dtype is ${s}.`);return t.channels=t.channels||"RGBA",ye.backend.createTensorFromTexture(t,e||n,s)}if(!Zs(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Eo(e);const r=Ge(e),o=Ge(n);q(r===o,()=>`Based on the provided shape, [${e}], the tensor should have ${r} values but has ${o}`);for(let a=0;a<n.length;++a){const i=n[a],l=a===n.length-1?i!==Ge(e.slice(a)):!0;q(n[a]===e[a]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Zs(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=s!=="string"?dc(t,s):Tl(t,[],!0),ye.makeTensor(t,e,s)}function yo(t,e,n){const s=Vi(t,n);return fc(t,e,s,n)}const gx={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};const tb=4;async function vx(t,e){const n=[],s=[],r=Array.isArray(t)?t.map(a=>a.name):Object.keys(t);for(let a=0;a<r.length;++a){const i=r[a],l=Array.isArray(t)?t[a].tensor:t[i];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${i}': ${l.dtype}`);const u={name:i,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async d=>{const f=await l.bytes(),h=f.reduce((g,y)=>g+y.length,0)+tb*f.length,p=new Uint8Array(h);let m=0;for(let g=0;g<f.length;g++){const y=f[g],w=new Uint8Array(new Uint32Array([y.length]).buffer);p.set(w,m),m+=tb,p.set(y,m),m+=y.length}d(p)});s.push(c)}else s.push(l.data());e!=null&&(u.group=e),n.push(u)}const o=await Promise.all(s);return{data:Yst(o),specs:n}}function Xk(t,e){const n={};let s,r=0;for(const o of e){const a=o.name,i=o.dtype,l=o.shape,u=Ge(l);let c;if("quantization"in o){const d=o.quantization;if(d.dtype==="uint8"||d.dtype==="uint16"){if(!("min"in d&&"scale"in d))throw new Error(`Weight ${o.name} with quantization ${d.dtype} doesn't have corresponding metadata min and scale.`)}else if(d.dtype==="float16"){if(i!=="float32")throw new Error(`Weight ${o.name} is quantized with ${d.dtype} which only supports weights of type float32 not ${i}.`)}else throw new Error(`Weight ${o.name} has unknown quantization dtype ${d.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const f=gx[d.dtype],h=t.slice(r,r+u*f),p=d.dtype==="uint8"?new Uint8Array(h):new Uint16Array(h);if(i==="float32")if(d.dtype==="uint8"||d.dtype==="uint16"){c=new Float32Array(p.length);for(let m=0;m<p.length;m++){const g=p[m];c[m]=g*d.scale+d.min}}else if(d.dtype==="float16")s===void 0&&(s=nrt()),c=s(p);else throw new Error(`Unsupported quantization type ${d.dtype} for weight type float32.`);else if(i==="int32"){if(d.dtype!=="uint8"&&d.dtype!=="uint16")throw new Error(`Unsupported quantization type ${d.dtype} for weight type int32.`);c=new Int32Array(p.length);for(let m=0;m<p.length;m++){const g=p[m];c[m]=Math.round(g*d.scale+d.min)}}else throw new Error(`Unsupported dtype in weight '${a}': ${i}`);r+=u*f}else if(i==="string"){const d=Ge(o.shape);c=[];for(let f=0;f<d;f++){const h=new Uint32Array(t.slice(r,r+tb))[0];r+=tb;const p=new Uint8Array(t.slice(r,r+h));c.push(p),r+=h}}else{const d=gx[i],f=t.slice(r,r+u*d);if(i==="float32")c=new Float32Array(f);else if(i==="int32")c=new Int32Array(f);else if(i==="bool")c=new Uint8Array(f);else if(i==="complex64"){c=new Float32Array(f);const h=new Float32Array(c.length/2),p=new Float32Array(c.length/2);for(let y=0;y<h.length;y++)h[y]=c[y*2],p[y]=c[y*2+1];const m=yo(h,l,"float32"),g=yo(p,l,"float32");n[a]=Il(m,g),m.dispose(),g.dispose()}else throw new Error(`Unsupported dtype in weight '${a}': ${i}`);r+=u*d}i!=="complex64"&&(n[a]=yo(c,l,i))}return n}function Yst(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(o=>{if(e+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const s=new Uint8Array(e);let r=0;return n.forEach(o=>{s.set(new Uint8Array(o.buffer),r),r+=o.byteLength}),s.buffer}const Yk=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function WR(t){return Yk?Buffer.byteLength(t):new Blob([t]).size}function Zst(t){if(Yk)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let s=0,r=e.length;s<r;s++)n+=String.fromCharCode(e[s]);return btoa(n)}function Jst(t){if(Yk){const s=Buffer.from(t,"base64");return s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;++s)n.set([e.charCodeAt(s)],s);return n.buffer}function M_(t){if(t.length===1)return t[0];let e=0;t.forEach(r=>{e+=r.byteLength});const n=new Uint8Array(e);let s=0;return t.forEach(r=>{n.set(new Uint8Array(r),s),s+=r.byteLength}),n.buffer}function UR(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function HB(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function Zk(t,e,n){const s={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(s.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");s.weightSpecs=e,s.weightData=n}return t.signature!=null&&(s.signature=t.signature),t.userDefinedMetadata!=null&&(s.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(s.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(s.initializerSignature=t.initializerSignature),s}async function Jk(t,e){let n,s;return t.weightsManifest!=null&&([n,s]=await e(t.weightsManifest)),Zk(t,n,s)}function W1(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:WR(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:WR(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function Qk(t){const e=[];for(const n of t)e.push(...n.weights);return e}function Qst(){const t=n=>{let s=n<<13,r=0;for(;(s&8388608)===0;)r-=8388608,s<<=1;return s&=-8388609,r+=947912704,s|r},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function ert(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function trt(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function nrt(){const t=Qst(),e=ert(),n=trt();return s=>{const r=new ArrayBuffer(4*s.length),o=new Uint32Array(r);for(let a=0;a<s.length;a++){const i=s[a],l=t[n[i>>10]+(i&1023)]+e[i>>10];o[a]=l}return new Float32Array(r)}}let ps=class{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return ps.instance==null&&(ps.instance=new ps),ps.instance}static registerSaveRouter(e){ps.getInstance().saveRouters.push(e)}static registerLoadRouter(e){ps.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return ps.getHandlers(e,"save")}static getLoadHandlers(e,n){return ps.getHandlers(e,"load",n)}static getHandlers(e,n,s){const r=[];return(n==="load"?ps.getInstance().loadRouters:ps.getInstance().saveRouters).forEach(a=>{const i=a(e,s);i!==null&&r.push(i)}),r}};const srt=t=>ps.registerSaveRouter(t),rrt=t=>ps.registerLoadRouter(t),WB=t=>ps.getSaveHandlers(t),UB=(t,e)=>ps.getLoadHandlers(t,e);const yx="tensorflowjs",bx=1,Qc="models_store",Cu="model_info_store";function GB(){if(!Be().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function wx(t){const e=t.result;e.createObjectStore(Qc,{keyPath:"modelPath"}),e.createObjectStore(Cu,{keyPath:"modelPath"})}let Ed=class{constructor(e){if(this.indexedDB=GB(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((s,r)=>{const o=this.indexedDB.open(yx,bx);o.onupgradeneeded=()=>wx(o),o.onsuccess=()=>{const a=o.result;if(n==null){const i=a.transaction(Qc,"readonly"),u=i.objectStore(Qc).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return a.close(),r(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));s(u.result.modelArtifacts)},u.onerror=c=>(a.close(),r(u.error)),i.oncomplete=()=>a.close()}else{const i=W1(n),l=a.transaction(Cu,"readwrite");let u=l.objectStore(Cu);const c=u.put({modelPath:this.modelPath,modelArtifactsInfo:i});let d;c.onsuccess=()=>{d=a.transaction(Qc,"readwrite");const h=d.objectStore(Qc).put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:i});h.onsuccess=()=>s({modelArtifactsInfo:i}),h.onerror=p=>{u=l.objectStore(Cu);const m=u.delete(this.modelPath);m.onsuccess=()=>(a.close(),r(h.error)),m.onerror=g=>(a.close(),r(h.error))}},c.onerror=f=>(a.close(),r(c.error)),l.oncomplete=()=>{d==null?a.close():d.oncomplete=()=>a.close()}}},o.onerror=a=>r(o.error)})}};Ed.URL_SCHEME="indexeddb://";const jB=t=>Be().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Ed.URL_SCHEME)?ort(t.slice(Ed.URL_SCHEME.length)):null;ps.registerSaveRouter(jB);ps.registerLoadRouter(jB);function ort(t){return new Ed(t)}function art(t){return t.startsWith(Ed.URL_SCHEME)?t.slice(Ed.URL_SCHEME.length):t}let irt=class{constructor(){this.indexedDB=GB()}async listModels(){return new Promise((e,n)=>{const s=this.indexedDB.open(yx,bx);s.onupgradeneeded=()=>wx(s),s.onsuccess=()=>{const r=s.result,o=r.transaction(Cu,"readonly"),i=o.objectStore(Cu).getAll();i.onsuccess=()=>{const l={};for(const u of i.result)l[u.modelPath]=u.modelArtifactsInfo;e(l)},i.onerror=l=>(r.close(),n(i.error)),o.oncomplete=()=>r.close()},s.onerror=r=>n(s.error)})}async removeModel(e){return e=art(e),new Promise((n,s)=>{const r=this.indexedDB.open(yx,bx);r.onupgradeneeded=()=>wx(r),r.onsuccess=()=>{const o=r.result,a=o.transaction(Cu,"readwrite"),i=a.objectStore(Cu),l=i.get(e);let u;l.onsuccess=()=>{if(l.result==null)return o.close(),s(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=i.delete(e),d=()=>{u=o.transaction(Qc,"readwrite");const h=u.objectStore(Qc).delete(e);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>s(l.error)};c.onsuccess=d,c.onerror=f=>(d(),o.close(),s(l.error))}},l.onerror=c=>(o.close(),s(l.error)),a.oncomplete=()=>{u==null?o.close():u.oncomplete=()=>o.close()}},r.onerror=o=>s(r.error)})}};const pl="/",Af="tensorflowjs_models",KB="info",lrt="model_topology",urt="weight_specs",crt="weight_data",drt="model_metadata";function qB(t){return{info:[Af,t,KB].join(pl),topology:[Af,t,lrt].join(pl),weightSpecs:[Af,t,urt].join(pl),weightData:[Af,t,crt].join(pl),modelMetadata:[Af,t,drt].join(pl)}}function XB(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function frt(t){const e=t.split(pl);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(pl)}function hrt(t){return t.startsWith(Id.URL_SCHEME)?t.slice(Id.URL_SCHEME.length):t}let Id=class{constructor(e){if(!Be().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=qB(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),s=JSON.stringify(e.weightSpecs),r=W1(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,s),this.LS.setItem(this.keys.weightData,Zst(e.weightData));const o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:r}}catch{throw XB(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},s=JSON.parse(this.LS.getItem(this.keys.topology));if(s==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=s;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(r==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const i=JSON.parse(o);n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,i.signature!=null&&(n.signature=i.signature),i.userDefinedMetadata!=null&&(n.userDefinedMetadata=i.userDefinedMetadata),i.modelInitializer!=null&&(n.modelInitializer=i.modelInitializer),i.initializerSignature!=null&&(n.initializerSignature=i.initializerSignature),i.trainingConfig!=null&&(n.trainingConfig=i.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Jst(a),n}};Id.URL_SCHEME="localstorage://";const YB=t=>Be().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Id.URL_SCHEME)?prt(t.slice(Id.URL_SCHEME.length)):null;ps.registerSaveRouter(YB);ps.registerLoadRouter(YB);function prt(t){return new Id(t)}let mrt=class{constructor(){q(Be().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),q(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Af+pl,s=pl+KB;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);if(o.startsWith(n)&&o.endsWith(s)){const a=frt(o);e[a]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){e=hrt(e);const n=qB(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const s=JSON.parse(this.LS.getItem(n.info));return XB(n),s}};const Yf="://";let Wr=class{constructor(){this.managers={}}static getInstance(){return Wr.instance==null&&(Wr.instance=new Wr),Wr.instance}static registerManager(e,n){q(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Yf)&&(e=e.slice(0,e.indexOf(Yf))),q(e.length>0,()=>"scheme must not be an empty string.");const s=Wr.getInstance();q(s.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),s.managers[e]=n}static getManager(e){const n=Wr.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(Wr.getInstance().managers)}};function fy(t){if(t.indexOf(Yf)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Wr.getSchemes().join(",")}`);return{scheme:t.split(Yf)[0],path:t.split(Yf)[1]}}async function ZB(t,e,n=!1){q(t!==e,()=>`Old path and new path are the same: '${t}'`);const s=ps.getLoadHandlers(t);q(s.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),q(s.length<2,()=>`Copying failed because more than one (${s.length}) load handlers for source URL ${t}.`);const r=s[0],o=ps.getSaveHandlers(e);q(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),q(o.length<2,()=>`Copying failed because more than one (${s.length}) save handlers for destination URL ${e}.`);const a=o[0],i=fy(t).scheme,l=fy(t).path,u=i===fy(t).scheme,c=await r.load();n&&u&&await Wr.getManager(i).removeModel(l);const d=await a.save(c);return n&&!u&&await Wr.getManager(i).removeModel(l),d.modelArtifactsInfo}async function grt(){const t=Wr.getSchemes(),e={};for(const n of t){const s=await Wr.getManager(n).listModels();for(const r in s){const o=n+Yf+r;e[o]=s[r]}}return e}async function vrt(t){const e=fy(t);return Wr.getManager(e.scheme).removeModel(e.path)}async function yrt(t,e){return ZB(t,e,!1)}async function brt(t,e){return ZB(t,e,!0)}let wrt=class{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!Be().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",s=>{if(s.source===window&&s.data.name===this.messageName){s.stopPropagation();const r=this.functionRefs[s.data.index];r(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}};if(Be().get("IS_BROWSER")){Be().setPlatform("browser",new wrt);try{Wr.registerManager(Id.URL_SCHEME,new mrt)}catch{}try{Wr.registerManager(Ed.URL_SCHEME,new irt)}catch{}}const _rt={importFetch:()=>require("node-fetch")};let p$,$rt=class{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Be().global.fetch!=null?Be().global.fetch(e,n):(p$==null&&(p$=_rt.importFetch()),p$(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}};Be().get("IS_NODE")&&!Be().get("IS_BROWSER")&&Be().setPlatform("node",new $rt);function tn(t,e="float32",n){return e=e||"float32",Eo(t),new Ds(t,e,n)}function xrt(t,e){const n=te(t,"x","cast");if(!bB(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const s={x:n},r={dtype:e};return ye.runKernel(cp,s,r)}const ht=be({cast_:xrt});function Srt(t){const n={x:te(t,"x","clone","string_or_numeric")};return ye.runKernel(xp,n)}const Ri=be({clone_:Srt});function e8(t,e=!1){console.log(t.toString(e))}BB();const Crt={buffer:tn,cast:ht,clone:Ri,print:e8};Bst(Crt);const krt="model",Trt=".json",Nrt=".weights.bin";function GR(t){return new Promise(e=>setTimeout(e)).then(t)}let xh=class{constructor(e){if(!Be().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(xh.URL_SCHEME)&&(e=e.slice(xh.URL_SCHEME.length)),(e==null||e.length===0)&&(e=krt),this.modelJsonFileName=e+Trt,this.weightDataFileName=e+Nrt}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r=HB(e,s),o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=o,await GR(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const i=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;i.download=this.weightDataFileName,i.href=n,await GR(()=>i.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:W1(e)}}}};xh.URL_SCHEME="downloads://";let Ert=class{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const s=new FileReader;s.onload=r=>{const o=JSON.parse(r.target.result),a=o.modelTopology;if(a==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:a});return}const l=Jk(o,u=>this.loadWeights(u));e(l)},s.onerror=r=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),s.readAsText(this.jsonFile)})}loadWeights(e){const n=[],s=[];for(const a of e)n.push(...a.weights),s.push(...a.paths);const r=this.checkManifestAndWeightFiles(e),o=s.map(a=>this.loadWeightsFile(a,r[a]));return Promise.all(o).then(a=>[n,M_(a)])}loadWeightsFile(e,n){return new Promise((s,r)=>{const o=new FileReader;o.onload=a=>{const i=a.target.result;s(i)},o.onerror=a=>r(`Failed to weights data from file of path '${e}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],s=this.weightsFiles.map(o=>UR(o.name)),r={};for(const o of e)o.paths.forEach(a=>{const i=UR(a);if(n.indexOf(i)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(n.push(i),s.indexOf(i)===-1)throw new Error(`Weight file with basename '${i}' is not provided.`);r[a]=this.weightsFiles[s.indexOf(i)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}};const Irt=t=>Be().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(xh.URL_SCHEME)?Art(t.slice(xh.URL_SCHEME.length)):null;ps.registerSaveRouter(Irt);function Art(t="model"){return new xh(t)}function Ort(t){return new Ert(t)}function jR(t,e,n,s){a(t),n=n??0,s=s??1,i(n,s);let r=0;const o=l=>(l.then(u=>{const c=n+ ++r/t.length*(s-n);return e(c),u}),l);function a(l){q(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function i(l,u){q(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),q(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),q(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(t.map(o))}async function JB(t,e){e==null&&(e={});const n=e.fetchFunc==null?Be().platform.fetch:e.fetchFunc,s=t.map(d=>n(d,e.requestInit,{isBinary:!0})),r=0,o=.5,i=(e.onProgress==null?await Promise.all(s):await jR(s,e.onProgress,r,o)).map(d=>d.arrayBuffer()),l=.5,u=1;return e.onProgress==null?await Promise.all(i):await jR(i,e.onProgress,l,u)}async function QB(t,e="",n,s){return eV(a=>JB(a,{requestInit:s}))(t,e,n)}function eV(t){return async(e,n="",s)=>{const r=e.map(()=>!1),o={},a=s!=null?s.map(()=>!1):[],i=[];if(e.forEach((h,p)=>{let m=0;h.weights.forEach(g=>{const y="quantization"in g?g.quantization.dtype:g.dtype,w=gx[y]*Ge(g.shape),b=()=>{r[p]=!0,o[p]==null&&(o[p]=[]),o[p].push({manifestEntry:g,groupOffset:m,sizeBytes:w})};s!=null?s.forEach((_,$)=>{_===g.name&&(b(),a[$]=!0)}):b(),i.push(g.name),m+=w})}),!a.every(h=>h)){const h=s.filter((p,m)=>!a[m]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${i.join(", ")}.`)}const l=r.reduce((h,p,m)=>(p&&h.push(m),h),[]),u=[];l.forEach(h=>{e[h].paths.forEach(p=>{const m=n+(n.endsWith("/")?"":"/")+p;u.push(m)})});const c=await t(u),d={};let f=0;return l.forEach(h=>{const p=e[h].paths.length;let m=0;for(let _=0;_<p;_++)m+=c[f+_].byteLength;const g=new ArrayBuffer(m),y=new Uint8Array(g);let w=0;for(let _=0;_<p;_++){const $=new Uint8Array(c[f+_]);y.set($,w),w+=$.byteLength}o[h].forEach(_=>{const $=g.slice(_.groupOffset,_.groupOffset+_.sizeBytes),x=Xk($,[_.manifestEntry]);for(const k in x)d[k]=x[k]}),f+=p}),d}}const Rrt="application/octet-stream",Drt="application/json";let t8=class{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(q(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Be().platform.fetch,q(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&q(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const s=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=HB(e,s);n.body.append("model.json",new Blob([JSON.stringify(r)],{type:Drt}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:Rrt}),"model.weights.bin");const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:W1(e),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",new Error(a)}const s=n.modelTopology,r=n.weightsManifest;if(s==null&&r==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return Jk(n,o=>this.loadWeights(o))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[s,r]=Frt(n),o=this.weightPathPrefix||s,a=Qk(e),i=[],l=[];for(const c of e)for(const d of c.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(d)):i.push(o+d+r);this.weightUrlConverter&&i.push(...await Promise.all(l));const u=await JB(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[a,M_(u)]}};t8.URL_SCHEME_REGEX=/^https?:\/\//;function Frt(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),s=t.substring(0,e),r=n>e?t.substring(n):"";return[s+"/",r]}function _x(t){return t.match(t8.URL_SCHEME_REGEX)!=null}const tV=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(s=>_x(s)):n=_x(t),n)return n8(t,e)}return null};ps.registerSaveRouter(tV);ps.registerLoadRouter(tV);function n8(t,e){return new t8(t,e)}function nV(t,e){return n8(t,e)}let m$=class{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}},sV=class{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}},Mrt=class{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}};function Prt(t,e,n,s){const r=arguments;return new Mrt(nb(...r))}function nb(t,e,n,s){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new m$(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new m$({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new m$({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:s}))}function Lrt(t){return new sV(t)}function zrt(t){return new sV(t)}const s8=Object.freeze(Object.defineProperty({__proto__:null,browserFiles:Ort,browserHTTPRequest:nV,concatenateArrayBuffers:M_,decodeWeights:Xk,encodeWeights:vx,fromMemory:Prt,fromMemorySync:nb,getLoadHandlers:UB,getModelArtifactsForJSON:Jk,getModelArtifactsForJSONSync:Zk,getModelArtifactsInfoForJSON:W1,getSaveHandlers:WB,getWeightSpecs:Qk,http:n8,isHTTPScheme:_x,loadWeights:QB,registerLoadRouter:rrt,registerSaveRouter:srt,weightsLoaderFactory:eV,withSaveHandler:Lrt,withSaveHandlerSync:zrt,copyModel:yrt,listModels:grt,moveModel:brt,removeModel:vrt},Symbol.toStringTag,{value:"Module"}));function Brt(t,e,n=!1,s=!1){let r=te(t,"a","matMul"),o=te(e,"b","matMul");[r,o]=ds(r,o);const a={a:r,b:o},i={transposeA:n,transposeB:s};return ye.runKernel(Kg,a,i)}const ln=be({matMul_:Brt});function Vrt(t,e,n=1,s=0,r="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const a={indices:te(t,"indices","oneHot","int32")},i={dtype:r,depth:e,onValue:n,offValue:s};return ye.runKernel(S1,a,i)}const Sh=be({oneHot_:Vrt});function Hrt(){Be().set("PROD",!0)}function Wrt(){Be().set("DEBUG",!0)}function Urt(){Be().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Grt(t){Be().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function jrt(){ye.disposeVariables()}function Ma(){return ye}function sb(){return ye.memory()}function Krt(t){return ye.profile(t)}function Le(t,e){return ye.tidy(t,e)}function Xt(t){El(t).forEach(n=>n.dispose())}function As(t){return ye.keep(t)}function qrt(t){return ye.time(t)}function Xrt(t){return ye.setBackend(t)}function Yrt(){return ye.ready()}function Zrt(){return ye.backendName}function Jrt(t){ye.removeBackend(t)}function Qrt(t){return ye.findBackend(t)}function eot(t){return ye.findBackendFactory(t)}function r8(t,e,n=1){return ye.registerBackend(t,e,n)}function rV(){return ye.backend}function tot(t,e){Be().setPlatform(t,e)}function not(t){const n={input:te(t,"input","imag")};return ye.runKernel(e_,n)}const U1=be({imag_:not});function sot(t){const n={x:te(t,"x","neg")};return ye.runKernel(_1,n)}const Jn=be({neg_:sot});function rot(t){const n={input:te(t,"input","real")};return ye.runKernel(p_,n)}const Ch=be({real_:rot});function oot(t,e,n){const s=te(t,"x","transpose");if(e==null&&(e=s.shape.map((a,i)=>i).reverse()),q(s.rank===e.length,()=>`Error in transpose: rank of input ${s.rank} must match length of perm ${e}.`),e.forEach(a=>{q(a>=0&&a<s.rank,()=>`All entries in 'perm' must be between 0 and ${s.rank-1} but got ${e}`)}),s.rank<=1)return s.clone();const r={x:s},o={perm:e};return s.dtype==="complex64"?Le(()=>{let a=Ch(s),i=U1(s);return a=ye.runKernel(ld,{x:a},o),i=ye.runKernel(ld,{x:i},o),n&&(i=Jn(i)),Il(a,i)}):ye.runKernel(ld,r,o)}const dn=be({transpose_:oot});function aot(t,e,n){const s=te(t,"labels","confusionMatrix"),r=te(e,"predictions","confusionMatrix");q(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),q(s.rank===1,()=>`Expected the rank of labels to be 1, but got ${s.rank}`),q(r.rank===1,()=>`Expected the rank of predictions to be 1, but got ${r.rank}`),q(s.shape[0]===r.shape[0],()=>`Mismatch in the number of examples: ${s.shape[0]} vs. ${r.shape[0]}. Labels and predictions should have the same number of elements.`),q(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const o=Sh(ht(s,"int32"),n),a=Sh(ht(r,"int32"),n),i=dn(o),l=ln(i,a);return ht(l,"int32")}const iot=be({confusionMatrix_:aot});const lot=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:iot},Symbol.toStringTag,{value:"Module"}));function Ad(t,e){const n=t.length,s=[];for(let r=0;r<n;r++){const o=n-1-r,a=t[o]||1;(e[e.length-1-r]||1)>1&&a===1&&s.unshift(o)}return s}function Ts(t,e){const n=[];for(let s=0;s<e.length;s++){const r=t[t.length-s-1],o=e.length-s-1,a=e[o];(r==null||r===1&&a>1)&&n.unshift(o)}return n}function Yt(t,e){const n=[],s=Math.max(t.length,e.length);for(let r=0;r<s;r++){let o=t[t.length-r-1];o==null&&(o=1);let a=e[e.length-r-1];if(a==null&&(a=1),o===1)n.unshift(a);else if(a===1)n.unshift(o);else if(o!==a){const i=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(i)}else n.unshift(o)}return n}const uot=Object.freeze(Object.defineProperty({__proto__:null,getBroadcastDims:Ad,getReductionAxes:Ts,assertAndGetBroadcastShape:Yt},Symbol.toStringTag,{value:"Module"}));function o8(t,e,n){if(ef(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const s=Vi(t,n);if(s.length!==3&&s.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return fc(t,e,s,n)}let Nc;function oV(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,s=!1,r=!1,o=!1,a=!1,i=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)s=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else if(t.getContext!=null)a=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)i=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(Zy(Yy,ye.backendName)!=null){const p={pixels:t},m={numChannels:e};return ye.runKernel(Yy,p,m)}const[u,c]=r?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(a)d=t.getContext("2d").getImageData(0,0,u,c).data;else if(s||n)d=t.data;else if(o||r||i){if(Nc==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Nc=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Nc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Nc.canvas.width=u,Nc.canvas.height=c,Nc.drawImage(t,0,0,u,c),d=Nc.getImageData(0,0,u,c).data}let f;if(e===4)f=new Int32Array(d);else{const p=u*c;f=new Int32Array(p*e);for(let m=0;m<p;m++)for(let g=0;g<e;++g)f[m*e+g]=d[m*4+g]}return o8(f,[c,u,e],"int32")}function cot(t){return t!=null&&t.data instanceof Uint8Array}function dot(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function fot(t){return t!=null&&t.width!==0&&t.height!==0}function hot(t){return dot()&&!(t instanceof ImageBitmap)&&fot(t)&&!cot(t)}async function pot(t,e=3){let n=null;if(Be().getBool("WRAP_TO_IMAGEBITMAP")&&hot(t)){let s;try{s=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{s=null}s!=null&&s.width===t.width&&s.height===t.height?n=s:n=t}else n=t;return oV(n,e)}async function mot(t,e){let n=te(t,"img","toPixels");if(!(t instanceof $n)){const u=n;n=ht(u,"int32"),u.dispose()}if(n.rank!==2&&n.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[s,r]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2];if(o>4||o===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${o}`);if(n.dtype!=="float32"&&n.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const a=await n.data(),i=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(r*s*4);for(let u=0;u<s*r;++u){const c=[0,0,0,255];for(let f=0;f<o;f++){const h=a[u*o+f];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);o===1?(c[0]=h*i,c[1]=h*i,c[2]=h*i):c[f]=h*i}const d=u*4;l[d+0]=Math.round(c[0]),l[d+1]=Math.round(c[1]),l[d+2]=Math.round(c[2]),l[d+3]=Math.round(c[3])}if(e!=null){e.width=r,e.height=s;const u=e.getContext("2d"),c=new ImageData(l,r,s);u.putImageData(c,0,0)}return n!==t&&n.dispose(),l}const aV=be({fromPixels_:oV}),got=Object.freeze(Object.defineProperty({__proto__:null,fromPixelsAsync:pot,toPixels:mot,fromPixels:aV},Symbol.toStringTag,{value:"Module"}));function P_(t,e){const n=t.shape.length,s=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(s<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${s}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[s-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[s-1]} vs. ${n}`);if(Ge(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const r=e.shape,o=r[r.length-1];let a=1;for(let d=0;d<r.length-1;++d)a*=r[d];const i=t.shape,l=r.slice();l.pop();let u=1;for(let d=o;d<n;++d)u*=i[d],l.push(i[d]);const c=[...Mt(t.shape).map(d=>d/u),1].slice(0,o);return[l,a,u,c]}const vot=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:P_},Symbol.toStringTag,{value:"Module"}));function a8(t,e,n){const s=e.rank>1?e.shape[e.rank-1]:1,r=e.rank>1?e.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${s}, and batchDim: ${r}.`;if(n.rank<r)throw new Error(o+` update.rank < ${r}. `);if(t.length<s+(n.rank-r))throw new Error(o+` Output shape length < ${s+(n.rank-r)}`);if(n.rank!==r+t.length-s)throw new Error(o+` update.rank != ${r+t.length-s}`);for(let a=0;a<r;++a)if(n.shape[a]!==e.shape[a])throw new Error(o+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${e.shape[a]}).`);for(let a=0;a<n.rank-r;++a)if(n.shape[a+r]!==t[a+s])throw new Error(o+` updates.shape[${a+r}] (${n.shape[a+r]}) != shape[${a+r}] (${t[a+r]})`)}function i8(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}a8(n,e,t)}function Jp(t,e,n){const s=e.shape.length,r=s>1?e.shape[s-1]:1,o=n.length;let a=1;for(let d=r;d<o;++d)a*=n[d];const i=r<1?1:r,l=Ge(e.shape)/i,u=[...Mt(n.slice(0,r)),1],c=Ge(n);return{sliceRank:r,numUpdates:l,sliceSize:a,strides:u,outputSize:c}}const yot=Object.freeze(Object.defineProperty({__proto__:null,validateUpdateShape:a8,validateInput:i8,calculateShapes:Jp},Symbol.toStringTag,{value:"Module"}));const $x=-2,bot=-1;function l8(t,e,n){const s=t.shape.length;q(s===e.length,()=>`Error in slice${s}D: Length of begin ${e} must match the rank of the array (${s}).`),q(s===n.length,()=>`Error in slice${s}D: Length of size ${n} must match the rank of the array (${s}).`);for(let r=0;r<s;++r)q(e[r]+n[r]<=t.shape[r],()=>`Error in slice${s}D: begin[${r}] + size[${r}] (${e[r]+n[r]}) would overflow input.shape[${r}] (${t.shape[r]})`)}function wot(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function u8(t,e,n){const s=[];for(let r=0;r<t.length;r++)s[r]=Math.ceil((e[r]-t[r])/n[r]);return s}function iV(t,e,n,s){const r=[...t];for(let o=r.length;o<s.length;o++)r.push(1);for(let o=0;o<n;o++)o===0?r[e]=1:(r.splice(e,0,1),r.pop());return r}function lV(t,e,n){return n<=t?n:n-(e-1)}function uV(t,e){const n=[];for(let s=0;s<t;s++)n.push(e+s);return n}function _ot(t,e,n,s,r,o,a,i,l){const u=t.length;let c=new Array(u),d=new Array(u),f=new Array(u);if(e.length&&n>0){const h=e[0],p=n+1;c=cV(a,h,p,s,t),d=dV(i,h,p,r,t),f=iV(o,h,p,t)}else for(let h=0;h<u;h++)c[h]=hV(a,s,o,t,h,l),d[h]=pV(i,r,o,t,h,l),f[h]=fV(o,h,l);return{begin:c,end:d,strides:f}}function cV(t,e,n,s,r){const o=[...r],a=uV(n,e);for(let i=0;i<o.length;i++)if(a.indexOf(i)>-1)o[i]=0;else{const l=lV(e,n,i);let u=s[l];t&1<<l&&(u=0),o[i]=u}return o}function dV(t,e,n,s,r){const o=[...r],a=uV(n,e);for(let i=0;i<o.length;i++)if(a.indexOf(i)>-1)o[i]=Number.MAX_SAFE_INTEGER;else{const l=lV(e,n,i);let u=s[l];t&1<<l&&(u=Number.MAX_SAFE_INTEGER),o[i]=u}for(let i=0;i<o.length;i++){const l=r[i];o[i]<0&&(o[i]+=l),o[i]=qu(0,o[i],r[i])}return o}function fV(t,e,n){let s=t[e];return(n&1<<e||s==null)&&(s=1),s}function hV(t,e,n,s,r,o){let a=e[r];const i=n[r]||1;(t&1<<r||o&1<<r||a==null)&&(i>0?a=Number.MIN_SAFE_INTEGER:a=Number.MAX_SAFE_INTEGER);const l=s[r];return a<0&&(a+=l),a=qu(0,a,l-1),a}function pV(t,e,n,s,r,o){let a=e[r];const i=n[r]||1;(t&1<<r||o&1<<r||a==null)&&(i>0?a=Number.MAX_SAFE_INTEGER:a=Number.MIN_SAFE_INTEGER);const l=s[r];return a<0&&(a+=l),i>0?a=qu(0,a,l):a=qu(-1,a,l-1),a}function c8(t,e,n){let s=n.length;for(let r=0;r<n.length;r++)if(n[r]>1){s=r;break}for(let r=s+1;r<n.length;r++)if(e[r]>0||n[r]!==t[r])return!1;return!0}function d8(t,e){let n=t.length>0?t[t.length-1]:1;for(let s=0;s<t.length-1;s++)n+=t[s]*e[s];return n}function L_(t,e,n){let s;const r=t.shape.length;typeof e=="number"?s=[e,...new Array(r-1).fill(0)]:e.length<r?s=e.concat(new Array(r-e.length).fill(0)):s=e.slice(),s.forEach(a=>{q(a!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(r).fill(-1):typeof n=="number"?o=[n,...new Array(r-1).fill(-1)]:n.length<r?o=n.concat(new Array(r-n.length).fill(-1)):o=n,o=o.map((a,i)=>a>=0?a:(q(a===-1,()=>`Negative size values should be exactly -1 but got ${a} for the slice() size at index ${i}.`),t.shape[i]-s[i])),[s,o]}function f8(t,e,n,s,r,o,a,i,l){let u;if(s==null?(u=new Array(e.length),u.fill(1)):u=s,a!=null&&(a&a-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:u.slice(),beginMask:r,endMask:o,ellipsisMask:a,newAxisMask:i,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)c&&(1<<b&i)!==0&&d.numAddAxisAfterEllipsis++,1<<b&a&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const f={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};$ot(d,f);let h=!0,p=!0,m=!0;const g=[],y=[];for(let b=0;b<t.length;++b){if(f.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const _=!!(f.shrinkAxisMask&1<<b),$=t[b];if($===-1){g.push(_?1:-1);continue}const x=[f.beginMask&1<<b,f.endMask&1<<b],k=[f.strides[b]>0?0:-1,f.strides[b]>0?$:$-1];if(_&&f.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&f.strides[b]===1;const C=!!(f.beginMask&1<<b&&f.endMask&1<<b);if(f.beginValid&&f.endValid){if(_){const R=f.begin[b]<0?$+f.begin[b]:f.begin[b];if(f.begin[b]=R,f.end[b]=f.begin[b]+1,R<0||R>=$)throw Error(`slice index ${f.begin[b]} of dimension ${b} out of bounds.`)}else f.begin[b]=KR(f.begin[b],0,f.strides[b],$,x,k),f.end[b]=KR(f.end[b],1,f.strides[b],$,x,k);const M=f.strides[b]===1&&f.begin[b]===0&&f.end[b]===$;h=h&&M,p=p&&(b===0&&f.strides[b]===1||M)}else h=h&&f.strides[b]===1&&C,p=p&&(b===0&&f.strides[b]===1||C);let T,N=!1;if(f.beginValid&&f.endValid?(T=f.end[b]-f.begin[b],N=!0):_?(T=1,N=!0):C&&$>=0&&(f.strides[b]<0?T=-$:T=$,N=!0),N){let M;T===0||T<0!=f.strides[b]<0?M=0:M=Math.trunc(T/f.strides[b])+(T%f.strides[b]!==0?1:0),g.push(M)}else g.push(-1)}for(let b=0;b<f.finalShapeGatherIndices.length;++b){const _=f.finalShapeGatherIndices[b];_>=0?y.push(g[_]):_===$x&&y.push(1)}return{finalShapeSparse:y.filter((b,_)=>f.finalShapeGatherIndices[_]!==$x),finalShape:y,isIdentity:h,sliceDim0:p,isSimpleSlice:m,begin:f.begin,end:f.end,strides:f.strides}}function $ot(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let s=0;s<t.dims;s++)if(1<<s&t.ellipsisMask){const r=Math.min(e.dims-(t.dims-s)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<r;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=s}else if(1<<s&t.newAxisMask)e.finalShapeGatherIndices.push($x),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[s]),t.end!=null&&(e.end[n]=t.end[s]),e.strides[n]=t.strides[s],t.beginMask&1<<s&&(e.beginMask|=1<<n),t.endMask&1<<s&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<s?(e.finalShapeGatherIndices.push(bot),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(s)),e.inputShapeGatherIndicesSparse[n]=s,n++}}function KR(t,e,n,s,r,o){if(r[e])return n>0?o[e]:o[e+1&1];{const a=t<0?s+t:t;return a<o[0]?o[0]:a>o[1]?o[1]:a}}const mV=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:l8,maskToAxes:wot,computeOutShape:u8,stridesWithElidedDims:iV,getNormalizedAxes:_ot,startIndicesWithElidedDims:cV,stopIndicesWithElidedDims:dV,stridesForAxis:fV,startForAxis:hV,stopForAxis:pV,isSliceContinous:c8,computeFlatOffset:d8,parseSliceParams:L_,sliceInfo:f8},Symbol.toStringTag,{value:"Module"}));let rf=class{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}},ua=class{constructor(){this.classNameMap={}}static getMap(){return ua.instance==null&&(ua.instance=new ua),ua.instance}static register(e){ua.getMap().classNameMap[e.className]=[e,e.fromConfig]}};function tt(t){q(t.className!=null,()=>"Class being registered does not have the static className property defined."),q(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),q(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),ua.register(t)}const xot=Object.freeze(Object.defineProperty({__proto__:null,Serializable:rf,SerializationMap:ua,registerClass:tt},Symbol.toStringTag,{value:"Module"}));const Sot=.001,gV=.1;function Cot(t,e,n){return n==null&&(n=h8()),xx(t,e,(s,r)=>p8(s,r,n))}function h8(){return ye.backend.floatPrecision()===32?Sot:gV}function xx(t,e,n){let s=!0;if((Zs(t)||Zs(e))&&(s=!1),Zs(t)&&Zs(e)&&(s=!0),s){const a=t.constructor.name,i=e.constructor.name;if(a!==i)throw new Error(`Arrays are of different type. Actual: ${a}. Expected: ${i}`)}if(Array.isArray(t)&&Array.isArray(e)){const a=Vi(t),i=Vi(e);if(!hn(a,i))throw new Error(`Arrays have different shapes. Actual: [${a}]. Expected: [${i}]`)}const r=Zs(t)?t:Tl(t),o=Zs(e)?e:Tl(e);if(r.length!==o.length)throw new Error(`Arrays have different lengths actual: ${r.length} vs expected: ${o.length}.
Actual:   ${r}.
Expected: ${o}.`);for(let a=0;a<o.length;++a){const i=r[a],l=o[a];if(!n(i,l))throw new Error(`Arrays differ: actual[${a}] = ${i}, expected[${a}] = ${l}.
Actual:   ${r}.
Expected: ${o}.`)}typeof expect<"u"&&expect().nothing()}function kot(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function Tot(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return ki(t)||ki(t[0])||ki(e)||ki(e[0])?xx(t,n,(s,r)=>s==r):xx(t,e,(s,r)=>p8(s,r,0))}function Not(t,e,n){if(n==null&&(n=h8()),!p8(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function p8(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function Eot(t,e,n){for(let s=0;s<t.length;s++)if(t[s]<e||t[s]>n)throw new Error(`Value out of range:${t[s]} low: ${e}, high: ${n}`)}function Iot(t,e){const n=new Float32Array(t),s=new Float32Array(e);if(n.length!==s.length)throw new Error(`Expected ArrayBuffer to be of length ${s.length}, but it was ${n.length}`);for(let r=0;r<s.length;r++)if(n[r]!==s[r])throw new Error(`Expected ArrayBuffer value at ${r} to be ${s[r]} but got ${n[r]} instead`)}function vV(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?vV(n):t[e]=Oi(n)}return t}function Aot(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",s=>n(e)),e.load()})}async function Oot(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const Rot=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:gV,expectArraysClose:Cot,testEpsilon:h8,expectPromiseToFail:kot,expectArraysEqual:Tot,expectNumbersClose:Not,expectValuesInRange:Eot,expectArrayBuffersEqual:Iot,encodeStrings:vV,createVideoElement:Aot,play:Oot},Symbol.toStringTag,{value:"Module"}));const yV="4.1.0";function Dot(t,e){let n=te(t,"a","add"),s=te(e,"b","add");[n,s]=ds(n,s);const r={a:n,b:s};return ye.runKernel(nf,r)}const st=be({add_:Dot});function Fot(t,e){let n=te(t,"a","floorDiv"),s=te(e,"b","floorDiv");[n,s]=ds(n,s);const r={a:n,b:s};return ye.runKernel(_p,r)}const z_=be({floorDiv_:Fot});function Mot(t,e){let n=te(t,"a","div"),s=te(e,"b","div");if([n,s]=ds(n,s),n.dtype==="int32"&&s.dtype==="int32")return z_(n,s);const r={a:n,b:s},o={};return ye.runKernel(mp,r,o)}const It=be({div_:Mot});function Pot(t,e){let n=te(t,"a","mul"),s=te(e,"b","mul");[n,s]=ds(n,s);const r={a:n,b:s};return ye.runKernel(Op,r)}const Te=be({mul_:Pot});function Lot(t){const e=te(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ye.runKernel(Xg,n)}else{const n={x:e};return ye.runKernel(Vg,n)}}const $s=be({abs_:Lot});function zot(t){const n={x:te(t,"x","acos")};return ye.runKernel(sp,n)}const m8=be({acos_:zot});function Bot(t){const n={x:te(t,"x","acosh")};return ye.runKernel(rp,n)}const g8=be({acosh_:Bot});function Vot(t){q(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),q(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((r,o)=>te(r,`tensors${o}`,"addN")),n=e[0];e.forEach(r=>{if(r.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(r=>{if(!hn(r.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const s=e;return ye.runKernel(Hg,s)}const bV=be({addN_:Vot});function Hot(t,e=null,n=!1){const r={x:te(t,"x","all","bool")},o={axis:e,keepDims:n};return ye.runKernel(Iw,r,o)}const B_=be({all_:Hot});function Wot(t,e=null,n=!1){const r={x:te(t,"x","any","bool")},o={axis:e,keepDims:n};return ye.runKernel(Aw,r,o)}const sg=be({any_:Wot});function Uot(t,e=0){const s={x:te(t,"x","argMax")},r={axis:e};return ye.runKernel(Wg,s,r)}const Od=be({argMax_:Uot});function Got(t,e=0){const s={x:te(t,"x","argMin")},r={axis:e};return ye.runKernel(Ug,s,r)}const v8=be({argMin_:Got});function jot(t){const n={x:te(t,"x","asin")};return ye.runKernel(op,n)}const y8=be({asin_:jot});function Kot(t){const n={x:te(t,"x","asinh")};return ye.runKernel(ap,n)}const b8=be({asinh_:Kot});function qot(t){const n={x:te(t,"x","atan")};return ye.runKernel(ip,n)}const w8=be({atan_:qot});function Xot(t,e){let n=te(t,"a","atan2"),s=te(e,"b","atan2");[n,s]=ds(n,s);const r={a:n,b:s};return ye.runKernel(up,r)}const _8=be({atan2_:Xot});function Yot(t){const n={x:te(t,"x","atanh")};return ye.runKernel(lp,n)}const $8=be({atanh_:Yot});function G1(t,e,n,s,r="NHWC",o){const a=t[3],i=[...e,a],l=Yl(r);return Gs(t,i,n,o,s,null,null,l)}function Na(t,e,n,s,r,o,a="channelsLast"){const[i,l]=rb(e);let u;if(a==="channelsLast")u=[i,l,t[3],t[3]];else if(a==="channelsFirst")u=[i,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return Gs(t,u,n,s,r,o,!1,a)}function Xl(t,e,n,s,r,o,a="NDHWC"){const[i,l,u]=Sx(e);let c,d;if(a==="NDHWC")d="channelsLast",c=[i,l,u,t[4],t[4]];else if(a==="NCDHW")d="channelsFirst",c=[i,l,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return hc(t,c,n,s,r,!1,d,o)}function Gs(t,e,n,s,r,o,a=!1,i="channelsLast"){let[l,u,c,d]=[-1,-1,-1,-1];if(i==="channelsLast")[l,u,c,d]=t;else if(i==="channelsFirst")[l,d,u,c]=t;else throw new Error(`Unknown dataFormat ${i}`);const[f,h,,p]=e,[m,g]=rb(n),[y,w]=rb(s),b=Zf(f,y),_=Zf(h,w),{padInfo:$,outHeight:x,outWidth:k}=Qot(r,u,c,m,g,b,_,o,i),C=a?p*d:p;let T;return i==="channelsFirst"?T=[l,C,x,k]:i==="channelsLast"&&(T=[l,x,k,C]),{batchSize:l,dataFormat:i,inHeight:u,inWidth:c,inChannels:d,outHeight:x,outWidth:k,outChannels:C,padInfo:$,strideHeight:m,strideWidth:g,filterHeight:f,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:_,dilationHeight:y,dilationWidth:w,inShape:t,outShape:T,filterShape:e}}function hc(t,e,n,s,r,o=!1,a="channelsLast",i){let[l,u,c,d,f]=[-1,-1,-1,-1,-1];if(a==="channelsLast")[l,u,c,d,f]=t;else if(a==="channelsFirst")[l,f,u,c,d]=t;else throw new Error(`Unknown dataFormat ${a}`);const[h,p,m,,g]=e,[y,w,b]=Sx(n),[_,$,x]=Sx(s),k=Zf(h,_),C=Zf(p,$),T=Zf(m,x),{padInfo:N,outDepth:M,outHeight:R,outWidth:D}=eat(r,u,c,d,y,w,b,k,C,T,i),z=o?g*f:g;let B;return a==="channelsFirst"?B=[l,z,M,R,D]:a==="channelsLast"&&(B=[l,M,R,D,z]),{batchSize:l,dataFormat:a,inDepth:u,inHeight:c,inWidth:d,inChannels:f,outDepth:M,outHeight:R,outWidth:D,outChannels:z,padInfo:N,strideDepth:y,strideHeight:w,strideWidth:b,filterDepth:h,filterHeight:p,filterWidth:m,effectiveFilterDepth:k,effectiveFilterHeight:C,effectiveFilterWidth:T,dilationDepth:_,dilationHeight:$,dilationWidth:x,inShape:t,outShape:B,filterShape:e}}function Zot(t,e,n,s,r){s==null&&(s=x8(t,e,n));const o=t[0],a=t[1],i=ud((o-e+2*s)/n+1,r),l=ud((a-e+2*s)/n+1,r);return[i,l]}function Jot(t,e,n,s,r,o){r==null&&(r=x8(t,e,s));const a=t[0],i=t[1],l=t[2],u=ud((a-e+2*r)/s+1,o),c=ud((i-e+2*r)/s+1,o),d=ud((l-e+2*r)/s+1,o);return[u,c,d,n]}function x8(t,e,n,s=1){const r=Zf(e,s);return Math.floor((t[0]*(n-1)-n+r)/2)}function rb(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Sx(t){return typeof t=="number"?[t,t,t]:t}function Zf(t,e){return e<=1?t:t+(t-1)*(e-1)}function Qot(t,e,n,s,r,o,a,i,l){let u,c,d;if(typeof t=="number"){u={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const h=Zot([e,n],o,s,t,i);c=h[0],d=h[1]}else if(t==="same"){c=Math.ceil(e/s),d=Math.ceil(n/r);const f=Math.max(0,(c-1)*s+o-e),h=Math.max(0,(d-1)*r+a-n),p=Math.floor(f/2),m=f-p,g=Math.floor(h/2),y=h-g;u={top:p,bottom:m,left:g,right:y,type:"SAME"}}else if(t==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/s),d=Math.ceil((n-a+1)/r);else if(typeof t=="object"){const f=l==="channelsLast"?t[1][0]:t[2][0],h=l==="channelsLast"?t[1][1]:t[2][1],p=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];u={top:f,bottom:h,left:p,right:m,type:f===0&&h===0&&p===0&&m===0?"VALID":"EXPLICIT"},c=ud((e-o+f+h)/s+1,i),d=ud((n-a+p+m)/r+1,i)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:u,outHeight:c,outWidth:d}}function eat(t,e,n,s,r,o,a,i,l,u,c){let d,f,h,p;if(typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const g=Jot([e,n,s,1],i,1,r,t,c);f=g[0],h=g[1],p=g[2]}else if(t==="same"){f=Math.ceil(e/r),h=Math.ceil(n/o),p=Math.ceil(s/a);const m=(f-1)*r+i-e,g=(h-1)*o+l-n,y=(p-1)*a+u-s,w=Math.floor(m/2),b=m-w,_=Math.floor(g/2),$=g-_,x=Math.floor(y/2),k=y-x;d={top:_,bottom:$,left:x,right:k,front:w,back:b,type:"SAME"}}else if(t==="valid")d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-i+1)/r),h=Math.ceil((n-l+1)/o),p=Math.ceil((s-u+1)/a);else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:f,outHeight:h,outWidth:p}}function ud(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function Zu(t){const[e,n,s]=rb(t);return e===1&&n===1&&s===1}function ur(t,e){return Zu(t)||Zu(e)}function Yl(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Mr(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")q(Nd(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(s=>{s.forEach(r=>{q(Nd(r),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${r}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}function tat(t,e){const s={x:te(t,"x","reshape","string_or_numeric")},r={shape:e};return ye.runKernel(E1,s,r)}const Ne=be({reshape_:tat});function nat(t,e,n,s,r){const o=te(t,"x","avgPool","float32"),a=1;q(ur(n,a),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`);let i=o,l=!1;o.rank===3&&(l=!0,i=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2]])),q(i.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`),Mr("avgPool",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r};let d=ye.runKernel(Gg,u,c);return d=ht(d,o.dtype),l?Ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const j1=be({avgPool_:nat});function sat(t,e,n,s,r,o="NDHWC"){const a=te(t,"x","avgPool3d","float32");let i=a,l=!1;a.rank===4&&(l=!0,i=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),q(i.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`),q(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),Mr("avgPool3d",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r,dataFormat:o};let d=ye.runKernel(jg,u,c);return d=ht(d,i.dtype),l?Ne(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const S8=be({avgPool3d_:sat});function rat(t,e=0){q(t.length>=1,()=>"Pass at least one tensor to concat");const n=ng(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return Ri(n[0]);const s=n,r={axis:e};return ye.runKernel(Yg,s,r)}const vs=be({concat_:rat});function oat(t){const n={x:te(t,"x","sigmoid","float32")};return ye.runKernel(Wp,n)}const qa=be({sigmoid_:oat});function aat(t,e,n){const s=te(t,"x","slice","string_or_numeric");if(s.rank===0)throw new Error("Slicing scalar is not possible");const r={x:s},o={begin:e,size:n};return ye.runKernel(D1,r,o)}const mn=be({slice_:aat});function iat(t){const n={x:te(t,"x","tanh","float32")};return ye.runKernel(Xp,n)}const Rd=be({tanh_:iat});function lat(t,e,n,s,r,o){const a=te(t,"forgetBias","basicLSTMCell"),i=te(e,"lstmKernel","basicLSTMCell"),l=te(n,"lstmBias","basicLSTMCell"),u=te(s,"data","basicLSTMCell"),c=te(r,"c","basicLSTMCell"),d=te(o,"h","basicLSTMCell"),f=vs([u,d],1),h=ln(f,i),p=st(h,l),m=p.shape[0],g=p.shape[1]/4,y=[m,g],w=mn(p,[0,0],y),b=mn(p,[0,g],y),_=mn(p,[0,g*2],y),$=mn(p,[0,g*3],y),x=st(Te(qa(w),Rd(b)),Te(c,qa(st(a,_)))),k=Te(Rd(x),qa($));return[x,k]}const wV=be({basicLSTMCell_:lat});function uat(t,e,n){const s=te(t,"x","batchToSpaceND"),r=e.reduce((i,l)=>i*l);q(s.rank>=1+e.length,()=>`input rank is ${s.rank} but should be > than blockShape.length ${e.length}`),q(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),q(s.shape[0]%r===0,()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${r}`);const o={x:s},a={blockShape:e,crops:n};return ye.runKernel(qg,o,a)}const K1=be({batchToSpaceND_:uat});function cat(t){let e;return t.rank===0||t.rank===1?e=Ne(t,[1,1,1,t.size]):t.rank===2?e=Ne(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function dat(t,e,n,s,r,o){o==null&&(o=.001);const a=te(t,"x","batchNorm"),i=te(e,"mean","batchNorm"),l=te(n,"variance","batchNorm");let u;r!=null&&(u=te(r,"scale","batchNorm"));let c;s!=null&&(c=te(s,"offset","batchNorm")),q(i.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),q(c==null||i.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),q(u==null||i.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const f={x:cat(a),scale:u,offset:c,mean:i,variance:l},h={varianceEpsilon:o},p=ye.runKernel(o1,f,h);return Ne(p,a.shape)}const Qp=be({batchNorm_:dat});function fat(t,e,n,s,r,o){const a=te(t,"x","batchNorm"),i=te(e,"mean","batchNorm"),l=te(n,"variance","batchNorm");let u;r!=null&&(u=te(r,"scale","batchNorm"));let c;return s!=null&&(c=te(s,"offset","batchNorm")),q(a.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`),q(i.rank===2||i.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${i.rank}.`),q(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&q(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&q(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),Qp(a,i,l,c,u,o)}const C8=be({batchNorm2d_:fat});function hat(t,e,n,s,r,o){const a=te(t,"x","batchNorm"),i=te(e,"mean","batchNorm"),l=te(n,"variance","batchNorm");let u;r!=null&&(u=te(r,"scale","batchNorm"));let c;return s!=null&&(c=te(s,"offset","batchNorm")),q(a.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`),q(i.rank===3||i.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${i.rank}.`),q(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&q(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&q(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),Qp(a,i,l,c,u,o)}const k8=be({batchNorm3d_:hat});function pat(t,e,n,s,r,o){const a=te(t,"x","batchNorm"),i=te(e,"mean","batchNorm"),l=te(n,"variance","batchNorm");let u;r!=null&&(u=te(r,"scale","batchNorm"));let c;return s!=null&&(c=te(s,"offset","batchNorm")),q(a.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`),q(i.rank===4||i.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${i.rank}.`),q(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&q(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&q(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),Qp(a,i,l,c,u,o)}const T8=be({batchNorm4d_:pat});function mat(t,e,n){const s=te(t,"x","bincount"),r=te(e,"weights","bincount");q(s.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${s.dtype}`),q(n>=0,()=>`size must be non-negative, but got ${n}.`),q(r.size===s.size||r.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${s.shape}, weights shape: ${r.shape}.`);const o={x:s,weights:r},a={size:n};return ye.runKernel(Dw,o,a)}const N8=be({bincount_:mat});function gat(t,e){const n=te(t,"s0","broadcastArgs","int32"),s=te(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(s.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${s.rank}`);const r={s0:n,s1:s};return ye.runKernel(Fw,r)}const _V=be({broadcastArgs_:gat});function vat(t,e){let n=te(t,"broadcastTo","x");const s=n.shape;if(Eo(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const u=n.shape.slice();for(;u.length<e.length;)u.unshift(1);n=Ne(n,u)}const r=n.shape,o=Array.from(e);for(let u=e.length-1;u>=0;u--)if(r[u]===e[u])o[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${e}].`);if(o.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return Ri(n);const i={x:n},l={reps:o};return ye.runKernel(Yp,i,l)}const cd=be({broadcastTo_:vat});function yat(t){const n={x:te(t,"x","ceil","float32")};return ye.runKernel(dp,n)}const E8=be({ceil_:yat});function of(t,e,n){Eo(t);const s={shape:t,value:e,dtype:n};return ye.runKernel(Yw,{},s)}function bat(t,e,n){const s=te(t,"x","clipByValue");if(q(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return of(s.shape,e,s.dtype);const r={x:s},o={clipValueMin:e,clipValueMax:n};return ye.runKernel(fp,r,o)}const Zr=be({clipByValue_:bat});function wat(t){return vs(t,0)}const I8=be({concat1d_:wat});function _at(t,e){return vs(t,e)}const A8=be({concat2d_:_at});function $at(t,e){return vs(t,e)}const O8=be({concat3d_:$at});function xat(t,e){return vs(t,e)}const R8=be({concat4d_:xat});function Sat(t,e,n,s,r="NHWC",o=[1,1],a){const i=te(t,"x","conv2d","float32"),l=te(e,"filter","conv2d","float32");let u=i,c=!1;i.rank===3&&(c=!0,u=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2]])),q(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),q(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),Mr("conv2d",s,a);const d=r==="NHWC"?u.shape[3]:u.shape[1];q(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),q(ur(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const f={x:u,filter:l},h={strides:n,pad:s,dataFormat:r,dilations:o,dimRoundingMode:a},p=ye.runKernel(Zg,f,h);return c?Ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const Al=be({conv2d_:Sat});function Cat(t,e,n,s,r="NWC",o=1,a){const i=te(t,"x","conv1d"),l=te(e,"filter","conv1d");let u=i,c=!1;i.rank===2&&(c=!0,u=Ne(i,[1,i.shape[0],i.shape[1]])),q(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),q(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),Mr("conv1d",s,a),q(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),q(ur(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),q(r==="NWC",()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);const d=Ne(l,[1,l.shape[0],l.shape[1],l.shape[2]]),f=Ne(u,[u.shape[0],1,u.shape[1],u.shape[2]]),g=Al(f,d,[1,n],s,"NHWC",[1,o],a);return c?Ne(g,[g.shape[2],g.shape[3]]):Ne(g,[g.shape[0],g.shape[2],g.shape[3]])}const V_=be({conv1d_:Cat});function kat(t,e,n,s,r,o="NHWC",a){q(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,l=e,u=!1;e.rank===3&&(u=!0,l=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]),i=[1,t[0],t[1],t[2]]),q(i.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`),q(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),q(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=o==="NHWC"?i[3]:i[1],d=o==="NHWC"?l.shape[3]:l.shape[1];q(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),q(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),Mr("conv2dDerInput",r,a);const f={dy:l,filter:n},h={strides:s,pad:r,dataFormat:o,dimRoundingMode:a,inputShape:i},p=ye.runKernel(Jg,f,h);return u?Ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const D8=be({conv2DBackpropInput_:kat});function Tat(t,e,n,s,r,o){const a=te(t,"x","conv2dTranspose"),i=te(e,"filter","conv2dTranspose");return D8(n,a,i,s,r,"NHWC",o)}const H_=be({conv2dTranspose_:Tat});function Nat(t,e,n,s,r="NDHWC",o=[1,1,1]){const a=te(t,"x","conv3d"),i=te(e,"filter","conv3d");let l=a,u=!1;a.rank===4&&(u=!0,l=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),q(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),q(i.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`),q(l.shape[4]===i.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${i.shape[3]}.`),q(ur(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),q(r==="NDHWC",()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`);const c={x:l,filter:i},d={strides:n,pad:s,dataFormat:r,dilations:o},f=ye.runKernel(Qg,c,d);return u?Ne(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const F8=be({conv3d_:Nat});function Eat(t,e,n,s,r){q(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,a=e,i=!1;e.rank===4&&(i=!0,a=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);const l=o[4],u=a.shape[4];q(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),q(a.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`),q(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),q(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),q(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:a,filter:n},d={pad:r,strides:s,inputShape:o},f=ye.runKernel(zw,c,d);return i?Ne(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const $V=be({conv3DBackpropInput_:Eat});function Iat(t,e,n,s,r){const o=te(t,"x","conv3dTranspose"),a=te(e,"filter","conv3dTranspose");return $V(n,o,a,s,r)}const M8=be({conv3dTranspose_:Iat});function Aat(t){const n={x:te(t,"x","cos","float32")};return ye.runKernel(hp,n)}const q1=be({cos_:Aat});function Oat(t){const n={x:te(t,"x","cosh","float32")};return ye.runKernel(pp,n)}const W_=be({cosh_:Oat});function Rat(t,e=0,n=!1,s=!1){const o={x:te(t,"x","cumprod")},a={axis:e,exclusive:n,reverse:s};return ye.runKernel(Bw,o,a)}const rg=be({cumprod_:Rat});function Dat(t,e=0,n=!1,s=!1){const o={x:te(t,"x","cumsum")},a={axis:e,exclusive:n,reverse:s};return ye.runKernel(e1,o,a)}const U_=be({cumsum_:Dat});function Fat(t,e,n,s=!1){const r=te(t,"x","denseBincount"),o=te(e,"weights","denseBincount");q(r.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),q(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),q(n>=0,()=>`size must be non-negative, but got ${n}.`),q(o.size===r.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${o.shape}.`);const a={x:r,weights:o},i={size:n,binaryOutput:s};return ye.runKernel(Hw,a,i)}const ob=be({denseBincount_:Fat});function Mat(t,e,n="NHWC"){const s=te(t,"x","depthToSpace","float32"),r=n==="NHWC"?s.shape[1]:s.shape[2],o=n==="NHWC"?s.shape[2]:s.shape[3],a=n==="NHWC"?s.shape[3]:s.shape[1];q(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),q(r*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${r} and ${e}  for depthToSpace with input shape
    ${s.shape}`),q(o*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${e} for depthToSpace with input shape
        ${s.shape}`),q(a%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${a} for depthToSpace with input shape ${s.shape}`);const i={x:s},l={blockSize:e,dataFormat:n};return ye.runKernel(Ww,i,l)}const P8=be({depthToSpace_:Mat});function Pat(t,e,n,s,r="NHWC",o=[1,1],a){const i=te(t,"x","depthwiseConv2d","float32"),l=te(e,"filter","depthwiseConv2d","float32");let u=i,c=!1;i.rank===3&&(c=!0,u=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2]])),q(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),q(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=r==="NHWC"?u.shape[3]:u.shape[1];q(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),Mr("depthwiseConv2d",s,a);const f={x:u,filter:l},h={strides:n,pad:s,dataFormat:r,dilations:o,dimRoundingMode:a},p=ye.runKernel(t1,f,h);return c?Ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const em=be({depthwiseConv2d_:Pat});function Lat(t){const n={x:te(t,"x","diag")};return ye.runKernel(jw,n)}const xV=be({diag_:Lat});function zat(t,e,n,s,r=[1,1],o="NHWC"){const a=te(t,"x","dilation2d"),i=te(e,"filter","dilation2d");q(a.rank===3||a.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`),q(i.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`),q(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let l=a,u=!1;a.rank===3&&(l=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2]]),u=!0);const c={x:l,filter:i},d={strides:n,pad:s,dilations:r},f=ye.runKernel(n1,c,d);return u?Ne(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const L8=be({dilation2d_:zat});function Bat(t,e){let n=te(t,"a","equal","string_or_numeric"),s=te(e,"b","equal","string_or_numeric");[n,s]=ds(n,s),Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel(s1,r)}const _o=be({equal_:Bat});function Vat(t,e,n){const s=te(e,"a","where"),r=te(n,"b","where"),o=te(t,"condition","where","bool"),a=Yt(Yt(o.shape,s.shape),r.shape),i=cd(o,a),l=cd(s,a),u=cd(r,a),c={condition:i,t:l,e:u};return ye.runKernel(R1,c)}const wr=be({where_:Vat});function Hat(t){const n={x:te(t,"x","zerosLike")};return ye.runKernel(V1,n)}const yn=be({zerosLike_:Hat});function Wat(t,e){let n=te(t,"a","div"),s=te(e,"b","div");[n,s]=ds(n,s);const r=It(n,s),o=yn(r),a=_o(s,o);return wr(a,o,r)}const z8=be({divNoNan_:Wat});function Uat(t,e){const n=te(t,"t1","dot"),s=te(e,"t2","dot");q((n.rank===1||n.rank===2)&&(s.rank===1||s.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${s.rank}.`);const r=n.rank===1?n.size:n.shape[1],o=s.rank===1?s.size:s.shape[0];if(q(r===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${o}.`),n.rank===1&&s.rank===1){const a=Ne(n,[1,-1]),i=Ne(s,[-1,1]),l=ln(a,i);return Ne(l,[])}else if(n.rank===1&&s.rank===2){const a=Ne(n,[1,-1]),i=Ne(s,[s.shape[0],s.shape[1]]),l=ln(a,i);return Ne(l,[l.size])}else if(n.rank===2&&s.rank===1){const a=Ne(s,[-1,1]),i=ln(n,a);return Ne(i,[i.size])}else{const a=Ne(s,[s.shape[0],s.shape[1]]);return ln(n,a)}}const B8=be({dot_:Uat});function Gat(t,...e){const n=e.map((r,o)=>te(r,`tensors${o}`,"einsum")),s={equation:t};return ye.runKernel(Kw,n,s)}const SV=be({einsum_:Gat});function jat(t){const n={x:te(t,"x","elu","float32")};return ye.runKernel(gp,n)}const tm=be({elu_:jat});function Kat(t){let e=te(t,"x","erf");q(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=ht(e,"float32"));const n={x:e};return ye.runKernel(vp,n)}const V8=be({erf_:Kat});function H8(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function CV(t,e,n){const s=t.length+e.length,r=[];let o=0,a=0;for(let i=0;i<s;i++)n.indexOf(i)===-1?r.push(t[o++]):r.push(e[a++]);return r}function js(t,e){const n=[],s=t.length;for(let o=0;o<s;o++)e.indexOf(o)===-1&&n.push(t[o]);const r=e.map(o=>t[o]);return[n,r]}function ys(t,e){const n=e.map(s=>1);return CV(t,n,e)}function cr(t,e,n){q(H8(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function hs(t,e){if(H8(t,e))return null;const n=[];for(let s=0;s<e;++s)t.indexOf(s)===-1&&n.push(s);return t.forEach(s=>n.push(s)),n}function pc(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function bs(t,e){const n=[];for(let s=e-t;s<e;++s)n.push(s);return n}function qat(t,e=null,n=!1){const r={x:te(t,"x","max")},o={reductionIndices:e,keepDims:n};return ye.runKernel(m1,r,o)}const Go=be({max_:qat});function Xat(t,e=null,n=!1){const r={x:te(t,"x","min")},o={axis:e,keepDims:n};return ye.runKernel(b1,r,o)}const kh=be({min_:Xat});function Yat(t,e){let n=te(t,"base","pow"),s=te(e,"exp","pow");[n,s]=ds(n,s);const r={a:n,b:s};return ye.runKernel(Rp,r)}const Ol=be({pow_:Yat});function Pt(t,e){if((Zs(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Zs(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return fc(t,[],[],e)}function Zat(t){const n={x:te(t,"x","sqrt","float32")};return ye.runKernel(Gp,n)}const ar=be({sqrt_:Zat});function Jat(t){const e=te(t,"x","square"),n={};return ye.runKernel("Square",{x:e},n)}const Dn=be({square_:Jat});function Qat(t,e=null,n=!1){let s=te(t,"x","sum");s.dtype==="bool"&&(s=ht(s,"int32"));const r={x:s},o={axis:e,keepDims:n};return ye.runKernel(F1,r,o)}const kt=be({sum_:Qat});function eit(t,e="euclidean",n=null,s=!1){t=te(t,"x","norm");const r=kV(t,e,n);let o=r.shape;if(s){const a=un(n,t.shape);o=ys(r.shape,a)}return Ne(r,o)}function kV(t,e,n=null){if(t.rank===0)return $s(t);if(t.rank!==1&&n===null)return kV(Ne(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return kt($s(t),n);if(e===1/0)return Go($s(t),n);if(e===-1/0)return kh($s(t),n);if(e==="euclidean"||e===2)return ar(kt(Ol($s(t),Pt(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return Go(kt($s(t),n[0]),n[1]-1);if(e===1/0)return Go(kt($s(t),n[1]),n[0]);if(e===-1/0)return kh(kt($s(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return ar(kt(Dn(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const nm=be({norm_:eit});function tit(t,e=null,n=!1){return nm(t,"euclidean",e,n)}const W8=be({euclideanNorm_:tit});function nit(t){const n={x:te(t,"x","exp")};return ye.runKernel(yp,n)}const $o=be({exp_:nit});function sit(t,e=0){const n=te(t,"x","expandDims","string_or_numeric");q(e<=n.rank,()=>"Axis must be <= rank of the tensor");const s={input:n},r={dim:e};return ye.runKernel(r1,s,r)}const hr=be({expandDims_:sit});function rit(t){const n={x:te(t,"x","expm1")};return ye.runKernel(bp,n)}const U8=be({expm1_:rit});function oit(t,e){const n=te(t,"x","tile","string_or_numeric");q(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const s={x:n},r={reps:e};return ye.runKernel(Yp,s,r)}const Lo=be({tile_:oit});function ait(t,e,n,s="float32"){e==null&&(e=t);const r=tn([t,e],s),o=t<=e?t:e;for(let i=0;i<o;++i)r.set(1,i,i);const a=Ne(r.toTensor(),[t,e]);if(n==null)return a;if(n.length===1)return Lo(hr(a,0),[n[0],1,1]);if(n.length===2)return Lo(hr(hr(a,0),0),[n[0],n[1],1,1]);if(n.length===3)return Lo(hr(hr(hr(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const G_=be({eye_:ait});function iit(t){const n={x:te(t,"x","floor","float32")};return ye.runKernel(wp,n)}const sm=be({floor_:iit});function lit(t,e,n=0,s=0){const r=te(t,"x","gather"),o=te(e,"indices","gather","int32"),a={x:r,indices:o},i={axis:n,batchDims:s};return ye.runKernel(a1,a,i)}const rm=be({gather_:lit});function uit(t,e){let n=te(t,"a","greater","string_or_numeric"),s=te(e,"b","greater","string_or_numeric");[n,s]=ds(n,s),Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel(i1,r)}const Pr=be({greater_:uit});function cit(t,e){let n=te(t,"a","greaterEqual","string_or_numeric"),s=te(e,"b","greaterEqual","string_or_numeric");[n,s]=ds(n,s),Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel($p,r)}const Zl=be({greaterEqual_:cit});function dit(t){const n={x:te(t,"x","isFinite")};return ye.runKernel(Sp,n)}const G8=be({isFinite_:dit});function fit(t){const n={x:te(t,"x","isInf")};return ye.runKernel(Cp,n)}const j8=be({isInf_:fit});function hit(t){const n={x:te(t,"x","isNaN")};return ye.runKernel(kp,n)}const K8=be({isNaN_:hit});function pit(t,e=.2){const s={x:te(t,"x","leakyRelu")},r={alpha:e};return ye.runKernel(l1,s,r)}const X1=be({leakyRelu_:pit});function mit(t,e){let n=te(t,"a","less","string_or_numeric"),s=te(e,"b","less","string_or_numeric");[n,s]=ds(n,s),Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel(u1,r)}const j_=be({less_:mit});function git(t,e){let n=te(t,"a","lessEqual","string_or_numeric"),s=te(e,"b","lessEqual","string_or_numeric");[n,s]=ds(n,s),Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel(c1,r)}const mc=be({lessEqual_:git});function TV(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const s={start:t,stop:e,num:n};return ye.runKernel(t_,{},s)}function vit(t,e=5,n=1,s=1,r=.5){const o=te(t,"x","localResponseNormalization");q(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),q(Nd(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let a=o,i=!1;o.rank===3&&(i=!0,a=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:a},u={depthRadius:e,bias:n,alpha:s,beta:r},c=ye.runKernel(p1,l,u);return i?Ne(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const q8=be({localResponseNormalization_:vit});function yit(t){const n={x:te(t,"x","log","float32")};return ye.runKernel(Tp,n)}const xo=be({log_:yit});function bit(t){const n={x:te(t,"x","log1p")};return ye.runKernel(Np,n)}const Y1=be({log1p_:bit});function wit(t){return q(Xu(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const s=te(e,"x","tf.grad","string_or_numeric"),r=n!=null?te(n,"dy","tf.grad"):null;return ye.tidy(()=>{const{value:o,grads:a}=ye.gradients(()=>t(s),[s],r);return r!=null&&lr(o.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),K_(a),a[0]})}}function _it(t){return q(Xu(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{q(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const s=ng(e,"args","tf.grads","string_or_numeric"),r=n!=null?te(n,"dy","tf.grads"):null;return ye.tidy(()=>{const{value:o,grads:a}=ye.gradients(()=>t(...s),s,r);return r!=null&&lr(o.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),K_(a),a})}}function $it(t){return q(Xu(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{q(e instanceof $n,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),q(n==null||n instanceof $n,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:s,value:r}=ye.gradients(()=>t(e),[e],n);return K_(s),{grad:s[0],value:r}}}function xit(t){return q(Xu(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{q(Array.isArray(e)&&e.every(r=>r instanceof $n),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),q(n==null||n instanceof $n,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const s=ye.gradients(()=>t(...e),e,n);return n!=null&&lr(s.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),K_(s.grads),s}}function NV(t,e){q(Xu(t),()=>"The f passed in variableGrads(f) must be a function"),q(e==null||Array.isArray(e)&&e.every(u=>u instanceof eg),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const u in ye.registeredVariables)e.push(ye.registeredVariables[u])}const s=n?e.filter(u=>!u.trainable):null,r=e.length;e=e.filter(u=>u.trainable),q(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);const o=!0,{value:a,grads:i}=ye.gradients(t,e,null,o);q(i.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),q(a.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`);const l={};return e.forEach((u,c)=>{i[c]!=null&&(l[u.name]=i[c])}),s!=null&&s.forEach(u=>l[u.name]=null),{value:a,grads:l}}function Hi(t){return ye.customGrad(t)}function K_(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function Sit(t){const n={x:te(t,"x","softplus")};return ye.runKernel(Up,n)}const af=be({softplus_:Sit});function Cit(t){const e=te(t,"x","logSigmoid");return Hi(s=>({value:Jn(af(Jn(s))),gradFunc:a=>Te(a,qa(Jn(s)))}))(e)}const X8=be({logSigmoid_:Cit});function kit(t,e){let n=te(t,"a","sub"),s=te(e,"b","sub");[n,s]=ds(n,s);const r={a:n,b:s};return ye.runKernel(Kp,r)}const $t=be({sub_:kit});function Tit(t,e=-1){const n=te(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Hi((r,o)=>{const i=Go(r,e,!0),l=$t(r,i),u=$t(ht(l,"float32"),xo(kt($o(l),e,!0)));return o([u]),{value:u,gradFunc:(d,f)=>{const[h]=f,p=!0,m=$o(h);return $t(d,Te(kt(d,e,p),m))}}})(n)}const q_=be({logSoftmax_:Tit});function Nit(t,e=null,n=!1){const s=te(t,"x","logSumExp"),r=un(e,s.shape),o=Go(s,r,!0),a=$t(s,o),i=$o(a),l=kt(i,r),u=xo(l),c=st(Ne(o,u.shape),u);if(n){const d=ys(c.shape,r);return Ne(c,d)}return c}const X_=be({logSumExp_:Nit});function Eit(t,e){const n=te(t,"a","logicalAnd","bool"),s=te(e,"b","logicalAnd","bool");Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel(d1,r)}const Ta=be({logicalAnd_:Eit});function Iit(t){const n={x:te(t,"x","logicalNot","bool")};return ye.runKernel(f1,n)}const Z1=be({logicalNot_:Iit});function Ait(t,e){const n=te(t,"a","logicalOr","bool"),s=te(e,"b","logicalOr","bool");Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel(h1,r)}const Y_=be({logicalOr_:Ait});function Oit(t,e){const n=te(t,"a","logicalXor","bool"),s=te(e,"b","logicalXor","bool");return Yt(n.shape,s.shape),Ta(Y_(t,e),Z1(Ta(t,e)))}const Y8=be({logicalXor_:Oit});const mv=2147483648;function Rit(t,e,n="left"){const s=te(t,"sortedSequence","searchSorted"),r=te(e,"values","searchSorted"),o=s.shape[s.shape.length-1],a=r.shape[r.shape.length-1],i=Ne(s,[-1,o]),l=Ne(r,[-1,a]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Ge(l.shape)>=mv)throw new Error(`values tensor size must less than ${mv}`);if(i.shape[1]>=mv)throw new Error(`trailing dim_size must less than ${mv} for int32 output type, was ${i.shape[1]}`);const u={sortedSequence:i,values:l},c={side:n};return ye.runKernel(y_,u,c)}const Z_=be({searchSorted_:Rit});function EV(t,e){return Z_(t,e,"left")}function Dit(t,e,n,s,r){const o=te(t,"x","maxPool"),a=1;let i=o,l=!1;o.rank===3&&(l=!0,i=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2]])),q(i.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`),q(ur(n,a),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),Mr("maxPool",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r},d=ye.runKernel(g1,u,c);return l?Ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const J1=be({maxPool_:Dit});function Fit(t,e=[1,1,1],n,s,r,o="NDHWC"){const a=te(t,"x","maxPool3d");let i=a,l=!1;a.rank===4&&(l=!0,i=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),q(i.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`),q(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),Mr("maxPool3d",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r,dataFormat:o},d=ye.runKernel(v1,u,c);return l?Ne(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Z8=be({maxPool3d_:Fit});function Mit(t,e,n,s,r=!1){const a={x:te(t,"x","maxPoolWithArgmax")},i={filterSize:e,strides:n,pad:s,includeBatchInIndex:r},l=ye.runKernel(o_,a,i);return{result:l[0],indexes:l[1]}}const IV=be({maxPoolWithArgmax_:Mit});function Pit(t,e){let n=te(t,"a","maximum"),s=te(e,"b","maximum");[n,s]=ds(n,s),n.dtype==="bool"&&(n=ht(n,"int32"),s=ht(s,"int32")),Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel(Ep,r)}const Zi=be({maximum_:Pit});function Lit(t,e=null,n=!1){const r={x:te(t,"x","mean")},o={axis:e,keepDims:n};return ye.runKernel(y1,r,o)}const us=be({mean_:Lit});function xs(t,e="float32"){if(Eo(t),e==="complex64"){const s=xs(t,"float32"),r=xs(t,"float32");return Il(s,r)}const n=or(Ge(t),e);return ye.makeTensor(n,t,e)}function po(t,e="float32"){if(Eo(t),e==="complex64"){const s=po(t,"float32"),r=xs(t,"float32");return Il(s,r)}const n=Ew(Ge(t),e);return ye.makeTensor(n,t,e)}function AV(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let s=te(t,"x","meshgrid",t instanceof $n?t.dtype:"float32");if(e===void 0)return[s];let r=te(e,"y","meshgrid",e instanceof $n?e.dtype:"float32");const o=Ge(s.shape),a=Ge(r.shape);return n==="xy"?(s=Ne(s,[1,-1]),r=Ne(r,[-1,1]),[ln(po([a,1],s.dtype),s),ln(r,po([1,o],r.dtype))]):(s=Ne(s,[-1,1]),r=Ne(r,[1,-1]),[ln(s,po([1,a],s.dtype)),ln(po([o,1],r.dtype),r)])}function zit(t,e){let n=te(t,"a","minimum"),s=te(e,"b","minimum");[n,s]=ds(n,s),n.dtype==="bool"&&(n=ht(n,"int32"),s=ht(s,"int32")),Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel(Ip,r)}const om=be({minimum_:zit});function Bit(t,e,n){q(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const s=te(t,"x","mirrorPad");if(s.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");q(e.length===s.rank,()=>`Padding doesn't match input. Must be ${s.rank}. Got ${e.length}.`);const r=n==="reflect"?1:0;for(let i=0;i<s.rank;i++)q(e[i].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),q(e[i][0]>=0&&e[i][0]<=s.shape[i]-r&&e[i][1]>=0&&e[i][1]<=s.shape[i]-r,()=>`Padding in dimension ${i} cannot be greater than or equal to ${s.shape[i]-r} or less than 0 for input of shape ${s.shape}`);const o={paddings:e,mode:n},a={x:s};return ye.runKernel(w1,a,o)}const J8=be({mirrorPad_:Bit});function Vit(t,e){let n=te(t,"a","mod"),s=te(e,"b","mod");[n,s]=ds(n,s);const r={a:n,b:s};return ye.runKernel(Ap,r)}const Q8=be({mod_:Vit});function Hit(t,e=null,n=!1){t=te(t,"x","moments");const s=un(e,t.shape),r=us(t,s,n);let o=r.shape;n||(o=ys(r.shape,s));const a=Dn($t(ht(t,"float32"),Ne(r,o))),i=us(a,s,n);return{mean:r,variance:i}}const Q1=be({moments_:Hit});function Wit(t,e,n,s){const r=te(e,"data","multiRNNCell"),o=ng(n,"c","multiRNNCell"),a=ng(s,"h","multiRNNCell");let i=r;const l=[];for(let d=0;d<t.length;d++){const f=t[d](i,o[d],a[d]);l.push(f[0]),l.push(f[1]),i=f[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}const OV=be({multiRNNCell_:Wit});function Uit(t,e,n,s=!1){const r=te(t,"logits","multinomial"),o=r.size,a=r.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(a>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${a}`);n=n||Math.random();const l={logits:a===1?Ne(r,[1,-1]):r},u={numSamples:e,seed:n,normalized:s},c=ye.runKernel(a_,l,u);return a===1?Ne(c,[c.size]):c}const RV=be({multinomial_:Uit});function Git(t,e){let n=te(t,"a","notEqual","string_or_numeric"),s=te(e,"b","notEqual","string_or_numeric");[n,s]=ds(n,s),Yt(n.shape,s.shape);const r={a:n,b:s};return ye.runKernel($1,r)}const Dd=be({notEqual_:Git});function jit(t){const n={x:te(t,"x","onesLike")};return ye.runKernel(x1,n)}const So=be({onesLike_:jit});function Kit(t,e){const n=te(t,"v1","outerProduct"),s=te(e,"v2","outerProduct");q(n.rank===1&&s.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${s.rank}.`);const r=Ne(n,[-1,1]),o=Ne(s,[1,-1]);return ln(r,o)}const DV=be({outerProduct_:Kit});function qit(t,e,n=0){const s=te(t,"x","pad");if(s.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:e,constantValue:n},o={x:s};return ye.runKernel(k1,o,r)}const Jl=be({pad_:qit});function Xit(t,e,n=0){return q(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Jl(t,[e],n)}const FV=be({pad1d_:Xit});function Yit(t,e,n=0){return q(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Jl(t,e,n)}const MV=be({pad2d_:Yit});function Zit(t,e,n=0){return q(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Jl(t,e,n)}const PV=be({pad3d_:Zit});function Jit(t,e,n=0){return q(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Jl(t,e,n)}const LV=be({pad4d_:Jit});function Qit(t,e,n){const s=te(t,"x","spaceToBatchND");q(s.rank>=1+e.length,()=>`input rank ${s.rank} should be > than [blockShape] ${e.length}`),q(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),q(s.shape.reduce((a,i,l)=>l>0&&l<=e.length?a&&(i+n[l-1][0]+n[l-1][1])%e[l-1]===0:a,!0),()=>`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const r={x:s},o={blockShape:e,paddings:n};return ye.runKernel(M1,r,o)}const e2=be({spaceToBatchND_:Qit});function elt(t,e,n,s,r,o,a){r==null&&(r=[1,1]),o==null&&(o=1),s===0&&(s="valid");const i=te(t,"x","maxPool");let l=i,u=!1;i.rank===3&&(u=!0,l=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2]])),q(ur(o,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${r}'`);const c=Na(l.shape,e,o,r,s),d=[c.dilationHeight,c.dilationWidth];let f;s==="same"?f=nlt([c.filterHeight,c.filterWidth],d):f=[[0,0],[0,0]];const h=d[0]===1&&d[1]===1,[p,m]=tlt([c.inHeight,c.inWidth],d,f),g=h?s:"valid",y=h?l:e2(l,d,p),b=(n==="avg"?()=>j1(y,e,o,g,a):()=>J1(y,e,o,g,a))(),_=h?b:K1(b,d,m);return u?Ne(_,[_.shape[1],_.shape[2],_.shape[3]]):_}function tlt(t,e,n){const s=n.map(c=>c[0]),r=n.map(c=>c[1]),o=t.concat(s,r),a=e.map((c,d)=>(c-o[d]%c)%c),i=r.map((c,d)=>c+a[d]),l=e.map((c,d)=>[s[d],i[d]]),u=e.map((c,d)=>[0,a[d]]);return[l,u]}function nlt(t,e){const s=t.map((a,i)=>a+(a-1)*(e[i]-1)).map(a=>a-1),r=s.map(a=>Math.floor(a/2)),o=s.map((a,i)=>a-r[i]);return s.map((a,i)=>[r[i],o[i]])}const eT=be({pool_:elt});function slt(t,e){const n=te(t,"x","prelu"),s=te(e,"alpha","prelu"),r={x:n,alpha:s};return ye.runKernel(T1,r)}const t2=be({prelu_:slt});function rlt(t,e=null,n=!1){let s=te(t,"x","prod");s.dtype==="bool"&&(s=ht(s,"int32"));const r={x:s},o={axis:e,keepDims:n};return ye.runKernel(N1,r,o)}const tT=be({prod_:rlt});function olt(t,e,n,s){const r=t.map((c,d)=>te(c,`tensors${d}`,"raggedGather","int32")),o=te(e,"paramsDenseValues","raggedGather"),a=te(n,"indices","raggedGather","int32"),i={paramsNestedSplits:r,paramsDenseValues:o,indices:a},l={outputRaggedRank:s},u=ye.runKernel(c_,i,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const zV=be({raggedGather_:olt});function alt(t,e,n){const s=te(t,"starts","raggedRange"),r=te(e,"limits","raggedRange",s.dtype),o=te(n,"deltas","raggedRange",s.dtype),a={starts:s,limits:r,deltas:o},i=ye.runKernel(d_,a);return{rtNestedSplits:i[0],rtDenseValues:i[1]}}const BV=be({raggedRange_:alt});function ilt(t,e,n,s,r){const o=te(t,"shape","raggedTensorToTensor","int32"),a=te(e,"values","raggedTensorToTensor"),i=te(n,"defaultValue","raggedTensorToTensor",a.dtype),l=s.map((d,f)=>te(d,`tensors${f}`,"raggedTensorToTensor","int32")),u={shape:o,values:a,defaultValue:i,rowPartitionTensors:l},c={rowPartitionTypes:r};return ye.runKernel(f_,u,c)}const VV=be({raggedTensorToTensor_:ilt});function llt(t,e,n){Eo(t);const s=Ge(t);let r=null;if(n==null||n==="float32")r=new Float32Array(s);else if(n==="int32")r=new Int32Array(s);else if(n==="bool")r=new Uint8Array(s);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<s;o++)r[o]=e();return ye.makeTensor(r,t,n)}const HV=be({rand_:llt});var WV={exports:{}};(function(t){(function(e,n,s){function r(l){var u=this,c=i();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var c=new r(l),d=u&&u.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&o(d,c),f.state=function(){return o(c,{})}),f}function i(){var l=4022871197,u=function(c){c=String(c);for(var d=0;d<c.length;d++){l+=c.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=a:s&&s.amd?s(function(){return a}):this.alea=a})(wn,t,!1)})(WV);var UV={exports:{}};(function(t){(function(e,n,s){function r(i){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},i===(i|0)?l.x=i:u+=i;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function o(i,l){return l.x=i.x,l.y=i.y,l.z=i.z,l.w=i.w,l}function a(i,l){var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=a:s&&s.amd?s(function(){return a}):this.xor128=a})(wn,t,!1)})(UV);var GV={exports:{}};(function(t){(function(e,n,s){function r(i){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,i===(i|0)?l.x=i:u+=i;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(i,l){return l.x=i.x,l.y=i.y,l.z=i.z,l.w=i.w,l.v=i.v,l.d=i.d,l}function a(i,l){var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=a:s&&s.amd?s(function(){return a}):this.xorwow=a})(wn,t,!1)})(GV);var jV={exports:{}};(function(t){(function(e,n,s){function r(i){var l=this;l.next=function(){var c=l.x,d=l.i,f,h;return f=c[d],f^=f>>>7,h=f^f<<24,f=c[d+1&7],h^=f^f>>>10,f=c[d+3&7],h^=f^f>>>3,f=c[d+4&7],h^=f^f<<7,f=c[d+7&7],f=f^f<<13,h^=f^f<<9,c[d]=h,l.i=d+1&7,h};function u(c,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],c.x=h,c.i=0,f=256;f>0;--f)c.next()}u(l,i)}function o(i,l){return l.x=i.x.slice(),l.i=i.i,l}function a(i,l){i==null&&(i=+new Date);var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(c.x&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=a:s&&s.amd?s(function(){return a}):this.xorshift7=a})(wn,t,!1)})(jV);var KV={exports:{}};(function(t){(function(e,n,s){function r(i){var l=this;l.next=function(){var c=l.w,d=l.X,f=l.i,h,p;return l.w=c=c+1640531527|0,p=d[f+34&127],h=d[f=f+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=d[f]=p^h,l.i=f,p+(c^c>>>16)|0};function u(c,d){var f,h,p,m,g,y=[],w=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,w=Math.max(w,d.length)),p=0,m=-32;m<w;++m)d&&(h^=d.charCodeAt((m+32)%d.length)),m===0&&(g=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(g=g+1640531527|0,f=y[m&127]^=h+g,p=f==0?p+1:0);for(p>=128&&(y[(d&&d.length||0)&127]=-1),p=127,m=4*128;m>0;--m)h=y[p+34&127],f=y[p=p+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,y[p]=h^f;c.w=g,c.X=y,c.i=p}u(l,i)}function o(i,l){return l.i=i.i,l.w=i.w,l.X=i.X.slice(),l}function a(i,l){i==null&&(i=+new Date);var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(c.X&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=a:s&&s.amd?s(function(){return a}):this.xor4096=a})(wn,t,!1)})(KV);var qV={exports:{}};(function(t){(function(e,n,s){function r(i){var l=this,u="";l.next=function(){var d=l.b,f=l.c,h=l.d,p=l.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^p,p=p-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-h|0,l.d=h<<16^f>>>16^p,l.a=p-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,i===Math.floor(i)?(l.a=i/4294967296|0,l.b=i|0):u+=i;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function o(i,l){return l.a=i.a,l.b=i.b,l.c=i.c,l.d=i.d,l}function a(i,l){var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(f+h)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&o(c,u),d.state=function(){return o(u,{})}),d}n&&n.exports?n.exports=a:s&&s.amd?s(function(){return a}):this.tychei=a})(wn,t,!1)})(qV);var XV={exports:{}};const ult={},clt=Object.freeze(Object.defineProperty({__proto__:null,default:ult},Symbol.toStringTag,{value:"Module"})),dlt=Mg(clt);(function(t){(function(e,n,s){var r=256,o=6,a=52,i="random",l=s.pow(r,o),u=s.pow(2,a),c=u*2,d=r-1,f;function h(_,$,x){var k=[];$=$==!0?{entropy:!0}:$||{};var C=y(g($.entropy?[_,b(n)]:_??w(),3),k),T=new p(k),N=function(){for(var M=T.g(o),R=l,D=0;M<u;)M=(M+D)*r,R*=r,D=T.g(1);for(;M>=c;)M/=2,R/=2,D>>>=1;return(M+D)/R};return N.int32=function(){return T.g(4)|0},N.quick=function(){return T.g(4)/4294967296},N.double=N,y(b(T.S),n),($.pass||x||function(M,R,D,z){return z&&(z.S&&m(z,T),M.state=function(){return m(T,{})}),D?(s[i]=M,R):M})(N,C,"global"in $?$.global:this==s,$.state)}function p(_){var $,x=_.length,k=this,C=0,T=k.i=k.j=0,N=k.S=[];for(x||(_=[x++]);C<r;)N[C]=C++;for(C=0;C<r;C++)N[C]=N[T=d&T+_[C%x]+($=N[C])],N[T]=$;(k.g=function(M){for(var R,D=0,z=k.i,B=k.j,V=k.S;M--;)R=V[z=d&z+1],D=D*r+V[d&(V[z]=V[B=d&B+R])+(V[B]=R)];return k.i=z,k.j=B,D})(r)}function m(_,$){return $.i=_.i,$.j=_.j,$.S=_.S.slice(),$}function g(_,$){var x=[],k=typeof _,C;if($&&k=="object")for(C in _)try{x.push(g(_[C],$-1))}catch{}return x.length?x:k=="string"?_:_+"\0"}function y(_,$){for(var x=_+"",k,C=0;C<x.length;)$[d&C]=d&(k^=$[d&C]*19)+x.charCodeAt(C++);return b($)}function w(){try{var _;return f&&(_=f.randomBytes)?_=_(r):(_=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(_)),b(_)}catch{var $=e.navigator,x=$&&$.plugins;return[+new Date,e,x,e.screen,b(n)]}}function b(_){return String.fromCharCode.apply(0,_)}if(y(s.random(),n),t.exports){t.exports=h;try{f=dlt}catch{}}else s["seed"+i]=h})(typeof self<"u"?self:wn,[],Math)})(XV);var flt=WV.exports,hlt=UV.exports,plt=GV.exports,mlt=jV.exports,glt=KV.exports,vlt=qV.exports,lf=XV.exports;lf.alea=flt;lf.xor128=hlt;lf.xorwow=plt;lf.xorshift7=mlt;lf.xor4096=glt;lf.tychei=vlt;var Ji=lf;let nT=class{constructor(e,n,s,r,o){this.mean=e,this.stdDev=n,this.dtype=s,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const a=o||Math.random();this.random=Ji.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let e,n,s=!1;for(;!s;){let r,o,a;do r=2*this.random()-1,o=2*this.random()-1,a=r*r+o*o;while(a>=1||a===0);const i=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*r*i,n=this.mean+this.stdDev*o*i,(!this.truncated||this.isValidTruncated(e))&&(s=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}},ylt=class{constructor(e,n,s,r){this.alpha=e,this.beta=1/n,this.dtype=s;const o=r||Math.random();this.randu=Ji.alea(o.toString()),this.randn=new nT(0,1,s,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,s,r,o,a;for(;;){do r=this.randn.nextValue(),a=1+this.c*r;while(a<=0);if(a*=a*a,e=r*r,n=1-.331*e*e,s=.5*e+this.d*(1-a+Math.log(a)),o=this.randu(),o<n||Math.log(o)<s)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}},blt=class{constructor(e=0,n=1,s,r){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=s,r==null&&(r=Math.random()),typeof r=="number"&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=Ji.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}};function wlt(t,e,n=1,s="float32",r){if(Eo(t),n==null&&(n=1),s==null&&(s="float32"),s!=="float32"&&s!=="int32")throw new Error(`Unsupported data type ${s}`);const o=new ylt(e,n,s,r),a=tn(t,s);for(let i=0;i<a.values.length;i++)a.values[i]=o.nextValue();return a.toTensor()}const YV=be({randomGamma_:wlt});function _lt(t,e=0,n=1,s,r){if(Eo(t),s!=null&&s==="bool")throw new Error(`Unsupported data type ${s}`);const o=new nT(e,n,s,!1,r),a=tn(t,s);for(let i=0;i<a.values.length;i++)a.values[i]=o.nextValue();return a.toTensor()}const J_=be({randomNormal_:_lt});function $lt(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return J_(t,0,1,e,n)}const ZV=be({randomStandardNormal_:$lt});function xlt(t,e=0,n=1,s="float32",r){Eo(t);const o=tn(t,s),a=new blt(e,n,null,r);for(let i=0;i<o.values.length;i++)o.values[i]=a.nextValue();return o.toTensor()}const am=be({randomUniform_:xlt});function Fd(t,e,n=1,s="float32"){if(n===0)throw new Error("Cannot have a step of zero");const r={start:t,stop:e,step:n,dtype:s};return ye.runKernel(h_,{},r)}function Slt(t){const n={x:te(t,"x","reciprocal")};return ye.runKernel(Dp,n)}const sT=be({reciprocal_:Slt});function Clt(t){const n={x:te(t,"x","relu")};return ye.runKernel(Fp,n)}const li=be({relu_:Clt});function klt(t){const n={x:te(t,"x","relu6")};return ye.runKernel(Mp,n)}const Q_=be({relu6_:klt});function Tlt(t,e){const s={x:te(t,"x","reverse")},r={dims:e};return ye.runKernel(O1,s,r)}const Xo=be({reverse_:Tlt});function Nlt(t){const e=te(t,"x","reverse");return q(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Xo(e,0)}const JV=be({reverse1d_:Nlt});function Elt(t,e){const n=te(t,"x","reverse");return q(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Xo(n,e)}const QV=be({reverse2d_:Elt});function Ilt(t,e){const n=te(t,"x","reverse");return q(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Xo(n,e)}const eH=be({reverse3d_:Ilt});function Alt(t,e){const n=te(t,"x","reverse");return q(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Xo(n,e)}const tH=be({reverse4d_:Alt});function Olt(t){const n={x:te(t,"x","round")};return ye.runKernel(Pp,n)}const e3=be({round_:Olt});function Rlt(t){const n={x:te(t,"x","rsqrt","float32")};return ye.runKernel(Lp,n)}const t3=be({rsqrt_:Rlt});function Dlt(t){const n={x:te(t,"x","selu")};return ye.runKernel(zp,n)}const n3=be({selu_:Dlt});function Flt(t,e,n,s,r,o=[1,1],a="NHWC"){const i=te(t,"x","separableConv2d"),l=te(e,"depthwiseFilter","separableConv2d"),u=te(n,"pointwiseFilter","separableConv2d");let c=i,d=!1;if(i.rank===3&&(d=!0,c=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2]])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");q(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),q(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),q(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),q(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),q(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const f=l.shape[2],h=l.shape[3];q(u.shape[2]===f*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${f*h}, but got ${u.shape[2]}.`);const p=em(c,l,s,r,a,o),g=Al(p,u,1,"valid",a);return d?Ne(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const s3=be({separableConv2d_:Flt});async function Mlt(t,e){const n=te(t,"x","setdiff1d"),s=te(e,"y","setdiff1d");q(n.dtype===s.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${s.dtype}).`),q(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),q(s.rank===1,()=>`y should be 1D tensor, but got y (${s.shape}).`);const r=await n.data(),o=await s.data(),a=new Set(o);let i=0;for(let c=0;c<r.length;c++)a.has(r[c])||i++;const l=new Ds([i],n.dtype),u=new Ds([i],"int32");for(let c=0,d=0;c<r.length;c++)a.has(r[c])||(l.values[d]=r[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]}const nH=Mlt;function Plt(t){const n={x:te(t,"x","sign")};return ye.runKernel(Hp,n)}const rT=be({sign_:Plt});function Llt(t){const n={x:te(t,"x","sin","float32")};return ye.runKernel(Bp,n)}const r3=be({sin_:Llt});function zlt(t){const n={x:te(t,"x","sinh")};return ye.runKernel(Vp,n)}const o3=be({sinh_:zlt});function Blt(t,e,n){const s=te(t,"x","slice1d");return q(s.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${s.rank} tensor`),mn(s,[e],[n])}const n2=be({slice1d_:Blt});function Vlt(t,e,n){const s=te(t,"x","slice2d");return q(s.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${s.rank} tensor`),mn(s,e,n)}const a3=be({slice2d_:Vlt});function Hlt(t,e,n){const s=te(t,"x","slice3d");return q(s.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${s.rank} tensor`),mn(s,e,n)}const s2=be({slice3d_:Hlt});function Wlt(t,e,n){const s=te(t,"x","slice4d");return q(s.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${s.rank} tensor`),mn(s,e,n)}const Th=be({slice4d_:Wlt});function Ult(t,e=-1){const n=te(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const s={logits:n},r={dim:e};return ye.runKernel(L1,s,r)}const r2=be({softmax_:Ult});function Glt(t){q(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ye.runKernel(Xw,e)}const o2=be({fft_:Glt});function jlt(t){q(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ye.runKernel(Qw,e)}const Nh=be({ifft_:jlt});function Klt(t){const e=t.shape[t.shape.length-1],n=t.size/e;let s;if(e<=2){const r=Ne(t,[n,e]);s=Nh(r)}else{const r=[n,2*(e-1)],o=Ne(Ch(t),[n,e]),a=Ne(U1(t),[n,e]),i=Xo(mn(o,[0,1],[n,e-2]),1),l=Te(Xo(mn(a,[0,1],[n,e-2]),1),Pt(-1)),u=vs([o,i],1),c=vs([a,l],1),d=Ne(Il(u,c),[r[0],r[1]]);s=Nh(d)}if(s=Ch(s),t.rank===3&&t.shape[0]!==0){const r=s,o=t.shape[0];s=Ne(s,[o,s.shape[0]/o,s.shape[1]]),r.dispose()}return s}const i3=be({irfft_:Klt});function qlt(t,e,n=0){const r={x:te(t,"x","split")},o={numOrSizeSplits:e,axis:n};return ye.runKernel(P1,r,o)}const Kr=be({split_:qlt});function Xlt(t,e){q(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const s=t.size/n;let r;if(e!=null&&e<n){const p=t.shape.map(g=>0),m=t.shape.map(g=>g);m[t.shape.length-1]=e,r=mn(t,p,m),n=e}else if(e!=null&&e>n){const p=t.shape.map(m=>m);p[t.shape.length-1]=e-n,r=vs([t,xs(p)],t.shape.length-1),n=e}else r=t;const o=yn(r),a=Ne(Il(r,o),[s,n]),i=o2(a),l=Math.floor(n/2)+1,u=Ch(i),c=U1(i),d=Kr(u,[l,n-l],u.shape.length-1),f=Kr(c,[l,n-l],c.shape.length-1),h=r.shape.slice();return h[r.shape.length-1]=l,Ne(Il(d[0],f[0]),h)}const a2=be({rfft_:Xlt});function Ylt(t,e){let n=te(t,"a","squaredDifference"),s=te(e,"b","squaredDifference");[n,s]=ds(n,s),Yt(n.shape,s.shape);const r={a:n,b:s},o={};return ye.runKernel(jp,r,o)}const l3=be({squaredDifference_:Ylt});function Zlt(t,e){const n=te(t,"x","squeeze","string_or_numeric");return Ne(n,Kl(n.shape,e).newShape)}const gc=be({squeeze_:Zlt});function Jlt(t,e=0){const n=ng(t,"tensors","stack","string_or_numeric");q(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&q(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const s=n,r={axis:e};return ye.runKernel(C1,s,r)}const Jr=be({stack_:Jlt});function Qlt(t,e=0){const s={x:te(t,"x","step")},r={alpha:e};return ye.runKernel(Zp,s,r)}const uf=be({step_:Qlt});function eut(t,e,n,s,r=0,o=0,a=0,i=0,l=0){const c={x:te(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:s,beginMask:r,endMask:o,ellipsisMask:a,newAxisMask:i,shrinkAxisMask:l};return ye.runKernel(C_,c,d)}const oT=be({stridedSlice_:eut});function tut(t){const n={x:te(t,"x","tan","float32")};return ye.runKernel(qp,n)}const aT=be({tan_:tut});function vr(t,e){ef(t);const n=Vi(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return fc(t,null,n,e)}function Mu(t,e,n){if(ef(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const s=Vi(t,n);if(s.length!==2&&s.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return fc(t,e,s,n)}function sH(t,e,n){if(ef(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const s=Vi(t,n);if(s.length!==4&&s.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return fc(t,e,s,n)}function rH(t,e,n){if(ef(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const s=Vi(t,n);if(s.length!==5&&s.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return fc(t,e,s,n)}function oH(t,e,n){if(ef(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const s=Vi(t,n);if(s.length!==6&&s.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||s,fc(t,e,s,n)}function nut(t,e=1,n=!0){const s=te(t,"x","topk");if(s.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const r=s.shape[s.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${e}`);const o={x:s},a={k:e,sorted:n},[i,l]=ye.runKernel(E_,o,a);return{values:i,indices:l}}const iT=be({topk_:nut});function sut(t,e=0,n=1,s,r){if(Eo(t),s!=null&&s==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new nT(e,n,s,!0,r),a=tn(t,s);for(let i=0;i<a.values.length;i++)a.values[i]=o.nextValue();return a.toTensor()}const u3=be({truncatedNormal_:sut});function rut(t,e=0){const n=te(t,"x","unique","string_or_numeric");q(n.rank>0,()=>"The input tensor must be at least 1D");const s={x:n},r={axis:e},[o,a]=ye.runKernel(A_,s,r);return{values:o,indices:a}}const lT=be({unique_:rut});function out(t,e,n){const s=te(t,"x","unsortedSegmentSum"),r=te(e,"segmentIds","unsortedSegmentSum","int32");q(Nd(n),()=>"numSegments must be of dtype int");const o={x:s,segmentIds:r},a={numSegments:n};return ye.runKernel(B1,o,a)}const c3=be({unsortedSegmentSum_:out});function aut(t,e=0){const n=te(t,"x","unstack","string_or_numeric");q(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const s={value:n},r={axis:e};return ye.runKernel(z1,s,r)}const Yo=be({unstack_:aut});function aH(t,e){return Z_(t,e,"right")}function uT(t,e=!0,n,s){return ye.makeVariable(t,e,n,s)}function d3(t,e){const n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(o);const s=tn(t,"int32"),r=tn([n.length,t.length],"int32");for(let o=0;o<n.length;o++){const a=s.indexToLoc(n[o]),i=o*t.length;r.values.set(a,i)}return r.toTensor()}async function iut(t){const e=te(t,"condition","whereAsync","bool"),n=await e.data(),s=d3(e.shape,n);return t!==e&&e.dispose(),s}const cT=iut;async function lut(t,e,n){const s=te(t,"tensor","boolMask"),r=te(e,"mask","boolMask","bool"),o=n??0,a=r.rank,i=s.shape;q(a>0,()=>"mask cannot be scalar"),lr(i.slice(o,o+a),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+a;m++)l*=i[m];const u=i.slice(0,o).concat([l],i.slice(o+a)),c=Ne(s,u),d=Ne(r,[-1]),f=await cT(d),h=gc(f,[1]),p=rm(c,h,o);return t!==s&&s.dispose(),e!==r&&r.dispose(),h.dispose(),c.dispose(),d.dispose(),f.dispose(),p}const iH=lut;function uut(t,e,n,s,r=!0){const o=te(t,"v","movingAverage"),a=te(e,"x","movingAverage"),i=te(n,"decay","movingAverage");LB(o,a),q(hn(o.shape,a.shape),()=>"Shape mismatch in v and x");const l=Pt(1),u=$t(l,i);let c=Te($t(a,o),u);if(r){q(s!=null,()=>"When using zeroDebias: true, step is required.");const d=te(s,"step","movingAverage");c=It(c,$t(l,Ol(i,d)))}return st(o,c)}const lH=be({movingAverage_:uut});function cut(t,e,n){Eo(n);const s=te(t,"indices","scatterND","int32"),r=te(e,"updates","scatterND");i8(r,s,n);const o={indices:s,updates:r},a={shape:n};return ye.runKernel(v_,o,a)}const uH=be({scatterND_:cut});function dut(t,e,n,s){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const r=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const a=e.size;if(!(e.rank===0||e.rank===1&&a===r))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${r}]`);if(e.dtype!==s.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function fut(t,e,n,s=0){Eo(n);const r=te(t,"sparseIndices","sparseToDense","int32"),o=te(e,"sparseValues","sparseToDense","string_or_numeric"),a=te(s,"defaultValue","sparseToDense",o.dtype);dut(r,o,n,a);const i={sparseIndices:r,sparseValues:o,defaultValue:a},l={outputShape:n};return ye.runKernel(x_,i,l)}const cH=be({sparseToDense_:fut});function hut(t,e){const n=te(e,"indices","gatherND","int32"),r={params:te(t,"x","gatherND","string_or_numeric"),indices:n};return ye.runKernel(Jw,r)}const dH=be({gatherND_:hut});function put(t,e){if(e==null)return t.shape.slice();if(hn(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let s=0;s<t.shape.length;s++)e[s]==null&&t.shape[s]!=null?n.push(t.shape[s]):n.push(e[s]);return n}return e}function mut(t,e,n,s){const r=te(t,"x","dropout");if(q(r.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),q(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof $n?r.clone():r;const o=put(r,n),a=1-e,i=It(sm(st(am(o,0,1,"float32",s),a)),a);return Te(r,i)}const dT=be({dropout_:mut});function fT(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function f3(t,e,n){const s=1-t%2,r=new Float32Array(t);for(let o=0;o<t;++o){const a=2*Math.PI*o/(t+s-1);r[o]=e-n*Math.cos(a)}return vr(r,"float32")}async function gut(t,e,n=1){const s=te(t,"predictions","inTopK"),r=te(e,"targets","inTopK");q(s.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${s.rank}`),q(s.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${s.rank} and targets rank ${r.rank}`),lr(s.shape.slice(0,s.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=s.shape[s.shape.length-1];q(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const a=await s.data(),i=await r.data(),[l,u]=[a.length/o,o],c=zs("bool",l);for(let d=0;d<l;d++){const f=d*u,h=a.subarray(f,f+u),p=[];for(let m=0;m<h.length;m++)p.push({value:h[m],index:m});p.sort((m,g)=>g.value-m.value),c[d]=0;for(let m=0;m<n;m++)if(p[m].index===i[d]){c[d]=1;break}}return t!==s&&s.dispose(),e!==r&&r.dispose(),yo(c,r.shape,"bool")}const fH=gut;function vut(t,e,n,s,r,o="NHWC",a){let i=t;t.rank===3&&(i=Ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2]])),q(i.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`),q(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),q(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=o==="NHWC"?i.shape[3]:i.shape[1],c=o==="NHWC"?l.shape[3]:l.shape[1];q(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),q(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),Mr("conv2dDerFilter",r,a);const d={x:i,dy:l},f={strides:s,pad:r,dataFormat:o,dimRoundingMode:a,filterShape:n};return ye.runKernel(Pw,d,f)}const hT=be({conv2DBackpropFilter_:vut});function h3(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Te(t,uf(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function p3(t,e){let n=e;const s=Ts(t.shape,e.shape);return s.length>0&&(n=kt(n,s)),Ne(n,t.shape)}function m3(t,e,n,s){if(e==="linear")return t;if(e==="relu")return li(t);if(e==="elu")return tm(t);if(e==="relu6")return Q_(t);if(e==="prelu")return t2(t,n);if(e==="leakyrelu")return X1(t,s);if(e==="sigmoid")return qa(t);throw new Error(`Unknown fused activation ${e}.`)}const g3=(t,e)=>!(t>0)||e==="linear";function yut({x:t,filter:e,strides:n,pad:s,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:a,bias:i,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",g3(ye.state.gradientDepth,l)===!1){q(r==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let x=Al(t,e,n,s,r,o,a);return i!=null&&(x=st(x,i)),m3(x,l,u,c)}const d=te(t,"x","conv2d","float32"),f=te(e,"filter","conv2d","float32");let h=d,p=!1;d.rank===3&&(p=!0,h=Ne(d,[1,d.shape[0],d.shape[1],d.shape[2]])),q(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),q(f.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${f.rank}.`),Mr("fused conv2d",s,a);const m=r==="NHWC"?h.shape[3]:h.shape[1];q(f.shape[2]===m,()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${f.shape[2]}.`),q(ur(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const g=Gs(h.shape,f.shape,n,o,s,a);let y;i!=null&&(y=te(i,"bias","fused conv2d"),[y]=ds(y,d),r==="NHWC"?Yt(g.outShape,y.shape):(q(y.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`),q(y.shape.length===0||y.shape[0]===g.outChannels||y.shape[0]===1,()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${g.outChannels})`)));let w;if(u!=null){const x=u.shape;if(q(x.length<=1||x.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${x.length}.`),x.length===1)q(x[0]===1||x[0]===g.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${x}) is not compatible with the number of output channels (${g.outChannels}).`);else if(x.length===3)try{Yt(x,g.outShape)}catch{const C=`Error in fused conv2d: PReLU activation weights (${x}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(C)}w=te(u,"prelu weights","fused conv2d")}const b=(x,k)=>{q(r==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);const[C,T,N,M]=k,R=h3(x,N,l);q(Zu(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const D=D8(T.shape,R,C,n,s),z=hT(T,R,C.shape,n,s),B=[D,z];if(M!=null){const V=p3(M,R);B.push(V)}return B},_={x:h,filter:f,bias:y,preluActivationWeights:w},$={strides:n,pad:s,dataFormat:r,dilations:o,dimRoundingMode:a,activation:l,leakyreluAlpha:c};return i==null?Hi((k,C,T)=>{let N=ye.runKernel(Z0,_,$);return T([C,k,N]),p&&(N=Ne(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:b}})(h,f):Hi((k,C,T,N)=>{let M=ye.runKernel(Z0,_,$);return N([C,k,M,T]),p&&(M=Ne(M,[M.shape[1],M.shape[2],M.shape[3]])),{value:M,gradFunc:b}})(h,f,y)}const hH=be({fusedConv2d_:yut});function but(t,e,n,s,r,o=[1,1],a){let i=t;t.rank===3&&(i=Ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:i,dy:l},c={strides:s,pad:r,dimRoundingMode:a,dilations:o,filterShape:n};return ye.runKernel(Uw,u,c)}const pH=be({depthwiseConv2dNativeBackpropFilter_:but});function wut(t,e,n,s,r,o=[1,1],a){let i=e,l=!1;e.rank===3&&(l=!0,i=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:i,filter:n},c={strides:s,pad:r,dimRoundingMode:a,dilations:o,inputShape:t},d=ye.runKernel(Gw,u,c);return l?Ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const mH=be({depthwiseConv2dNativeBackpropInput_:wut});function _ut({x:t,filter:e,strides:n,pad:s,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:a,bias:i,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(g3(ye.state.gradientDepth,l)===!1){let $=em(t,e,n,s,r,o,a);return i!=null&&($=st($,i)),m3($,l,u,c)}const d=te(t,"x","depthwiseConv2d","float32"),f=te(e,"filter","depthwiseConv2d","float32");let h=d,p=!1;d.rank===3&&(p=!0,h=Ne(d,[1,d.shape[0],d.shape[1],d.shape[2]])),q(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),q(f.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`),q(h.shape[3]===f.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`),o==null&&(o=[1,1]),q(ur(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),Mr("fused depthwiseConv2d",s,a);const m=Gs(h.shape,f.shape,n,o,s,a,!0);let g;i!=null&&(g=te(i,"bias","fused conv2d"),[g]=ds(g,d),Yt(m.outShape,g.shape));let y;u!=null&&(y=te(u,"prelu weights","fused depthwiseConv2d"));const w=($,x)=>{q(Zu(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[k,C,T,N]=x,M=h3($,T,l),R=mH(C.shape,M,k,n,s,o,a),D=pH(C,M,k.shape,n,s,o,a);if(N!=null){const z=p3(g,M);return[R,D,z]}return[R,D]},b={x:h,filter:f,bias:g,preluActivationWeights:y},_={strides:n,pad:s,dataFormat:r,dilations:o,dimRoundingMode:a,activation:l,leakyreluAlpha:c};return i==null?Hi((x,k,C)=>{let T=ye.runKernel(J0,b,_);return C([k,x,T]),p&&(T=Ne(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:w}})(h,f):Hi((x,k,C,T)=>{let N=ye.runKernel(J0,b,_);return T([k,x,N,C]),p&&(N=Ne(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:w}})(h,f,g)}const $ut=be({fusedDepthwiseConv2d_:_ut});function xut({a:t,b:e,transposeA:n=!1,transposeB:s=!1,bias:r,activation:o="linear",preluActivationWeights:a,leakyreluAlpha:i=.2}){if(g3(ye.state.gradientDepth,o)===!1){let M=ln(t,e,n,s);return r!=null&&(M=st(M,r)),m3(M,o,a,i)}let l=te(t,"a","fused matMul"),u=te(e,"b","fused matMul");[l,u]=ds(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=s?u.shape[u.rank-1]:u.shape[u.rank-2],f=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=s?u.shape[u.rank-2]:u.shape[u.rank-1],p=l.shape.slice(0,-2),m=u.shape.slice(0,-2),g=Ge(p),y=Ge(m);q(c===d,()=>`Error in fused matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${s} must match.`);const b=Yt(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([f,h]),_=n?Ne(l,[g,c,f]):Ne(l,[g,f,c]),$=s?Ne(u,[y,h,d]):Ne(u,[y,d,h]);let x;r!=null&&(x=te(r,"bias","fused matMul"),[x]=ds(x,l),Yt(b,x.shape));let k;a!=null&&(k=te(a,"prelu weights","fused matMul"));const C=(M,R)=>{const[D,z,B,V]=R,O=h3(Ne(M,B.shape),B,o);let F,L;if(!n&&!s?(F=ln(O,z,!1,!0),L=ln(D,O,!0,!1)):!n&&s?(F=ln(O,z,!1,!1),L=ln(O,D,!0,!1)):n&&!s?(F=ln(z,O,!1,!0),L=ln(D,O,!1,!1)):(F=ln(z,O,!0,!0),L=ln(O,D,!0,!0)),r!=null){const G=p3(V,O);return[F,L,G]}else return[F,L]},T={a:_,b:$,bias:x,preluActivationWeights:k},N={transposeA:n,transposeB:s,activation:o,leakyreluAlpha:i};return r==null?Hi((R,D,z)=>{const B=ye.runKernel(Y0,T,N);return z([R,D,B]),{value:Ne(B,b),gradFunc:C}})(_,$):Hi((R,D,z,B)=>{const V=ye.runKernel(Y0,T,N);return B([R,D,V,z]),{value:Ne(V,b),gradFunc:C}})(_,$,x)}const Cx=be({fusedMatMul_:xut});const gH=Object.freeze(Object.defineProperty({__proto__:null,conv2d:hH,depthwiseConv2d:$ut,matMul:Cx},Symbol.toStringTag,{value:"Module"}));function Sut(t){return f3(t,.54,.46)}const Cut=be({hammingWindow_:Sut});function kut(t){return f3(t,.5,.5)}const vH=be({hannWindow_:kut});function Tut(t,e,n,s=!1,r=0){let o=0;const a=[];for(;o+e<=t.size;)a.push(mn(t,o,e)),o+=n;if(s)for(;o<t.size;){const i=o+e-t.size,l=vs([mn(t,o,e-i),of([i],r)]);a.push(l),o+=n}return a.length===0?Mu([],[0,e]):Ne(vs(a),[a.length,e])}const yH=be({frame_:Tut});function Nut(t,e,n,s,r=vH){s==null&&(s=fT(e));const o=yH(t,e,n),a=Te(o,r(e));return a2(a,s)}const Eut=be({stft_:Nut});function Iut(t,e,n,s,r="bilinear",o=0){const a=te(t,"image","cropAndResize"),i=te(e,"boxes","cropAndResize","float32"),l=te(n,"boxInd","cropAndResize","int32"),u=i.shape[0];q(a.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`),q(i.rank===2&&i.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${i.shape}.`),q(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${i.shape}.`),q(s.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${s.length}.`),q(s[0]>=1&&s[1]>=1,()=>`cropSize must be atleast [1,1], but was ${s}`),q(r==="bilinear"||r==="nearest",()=>`method must be bilinear or nearest, but was ${r}`);const c={image:a,boxes:i,boxInd:l},d={method:r,extrapolationValue:o,cropSize:s};return ye.runKernel(Vw,c,d)}const Aut=be({cropAndResize_:Iut});function Out(t){const e=te(t,"image","flipLeftRight","float32");q(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return ye.runKernel(Zw,n,{})}const Rut=be({flipLeftRight_:Out});function Dut(t){const e=te(t,"image","grayscaleToRGB"),n=e.rank-1,s=e.shape[n];q(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),q(s===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${s}.`);const r=new Array(e.rank);return r.fill(1,0,n),r[n]=3,Lo(e,r)}const Fut=be({grayscaleToRGB_:Dut});function Mut(t,e,n=0,s=.5){const r=te(t,"image","rotateWithOffset","float32");q(r.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`);const o={image:r},a={radians:e,fillValue:n,center:s};return ye.runKernel(O_,o,a)}const Put=be({rotateWithOffset_:Mut});function im(t,e,n,s,r,o){s==null&&(s=.5),r==null&&(r=Number.NEGATIVE_INFINITY),o==null&&(o=0);const a=t.shape[0];return n=Math.min(n,a),q(0<=s&&s<=1,()=>`iouThreshold must be in [0, 1], but was '${s}'`),q(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),q(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),q(e.rank===1,()=>"scores must be a 1D tensor"),q(e.shape[0]===a,()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${e.shape[0]}`),q(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:s,scoreThreshold:r,softNmsSigma:o}}function Lut(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY){const o=te(t,"boxes","nonMaxSuppression","float32"),a=te(e,"scores","nonMaxSuppression","float32"),i=im(o,a,n,s,r);n=i.maxOutputSize,s=i.iouThreshold,r=i.scoreThreshold;const l={maxOutputSize:n,iouThreshold:s,scoreThreshold:r};return ye.runKernel(i_,{boxes:o,scores:a},l)}const zut=be({nonMaxSuppression_:Lut});function But(t,e,n){const s=Vut(t,e,n),r=s<0?-(s+1):s;t.splice(r,0,e)}function Vut(t,e,n){return Wut(t,e,n||Hut)}function Hut(t,e){return t>e?1:t<e?-1:0}function Wut(t,e,n){let s=0,r=t.length,o=0,a=!1;for(;s<r;){o=s+(r-s>>>1);const i=n(e,t[o]);i>0?s=o+1:(r=o,a=!i)}return a?s:-s-1}function v3(t,e,n,s,r){return pT(t,e,n,s,r,0)}function y3(t,e,n,s,r,o){return pT(t,e,n,s,r,0,!1,o,!0)}function b3(t,e,n,s,r,o){return pT(t,e,n,s,r,o,!0)}function pT(t,e,n,s,r,o,a=!1,i=!1,l=!1){const u=[];for(let g=0;g<e.length;g++)e[g]>r&&u.push({score:e[g],boxIndex:g,suppressBeginIndex:0});u.sort(qR);const c=o>0?-.5/o:0,d=[],f=[];for(;d.length<n&&u.length>0;){const g=u.pop(),{score:y,boxIndex:w,suppressBeginIndex:b}=g;if(y<r)break;let _=!1;for(let $=d.length-1;$>=b;--$){const x=Uut(t,w,d[$]);if(x>=s){_=!0;break}if(g.score=g.score*Gut(s,c,x),g.score<=r)break}g.suppressBeginIndex=d.length,_||(g.score===y?(d.push(w),f.push(g.score)):g.score>r&&But(u,g,qR))}const h=d.length,p=n-h;i&&p>0&&(d.push(...new Array(p).fill(0)),f.push(...new Array(p).fill(0)));const m={selectedIndices:d};return a&&(m.selectedScores=f),l&&(m.validOutputs=h),m}function Uut(t,e,n){const s=t.subarray(e*4,e*4+4),r=t.subarray(n*4,n*4+4),o=Math.min(s[0],s[2]),a=Math.min(s[1],s[3]),i=Math.max(s[0],s[2]),l=Math.max(s[1],s[3]),u=Math.min(r[0],r[2]),c=Math.min(r[1],r[3]),d=Math.max(r[0],r[2]),f=Math.max(r[1],r[3]),h=(i-o)*(l-a),p=(d-u)*(f-c);if(h<=0||p<=0)return 0;const m=Math.max(o,u),g=Math.max(a,c),y=Math.min(i,d),w=Math.min(l,f),b=Math.max(y-m,0)*Math.max(w-g,0);return b/(h+p-b)}function Gut(t,e,n){const s=Math.exp(e*n*n);return n<=t?s:0}function qR(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}async function jut(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY){const o=te(t,"boxes","nonMaxSuppressionAsync"),a=te(e,"scores","nonMaxSuppressionAsync"),i=im(o,a,n,s,r);n=i.maxOutputSize,s=i.iouThreshold,r=i.scoreThreshold;const l=await Promise.all([o.data(),a.data()]),u=l[0],c=l[1],{selectedIndices:d}=v3(u,c,n,s,r);return o!==t&&o.dispose(),a!==e&&a.dispose(),vr(d,"int32")}const Kut=jut;function qut(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,o=0){const a=te(t,"boxes","nonMaxSuppression"),i=te(e,"scores","nonMaxSuppression"),l=im(a,i,n,s,r,o);n=l.maxOutputSize,s=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:a,scores:i},c={maxOutputSize:n,iouThreshold:s,scoreThreshold:r,softNmsSigma:o},d=ye.runKernel(u_,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}const Xut=be({nonMaxSuppressionWithScore_:qut});async function Yut(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,o=0){const a=te(t,"boxes","nonMaxSuppressionAsync"),i=te(e,"scores","nonMaxSuppressionAsync"),l=im(a,i,n,s,r,o);n=l.maxOutputSize,s=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([a.data(),i.data()]),c=u[0],d=u[1],{selectedIndices:f,selectedScores:h}=b3(c,d,n,s,r,o);return a!==t&&a.dispose(),i!==e&&i.dispose(),{selectedIndices:vr(f,"int32"),selectedScores:vr(h)}}const Zut=Yut;function Jut(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,o=!1){const a=te(t,"boxes","nonMaxSuppression"),i=te(e,"scores","nonMaxSuppression"),l=im(a,i,n,s,r,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,f={boxes:a,scores:i},h={maxOutputSize:u,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:o},p=ye.runKernel(l_,f,h);return{selectedIndices:p[0],validOutputs:p[1]}}const Qut=be({nonMaxSuppressionPadded_:Jut});async function ect(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,o=!1){const a=te(t,"boxes","nonMaxSuppressionAsync"),i=te(e,"scores","nonMaxSuppressionAsync"),l=im(a,i,n,s,r,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[f,h]=await Promise.all([a.data(),i.data()]),{selectedIndices:p,validOutputs:m}=y3(f,h,u,c,d,o);return a!==t&&a.dispose(),i!==e&&i.dispose(),{selectedIndices:vr(p,"int32"),validOutputs:Pt(m,"int32")}}const tct=ect;function nct(t,e,n=!1,s=!1){const r=te(t,"images","resizeBilinear");q(r.rank===3||r.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),q(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),q(s===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=r,a=!1;r.rank===3&&(a=!0,o=Ne(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const i={images:o},l={alignCorners:n,halfPixelCenters:s,size:e},u=ye.runKernel(A1,i,l);return a?Ne(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const bH=be({resizeBilinear_:nct});function sct(t,e,n=!1,s=!1){const r=te(t,"images","resizeNearestNeighbor");q(r.rank===3||r.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),q(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),q(r.dtype==="float32"||r.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),q(s===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=r,a=!1;r.rank===3&&(a=!0,o=Ne(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const i={images:o},l={alignCorners:n,halfPixelCenters:s,size:e},u=ye.runKernel(I1,i,l);return a?Ne(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const wH=be({resizeNearestNeighbor_:sct});function rct(t,e="binary",n=!1,s=.5){const r=te(t,"image","threshold"),o=.2989,a=.587,i=.114,l=r.shape[0]*r.shape[1];let u=Te(vr([s]),255),c,d,f,h;if(q(r.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),q(r.shape[2]===3||r.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),q(r.dtype==="int32"||r.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),q(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),r.shape[2]===3){[c,d,f]=Kr(r,[1,1,1],-1);const g=Te(c,o),y=Te(d,a),w=Te(f,i);h=st(st(g,y),w)}else h=t;if(e==="otsu"){const g=N8(ht(e3(h),"int32"),yo([]),256);u=oct(g,l)}const p=n?mc(h,u):Pr(h,u);return ht(Te(p,255),"int32")}function oct(t,e){let n=vr([-1]),s=vr([0]),r=vr([0]),o,a,i,l,u,c;for(let d=0;d<t.size-1;d++){o=mn(t,0,d+1),a=mn(t,d+1),u=It(kt(o),e),c=It(kt(a),e);const f=kt(Te(o,Fd(0,o.size)));i=It(f,kt(o));const h=of(a.shape,o.size),p=st(Fd(0,a.size),h),m=Te(a,p);l=It(kt(m),kt(a));const g=$t(i,l),y=$t(i,l),w=Te(u,c);r=Te(Te(w,g),y);const b=Pr(r,s);s=wr(b,r,s),n=wr(b,vr([d]),n)}return n}const act=be({threshold_:rct});function ict(t,e,n="nearest",s="constant",r=0,o){const a=te(t,"image","transform","float32"),i=te(e,"transforms","transform","float32");q(a.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`),q(i.rank===2&&(i.shape[0]===a.shape[0]||i.shape[0]===1)&&i.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),q(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const l={image:a,transforms:i},u={interpolation:n,fillMode:s,fillValue:r,outputShape:o};return ye.runKernel(I_,l,u)}const lct=be({transform_:ict});function uct(t,e,n){q(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),q(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`);const s=te(t,"a","bandPart");q(s.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${s.rank}.`);const r=s.shape,[o,a]=s.shape.slice(-2);if(!(e<=o))throw new Error(`bandPart(): numLower (${e}) must not be greater than the number of rows (${o}).`);if(!(n<=a))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`);e<0&&(e=o),n<0&&(n=a);const i=Ne(Fd(0,o,1,"int32"),[-1,1]),l=Fd(0,a,1,"int32"),u=$t(i,l),c=Ta(mc(u,Pt(+e,"int32")),Zl(u,Pt(-n,"int32"))),d=xs([o,a],s.dtype);return Ne(Jr(Yo(Ne(s,[-1,o,a])).map(f=>wr(c,f,d))),r)}const cct=be({bandPart_:uct});function dct(t){let e;if(Array.isArray(t)){e=!1,q(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=t[0].shape[0];for(let o=1;o<t.length;++o)q(t[o].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[o].shape[0]} vs. ${r})`)}else e=!0,t=Kr(t,t.shape[0],0).map(r=>gc(r,[0]));q(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],s=t;for(let r=0;r<t.length;++r)n.push(ye.tidy(()=>{let o=s[r];if(r>0)for(let a=0;a<r;++a){const i=Te(kt(Te(n[a],o)),n[a]);o=$t(o,i)}return It(o,nm(o,"euclidean"))}));return e?Jr(n,0):n}const fct=be({gramSchmidt_:dct});function hct(t,e=!1){if(q(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return XR(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,u)=>l*u),s=Yo(Ne(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),r=[],o=[];s.forEach(l=>{const[u,c]=XR(l,e);r.push(u),o.push(c)});const a=Ne(Jr(r,0),t.shape),i=Ne(Jr(o,0),t.shape);return[a,i]}}function XR(t,e=!1){return ye.tidy(()=>{q(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],s=t.shape[1];let r=G_(n),o=Ri(t);const a=Mu([[1]],[1,1]);let i=Ri(a);const l=n>=s?s:n;for(let u=0;u<l;++u){const c=o,d=i,f=r;[i,o,r]=ye.tidy(()=>{const h=mn(o,[u,u],[n-u,1]),p=nm(h),m=mn(o,[u,u],[1,1]),g=wr(Pr(m,0),Mu([[-1]]),Mu([[1]])),y=$t(m,Te(g,p)),w=It(h,y);w.shape[0]===1?i=Ri(a):i=vs([a,mn(w,[1,0],[w.shape[0]-1,w.shape[1]])],0);const b=Jn(It(ln(g,y),p)),_=mn(o,[u,0],[n-u,s]),$=Te(b,i),x=dn(i);if(u===0)o=$t(_,ln($,ln(x,_)));else{const T=$t(_,ln($,ln(x,_)));o=vs([mn(o,[0,0],[u,s]),T],0)}const k=dn($),C=mn(r,[0,u],[n,r.shape[1]-u]);if(u===0)r=$t(C,ln(ln(C,i),k));else{const T=$t(C,ln(ln(C,i),k));r=vs([mn(r,[0,0],[n,u]),T],1)}return[i,o,r]}),Xt([c,d,f])}return!e&&n>s&&(r=mn(r,[0,0],[n,s]),o=mn(o,[0,0],[s,s])),[r,o]})}const pct=be({qr_:hct});var Tr;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Tr||(Tr={}));function mct(t,e,n=Tr.SUM_BY_NONZERO_WEIGHTS){const s=te(t,"losses","computeWeightedLoss");let r=null;e!=null&&(r=te(e,"weights","computeWeightedLoss"));const o=r==null?s:Te(s,r);if(n===Tr.NONE)return o;if(n===Tr.SUM)return kt(o);if(n===Tr.MEAN){if(r==null)return us(o);{const a=s.size/r.size,i=It(kt(o),kt(r));return a>1?It(i,Pt(a)):i}}if(n===Tr.SUM_BY_NONZERO_WEIGHTS){if(r==null)return It(kt(o),Pt(s.size));{const a=Te(r,po(s.shape)),i=ht(kt(Dd(a,Pt(0))),"float32");return It(kt(o),i)}}throw Error(`Unknown reduction: ${n}`)}const Ql=be({computeWeightedLoss_:mct});function gct(t,e,n,s=Tr.SUM_BY_NONZERO_WEIGHTS){const r=te(t,"labels","absoluteDifference"),o=te(e,"predictions","absoluteDifference");let a=null;n!=null&&(a=te(n,"weights","absoluteDifference")),lr(r.shape,o.shape,"Error in absoluteDifference: ");const i=$s($t(r,o));return Ql(i,a,s)}const vct=be({absoluteDifference_:gct});function yct(t,e,n,s,r=Tr.SUM_BY_NONZERO_WEIGHTS){const o=te(t,"labels","cosineDistance"),a=te(e,"predictions","cosineDistance");let i=null;s!=null&&(i=te(s,"weights","cosineDistance")),lr(o.shape,a.shape,"Error in cosineDistance: ");const l=Pt(1),u=$t(l,kt(Te(o,a),n,!0));return Ql(u,i,r)}const bct=be({cosineDistance_:yct});function wct(t,e,n,s=Tr.SUM_BY_NONZERO_WEIGHTS){let r=te(t,"labels","hingeLoss");const o=te(e,"predictions","hingeLoss");let a=null;n!=null&&(a=te(n,"weights","hingeLoss")),lr(r.shape,o.shape,"Error in hingeLoss: ");const i=Pt(1);r=$t(Te(Pt(2),r),i);const l=li($t(i,Te(r,o)));return Ql(l,a,s)}const _ct=be({hingeLoss_:wct});function $ct(t,e,n,s=1,r=Tr.SUM_BY_NONZERO_WEIGHTS){const o=te(t,"labels","huberLoss"),a=te(e,"predictions","huberLoss");let i=null;n!=null&&(i=te(n,"weights","huberLoss")),lr(o.shape,a.shape,"Error in huberLoss: ");const l=Pt(s),u=$s($t(a,o)),c=om(u,l),d=$t(u,c),f=st(Te(Pt(.5),Dn(c)),Te(l,d));return Ql(f,i,r)}const xct=be({huberLoss_:$ct});function Sct(t,e,n,s=1e-7,r=Tr.SUM_BY_NONZERO_WEIGHTS){const o=te(t,"labels","logLoss"),a=te(e,"predictions","logLoss");let i=null;n!=null&&(i=te(n,"weights","logLoss")),lr(o.shape,a.shape,"Error in logLoss: ");const l=Pt(1),u=Pt(s),c=Jn(Te(o,xo(st(a,u)))),d=Te($t(l,o),xo(st($t(l,a),u))),f=$t(c,d);return Ql(f,i,r)}const Cct=be({logLoss_:Sct});function kct(t,e,n,s=Tr.SUM_BY_NONZERO_WEIGHTS){const r=te(t,"labels","meanSquaredError"),o=te(e,"predictions","meanSquaredError");let a=null;n!=null&&(a=te(n,"weights","meanSquaredError")),lr(r.shape,o.shape,"Error in meanSquaredError: ");const i=l3(r,o);return Ql(i,a,s)}const Tct=be({meanSquaredError_:kct});function Nct(t,e){const n=te(t,"labels","sigmoidCrossEntropyWithLogits"),s=te(e,"logits","sigmoidCrossEntropyWithLogits");lr(n.shape,s.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=li(s),o=Te(s,n),a=Y1($o(Jn($s(s))));return st($t(r,o),a)}function Ect(t,e,n,s=0,r=Tr.SUM_BY_NONZERO_WEIGHTS){let o=te(t,"multiClassLabels","sigmoidCrossEntropy");const a=te(e,"logits","sigmoidCrossEntropy");let i=null;if(n!=null&&(i=te(n,"weights","sigmoidCrossEntropy")),lr(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),s>0){const u=Pt(s),c=Pt(1),d=Pt(.5);o=st(Te(o,$t(c,u)),Te(d,u))}const l=Nct(o,a);return Ql(l,i,r)}const Ict=be({sigmoidCrossEntropy_:Ect});function Act(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Hi((r,o,a)=>{const l=X_(o,[n],!0),u=$t(ht(o,"float32"),l);a([r,u]);const c=Jn(Te(u,r));return{value:kt(c,[n]),gradFunc:(h,p)=>{const[m,g]=p,y=ys(h.shape,[n]);return[Te(Ne(h,y),$t(ht(m,"float32"),$o(g))),Te(Ne(h,y),$t($o(g),ht(m,"float32")))]}}})(t,e)}function Oct(t,e,n,s=0,r=Tr.SUM_BY_NONZERO_WEIGHTS){let o=te(t,"onehotLabels","softmaxCrossEntropy");const a=te(e,"logits","softmaxCrossEntropy");let i=null;if(n!=null&&(i=te(n,"weights","softmaxCrossEntropy")),lr(o.shape,a.shape,"Error in softmaxCrossEntropy: "),s>0){const u=Pt(s),c=Pt(1),d=Pt(o.shape[1]);o=st(Te(o,$t(c,u)),It(u,d))}const l=Act(o,a);return Ql(l,i,r)}const Rct=be({softmaxCrossEntropy_:Oct});function Dct(t,e,n,s){const r=te(t,"indices","sparseFillEmptyRows","int32"),o=te(e,"values","sparseFillEmptyRows"),a=te(n,"denseShape","sparseFillEmptyRows","int32"),i=te(s,"defaultValue","sparseFillEmptyRows",o.dtype);if(r.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${r.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(a.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${a.shape}`);if(i.rank!==0)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const l={indices:r,values:o,denseShape:a,defaultValue:i},u=ye.runKernel(b_,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const Fct=be({sparseFillEmptyRows_:Dct});function Mct(t,e,n){const s=te(t,"inputIndices","sparseReshape","int32"),r=te(e,"inputShape","sparseReshape","int32"),o=te(n,"newShape","sparseReshape","int32");if(s.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${s.shape}`);if(r.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const a={inputIndices:s,inputShape:r,newShape:o},i=ye.runKernel(w_,a);return{outputIndices:i[0],outputShape:i[1]}}const Pct=be({sparseReshape_:Mct});function Lct(t,e,n){const s=te(t,"data","sparseSegmentMean"),r=te(e,"indices","sparseSegmentMean","int32"),o=te(n,"segmentIds","sparseSegmentMean","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${r.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const a={data:s,indices:r,segmentIds:o};return ye.runKernel(__,a)}const zct=be({sparseSegmentMean_:Lct});function Bct(t,e,n){const s=te(t,"data","sparseSegmentSum"),r=te(e,"indices","sparseSegmentSum","int32"),o=te(n,"segmentIds","sparseSegmentSum","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${r.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const a={data:s,indices:r,segmentIds:o};return ye.runKernel($_,a)}const Vct=be({sparseSegmentSum_:Bct});function Hct(t,e,n,s,r,o,a,i){const l=te(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=te(e,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:s,leftPad:r,rightPad:o,padWidth:a,preserveShortSequences:i},d={data:l,dataSplits:u},f=ye.runKernel(k_,d,c);return{nGrams:f[0],nGramsSplits:f[1]}}const Wct=be({stringNGrams_:Hct});function Uct(t,e,n=!0){const s=te(t,"input","stringSplit","string"),r=te(e,"delimiter","stringSplit","string");if(s.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${s.shape}`);if(r.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const o={skipEmpty:n},a={input:s,delimiter:r},i=ye.runKernel(T_,a,o);return{indices:i[0],values:i[1],shape:i[2]}}const Gct=be({stringSplit_:Uct});function jct(t,e){const n=te(t,"input","stringToHashBucketFast","string"),s={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return ye.runKernel(N_,r,s)}const Kct=be({stringToHashBucketFast_:jct});const _H={fft:o2,ifft:Nh,rfft:a2,irfft:i3},$H={hammingWindow:Cut,hannWindow:vH,frame:yH,stft:Eut},Ti={flipLeftRight:Rut,grayscaleToRGB:Fut,resizeNearestNeighbor:wH,resizeBilinear:bH,rotateWithOffset:Put,cropAndResize:Aut,nonMaxSuppression:zut,nonMaxSuppressionAsync:Kut,nonMaxSuppressionWithScore:Xut,nonMaxSuppressionWithScoreAsync:Zut,nonMaxSuppressionPadded:Qut,nonMaxSuppressionPaddedAsync:tct,threshold:act,transform:lct},mT={bandPart:cct,gramSchmidt:fct,qr:pct},xH={absoluteDifference:vct,computeWeightedLoss:Ql,cosineDistance:bct,hingeLoss:_ct,huberLoss:xct,logLoss:Cct,meanSquaredError:Tct,sigmoidCrossEntropy:Ict,softmaxCrossEntropy:Rct},SH={sparseFillEmptyRows:Fct,sparseReshape:Pct,sparseSegmentMean:zct,sparseSegmentSum:Vct},CH={stringNGrams:Wct,stringSplit:Gct,stringToHashBucketFast:Kct};let eu=class extends rf{minimize(e,n=!1,s){const{value:r,grads:o}=this.computeGradients(e,s);if(s!=null){const a=s.map(i=>({name:i.name,tensor:o[i.name]}));this.applyGradients(a)}else this.applyGradients(o);return Xt(o),n?r:(r.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return NV(e,n)}dispose(){this.iterations_!=null&&Xt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Pt(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}};Object.defineProperty(eu,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});let w3=class extends eu{constructor(e,n,s=null){super(),this.learningRate=e,this.rho=n,this.epsilon=s,this.accumulatedGrads=[],this.accumulatedUpdates=[],s==null&&(this.epsilon=ye.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=ye.registeredVariables[s],a=!1;this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${s}/accum_grad`,variable:Le(()=>yn(o).variable(a))}),this.accumulatedUpdates[r]==null&&(this.accumulatedUpdates[r]={originalName:`${s}/accum_var`,variable:Le(()=>yn(o).variable(a))});const i=Array.isArray(e)?e[r].tensor:e[s];if(i==null)return;const l=this.accumulatedGrads[r].variable,u=this.accumulatedUpdates[r].variable;Le(()=>{const c=st(Te(l,this.rho),Te(Dn(i),1-this.rho)),d=Te(It(ar(st(u,this.epsilon)),ar(st(l,this.epsilon))),i),f=st(Te(u,this.rho),Te(Dn(d),1-this.rho));l.assign(c),u.assign(f);const h=st(Te(d,-this.learningRate),o);o.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Xt(this.accumulatedGrads.map(e=>e.variable)),Xt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,s=!1;this.accumulatedGrads=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedUpdates=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}};w3.className="Adadelta";tt(w3);let _3=class extends eu{constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=ye.registeredVariables[s];this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${s}/accumulator`,variable:Le(()=>of(o.shape,this.initialAccumulatorValue).variable(!1))});const a=Array.isArray(e)?e[r].tensor:e[s];if(a==null)return;const i=this.accumulatedGrads[r].variable;Le(()=>{const l=st(i,Dn(a));i.assign(l);const u=st(Te(It(a,ar(st(l,ye.backend.epsilon()))),-this.learningRate),o);o.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Xt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(s=>({originalName:s.name,variable:s.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}};_3.className="Adagrad";tt(_3);let $3=class extends eu{constructor(e,n,s,r=null){super(),this.learningRate=e,this.beta1=n,this.beta2=s,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Le(()=>{this.accBeta1=Pt(n).variable(),this.accBeta2=Pt(s).variable()}),r==null&&(this.epsilon=ye.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(s=>s.name):Object.keys(e);Le(()=>{const s=$t(1,this.accBeta1),r=$t(1,this.accBeta2);n.forEach((o,a)=>{const i=ye.registeredVariables[o],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${o}/m`,variable:Le(()=>yn(i).variable(l))}),this.accumulatedSecondMoment[a]==null&&(this.accumulatedSecondMoment[a]={originalName:`${o}/v`,variable:Le(()=>yn(i).variable(l))});const u=Array.isArray(e)?e[a].tensor:e[o];if(u==null)return;const c=this.accumulatedFirstMoment[a].variable,d=this.accumulatedSecondMoment[a].variable,f=st(Te(c,this.beta1),Te(u,1-this.beta1)),h=st(Te(d,this.beta2),Te(Dn(u),1-this.beta2)),p=It(f,s),m=It(h,r);c.assign(f),d.assign(h);const g=st(Te(It(p,st(ar(m),this.epsilon)),-this.learningRate),i);i.assign(g)}),this.accBeta1.assign(Te(this.accBeta1,this.beta1)),this.accBeta2.assign(Te(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Xt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Xt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),Le(()=>{this.accBeta1.assign(Ol(this.beta1,this.iterations_+1)),this.accBeta2.assign(Ol(this.beta2,this.iterations_+1))});const n=e.length/2,s=!1;this.accumulatedFirstMoment=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}};$3.className="Adam";tt($3);let x3=class extends eu{constructor(e,n,s,r=null,o=0){super(),this.learningRate=e,this.beta1=n,this.beta2=s,this.epsilon=r,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Le(()=>{this.iteration=Pt(0).variable(),this.accBeta1=Pt(n).variable()}),r==null&&(this.epsilon=ye.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(s=>s.name):Object.keys(e);Le(()=>{const s=$t(1,this.accBeta1),r=It(-this.learningRate,st(Te(this.iteration,this.decay),1));n.forEach((o,a)=>{const i=ye.registeredVariables[o],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${o}/m`,variable:yn(i).variable(l)}),this.accumulatedWeightedInfNorm[a]==null&&(this.accumulatedWeightedInfNorm[a]={originalName:`${o}/v`,variable:yn(i).variable(l)});const u=Array.isArray(e)?e[a].tensor:e[o];if(u==null)return;const c=this.accumulatedFirstMoment[a].variable,d=this.accumulatedWeightedInfNorm[a].variable,f=st(Te(c,this.beta1),Te(u,1-this.beta1)),h=Te(d,this.beta2),p=$s(u),m=Zi(h,p);c.assign(f),d.assign(m);const g=st(Te(It(r,s),It(f,st(m,this.epsilon))),i);i.assign(g)}),this.iteration.assign(st(this.iteration,1)),this.accBeta1.assign(Te(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Xt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Xt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}};x3.className="Adamax";tt(x3);let i2=class extends eu{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=Array.isArray(e)?e[r].tensor:e[s];if(o==null)return;const a=ye.registeredVariables[s];Le(()=>{const i=st(Te(this.c,o),a);a.assign(i)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=As(Pt(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}};i2.className="SGD";tt(i2);let S3=class extends i2{constructor(e,n,s=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=s,this.accumulations=[],this.m=Pt(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=ye.registeredVariables[s];this.accumulations[r]==null&&(this.accumulations[r]={originalName:`${s}/momentum`,variable:Le(()=>yn(o).variable(!1))});const a=this.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[s];i!=null&&Le(()=>{let l;const u=st(Te(this.m,a),i);this.useNesterov?l=st(Te(this.c,st(i,Te(u,this.m))),o):l=st(Te(this.c,u),o),a.assign(u),o.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Xt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(s=>({originalName:s.name,variable:s.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}};S3.className="Momentum";tt(S3);let C3=class extends eu{constructor(e,n=.9,s=0,r=null,o=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=s,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,r==null&&(this.epsilon=ye.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=ye.registeredVariables[s],a=!1;this.accumulatedMeanSquares[r]==null&&(this.accumulatedMeanSquares[r]={originalName:`${s}/rms`,variable:Le(()=>yn(o).variable(a))}),this.accumulatedMoments[r]==null&&(this.accumulatedMoments[r]={originalName:`${s}/momentum`,variable:Le(()=>yn(o).variable(a))}),this.accumulatedMeanGrads[r]==null&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${s}/mg`,variable:Le(()=>yn(o).variable(a))});const i=Array.isArray(e)?e[r].tensor:e[s];if(i==null)return;const l=this.accumulatedMeanSquares[r].variable,u=this.accumulatedMoments[r].variable;Le(()=>{const c=st(Te(l,this.decay),Te(Dn(i),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[r].variable,f=st(Te(d,this.decay),Te(i,1-this.decay)),h=It(Te(i,this.learningRate),ar($t(c,st(Dn(f),this.epsilon)))),p=st(Te(u,this.momentum),h);l.assign(c),d.assign(f),u.assign(p);const m=$t(o,p);o.assign(m)}else{const d=st(Te(l,this.decay),Te(Dn(i),1-this.decay)),f=st(Te(u,this.momentum),It(Te(i,this.learningRate),ar(st(d,this.epsilon))));l.assign(d),u.assign(f);const h=$t(o,f);o.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Xt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Xt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Xt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,s=!1;this.accumulatedMeanSquares=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedMoments=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}};C3.className="RMSProp";tt(C3);let pu=class{static sgd(e){return new i2(e)}static momentum(e,n,s=!1){return new S3(e,n,s)}static rmsprop(e,n=.9,s=0,r=null,o=!1){return new C3(e,n,s,r,o)}static adam(e=.001,n=.9,s=.999,r=null){return new $3(e,n,s,r)}static adadelta(e=.001,n=.95,s=null){return new w3(e,n,s)}static adamax(e=.002,n=.9,s=.999,r=null,o=0){return new x3(e,n,s,r,o)}static adagrad(e,n=.1){return new _3(e,n)}};const Dc={sgd:pu.sgd,momentum:pu.momentum,adadelta:pu.adadelta,adagrad:pu.adagrad,rmsprop:pu.rmsprop,adamax:pu.adamax,adam:pu.adam};const qct=(()=>typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t())();function gT(){return new Promise(t=>qct(()=>t()))}function vT(t,e){const n=t[0].length;t.forEach((r,o)=>{q(r.length===n,()=>`Error in concat${n}D: rank of tensors[${o}] must be the same as the rank of the rest (${n})`)}),q(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const s=t[0];t.forEach((r,o)=>{for(let a=0;a<n;a++)q(a===e||r[a]===s[a],()=>`Error in concat${n}D: Shape of tensors[${o}] (${r}) does not match the shape of the rest (${s}) along the non-concatenated axis ${o}.`)})}function Di(t,e){const n=t[0].slice();for(let s=1;s<t.length;s++)n[e]+=t[s][e];return n}var za;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(za||(za={}));function kH(t,e,n){let s=new Array;if(n==null&&e==null)return s;if(e==null)for(;s.length<t+n.length;)s.push(-1);else s=e.slice();if(n==null)return s;if(t+n.length!==s.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${s.length}`);for(let r=1;r<n.length;++r){const o=n[r],a=s[s.length-n.length+r],i=s[a];if(o>=0)if(i>=0){if(i!==o)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${r+t}] = ${o} but shape[${r+t}] = ${i}`)}else s[a]=o}return s}function TH(t){const e={FIRST_DIM_SIZE:za.FIRST_DIM_SIZE,VALUE_ROWIDS:za.VALUE_ROWIDS,ROW_LENGTHS:za.ROW_LENGTHS,ROW_SPLITS:za.ROW_SPLITS,ROW_LIMITS:za.ROW_LIMITS,ROW_STARTS:za.ROW_STARTS},n=[];for(const s of t)if(s in e)n.push(e[s]);else break;return n}function NH(t){return t.length===0?0:t[0]===za.FIRST_DIM_SIZE?t.length-1:t.length}function EH(t,e){if(t==null||e==null)return;const n=t.length,s=e.length;if(n>=s)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${s})`);for(let r=0;r<Math.min(n,s-1);++r){const o=t[r],a=e[r+1];if(o>=0&&a>=0&&o!==1&&o!==a)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${r-t.length}] = ${o} but ragged tensor input.flatValues.shape[${r-t.length}] = ${a}`)}}const yT=30;function k3(t){return t<=yT?t:Ky(t,Math.floor(Math.sqrt(t)))}function bT(t,e,n){const s=n*(typeof t=="number"?t:t[0]),r=e*(typeof t=="number"?t:t[1]);return[s,r]}function l2(t,e,n,s=!0){let r=[];if(s)r=r.concat(e.slice(0)),r.push(t[0]/n),r=r.concat(t.slice(1));else{r=r.concat(t[0]);const o=e.length;for(let a=0;a<o;++a)r=r.concat([t[a+1]/e[a],e[a]]);r=r.concat(t.slice(o+1))}return r}function u2(t,e,n=!0){const s=[];if(n){s.push(e);for(let r=e+1;r<t;++r)r<=2*e?(s.push(r),s.push(r-(e+1))):s.push(r)}else{const r=[],o=[];for(let a=1;a<t;++a)a>=e*2+1||a%2===1?o.push(a):r.push(a);s.push(...r),s.push(0),s.push(...o)}return s}function c2(t,e,n,s=!0){const r=[];s?r.push(t[0]/n):r.push(t[0]*n);for(let o=1;o<t.length;++o)o<=e.length?s?r.push(e[o-1]*t[o]):r.push(t[o]/e[o-1]):r.push(t[o]);return r}function wT(t,e){const n=[0];for(let s=0;s<e;++s)n.push(t[s][0]);return n}function _T(t,e,n){const s=t.slice(0,1);for(let r=0;r<n;++r)s.push(t[r+1]-e[r][0]-e[r][1]);return s}const T3=1.7580993408473768,N3=1.0507009873554805;const $T=.3275911,xT=.254829592,ST=-.284496736,CT=1.421413741,kT=-1.453152027,TT=1.061405429;function Rl(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let s=0;s<n.length;s+=2)n[s]=t[s/2],n[s+1]=e[s/2];return n}function IH(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let s=0;s<t.length;s+=2)e[s/2]=t[s],n[s/2]=t[s+1];return{real:e,imag:n}}function AH(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),s=new Float32Array(e);for(let r=0;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],s[Math.floor(r/4)]=t[r+1];return{real:n,imag:s}}function OH(t){const e=Math.floor(t.length/4),n=new Float32Array(e),s=new Float32Array(e);for(let r=2;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],s[Math.floor(r/4)]=t[r+1];return{real:n,imag:s}}function NT(t,e){const n=t[e*2],s=t[e*2+1];return{real:n,imag:s}}function RH(t,e,n,s){t[s*2]=e,t[s*2+1]=n}function DH(t,e){const n=new Float32Array(t/2),s=new Float32Array(t/2);for(let r=0;r<Math.ceil(t/2);r++){const o=(e?2:-2)*Math.PI*(r/t);n[r]=Math.cos(o),s[r]=Math.sin(o)}return{real:n,imag:s}}function FH(t,e,n){const s=(n?2:-2)*Math.PI*(t/e),r=Math.cos(s),o=Math.sin(s);return{real:r,imag:o}}const g$="->",Xct=/->/g,YR=",",ZR="...";function ET(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(Xct,"").length)/g$.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${g$}").`);const[s,r]=t.split(g$);q(s.indexOf(ZR)===-1,()=>`The ellipsis notation ("${ZR}") is not supported yet.`);const o=s.split(YR),a=o.length;if(e!==a)throw new Error(`Expected ${a} input tensors, received ${e}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let f=0;f<r.length;++f){const h=r[f];if(!o.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);i.indexOf(h)===-1&&i.push(h)}for(let f=0;f<s.length;++f){const h=s[f];i.indexOf(h)===-1&&h!==YR&&i.push(h)}const l=new Array(o.length);for(let f=0;f<a;++f){if(new Set(o[f].split("")).size!==o[f].length)throw new Error(`Found duplicate axes in input component ${o[f]}. Support for duplicate axes in input is not implemented yet.`);l[f]=[];for(let h=0;h<o[f].length;++h)l[f].push(i.indexOf(o[f][h]))}const u=i.length,c=r.length,d=[];for(let f=c;f<u;++f)d.push(f);return{allDims:i,summedDims:d,idDims:l}}function IT(t,e){let n=new Array(t);n.fill(-1);for(let r=0;r<e.length;++r)n[e[r]]=r;const s=[];for(let r=0;r<t;++r)n[r]===-1&&s.push(r);return n=n.filter(r=>r!==-1),{permutationIndices:n,expandDims:s}}function AT(t,e,n){const s=new Array(t);for(let r=0;r<n.length;++r){const o=n[r].shape;for(let a=0;a<e[r].length;++a)s[e[r][a]]===void 0?s[e[r][a]]=o[a]:q(s[e[r][a]]===o[a],()=>`Expected dimension ${s[e[r][a]]} at axis ${a} of input shaped ${JSON.stringify(o)}, but got dimension ${o[a]}`)}}function OT(t,e){const n=t,s=[];let r=0;t.length===0&&n.push(-1),r=t.length+1;for(let a=0;a<r;++a)s.push([]);const o=[];for(let a=0;a<n.length;++a){const i=n[a],l=Yct(e,i);for(const u of l)o.indexOf(u)===-1&&(s[a].push(u),o.push(u))}return{path:n,steps:s}}function RT(t){return t.every((e,n)=>e===n)}function Yct(t,e){const n=[];for(let s=0;s<t.length;++s)(t[s].length===0||t[s].indexOf(e)!==-1||e===-1)&&n.push(s);return n}function DT(t,e,n=0){let s=[];if(typeof e=="number")q(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),s=new Array(e).fill(t.shape[n]/e);else{const r=e.reduce((a,i)=>(i===-1&&(a+=1),a),0);q(r<=1,()=>"There should be only one negative value in split array.");const o=e.indexOf(-1);if(o!==-1){const a=e.reduce((i,l)=>l>0?i+l:i);e[o]=t.shape[n]-a}q(t.shape[n]===e.reduce((a,i)=>a+i),()=>"The sum of sizes must match the size of the axis dimension."),s=e}return s}function MH(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function PH(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function LH(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}function zH(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function BH(t,e){return`size ${t} must be non-negative, not ${e}`}function VH(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function HH(t,e){const n=Ge(t),s=Ge(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${s}. inputShape=${t} outputShape= ${e}`}function WH(t,e){const n=Ge(t),s=Ge(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${s}. inputShape=${t} outputShape=${e}`}function kx(){return"segment ids must be >= 0"}function UH(){return"segment ids are not increasing"}function GH(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function jH(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}function KH(t,e){let n=!1,s;for(t<=yT?(s=t,n=!0):s=Ky(t,Math.floor(Math.sqrt(t)));!n;)s>e||s===t?n=!0:s=Ky(t,s+1);return s}function qH(t,e,n){const s=[],r=t.length;for(let o=0;o<r;o++)o!==e?s.push(t[o]):s.push(n);return s}function FT(t,e,n,s){const r=e.shape.length,o=t.shape.length;if(s!==0&&(s<-r||s>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${s}`);if(s<0&&(s+=r),s>o)throw new Error(`batchDims (${s}) must be less than rank(x) (
    ${o}).`);if(n<s)throw new Error(`batchDims (${s}) must be less than or equal to axis (${n}).`);for(let d=0;d<s;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const a=t.shape[n],i=[];let l=1,u=1,c=1;for(let d=0;d<s;++d)i.push(t.shape[d]),l*=t.shape[d];for(let d=s;d<n;d++)i.push(t.shape[d]),u*=t.shape[d];for(let d=s;d<r;d++)i.push(e.shape[d]);for(let d=n+1;d<o;d++)i.push(t.shape[d]),c*=t.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:a,outputShape:i}}const Zct=Object.freeze(Object.defineProperty({__proto__:null,segOpComputeOptimalWindowSize:KH,computeOutShape:qH,collectGatherOpShapeInfo:FT},Symbol.toStringTag,{value:"Module"}));function Md(t){try{return t.map(e=>Nl(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function XH(t){return t.map(e=>Oi(e))}const YH=Object.freeze(Object.defineProperty({__proto__:null,slice_util:mV,segment_util:Zct,fromUint8ToStringArray:Md,fromStringArrayToUint8:XH,upcastType:Yr,axesAreInnerMostDims:H8,combineLocations:CV,computeOutAndReduceShapes:js,expandShapeToKeepDim:ys,assertAxesAreInnerMostDims:cr,getAxesPermutation:hs,getUndoAxesPermutation:pc,getInnerMostAxes:bs,getBroadcastDims:Ad,getReductionAxes:Ts,assertAndGetBroadcastShape:Yt,assertParamsConsistent:vT,computeOutShape:Di,computeDilation2DInfo:G1,computePool2DInfo:Na,computePool3DInfo:Xl,computeConv2DInfo:Gs,computeConv3DInfo:hc,computeDefaultPad:x8,tupleValuesAreOne:Zu,eitherStridesOrDilationsAreOne:ur,convertConv2DDataFormat:Yl,checkPadOnDimRoundingMode:Mr,getFusedDyActivation:h3,getFusedBiasGradient:p3,applyActivation:m3,shouldFuse:g3,get RowPartitionType(){return za},combineRaggedTensorToTensorShapes:kH,getRowPartitionTypesHelper:TH,getRaggedRank:NH,validateDefaultValueShape:EH,PARALLELIZE_THRESHOLD:yT,computeOptimalWindowSize:k3,getImageCenter:bT,getReshaped:l2,getPermuted:u2,getReshapedPermuted:c2,getSliceBeginCoords:wT,getSliceSize:_T,prepareAndValidate:P_,validateUpdateShape:a8,validateInput:i8,calculateShapes:Jp,SELU_SCALEALPHA:T3,SELU_SCALE:N3,ERF_P:$T,ERF_A1:xT,ERF_A2:ST,ERF_A3:CT,ERF_A4:kT,ERF_A5:TT,warn:Fo,log:_st,mergeRealAndImagArrays:Rl,splitRealAndImagArrays:IH,complexWithEvenIndex:AH,complexWithOddIndex:OH,getComplexWithIndex:NT,assignToTypedArray:RH,exponents:DH,exponent:FH,decodeEinsumEquation:ET,getEinsumPermutation:IT,checkEinsumDimSizes:AT,getEinsumComputePath:OT,isIdentityPermutation:RT,prepareSplitSize:DT,getSparseFillEmptyRowsIndicesDenseShapeMismatch:MH,getSparseFillEmptyRowsNegativeIndexErrorMessage:PH,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:LH,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:zH,getSparseReshapeNegativeOutputDimErrorMessage:BH,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:VH,getSparseReshapeInputOutputMultipleErrorMessage:HH,getSparseReshapeInputOutputMismatchErrorMessage:WH,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:kx,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:UH,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:GH,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:jH},Symbol.toStringTag,{value:"Module"}));const Jct=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:v3,nonMaxSuppressionV4Impl:y3,nonMaxSuppressionV5Impl:b3,whereImpl:d3},Symbol.toStringTag,{value:"Module"}));const ZH={kernelName:Vg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,uf(ht(n,"float32"),-1))}}};const Qct={kernelName:sp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const s=Dn(ht(n,"float32")),r=ar($t(Pt(1),s));return Jn(It(t,r))}}}};const edt={kernelName:rp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const s=ar($t(Dn(ht(n,"float32")),1));return It(t,s)}}}};const tdt={kernelName:nf,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=Yt(n.shape,s.shape);return{a:()=>{let i=t;const l=Ts(n.shape,r);return l.length>0&&(i=kt(i,l)),Ne(i,n.shape)},b:()=>{let i=t;const l=Ts(s.shape,r);return l.length>0&&(i=kt(i,l)),Ne(i,s.shape)}}}};const ndt={kernelName:Hg,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((s,r)=>{n[r]=()=>t.clone()}),n}};const sdt={kernelName:Wg,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>yn(n)}}};const rdt={kernelName:Ug,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>yn(n)}}};const odt={kernelName:op,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>It(t,ar($t(Pt(1),Dn(ht(n,"float32")))))}}};const adt={kernelName:ap,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const s=ar(st(Pt(1),Dn(ht(n,"float32"))));return It(t,s)}}}};const idt={kernelName:up,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=Yt(n.shape,s.shape);return{a:()=>{const i=st(Dn(n),Dn(s));let l=Te(t,It(s,i));const u=Ts(n.shape,r);return u.length>0&&(l=kt(l,u)),Ne(l,n.shape)},b:()=>{const i=st(Dn(n),Dn(s));let l=Jn(Te(t,It(n,i)));const u=Ts(s.shape,r);return u.length>0&&(l=kt(l,u)),Ne(l,s.shape)}}}};const ldt={kernelName:ip,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>It(t,st(Dn(ht(n,"float32")),1))}}};const udt={kernelName:lp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>It(t,$t(Pt(1),Dn(ht(n,"float32"))))}}};function cdt(t,e,n,s,r,o){const a=te(t,"dy","avgPool3dGrad"),i=te(e,"input","avgPool3dGrad");let l=a,u=i,c=!1;i.rank===4&&(c=!0,l=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),u=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),q(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),q(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),Mr("avgPool3dGrad",r,o);const d={dy:l,input:u},f={filterSize:n,strides:s,pad:r,dimRoundingMode:o},h=ye.runKernel(Rw,d,f);return c?Ne(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const ddt=be({avgPool3dGrad_:cdt});const fdt={kernelName:jg,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{filterSize:r,strides:o,pad:a,dimRoundingMode:i}=n;return{x:()=>ddt(t,s,r,o,a,i)}}};function hdt(t,e,n,s,r){const o=te(t,"dy","avgPoolGrad"),a=te(e,"input","avgPoolGrad");q(a.rank===o.rank,()=>`Rank of input (${a.rank}) does not match rank of dy (${o.rank})`);let i=a,l=o,u=!1;a.rank===3&&(u=!0,i=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2]])),q(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),q(i.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${i.rank}.`);const c={dy:l,input:i},d={filterSize:n,strides:s,pad:r},f=ye.runKernel(Ow,c,d);return u?Ne(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const pdt=be({avgPoolGrad_:hdt});const mdt={kernelName:Gg,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{filterSize:r,strides:o,pad:a}=n;return{x:()=>pdt(t,s,r,o,a)}}};const gdt={kernelName:Kg,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[s,r]=e,{transposeA:o,transposeB:a}=n;return!o&&!a?{a:()=>ln(t,r,!1,!0),b:()=>ln(s,t,!0,!1)}:!o&&a?{a:()=>ln(t,r,!1,!1),b:()=>ln(t,s,!0,!1)}:o&&!a?{a:()=>ln(r,t,!1,!0),b:()=>ln(s,t,!1,!1)}:{a:()=>ln(r,t,!0,!0),b:()=>ln(t,s,!0,!0)}}};const vdt={kernelName:qg,gradFunc:(t,e,n)=>{const{blockShape:s,crops:r}=n;return{x:()=>e2(t,s,r)}}};const ydt={kernelName:CB,gradFunc:(t,e,n)=>{const s=n,r=s.inputShape,o=s.shape,a=Array.from(o);for(let l=r.length-1;l>=0;l--)if(r[l]===o[l])a[l]=1;else if(r[l]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${o}].`);const i=[];for(let l=0;l<a.length;l++)a[l]>1&&i.push(l);return{x:()=>kt(t,i,!0)}}};const bdt={kernelName:cp,gradFunc:t=>({x:()=>t.clone()})};const wdt={kernelName:dp,gradFunc:t=>({x:()=>yn(t)})};const _dt={kernelName:fp,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{clipValueMin:r,clipValueMax:o}=n;return{x:()=>wr(Ta(Zl(s,r),mc(s,o)),t,yn(t))}}};const $dt={kernelName:Xg,inputsToSave:["x"],gradFunc:ZH.gradFunc};const xdt={kernelName:Yg,saveAllInputs:!0,gradFunc:(t,e,n)=>{const s=e.map(l=>l.shape),{axis:r}=n,o=un(r,e[0].shape)[0],a=s.map(l=>l[o]);return Kr(t,a,o).map(l=>()=>l)}};const Sdt={kernelName:Zg,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[s,r]=e,{dilations:o,strides:a,pad:i,dataFormat:l}=n;return q(Zu(o),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`),{x:()=>D8(s.shape,t,r,a,i,l),filter:()=>hT(s,t,r.shape,a,i,l)}}};const Cdt={kernelName:Jg,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[s,r]=e,{strides:o,pad:a,dataFormat:i,dimRoundingMode:l}=n;return{dy:()=>Al(t,r,o,a,i,1,l),filter:()=>hT(t,s,r.shape,o,a,i,l)}}};function kdt(t,e,n,s,r){let o=t;t.rank===4&&(o=Ne(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let a=e;a.rank===4&&(a=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),q(o.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${o.shape}.`),q(a.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${a.shape}.`),q(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),q(o.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${o.shape[4]}) must match input depth in filter (${n[3]}.`),q(a.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must match output depth for filter (${n[4]}).`);const i={x:o,dy:a},l={strides:s,pad:r,filterShape:n};return ye.runKernel(Lw,i,l)}const Tdt=be({conv3DBackpropFilter_:kdt});const Ndt={kernelName:Qg,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:s,strides:r,pad:o}=n;q(Zu(s),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);const[a,i]=e;return{x:()=>$V(a.shape,t,i,r,o),filter:()=>Tdt(a,t,i.shape,r,o)}}};const Edt={kernelName:hp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(Jn(r3(ht(n,"float32"))),t)}}};const Idt={kernelName:pp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(o3(ht(n,"float32")),t)}}};const Adt={kernelName:e1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{axis:r,exclusive:o,reverse:a}=n;return{x:()=>{const i=hs([r],s.rank);let l=U_(t,r,o,!a);return i!=null&&(l=dn(l,i)),l}}}};const Odt={kernelName:t1,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:s,strides:r,pad:o,dimRoundingMode:a}=n,i=s??[1,1];q(Zu(i),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[l,u]=e;return q(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),q(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),q(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),q(ur(r,i),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${i}'.`),Mr("depthwiseConv2d",o,a),{x:()=>mH(l.shape,t,u,r,o,i,a),filter:()=>pH(l,t,u.shape,r,o,i,a)}}};const Rdt={kernelName:n1,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[s,r]=e,o={x:s,filter:r,dy:t},a={x:s,filter:r,dy:t};return{x:()=>ye.runKernel(qy,o,n),filter:()=>ye.runKernel(Xy,a,n)}}};const Ddt={kernelName:gp,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,s={dy:t,y:n};return{x:()=>ye.runKernel(qw,s)}}};const Fdt={kernelName:vp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,s=Te($o(Jn(Dn(n))),2/Math.sqrt(Math.PI));return{x:()=>Te(t,s)}}};const Mdt={kernelName:yp,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,n)}}};const Pdt={kernelName:r1,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>Ne(t,n.shape)}}};const Ldt={kernelName:bp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,$o(n))}}};const zdt={kernelName:wp,gradFunc:t=>({x:()=>yn(t)})};const Bdt={kernelName:_p,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=Yt(n.shape,s.shape);return{a:()=>{const i=It(t,ht(s,"float32")),l=Ts(n.shape,r);return l.length>0?Ne(kt(i,l),n.shape):i},b:()=>{let i=Te(t,ht(n,"float32"));const l=Ts(s.shape,r);l.length>0&&(i=Ne(kt(i,l),s.shape));const u=Dn(s);return Jn(It(i,ht(u,"float32")))}}}};const Vdt={kernelName:o1,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:s}=n,[r,o,a,i]=e,l=i??Pt(1),u=Ts(o.shape,r.shape),c=[];if(o.rank===1){for(let _=0;_<r.shape.length-1;++_)c.push(r.shape[_]);c.push(1)}const d=$t(r,o),f=Te(t,l),h=t3(st(a,Pt(s))),p=Te(Te(Te(h,h),h),Pt(-.5));return{x:()=>o.rank===1?Ne(Te(Te(t,Lo(Ne(h,[1,1,1,o.shape[0]]),c)),l),r.shape):Ne(Te(Te(t,h),l),r.shape),mean:()=>{let _=Te(Te(h,Pt(-1)),f);return o.rank===1&&(_=kt(_,u)),Ne(_,o.shape)},variance:()=>{let _=Te(Te(p,d),f);return o.rank===1&&(_=kt(_,u)),Ne(_,o.shape)},scale:()=>{const _=Te(d,h);let $=Te(t,_);return o.rank===1&&($=kt($,u)),Ne($,o.shape)},offset:()=>{let _=t;return o.rank===1&&(_=kt(_,u)),Ne(_,o.shape)}}}};const Hdt={kernelName:a1,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[s,r]=e,{axis:o}=n,a=un(o,s.shape)[0];return{x:()=>{const l=s.shape,u=r.size,c=l.slice(0,a),d=c.length,f=l.slice(o,l.length).slice(1),h=f.length,p=JR(0,d),m=JR(d+1,d+1+h),g=QR([c,[u],f]),y=Ne(t,g),w=Ne(r,[u]),b=QR([[d],p,m]),_=dn(y,b);let $=c3(_,w,s.shape[a]);const x=pc(b);return $=dn($,x),$},indices:()=>r}}};function JR(t,e){const n=[];for(let s=t;s<e;++s)n.push(s);return n}function QR(t){const e=[];for(let n=0;n<t.length;++n)for(let s=0;s<t[n].length;++s)e.push(t[n][s]);return e}const Wdt={kernelName:$p,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e;return{a:()=>yn(n),b:()=>yn(s)}}};const Udt={kernelName:xp,gradFunc:t=>({x:()=>ht(t,"float32")})};const Gdt={kernelName:Sp,gradFunc:t=>({x:()=>yn(t)})};const jdt={kernelName:Cp,gradFunc:t=>({x:()=>yn(t)})};const Kdt={kernelName:kp,gradFunc:t=>({x:()=>yn(t)})};const qdt={kernelName:l1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{alpha:r}=n,o=Pr(s,0);return{x:()=>wr(o,t,Te(t,r))}}};const Xdt={kernelName:Np,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>It(t,st(n,1))}}};const Ydt={kernelName:Tp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>It(t,ht(n,"float32"))}}};const Zdt={kernelName:kB,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s]=e,{axis:r}=n;return{logits:()=>{const a=$o(s);return $t(t,Te(kt(t,r,!0),a))}}}};function Jdt(t,e,n,s=5,r=1,o=1,a=.5){const i={x:t,y:e,dy:n},l={depthRadius:s,bias:r,alpha:o,beta:a};return ye.runKernel(n_,i,l)}const Qdt=be({localResponseNormalizationBackprop_:Jdt});const eft={kernelName:p1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s,r]=e,{depthRadius:o,bias:a,alpha:i,beta:l}=n;return{x:()=>Qdt(s,r,t,o,a,i,l)}}};function JH(t,e,n,s){return e.rank<n.rank&&(e=Ne(e,ys(e.shape,s))),t.rank<n.rank&&(t=Ne(t,ys(t.shape,s))),{x:()=>Te(t,ht(_o(n,e),t.dtype))}}const eD={kernelName:m1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const s=n,{reductionIndices:r}=s,o=e[0],a=e[1],i=un(r,o.shape),l=JH(t,a,o,i);return{x:()=>l.x()}}};const tft={kernelName:Ep,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e;return{a:()=>Te(t,ht(Zl(n,s),"float32")),b:()=>Te(t,ht(j_(n,s),"float32"))}}};function nft(t,e,n,s,r,o,a){const i=te(t,"dy","maxPool3dGrad"),l=te(e,"input","maxPool3dGrad"),u=te(n,"output","maxPool3dGrad");let c=i,d=l,f=u,h=!1;l.rank===4&&(h=!0,c=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),d=Ne(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),f=Ne(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),q(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),q(d.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`),q(f.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${f.rank}.`),Mr("maxPool3dGrad",o,a);const p={dy:c,input:d,output:f},m={filterSize:s,strides:r,pad:o,dimRoundingMode:a},g=ye.runKernel(r_,p,m);return h?Ne(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const sft=be({maxPool3dGrad_:nft});const rft={kernelName:v1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s,r]=e,{filterSize:o,strides:a,pad:i,dimRoundingMode:l}=n;return{x:()=>sft(t,s,r,o,a,i,l)}}};function oft(t,e,n,s,r,o,a){const i=te(t,"dy","maxPoolGrad"),l=te(e,"input","maxPoolGrad"),u=te(n,"output","maxPoolGrad");q(l.rank===i.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${i.rank})`),q(i.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${i.rank}.`),q(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),Mr("maxPoolGrad",o,a);const c={dy:i,input:l,output:u},d={filterSize:s,strides:r,pad:o,dimRoundingMode:a};return ye.runKernel(s_,c,d)}const aft=be({maxPoolGrad_:oft});const ift={kernelName:g1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s,r]=e,{filterSize:o,strides:a,pad:i}=n;return{x:()=>aft(t,s,r,o,a,i)}}};const lft={kernelName:y1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{axis:r}=n,o=un(r,s.shape),i=js(s.shape,o)[1],l=Ge(i);return{x:()=>{const c=s.shape.slice();o.forEach(h=>{c[h]=1});const d=Ne(t,c);return It(Te(d,po(s.shape,"float32")),l)}}}};const uft={kernelName:b1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const s=n,{axis:r}=s,[o,a]=e,i=un(r,o.shape),l=JH(t,a,o,i);return{x:()=>l.x()}}};const cft={kernelName:Ip,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e;return{a:()=>Te(t,ht(mc(n,s),"float32")),b:()=>Te(t,ht(Pr(n,s),"float32"))}}};const dft={kernelName:w1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const s=e[0],{paddings:r}=n,o=r.map(a=>a[0]);return{x:()=>mn(t,o,s.shape)}}};const fft={kernelName:Ap,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=Yt(n.shape,s.shape);return{a:()=>{const i=Ts(n.shape,r);return i.length>0?Ne(kt(t,i),n.shape):t},b:()=>{const i=Te(t,Jn(sm(It(n,s)))),l=Ts(s.shape,r);return l.length>0?Ne(kt(i,l),s.shape):i}}}};const hft={kernelName:Op,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=Yt(n.shape,s.shape);return{a:()=>{const i=Te(t,ht(s,"float32")),l=Ts(n.shape,r);return l.length>0?Ne(kt(i,l),n.shape):i},b:()=>{const i=Te(t,ht(n,"float32")),l=Ts(s.shape,r);return l.length>0?Ne(kt(i,l),s.shape):i}}}};const pft={kernelName:_1,gradFunc:t=>({x:()=>Jn(t)})};const mft={kernelName:S1,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>xs(n.shape,"float32")}}};const gft={kernelName:x1,gradFunc:t=>({x:()=>yn(t)})};const vft={kernelName:C1,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:s}=n;return Yo(t,s).map(o=>()=>o)}};const tD={kernelName:k1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const s=e[0],{paddings:r}=n,o=r.map(a=>a[0]);return{x:()=>mn(t,o,s.shape)}}};const yft={kernelName:Rp,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,s,r]=e,o=n,a=s,i=Yt(o.shape,a.shape);return{a:()=>{const c=ht(a,"float32");let d=Te(t,Te(c,Ol(o,$t(c,Pt(1)))));const f=Ts(o.shape,i);return f.length>0&&(d=kt(d,f)),Ne(d,o.shape)},b:()=>{const c=Pr(o,0),d=wr(c,xo(o),yn(o));let f=Te(t,Te(r,d));const h=Ts(a.shape,i);return h.length>0&&(f=kt(f,h)),Ne(f,a.shape)}}}};const bft={kernelName:T1,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,s]=e,r=Pr(n,0);return{x:()=>wr(r,t,Te(t,s)),alpha:()=>{let o=wr(r,yn(t),Te(t,n));const a=Ts(s.shape,t.shape);return a.length>0&&(o=kt(o,a)),Ne(o,s.shape)}}}};function wft(t,e,n){const s=t.shape.slice();s[n]=1;const r=Ne(e,s),o=rg(t,n,!0,!1),a=rg(t,n,!0,!0),i=Te(o,a);return Te(r,i)}function _ft(t,e,n){const s=t.shape.length,r=s-n.length,o=hs(n,s);let a=t;o!=null&&(a=dn(t,o));const i=a.shape.slice(),u=i.splice(s-n.length,n.length).reduce((f,h)=>f*h,1);i.push(u);const c=a.reshape(i);let d=wft(c,e,r);if(d=d.reshape(a.shape),o!=null){const f=pc(o);d=dn(d,f)}return d}const $ft={kernelName:N1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{axis:r}=n;let o=[];return r==null?o=s.shape.map((a,i)=>i):typeof r=="number"?o=[r]:o=r,{x:()=>_ft(s,t,o)}}};const xft={kernelName:mp,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=Yt(n.shape,s.shape);return{a:()=>{const i=It(t,ht(s,"float32")),l=Ts(n.shape,r);return l.length>0?Ne(kt(i,l),n.shape):i},b:()=>{let i=Te(t,ht(n,"float32"));const l=Ts(s.shape,r);l.length>0&&(i=Ne(kt(i,l),s.shape));const u=Dn(s);return Jn(It(i,ht(u,"float32")))}}}};const Sft={kernelName:Dp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>It(t,Jn(Dn(n)))}}};const Cft={kernelName:Mp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,s=Te(mc(n,6),uf(n));return{x:()=>Te(t,ht(s,"float32"))}}};const kft={kernelName:Fp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,ht(uf(n),"float32"))}}};const Tft={kernelName:E1,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ne(t,n.shape)}}};const Nft={kernelName:A1,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[s]=e,r={dy:t,images:s};return{images:()=>ye.runKernel(g_,r,n)}}};const Eft={kernelName:I1,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[s]=e,r={dy:t,images:s};return{images:()=>ye.runKernel(m_,r,n)}}};const Ift={kernelName:O1,gradFunc:(t,e,n)=>{const{dims:s}=n,r=un(s,t.shape);return{x:()=>Xo(t,r)}}};const Aft={kernelName:Pp,gradFunc:t=>({x:()=>yn(t)})};const Oft={kernelName:Lp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Jn(It(t,Te(Ol(n,1.5),2)))}}};const Rft={kernelName:R1,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>ht(yn(n),"float32"),t:()=>Te(t,ht(n,t.dtype)),e:()=>Te(t,ht(Z1(n),t.dtype))}}};const Dft={kernelName:zp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const s=Pr(n,Pt(0)),r=Pt(T3),o=Pt(N3),a=Te(t,o),i=Te(Te(t,r),$o(ht(n,"float32")));return wr(s,a,i)}}}};const Fft={kernelName:Wp,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,Te(n,$t(Pt(1),n)))}}};const Mft={kernelName:Hp,gradFunc:t=>({x:()=>yn(t)})};const Pft={kernelName:Bp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(q1(ht(n,"float32")),t)}}};const Lft={kernelName:Vp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(W_(ht(n,"float32")),t)}}};const zft={kernelName:D1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{begin:r,size:o}=n,a=s.shape,[i,l]=L_(s,r,o),u=[];for(let c=0;c<t.rank;c++)u.push([i[c],a[c]-i[c]-l[c]]);return{x:()=>Jl(t,u)}}};const Bft={kernelName:L1,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s]=e,{dim:r}=n,o=!0,a=Te(t,s);return{logits:()=>$t(a,Te(kt(a,[r],o),s))}}};const Vft={kernelName:Up,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,qa(n))}}};const nD={kernelName:M1,gradFunc:(t,e,n)=>{const{blockShape:s,paddings:r}=n;return{x:()=>K1(t,s,r)}}};const sD={kernelName:P1,gradFunc:(t,e,n)=>{const{axis:s}=n;return{x:()=>vs(t,s)}}};const Hft={kernelName:Gp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>It(t,Te(ar(ht(n,"float32")),2))}}};const Wft={kernelName:S_,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te(t,Te(ht(n,"float32"),2))}}};const Uft={kernelName:jp,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=Pt(2);return{a:()=>Te(t,Te(r,$t(n,s))),b:()=>Te(t,Te(r,$t(s,n)))}}};const Gft={kernelName:Zp,gradFunc:t=>({x:()=>yn(t)})};const jft={kernelName:Kp,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=Yt(n.shape,s.shape);return{a:()=>{let i=t;const l=Ts(n.shape,r);return l.length>0&&(i=kt(i,l)),Ne(i,n.shape)},b:()=>{let i=t;const l=Ts(s.shape,r);return l.length>0&&(i=kt(i,l)),Ne(Jn(i),s.shape)}}}};const Kft={kernelName:F1,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,r=s.shape.slice(),{axis:o}=n;un(o,s.shape).forEach(u=>{r[u]=1});const i=Ne(t,r),l=Te(i,po(s.shape,"float32"));return{x:()=>l}}};const qft={kernelName:qp,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>It(t,Dn(q1(n)))}}};const Xft={kernelName:Xp,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Te($t(Pt(1),Dn(n)),t)}}};const Yft={kernelName:Yp,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{reps:r}=n;return{x:()=>{let a=yn(s);if(s.rank===1)for(let i=0;i<r[0];++i)a=st(a,mn(t,[i*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(let i=0;i<r[0];++i)for(let l=0;l<r[1];++l)a=st(a,mn(t,[i*s.shape[0],l*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(let i=0;i<r[0];++i)for(let l=0;l<r[1];++l)for(let u=0;u<r[2];++u)a=st(a,mn(t,[i*s.shape[0],l*s.shape[1],u*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else if(s.rank===4)for(let i=0;i<r[0];++i)for(let l=0;l<r[1];++l)for(let u=0;u<r[2];++u)for(let c=0;c<r[3];++c)a=st(a,mn(t,[i*s.shape[0],l*s.shape[1],u*s.shape[2],c*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${s.rank} tensors yet.`);return a}}}};const Zft={kernelName:ld,gradFunc:(t,e,n)=>{const s=n,{perm:r}=s,o=pc(r);return{x:()=>dn(t,o)}}};const Jft={kernelName:z1,gradFunc:(t,e,n)=>{const s=n,{axis:r}=s;return{value:()=>Jr(t,r)}}};const Qft={kernelName:B1,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>eht(t,n)}}};function eht(t,e){const n=Zi(e,yn(e)),s=rm(t,n);let r=Zl(e,Pt(0,"int32"));const o=s.rank-r.rank;for(let i=0;i<o;++i)r=hr(r,i+1);r=Ta(r,po(s.shape,"bool"));const a=yn(s);return wr(r,s,a)}const tht={kernelName:V1,gradFunc:t=>({x:()=>yn(t)})};const nht=[ZH,Qct,edt,tdt,ndt,sdt,rdt,odt,adt,idt,ldt,udt,fdt,mdt,gdt,vdt,ydt,bdt,wdt,_dt,$dt,xdt,Cdt,Sdt,Ndt,Edt,Idt,Adt,Odt,Rdt,xft,Ddt,Fdt,Mdt,Pdt,Ldt,Bdt,zdt,Vdt,Hdt,Wdt,Udt,Gdt,jdt,Kdt,qdt,Xdt,Ydt,Zdt,eft,eD,eD,tft,rft,ift,lft,uft,cft,dft,fft,hft,pft,mft,gft,vft,tD,tD,yft,bft,$ft,Sft,Cft,kft,Tft,Nft,Eft,Ift,Aft,Oft,Rft,Dft,Fft,Mft,Pft,Lft,zft,Bft,Vft,nD,nD,sD,sD,Hft,Uft,Wft,Gft,jft,Kft,qft,Xft,Yft,Zft,Jft,Qft,tht];for(const t of nht)TB(t);Xe().prototype.abs=function(){return this.throwIfDisposed(),$s(this)};Xe().prototype.acos=function(){return this.throwIfDisposed(),m8(this)};Xe().prototype.acosh=function(){return this.throwIfDisposed(),g8(this)};Xe().prototype.add=function(t){return this.throwIfDisposed(),st(this,t)};Xe().prototype.all=function(t,e){return this.throwIfDisposed(),B_(this,t,e)};Xe().prototype.any=function(t,e){return this.throwIfDisposed(),sg(this,t,e)};Xe().prototype.argMax=function(t){return this.throwIfDisposed(),Od(this,t)};Xe().prototype.argMin=function(t){return this.throwIfDisposed(),v8(this,t)};Xe().prototype.asScalar=function(){return this.throwIfDisposed(),q(this.size===1,()=>"The array must have only 1 element."),Ne(this,[])};Xe().prototype.asType=function(t){return this.throwIfDisposed(),ht(this,t)};Xe().prototype.as1D=function(){return this.throwIfDisposed(),Ne(this,[this.size])};Xe().prototype.as2D=function(t,e){return this.throwIfDisposed(),Ne(this,[t,e])};Xe().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Ne(this,[t,e,n])};Xe().prototype.as4D=function(t,e,n,s){return this.throwIfDisposed(),Ne(this,[t,e,n,s])};Xe().prototype.as5D=function(t,e,n,s,r){return this.throwIfDisposed(),Ne(this,[t,e,n,s,r])};Xe().prototype.asin=function(){return this.throwIfDisposed(),y8(this)};Xe().prototype.asinh=function(){return this.throwIfDisposed(),b8(this)};Xe().prototype.atan=function(){return this.throwIfDisposed(),w8(this)};Xe().prototype.atan2=function(t){return this.throwIfDisposed(),_8(this,t)};Xe().prototype.atanh=function(){return this.throwIfDisposed(),$8(this)};Xe().prototype.avgPool=function(t,e,n,s){return this.throwIfDisposed(),j1(this,t,e,n,s)};Xe().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),K1(this,t,e)};Xe().prototype.batchNorm=function(t,e,n,s,r){return this.throwIfDisposed(),Qp(this,t,e,n,s,r)};Xe().prototype.broadcastTo=function(t){return this.throwIfDisposed(),cd(this,t)};Xe().prototype.cast=function(t){return this.throwIfDisposed(),ht(this,t)};Xe().prototype.ceil=function(){return this.throwIfDisposed(),E8(this)};Xe().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),Zr(this,t,e)};Xe().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof $n&&(t=[t]),vs([this,...t],e)};Xe().prototype.conv1d=function(t,e,n,s,r,o){return this.throwIfDisposed(),V_(this,t,e,n,s,r,o)};Xe().prototype.conv2dTranspose=function(t,e,n,s,r){return this.throwIfDisposed(),H_(this,t,e,n,s,r)};Xe().prototype.conv2d=function(t,e,n,s,r,o){return this.throwIfDisposed(),Al(this,t,e,n,s,r,o)};Xe().prototype.cos=function(){return this.throwIfDisposed(),q1(this)};Xe().prototype.cosh=function(){return this.throwIfDisposed(),W_(this)};Xe().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),rg(this,t,e,n)};Xe().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),U_(this,t,e,n)};Xe().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),P8(this,t,e)};Xe().prototype.depthwiseConv2d=function(t,e,n,s,r,o){return this.throwIfDisposed(),em(this,t,e,n,s,r,o)};Xe().prototype.dilation2d=function(t,e,n,s,r){return this.throwIfDisposed(),L8(this,t,e,n,s,r)};Xe().prototype.divNoNan=function(t){return this.throwIfDisposed(),z8(this,t)};Xe().prototype.div=function(t){return this.throwIfDisposed(),It(this,t)};Xe().prototype.dot=function(t){return this.throwIfDisposed(),B8(this,t)};Xe().prototype.elu=function(){return this.throwIfDisposed(),tm(this)};Xe().prototype.equal=function(t){return this.throwIfDisposed(),_o(this,t)};Xe().prototype.erf=function(){return this.throwIfDisposed(),V8(this)};Xe().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),W8(this,t,e)};Xe().prototype.exp=function(){return this.throwIfDisposed(),$o(this)};Xe().prototype.expandDims=function(t){return this.throwIfDisposed(),hr(this,t)};Xe().prototype.expm1=function(){return this.throwIfDisposed(),U8(this)};Xe().prototype.fft=function(){return this.throwIfDisposed(),o2(this)};Xe().prototype.flatten=function(){return this.throwIfDisposed(),Ne(this,[this.size])};Xe().prototype.floor=function(){return this.throwIfDisposed(),sm(this)};Xe().prototype.floorDiv=function(t){return this.throwIfDisposed(),z_(this,t)};Xe().prototype.gather=function(t,e){return this.throwIfDisposed(),rm(this,t,e)};Xe().prototype.greaterEqual=function(t){return this.throwIfDisposed(),Zl(this,t)};Xe().prototype.greater=function(t){return this.throwIfDisposed(),Pr(this,t)};Xe().prototype.ifft=function(){return this.throwIfDisposed(),Nh(this)};Xe().prototype.irfft=function(){return this.throwIfDisposed(),i3(this)};Xe().prototype.isFinite=function(){return this.throwIfDisposed(),G8(this)};Xe().prototype.isInf=function(){return this.throwIfDisposed(),j8(this)};Xe().prototype.isNaN=function(){return this.throwIfDisposed(),K8(this)};Xe().prototype.leakyRelu=function(t){return this.throwIfDisposed(),X1(this,t)};Xe().prototype.lessEqual=function(t){return this.throwIfDisposed(),mc(this,t)};Xe().prototype.less=function(t){return this.throwIfDisposed(),j_(this,t)};Xe().prototype.localResponseNormalization=function(t,e,n,s){return this.throwIfDisposed(),q8(this,t,e,n,s)};Xe().prototype.logSigmoid=function(){return this.throwIfDisposed(),X8(this)};Xe().prototype.logSoftmax=function(t){return this.throwIfDisposed(),q_(this,t)};Xe().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),X_(this,t,e)};Xe().prototype.log=function(){return this.throwIfDisposed(),xo(this)};Xe().prototype.log1p=function(){return this.throwIfDisposed(),Y1(this)};Xe().prototype.logicalAnd=function(t){return this.throwIfDisposed(),Ta(this,t)};Xe().prototype.logicalNot=function(){return this.throwIfDisposed(),Z1(this)};Xe().prototype.logicalOr=function(t){return this.throwIfDisposed(),Y_(this,t)};Xe().prototype.logicalXor=function(t){return this.throwIfDisposed(),Y8(this,t)};Xe().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),ln(this,t,e,n)};Xe().prototype.maxPool=function(t,e,n,s){return this.throwIfDisposed(),J1(this,t,e,n,s)};Xe().prototype.max=function(t,e){return this.throwIfDisposed(),Go(this,t,e)};Xe().prototype.maximum=function(t){return this.throwIfDisposed(),Zi(this,t)};Xe().prototype.mean=function(t,e){return this.throwIfDisposed(),us(this,t,e)};Xe().prototype.min=function(t,e){return this.throwIfDisposed(),kh(this,t,e)};Xe().prototype.minimum=function(t){return this.throwIfDisposed(),om(this,t)};Xe().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),J8(this,t,e)};Xe().prototype.mod=function(t){return this.throwIfDisposed(),Q8(this,t)};Xe().prototype.mul=function(t){return this.throwIfDisposed(),Te(this,t)};Xe().prototype.neg=function(){return this.throwIfDisposed(),Jn(this)};Xe().prototype.norm=function(t,e,n){return this.throwIfDisposed(),nm(this,t,e,n)};Xe().prototype.notEqual=function(t){return this.throwIfDisposed(),Dd(this,t)};Xe().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),Sh(this,t,e,n)};Xe().prototype.onesLike=function(){return this.throwIfDisposed(),So(this)};Xe().prototype.pad=function(t,e){return this.throwIfDisposed(),Jl(this,t,e)};Xe().prototype.pool=function(t,e,n,s,r,o){return this.throwIfDisposed(),eT(this,t,e,n,s,r,o)};Xe().prototype.pow=function(t){return this.throwIfDisposed(),Ol(this,t)};Xe().prototype.prelu=function(t){return this.throwIfDisposed(),t2(this,t)};Xe().prototype.prod=function(t,e){return this.throwIfDisposed(),tT(this,t,e)};Xe().prototype.reciprocal=function(){return this.throwIfDisposed(),sT(this)};Xe().prototype.relu=function(){return this.throwIfDisposed(),li(this)};Xe().prototype.relu6=function(){return this.throwIfDisposed(),Q_(this)};Xe().prototype.reshapeAs=function(t){return this.throwIfDisposed(),Ne(this,t.shape)};Xe().prototype.reshape=function(t){return this.throwIfDisposed(),Ne(this,t)};Xe().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),bH(this,t,e,n)};Xe().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),wH(this,t,e,n)};Xe().prototype.reverse=function(t){return this.throwIfDisposed(),Xo(this,t)};Xe().prototype.rfft=function(){return this.throwIfDisposed(),a2(this)};Xe().prototype.round=function(){return this.throwIfDisposed(),e3(this)};Xe().prototype.rsqrt=function(){return this.throwIfDisposed(),t3(this)};Xe().prototype.selu=function(){return this.throwIfDisposed(),n3(this)};Xe().prototype.separableConv2d=function(t,e,n,s,r,o){return this.throwIfDisposed(),s3(this,t,e,n,s,r,o)};Xe().prototype.sigmoid=function(){return this.throwIfDisposed(),qa(this)};Xe().prototype.sign=function(){return this.throwIfDisposed(),rT(this)};Xe().prototype.sin=function(){return this.throwIfDisposed(),r3(this)};Xe().prototype.sinh=function(){return this.throwIfDisposed(),o3(this)};Xe().prototype.slice=function(t,e){return this.throwIfDisposed(),mn(this,t,e)};Xe().prototype.softmax=function(t){return this.throwIfDisposed(),r2(this,t)};Xe().prototype.softplus=function(){return this.throwIfDisposed(),af(this)};Xe().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),e2(this,t,e)};Xe().prototype.split=function(t,e){return this.throwIfDisposed(),Kr(this,t,e)};Xe().prototype.sqrt=function(){return this.throwIfDisposed(),ar(this)};Xe().prototype.square=function(){return this.throwIfDisposed(),Dn(this)};Xe().prototype.squaredDifference=function(t){return this.throwIfDisposed(),l3(this,t)};Xe().prototype.squeeze=function(t){return this.throwIfDisposed(),gc(this,t)};Xe().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof $n?[this,t]:[this,...t];return Jr(n,e)};Xe().prototype.step=function(t){return this.throwIfDisposed(),uf(this,t)};Xe().prototype.stridedSlice=function(t,e,n,s,r,o,a,i){return this.throwIfDisposed(),oT(this,t,e,n,s,r,o,a,i)};Xe().prototype.sub=function(t){return this.throwIfDisposed(),$t(this,t)};Xe().prototype.sum=function(t,e){return this.throwIfDisposed(),kt(this,t,e)};Xe().prototype.tan=function(){return this.throwIfDisposed(),aT(this)};Xe().prototype.tanh=function(){return this.throwIfDisposed(),Rd(this)};Xe().prototype.tile=function(t){return this.throwIfDisposed(),Lo(this,t)};Xe().prototype.toBool=function(){return this.throwIfDisposed(),ht(this,"bool")};Xe().prototype.toFloat=function(){return this.throwIfDisposed(),ht(this,"float32")};Xe().prototype.toInt=function(){return this.throwIfDisposed(),ht(this,"int32")};Xe().prototype.topk=function(t,e){return this.throwIfDisposed(),iT(this,t,e)};Xe().prototype.transpose=function(t){return this.throwIfDisposed(),dn(this,t)};Xe().prototype.unique=function(t){return this.throwIfDisposed(),lT(this,t)};Xe().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),c3(this,t,e)};Xe().prototype.unstack=function(t){return this.throwIfDisposed(),Yo(this,t)};Xe().prototype.where=function(t,e){return this.throwIfDisposed(),wr(t,this,e)};Xe().prototype.zerosLike=function(){return this.throwIfDisposed(),yn(this)};class mi extends Error{constructor(e){super(e),Object.setPrototypeOf(this,mi.prototype)}}class pa extends Error{constructor(e){super(e),Object.setPrototypeOf(this,pa.prototype)}}class Ee extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ee.prototype)}}class Zt extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Zt.prototype)}}class MT extends Error{constructor(e){super(e),Object.setPrototypeOf(this,MT.prototype)}}class QH{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const s=this.cache.keys().next().value;this.cache.delete(s)}this.maxEntries=e}}function Pd(t,e){if(Array.isArray(t)){let n=[];for(let s=0;s<e;s++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function gi(t,e){if(!t)throw new MT(e)}function rD(t,e){let n=0;for(const s of t)s===e&&n++;return n}function Ur(t){return t.length===1?t[0]:t}function qn(t){return Array.isArray(t)?t:[t]}function il(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function Hc(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let ea={};function PT(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function Tx(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>Tx(e));else{const e=Object.keys(t);for(const n of e){const s=t[n];s!=null&&typeof s=="object"&&(!Array.isArray(s)&&s.type==="ndarray"&&typeof s.value=="number"?t[n]=s.value:Tx(s))}}}function d2(t,e={},n={},s="object",r=!1){if(typeof t=="string"){const o=t;let a;if(o in n)a=n[o];else if(o in ea)a=ea[o];else if(a=e[o],a==null)throw new Ee(`Unknown ${s}: ${t}. This may be due to one of the following reasons:
1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return a}else{const o=t;if(o.className==null||o.config==null)throw new Ee(`${s}: Improper config format: ${JSON.stringify(o)}.
'className' and 'config' must set.`);const a=o.className;let i,l;if(a in n?[i,l]=n[a]:a in ea?[i,l]=ea.className:a in e&&([i,l]=e[a]),i==null)throw new Ee(`Unknown ${s}: ${a}. This may be due to one of the following reasons:
1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const h of Object.keys(ea))u[h]=ea[h];for(const h of Object.keys(n))u[h]=n[h];const c=o.config;c.customObjects=u;const d=Object.assign({},ea);for(const h of Object.keys(n))ea[h]=n[h];Tx(o.config);const f=l(i,o.config,n,r);return ea=Object.assign({},d),f}else{const u=Object.assign({},ea);for(const d of Object.keys(n))ea[d]=n[d];const c=new i(o.config);return ea=Object.assign({},u),c}}}function sht(t,e){return t<e?-1:t>e?1:0}function gv(t,e){return-1*sht(t,e)}function Pu(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function rht(t){if(t==null)throw new Ee(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function cf(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new Ee(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function LT(t,e,n=0,s=1/0){return gi(n>=0),gi(s>=n),Array.isArray(t)&&t.length>=n&&t.length<=s&&t.every(r=>typeof r===e)}function Hs(t,e){Array.isArray(t)?(q(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,s)=>Hs(n,`element ${s+1} of ${e}`))):q(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${eW(t)}.`)}function eW(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>eW(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function oht(t,e,n){let s=n!=null?n():Ys(),r;return(...a)=>{const i=n!=null?n():Ys();return i-s<e||(s=i,r=t(...a)),r}}function tW(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}let aht=0;function nW(){return aht++}const vv={};function E3(t=""){return t in vv||(vv[t]=0),vv[t]+=1,t+vv[t].toString()}const iht=["channelsFirst","channelsLast"],lht=["nearest","bilinear"],uht=["valid","same","causal"],cht=["max","avg"],dht=["sum","mul","concat","ave"];const xf=new Map;function ws(t){cf(iht,"DataFormat",t)}function fht(t){cf(lht,"InterpolationFormat",t)}function Jo(t){cf(uht,"PaddingMode",t)}function sW(t){cf(cht,"PoolMode",t)}const m0=[],oD="/";function dd(t,e){m0.push(t);try{const n=e();return m0.pop(),n}catch(n){throw m0.pop(),n}}function hht(){return m0.length===0?"":m0.join(oD)+oD}function rW(t){if(!aW(t))throw new Error("Not a valid tensor name: '"+t+"'");return hht()+t}function oW(t){if(!aW(t))throw new Error("Not a valid tensor name: '"+t+"'");xf.has(t)||xf.set(t,0);const e=xf.get(t);if(xf.set(t,xf.get(t)+1),e>0){const n=`${t}_${e}`;return xf.set(n,1),n}else return t}const pht=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function aW(t){return!!t.match(pht)}function mht(t){return t===parseInt(t.toString(),10)}function Lu(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let s=1;for(let r=e;r<n;++r)s*=t[r];return s}function Eh(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const s=t[n];s<e&&(e=s)}return e}function Ju(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const s=t[n];s>e&&(e=s)}return e}function ti(t,e){if(e<t)throw new Ee(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let s=t;s<e;++s)n.push(s);return n}let v$;function Os(){return v$==null&&(v$=rV().epsilon()),v$}function ni(){return"channelsLast"}function Fi(t,e){return ht(t,e)}function f2(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),Ne(t,n)}function ght(t,e){return Le(()=>{if(t.shape.length!==2)throw new Ee(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=f2(t,1);return Nx(n,[1,e,1])})}function vht(t){const e=[Lu(t.shape)];return Ne(t,e)}function yht(t){if(t.rank<=1)throw new Ee(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],Lu(t.shape,1)];return Ne(t,e)}function fd(t,e,n){return Le(()=>{switch(t.rank){case 1:return n2(t,e,n);case 2:return a3(t,[e,0],[n,t.shape[1]]);case 3:return s2(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return Th(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return mn(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return mn(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new Ee(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function y$(t,e,n){return Le(()=>{switch(t.rank){case 1:return n2(t,e,n);case 2:return a3(t,[0,e],[t.shape[0],n]);case 3:return s2(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return Th(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new Ee(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function yv(t,e,n,s){return Le(()=>{switch(t.rank){case 1:return n2(t,e,n);case 2:switch(s){case 1:return fd(t,e,n);case 2:return y$(t,e,n);default:throw new Ee(`The axis is not within the rank of the tensor ${s}`)}case 3:switch(s){case 1:return fd(t,e,n);case 2:return s2(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return y$(t,e,n);default:throw new Ee(`The axis is not within the rank of the tensor ${s}`)}case 4:switch(s){case 1:return fd(t,e,n);case 2:return Th(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return Th(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return y$(t,e,n);default:throw new Ee(`The axis is not within the rank of the tensor ${s}`)}default:throw new Ee(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function zT(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),vs(t,e)}function aD(t,e){switch(t.rank){case 1:return I8([t,e]);case 2:return A8([t,e],0);case 3:return O8([t,e],0);case 4:return R8([t,e],0);default:throw new Ee(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function Nx(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new Ee(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return Lo(t,e)}function I3(t,e=0,n=1,s,r){return J_(t,e,n,s,r)}function Mi(t,e,n,s){if(t.rank<2||e.rank<2)throw new Zt(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const r=t.shape.slice(-1)[0],o=e.shape.slice(-2)[0];if(r!==o)throw new Zt(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return Cx({a:t,b:e,transposeA:!1,transposeB:!1,bias:s?Ex(t.rank,s,ni()):null,activation:n});{const r=t.shape.slice(),o=r.pop();t=Ne(t,[-1,o]);const a=e.shape.slice(),i=a.pop(),l=a.pop(),u=[...a,i],c=Array.from({length:e.rank},(p,m)=>m===0?e.rank-2:m<=e.rank-2?m-1:m);e=Ne(dn(e,c),[l,-1]);const d=[...r,...u];return Ne(Cx({a:t,b:e,transposeA:!1,transposeB:!1,bias:s?Ex(t.rank,s,ni()):null,activation:n}),d)}}function iW(t,e,n){return Le(()=>(Array.isArray(e)?e=vr(e,"int32"):e=ht(e,"int32"),rm(t,e,n)))}function h2(t){return Te(t,t)}function Ex(t,e,n){const s=e.shape;if(e.rank!==1&&e.rank!==t)throw new Ee(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return s.length===1?Ne(e,[1,s[0],1,1,1]):Ne(e,[1,s[3],s[0],s[1],s[2]]);if(n==="channelsLast")return s.length===1?Ne(e,[1,1,1,1,s[0]]):Ne(e,[1].concat(s))}else if(t===4){if(n==="channelsFirst")return s.length===1?Ne(e,[1,s[0],1,1]):Ne(e,[1,s[2],s[0],s[1]]);if(n==="channelsLast")return s.length===1?Ne(e,[1,1,1,s[0]]):Ne(e,[1].concat(s))}else if(t===3){if(n==="channelsFirst")return s.length===1?Ne(e,[1,s[0],1]):Ne(e,[1,s[1],s[0]]);if(n==="channelsLast")return s.length===1?Ne(e,[1,1,s[0]]):Ne(e,[1].concat(s))}else if(t<3)return e;throw new Ee(`Unsupported input rank by biasAdd: ${e.rank}`)}function ui(t,e,n){return Le(()=>(n==null&&(n=ni()),ws(n),st(t,Ex(t.rank,e,n))))}function bht(t,e=1){if(e!==1)throw new Zt(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return tm(t)}function wht(t){return Le(()=>It(t,st($s(t),1)))}function lW(t,e,n,s){return Le(()=>dT(t,e,n,s))}function _ht(t){return Le(()=>{const e=st(.5,Te(.2,t));return Zr(e,0,1)})}function p2(t,e,n=!1){return n?t():e()}const $ht=["fanIn","fanOut","fanAvg"],xht=["normal","uniform","truncatedNormal"];function Sht(t){cf($ht,"FanMode",t)}function Cht(t){cf(xht,"Distribution",t)}class Ea extends rf{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class BT extends Ea{apply(e,n){return xs(e,n)}}BT.className="Zeros";tt(BT);class A3 extends Ea{apply(e,n){return po(e,n)}}A3.className="Ones";tt(A3);class VT extends Ea{constructor(e){if(super(),typeof e!="object")throw new Ee(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new Ee(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return Le(()=>Te(Pt(this.value),po(e,n)))}getConfig(){return{value:this.value}}}VT.className="Constant";tt(VT);class HT extends Ea{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return am(e,this.minval,this.maxval,n)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}HT.className="RandomUniform";tt(HT);class WT extends Ea{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Zt(`randomNormal does not support dType ${n}.`);return I3(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}WT.className="RandomNormal";tt(WT);class UT extends Ea{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Zt(`truncatedNormal does not support dType ${n}.`);return u3(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}UT.className="TruncatedNormal";tt(UT);let GT=class extends Ea{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return Le(()=>{if(e.length!==2||e[0]!==e[1])throw new Ee("Identity matrix initializer can only be used for 2D square matrices.");return Te(this.gain,G_(e[0]))})}getConfig(){return{gain:this.gain}}};GT.className="Identity";tt(GT);function kht(t,e="channelsLast"){let n,s;if(ws(e),t.length===2)n=t[0],s=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const r=Lu(t,2);n=t[1]*r,s=t[0]*r}else if(e==="channelsLast"){const r=Lu(t,0,t.length-2);n=t[t.length-2]*r,s=t[t.length-1]*r}}else{const r=Lu(t);n=Math.sqrt(r),s=Math.sqrt(r)}return[n,s]}class Qr extends Ea{constructor(e){if(super(),e.scale<0)throw new Ee(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,Sht(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,Cht(this.distribution),this.seed=e.seed}apply(e,n){const s=kht(e),r=s[0],o=s[1];let a=this.scale;if(this.mode==="fanIn"?a/=Math.max(1,r):this.mode==="fanOut"?a/=Math.max(1,o):a/=Math.max(1,(r+o)/2),this.distribution==="normal"){const i=Math.sqrt(a);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Zt(`${this.getClassName()} does not support dType ${n}.`);return u3(e,0,i,n,this.seed)}else{const i=Math.sqrt(3*a);return am(e,-i,i,n)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Qr.className="VarianceScaling";tt(Qr);class O3 extends Qr{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Qr.className}}O3.className="GlorotUniform";tt(O3);class R3 extends Qr{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Qr.className}}R3.className="GlorotNormal";tt(R3);class D3 extends Qr{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Qr.className}}D3.className="HeNormal";tt(D3);class F3 extends Qr{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Qr.className}}F3.className="HeUniform";tt(F3);class M3 extends Qr{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Qr.className}}M3.className="LeCunNormal";tt(M3);class P3 extends Qr{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Qr.className}}P3.className="LeCunNormal";tt(P3);class jT extends Ea{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,this.seed!=null)throw new Zt("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,n){return Le(()=>{if(e.length<2)throw new Zt("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);const s=e[0]>e[1]?[e[1],e[0]]:e,r=I3(s,0,1,"float32");let o=mT.gramSchmidt(r);return e[0]>e[1]&&(o=dn(o)),Te(this.gain,o)})}getConfig(){return{gain:this.gain,seed:this.seed}}}jT.className="Orthogonal";tt(jT);const iD={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function lD(t,e={}){return d2(t,ua.getMap().classNameMap,e,"initializer")}function cs(t){return PT(t)}function as(t){if(typeof t=="string"){const e=t in iD?iD[t]:t;if(e==="GlorotNormal")return new R3;if(e==="GlorotUniform")return new O3;if(e==="HeNormal")return new D3;if(e==="HeUniform")return new F3;if(e==="LeCunNormal")return new M3;if(e==="LeCunUniform")return new P3;{const n={};return n.className=e,n.config={},lD(n)}}else return t instanceof Ea?t:lD(t)}function Ix(t){return Array.isArray(t)&&Array.isArray(t[0])}function ab(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function jt(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new Ee(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function Cn(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new Ee(`Expected exactly 1 Shape; got ${t.length}`)}else return t}function ib(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((s,r)=>s*r);return e}const uD="Variable";class uW{constructor(e,n="float32",s=uD,r=!0,o=null){this.dtype=n??"float32",this.shape=e.shape,this.id=nW(),s=s??uD,this.originalName=rW(s),this.name=oW(this.originalName),this.trainable_=r,this.constraint=o,this.val=uT(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),Tht(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function Tht(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function Ax(t){return t.map(e=>e.read())}function KT(t){t.forEach(e=>{e[0].write(e[1])})}class Ss{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Ga{constructor(e,n,s,r,o,a,i){this.dtype=e,this.shape=n,this.sourceLayer=s,this.inputs=r,this.callArgs=o,this.outputTensorIndex=i,this.id=nW(),a!=null&&(this.originalName=rW(a),this.name=oW(this.originalName)),this.rank=n.length}}let Nht=0;class L3{constructor(e,n){this.callArgs=n,this.id=Nht++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const s of e.inboundLayers)s!=null&&s.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let Eht=0;class cn extends rf{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Eht++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const s=this.getClassName();n=il(s)+"_"+E3(s)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let s;if(e.batchInputShape!=null)s=e.batchInputShape;else if(e.inputShape!=null){let o=null;e.batchSize!=null&&(o=e.batchSize),s=[o].concat(e.inputShape)}this.batchInputShape=s;let r=e.dtype;r==null&&(r=e.inputDType),r==null&&(r="float32"),this.dtype=r}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new pa(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new Ee(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Ur(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Ur(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new mi(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new mi(`Layer ${this.name} is not connected, no input to return.`);return Ur(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new mi(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new mi(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Ur(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=qn(e),this.inputSpec==null||this.inputSpec.length===0)return;const n=qn(this.inputSpec);if(e.length!==n.length)throw new Ee(`Layer ${this.name} expects ${n.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let s=0;s<e.length;s++){const r=e[s],o=n[s];if(o==null)continue;const a=r.rank;if(o.ndim!=null&&a!==o.ndim)throw new Ee(`Input ${s} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${a}`);if(o.maxNDim!=null&&a>o.maxNDim)throw new Ee(`Input ${s} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${a}`);if(o.minNDim!=null&&a<o.minNDim)throw new Ee(`Input ${s} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${a}.`);if(o.dtype!=null&&r.dtype!==o.dtype)throw new Ee(`Input ${s} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${r.dtype}.`);if(o.axes){const i=r.shape;for(const l in o.axes){const u=Number(l),c=o.axes[l],d=u>=0?i[u]:i[i.length+u];if(c!=null&&[c,null].indexOf(d)===-1)throw new Ee(`Input ${s} is incompatible with layer ${this.name}: expected axis ${u} of input shape to have value ${c} but got shape ${i}.`)}}if(o.shape!=null)for(let i=0;i<o.shape.length;++i){const l=o.shape[i],u=r.shape[i];if(l!=null&&u!=null&&l!==u)throw new Ee(`Input ${s} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${r.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const s=qn(e);let r=!0;for(const a of s)if(!(a instanceof Ga)){r=!1;break}let o=!0;for(const a of s)if(a instanceof Ga){o=!1;break}if(r===o)throw new Ee("Arguments to apply() must be all SymbolicTensors or all Tensors");return dd(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const a=[];for(const i of qn(e))a.push(i.shape);this.build(Ur(a)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&o&&(this._refCount=1)}if(this.assertInputCompatibility(e),o){let a=this.call(e,n);const i=qn(a),l=[];for(let u of i)s.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(a=Ur(l),this.activityRegularizer!=null)throw new Zt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}else{const a=Iht(e),i=this.computeOutputShape(a);let l;const u=Aht(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?a[0]:a),i!=null&&i.length>0&&Array.isArray(i[0])?l=i.map((c,d)=>new Ga(u,c,this,qn(e),n,this.name,d)):l=new Ga(u,i,this,qn(e),n,this.name),this.addInboundNode(e,l,null,null,a,i,n),this._refCount++,this.activityRegularizer!=null)throw new Zt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((s,r)=>{s!=null&&e[r]!=null&&e[r]!==s&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new mi(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const s=JSON.stringify(n.outputShapes);e.indexOf(s)===-1&&e.push(s)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new mi(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new pa(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return ib(this.weights)}build(e){this.built=!0}getWeights(e=!1){return Ax(e?this.trainableWeights:this.weights)}setWeights(e){Le(()=>{const n=this.weights;if(n.length!==e.length)throw new Ee(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const s=[],r=Ax(n);for(let o=0;o<r.length;++o){const a=r[o],i=n[o],l=e[o];if(!hn(a.shape,l.shape))throw new Ee(`Layer weight shape ${a.shape} not compatible with provided weight shape ${l.shape}`);s.push([i,l])}KT(s)})}addWeight(e,n,s,r,o,a,i,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new Ee(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),s==null&&(s="float32"),this.fastWeightInitDuringBuild&&(r=l!=null?l():as("zeros"));const u=r.apply(n,s),c=new uW(u,s,e,a,i);return u.dispose(),o!=null&&this.addLoss(()=>o.apply(c.read())),a==null&&(a=!0),a?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=qn(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(s=>{if(s!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}addInboundNode(e,n,s,r,o,a,i=null){const l=qn(e);n=qn(n),s=qn(s),r=qn(r),o=ab(o),a=ab(a);const u=[],c=[],d=[];for(const f of l)u.push(f.sourceLayer),c.push(f.nodeIndex),d.push(f.tensorIndex);new L3({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:s,outputMasks:r,inputShapes:o,outputShapes:a},i);for(let f=0;f<n.length;f++)n[f].sourceLayer=this,n[f].nodeIndex=this.inboundNodes.length-1,n[f].tensorIndex=f}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function Iht(t){t=qn(t);const e=[];for(const n of t)e.push(n.shape);return Ur(e)}function Aht(t){return"float32"}function cW(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const s=e.inboundNodes[n];if(s.inboundLayers.length===0)return s.inputTensors;{const r=[];for(let o=0;o<s.inboundLayers.length;o++){const a=s.inputTensors[o],i=s.inboundLayers[o],l=s.nodeIndices[o],u=cW(a,i,l);for(const c of u)r.indexOf(c)===-1&&r.push(c)}return r}}}class lm extends cn{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:E3("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new Ee("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new Ee("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new Ee("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const s=e.dtype||"float32";this.batchInputShape=n,this.dtype=s,this.inputSpec=[{shape:n}];const r=new Ga(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new L3({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new Ee(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}lm.className="InputLayer";tt(lm);function dW(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new Ee("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new lm({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}function Oht(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return ht(e,t.dtype)}catch{throw new Ee(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class ku{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof ku)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,s){if(this.id2Value[e.id]==null)this.id2Value[e.id]=Oht(e,n),this.name2Id[e.name]=e.id,s!=null&&(this.id2Mask[e.id]=s);else throw new Ee(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Ga){if(this.id2Value[e.id]==null)throw new Ee(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Ee(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof Ga){if(this.id2Value[e.id]==null)throw new Ee(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new Ee(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&Xt(this.id2Mask)}}const lb=new QH,ub=new QH;function Rht(t){lb!=null&&lb.setMaxEntries(t),ub!=null&&ub.setMaxEntries(t)}function Km(t,e,n,s){const r=n==null?!1:n.training,o=Array.isArray(t),a=o?t:[t],i=a.map(p=>p.name),l=[],u=e.names();for(const p of i)u.indexOf(p)!==-1?l.push(e.getValue(p)):l.push(null);s!=null&&(s.maxNumTensors=-1/0,s.minNumTensors=1/0);const c=i.join(",")+"|"+e.names().sort().join(",");let d=lb.get(c),f;if(d==null){const p=Dht(a,e);d=p.sorted,f=p.recipientCounts,lb.put(c,d),ub.put(c,f)}f={},r||Object.assign(f,ub.get(c));const h=new ku(e);for(let p=0;p<d.length;++p){if(s!=null){const T=sb().numTensors;T>s.maxNumTensors&&(s.maxNumTensors=T),T<s.minNumTensors&&(s.minNumTensors=T)}const m=d[p],g=m.sourceLayer;if(g instanceof lm)continue;const y=[],w=[],b=[];let _=!1;for(const T of m.inputs){const N=h.getValue(T),M=h.getMask(T);y.push(N),w.push(M),M!=null&&(_=!0),r||(f[T.name]--,f[T.name]===0&&!e.hasKey(T)&&i.indexOf(T.name)===-1&&!N.isDisposed&&T.sourceLayer.stateful!==!0&&b.push(N))}_&&(n=n||{},n.mask=w[0]);const $=qn(g.apply(y,n));let x=null;g.supportsMasking&&(x=g.computeMask(y,w));const k=Mht(m),C=Array.isArray(k)?k:[k];for(let T=0;T<C.length;++T){h.hasKey(C[T])||h.add(C[T],$[T],Array.isArray(x)?x[0]:x);const N=i.indexOf(C[T].name);N!==-1&&(l[N]=$[T])}r||Xt(b)}return h.disposeMasks(),o?l:l[0]}function Dht(t,e){q(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],s={};if(t.length===1){const r=cD(t[0],e);n=r.sorted,s=r.recipientMap}else{const r=new Set;for(const o of t){const{sorted:a,recipientMap:i}=cD(o,e);for(const l of a)r.has(l.name)||(n.push(l),r.add(l.name));for(const l in i)s[l]==null&&(s[l]=new Set),i[l].forEach(u=>s[l].add(u))}}return{sorted:n,recipientCounts:Fht(s)}}function Fht(t){const e={};for(const n in t)e[n]=t[n].size;return e}function cD(t,e){const n=new Set,s=[],r={};for(const i of e.names())n.add(i);const o=[],a=[];for(o.push(t);o.length>0;){const i=o[o.length-1];if(n.has(i.name)){o.pop();continue}const l=a[a.length-1]===o.length-1;if(i.inputs.length===0||l)o.pop(),s.push(i),n.add(i.name),l&&a.pop();else{a.push(o.length-1);for(const u of i.inputs)r[u.name]==null&&(r[u.name]=new Set),r[u.name].add(i.name),!n.has(u.name)&&o.push(u)}}return{sorted:s,recipientMap:r}}function Mht(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let s=0;s<t.sourceLayer.inboundNodes.length;++s)for(const r of t.sourceLayer.inboundNodes[s].outputTensors)if(r.id===t.id){n=s;break}e=t.sourceLayer.getOutputAt(n)}return e}const Pht=Be();Pht.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,Rht);function qT(t,e){return Le(()=>ar(kt(Te(t,t),e,!0)))}class m2 extends rf{getConfig(){return{}}}class XT extends m2{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Le(()=>{const n=qT(e,this.axis),s=Zr(n,0,this.maxValue);return Te(e,It(s,st(Os(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}XT.className="MaxNorm";tt(XT);class YT extends m2{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Le(()=>It(e,st(Os(),qT(e,this.axis))))}getConfig(){return{axis:this.axis}}}YT.className="UnitNorm";tt(YT);class ZT extends m2{apply(e){return li(e)}}ZT.className="NonNeg";tt(ZT);class JT extends m2{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Le(()=>{const n=qT(e,this.axis),s=st(Te(this.rate,Zr(n,this.minValue,this.maxValue)),Te(1-this.rate,n));return Te(e,It(s,st(Os(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}JT.className="MinMaxNorm";tt(JT);const dD={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Fs(t){return PT(t)}function fD(t,e={}){return d2(t,ua.getMap().classNameMap,e,"constraint")}function Ms(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in dD?dD[t]:t,config:{}};return fD(n)}else return t instanceof m2?t:fD(t)}function Lht(t){return new XT(t)}function zht(t){return new YT(t)}function Bht(){return new ZT}function Vht(t){return new JT(t)}const Hht=Object.freeze(Object.defineProperty({__proto__:null,maxNorm:Lht,unitNorm:zht,nonNeg:Bht,minMaxNorm:Vht},Symbol.toStringTag,{value:"Module"}));function Wht(){return new BT}function Uht(){return new A3}function Ght(t){return new VT(t)}function jht(t){return new HT(t)}function Kht(t){return new WT(t)}function qht(t){return new UT(t)}function Xht(t){return new GT(t)}function Yht(t){return new Qr(t)}function Zht(t){return new O3(t)}function Jht(t){return new R3(t)}function Qht(t){return new D3(t)}function ept(t){return new F3(t)}function tpt(t){return new M3(t)}function npt(t){return new P3(t)}function spt(t){return new jT(t)}const rpt=Object.freeze(Object.defineProperty({__proto__:null,zeros:Wht,ones:Uht,constant:Ght,randomUniform:jht,randomNormal:Kht,truncatedNormal:qht,identity:Xht,varianceScaling:Yht,glorotUniform:Zht,glorotNormal:Jht,heNormal:Qht,heUniform:ept,leCunNormal:tpt,leCunUniform:npt,orthogonal:spt},Symbol.toStringTag,{value:"Module"}));async function mu(t){if(t==null)return;const e=[],n=[],s=[];for(const r in t){const o=t[r];if(typeof o!="number"){const a=o;e.push(a.data()),n.push(r),s.push(a)}}if(e.length>0){const r=await Promise.all(e);for(let o=0;o<r.length;++o)t[n[o]]=r[o][0];Xt(s)}}function fW(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}var hD;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(hD||(hD={}));const opt=125;class Ih{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class hW{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const s of this.callbacks)await s.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const s of this.callbacks)await s.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const s of this.callbacks)await s.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const s of this.callbacks)await s.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class apt extends Ih{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const s=n.size==null?0:n.size;this.seen+=s;for(const r in n){const o=n[r];if(typeof o=="number")this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+o*s;else{let a;r in this.totals?a=this.totals[r]:this.totals[r]=0;const i=Le(()=>st(this.totals[r],Te(o,s)));this.totals[r]=i,a!=null&&a.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const s of this.params.metrics)this.totals[s]!=null&&(typeof this.totals[s]=="number"?n[s]=this.totals[s]/this.seen:Le(()=>{const r=Te(It(1,this.seen),this.totals[s]);n[s]=r,this.totals[s].dispose(),As(n[s])}))}}class pW extends Ih{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const s in n)this.history[s]==null&&(this.history[s]=[]),this.history[s].push(n[s])}async syncData(){const e=[],n=[],s=[];for(const o in this.history){const a=this.history[o];for(let i=0;i<a.length;++i)if(typeof a[i]!="number"){const l=a[i];e.push(l.data()),n.push(o),s.push(i)}}const r=await Promise.all(e);for(let o=0;o<r.length;++o)this.history[n[o]][s[o]].dispose(),this.history[n[o]][s[o]]=r[o][0]}}class mW extends Ih{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||gT,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=opt),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");jy(this.yieldEvery)&&(this.maybeWait=oht(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,s){const r=[];this.yield!=null&&(await mu(s),r.push(this.yield(e,n,s))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await mu(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const s=[];this.epochEnd!=null&&(await mu(n),s.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&s.push(this.nextFrameFunc()),await Promise.all(s)}async onBatchBegin(e,n){this.batchBegin!=null&&(await mu(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const s=[];this.batchEnd!=null&&(await mu(n),s.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?s.push(this.nextFrameFunc()):jy(this.yieldEvery)&&s.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(s)}async onTrainBegin(e){this.trainBegin!=null&&(await mu(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await mu(e),await this.trainEnd(e))}}function gW(t,e){return t==null&&(t={}),t instanceof Ih?[t]:Array.isArray(t)&&t[0]instanceof Ih?t:qn(t).map(s=>new mW(s,e))}class Do{constructor(){}static registerCallbackConstructor(e,n){q(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Do.checkForDuplicate(n),Do.constructors[e]==null&&(Do.constructors[e]=[]),Do.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Do.constructors)Do.constructors[+n].forEach(r=>{if(r===e)throw new Ee("Duplicate callback constructor.")})}static clear(){Do.constructors={}}static createCallbacks(e){const n=[];for(const s in Do.constructors){const r=+s;e>=r&&n.push(...Do.constructors[r])}return n.map(s=>new s)}}Do.constructors={};function vW(t,e,n,s,r,o,a,i,l){const u=new pW,c=[new apt,...Do.createCallbacks(e)];t!=null&&c.push(...t),c.push(u);const d=new hW(c);return d.setParams({epochs:n,initialEpoch:s,samples:r,steps:o,batchSize:a,verbose:e,doValidation:i,metrics:l}),{callbackList:d,history:u}}function Xa(t,e={},n=!1){return d2(t,ua.getMap().classNameMap,e,"layer",n)}function cb(t,e){return Le(()=>{t.dtype!=="float32"&&(t=ht(t,"float32"));const n=kt(h2(t),e,!0),s=of(n.shape,Os()),r=ar(Zi(n,s));return It(t,r)})}function df(t,e){return Le(()=>us(h2($t(e,t)),-1))}function z3(t,e){return Le(()=>us($s($t(e,t)),-1))}function um(t,e){return Le(()=>{const n=$t(t,e),s=Zr($s(t),Os(),Number.MAX_VALUE),r=$s(It(n,s));return Te(100,us(r,-1))})}function ipt(t,e){return Le(()=>{const n=Zr(e,Os(),Number.MAX_VALUE),s=xo(st(1,n)),r=Zr(t,Os(),Number.MAX_VALUE),o=xo(st(1,r));return us(h2($t(s,o)),-1)})}function lpt(t,e){return Le(()=>{const n=Zi(0,$t(1,Te(t,e)));return us(h2(n),-1)})}function upt(t,e){return Le(()=>{const n=Zi(0,$t(1,Te(t,e)));return us(n,-1)})}function cpt(t,e){return Le(()=>{const n=kt(Te(t,e),-1),s=Go(Te($t(1,t),e),-1);return Zi(0,st(1,$t(s,n)))})}function dpt(t,e){return Le(()=>{const n=Math.log(2),s=$t(e,t),r=$t(st(s,af(Te(-2,s))),n);return us(r,-1)})}function og(t,e,n=!1){return Le(()=>{if(n)e=r2(e);else{const s=kt(e,e.shape.length-1,!0);e=It(e,s)}return e=Zr(e,Os(),1-Os()),Jn(kt(Te(ht(t,"float32"),xo(e)),e.shape.length-1))})}function db(t,e,n=!1){return Le(()=>{const s=ht(sm(vht(t)),"int32");e=Zr(e,Os(),1-Os());const r=e.shape,o=Ne(Sh(s,r[r.length-1]),r);return og(o,e,n)})}function fpt(t,e){if(!hn(t.shape,e.shape))throw new Ee(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return Le(()=>{const n=li(e),s=Jn($s(e));return st($t(n,Te(e,t)),Y1($o(s)))})}function B3(t,e){return Le(()=>{let n;return n=Zr(e,Os(),1-Os()),n=xo(It(n,$t(1,n))),us(fpt(t,n),-1)})}function hpt(t,e){return Le(()=>{const n=Zr(t,Os(),1),s=Zr(e,Os(),1);return kt(Te(t,xo(It(n,s))),-1)})}function ppt(t,e){return Le(()=>{const n=xo(st(Os(),e));return us($t(e,Te(t,n)),-1)})}function QT(t,e){return Le(()=>{const n=cb(t,-1),s=cb(e,-1),r=Te(n,s);return Jn(kt(r,-1))})}const fb={meanSquaredError:df,meanAbsoluteError:z3,meanAbsolutePercentageError:um,meanSquaredLogarithmicError:ipt,squaredHinge:lpt,hinge:upt,categoricalHinge:cpt,logcosh:dpt,categoricalCrossentropy:og,sparseCategoricalCrossentropy:db,binaryCrossentropy:B3,kullbackLeiblerDivergence:hpt,poisson:ppt,cosineProximity:QT};function b$(t){if(typeof t=="string"){if(t in fb)return fb[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Ee(e)}else return t}function eN(t,e){return Le(()=>{const n=Te(.5,So(e)),s=Fi(Pr(e,n),t.dtype);return us(_o(t,s),-1)})}function tN(t,e){return Le(()=>Fi(_o(Od(t,-1),Od(e,-1)),"float32"))}function yW(t,e){return Le(()=>ht(kt(Ta(_o(t,1),_o(e,1))),"float32"))}function mpt(t,e){return Le(()=>ht(kt(Ta(_o(t,1),_o(e,0))),"float32"))}function gpt(t,e){return Le(()=>ht(kt(Ta(_o(t,0),_o(e,1))),"float32"))}function bW(t,e){return Le(()=>{const n=yW(t,e),s=gpt(t,e),r=st(n,s);return ht(wr(Pr(r,0),It(n,r),0),"float32")})}function vpt(t,e){return Le(()=>{const n=yW(t,e),s=mpt(t,e),r=st(n,s);return ht(wr(Pr(r,0),It(n,r),0),"float32")})}function wW(t,e){return B3(t,e)}function _W(t,e){return t.rank===e.rank&&(t=gc(t,[t.rank-1])),e=Od(e,-1),e.dtype!==t.dtype&&(e=ht(e,t.dtype)),ht(_o(t,e),"float32")}const ypt=df,bpt=df,wpt=z3,_pt=z3,$pt=um,xpt=um,nN=og,Spt=QT,$W=db,hb={binaryAccuracy:eN,categoricalAccuracy:tN,precision:bW,categoricalCrossentropy:nN,sparseCategoricalCrossentropy:$W,mse:ypt,MSE:bpt,mae:wpt,MAE:_pt,mape:$pt,MAPE:xpt,cosine:Spt};function Cpt(t){if(typeof t=="string"&&t in hb)return hb[t];if(typeof t!="string"&&t!=null)return t;throw new Ee(`Unknown metric ${t}`)}function bv(t){if(gi(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(fb))if(fb[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(hb))if(hb[n]===t){e=n;break}return e!==void 0?e:t.name}}function kpt(t){const e={Adagrad:()=>Dc.adagrad(.01),Adadelta:()=>Dc.adadelta(1,.95,Os()),Adam:()=>Dc.adam(.001,.9,.999,Os()),Adamax:()=>Dc.adamax(.002,.9,.999,Os(),0),RMSProp:()=>Dc.rmsprop(.001,.9,0,Os()),SGD:()=>Dc.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new Ee(`Unknown Optimizer ${t}`)}const pD=1*1024*1024;function mD(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!Ox(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const s=JSON.stringify(t);s.length>pD&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${s.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${pD}.`)}}function Ox(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!Ox(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!Ox(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}function Tpt(t,e,n,s=console.log){const r=Ept(t),o=["Layer (type)","Input Shape","Output shape","Param #"];r?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(e*c)));let a;if(!r){o.push("Receives inputs"),a=[];for(const c in t.nodesByDepth)a.push(...t.nodesByDepth[c])}s("_".repeat(e)),pb(o,n,s),s("=".repeat(e));const i=t.layers;for(let c=0;c<i.length;++c)r?Ipt(i[c],n,s):Apt(i[c],n,a,s),s((c===i.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=Npt(t),u=ib(t.nonTrainableWeights);s(`Total params: ${l+u}`),s(`Trainable params: ${l}`),s(`Non-trainable params: ${u}`),s("_".repeat(e))}function Npt(t){let e;return t.collectedTrainableWeights!=null?e=ib(t.collectedTrainableWeights):e=ib(t.trainableWeights),e}function Ept(t){let e=!0;const n=[],s=[];for(const r in t.nodesByDepth)n.push(t.nodesByDepth[r]);for(const r of n){if(r.length>1||r.length===1&&r[0].inboundLayers.length>1){e=!1;break}s.push(...r)}if(e)for(const r of t.layers){let o=!1;for(const a of r.inboundNodes)if(s.indexOf(a)!==-1)if(o){e=!1;break}else o=!0;if(!e)break}return e}function pb(t,e,n=console.log){let s="";for(let r=0;r<t.length;++r)r>0&&(s=s.slice(0,s.length-1)+" "),s+=t[r],s=s.slice(0,e[r]),s+=" ".repeat(e[r]-s.length);n(s)}function Ipt(t,e,n){let s,r;try{r=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{r="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const o=t.name,a=t.getClassName(),i=[`${o} (${a})`,r,s,t.countParams().toString()];pb(i,e,n)}function Apt(t,e,n,s){let r,o;try{o=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch{o="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const a=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let f=0;f<d.inboundLayers.length;++f){const h=d.inboundLayers[f].name,p=d.nodeIndices[f],m=d.tensorIndices[f];a.push(`${h}[${p}][${m}]`)}const i=t.name,l=t.getClassName(),u=a.length===0?"":a[0],c=[`${i} (${l})`,o,r,t.countParams().toString(),u];pb(c,e,s);for(let d=1;d<a.length;++d)pb(["","","","",a[d]],e,s)}function xW(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function ag(t,e){if(t===null)return null;if(typeof t=="string")return Hc(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],s=t.length;for(let r=0;r<s;++r){const o=t[r];xW(e,r,o)?n.push(o):n.push(ag(o,e))}return n}else{const n={};for(const s of Object.keys(t)){const r=t[s];if(s==="name"&&typeof r=="string")n[s]=r;else{const o=Hc(s);n[o]=ag(r,o)}}return n}}function Rx(t,e){if(t==null)return null;if(typeof t=="string")return il(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],s=t.length;for(let r=0;r<s;++r){const o=t[r];xW(e,r,o)?n.push(o):n.push(Rx(o,e))}return n}else{const n={};for(const s of Object.keys(t)){const r=t[s],o=il(s);(s==="name"||s==="className")&&typeof r=="string"?n[o]=r:n[o]=Rx(r,s)}return n}}const V3="4.1.0";class Fa extends cn{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const w=this.getClassName().toLowerCase();this.name=E3(w)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Pu(this.inputs).length!==this.inputs.length)throw new Ee(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(w=>w.name)}`);Pu(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(w=>w.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const w of this.outputs){const b=w.sourceLayer,_=w.nodeIndex,$=w.tensorIndex;this.outputLayers.push(b),this.outputLayersNodeIndices.push(_),this.outputLayersTensorIndices.push($)}for(const w of this.inputs){const b=w.sourceLayer,_=w.nodeIndex,$=w.tensorIndex;gi(_===0,"input layer has >1 nodes"),gi($===0,"input layer has >1 tensors"),this.inputLayers.push(b),this.inputLayersNodeIndices.push(_),this.inputLayersTensorIndices.push($)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let w=0;w<this.inputLayers.length;w++){const b=this.inputLayers[w];if(!(b instanceof lm))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${w} (0-based) originates from layer type ${b.getClassName()}.`);this.inputNames.push(b.name),this.feedInputShapes.push(b.batchInputShape),this.feedInputNames.push(b.name)}for(const w of this.outputLayers)this.outputNames.push(w.name);this.internalInputShapes=this.inputs.map(w=>w.shape),this.internalOutputShapes=this.outputs.map(w=>w.shape);const n={},s={},r={},o={},a={},i=[],l=(w,b,_,$,x,k)=>{($==null||x==null||k==null)&&($=w.sourceLayer,x=w.nodeIndex,k=w.tensorIndex);const C=$.inboundNodes[x];if(_.indexOf(C)!==-1)throw new pa(`The tensor ${w.name} at layer "${$.name}" is part of a cycle.`);if(b.indexOf(C)!==-1)return;this.containerNodes.add(Fa.nodeKey($,x)),$.id in a||(a[$.id]=Object.keys(a).length),_.indexOf(C)===-1&&_.push(C);const T=C.inboundLayers.length;for(let N=0;N<T;N++){const M=C.inputTensors[N],R=C.inboundLayers[N],D=C.nodeIndices[N],z=C.tensorIndices[N];l(M,b,_,R,D,z)}for(b.push(C);_.indexOf(C)>=0;)_.splice(_.indexOf(C),1);i.push(C)},u=[],c=[];for(const w of this.outputs)l(w,u,c);const d=i.slice().reverse();for(const w of d){s[w.id]=w,w.id in n||(n[w.id]=0);let b=n[w.id];const _=r[w.outboundLayer.id]==null?0:r[w.outboundLayer.id];b=Math.max(b,_),r[w.outboundLayer.id]=b,o[w.outboundLayer.id]=w.outboundLayer,n[w.id]=b;for(let $=0;$<w.inboundLayers.length;$++){const x=w.inboundLayers[$],k=w.nodeIndices[$],C=x.inboundNodes[k],T=n[C.id]==null?0:n[C.id];n[C.id]=Math.max(b+1,T),s[C.id]=C}}const f={};for(const w in n){const b=n[w];b in f||(f[b]=[]),f[b].push(s[w])}const h={};for(const w in r){const b=r[w];b in h||(h[b]=[]),h[b].push(o[w])}let p=Object.keys(h).map(w=>parseInt(w,10)).sort(gv);this.layers=[];for(const w of p){const b=h[w];b.sort((_,$)=>{const x=a[_.id],k=a[$.id];return x<k?-1:x>k?1:0});for(const _ of b)_ instanceof Fa&&this.internalContainerRefs.push(_),this.layers.push(_)}this.layersByDepth=h,p=Object.keys(f).map(w=>parseInt(w,10)).sort(gv);const m=this.inputs.slice(),g=[];for(const w of p)for(const b of f[w]){const _=b.outboundLayer;if(_!=null){for(const $ of b.inputTensors)if(m.indexOf($)===-1)throw new pa(`Graph disconnected: cannot obtain value for tensor ${$} at layer "${_.name}". The following previous layers were accessed without issue: ${g}`);for(const $ of b.outputTensors)m.push($);g.push(_.name)}}this.nodesByDepth=f;const y=this.layers.map(w=>w.name);for(const w of y){const b=y.filter(_=>_===w).length;if(b!==1)throw new pa(`The name "${w}" is used ${b} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(y))}this.outboundNodes=[],this.inboundNodes=[],new L3({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(w=>null),outputMasks:this.outputs.map(w=>null),inputShapes:this.inputs.map(w=>w.shape),outputShapes:this.outputs.map(w=>w.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(s=>s.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Ee("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const s of this.layers)n.push(...s.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const s={};let r=0;for(const a of this.layers)for(const i of a.weights){if(s[i.originalName]!=null)throw new Ee(`Duplicate weight name: ${i.originalName}`);s[i.originalName]=i,r++}const o=[];for(const a in e){let i=a;if(s[a]==null){const l=a.split("/");i=l.slice(0,-2).concat([l[l.length-1]]).join("/")}if(s[i]!=null)o.push([s[i],e[a]]);else if(n)throw new Ee(`Provided weight data has no target variable: ${a}`);delete s[i]}if(n){const a=[];for(const i in s)a.push(i);if(a.length>0)throw new Ee(`${a.length} of ${r} weights are not set: ${a}`)}KT(o)}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${V3}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const s=Rx(this.updatedConfig());return n?JSON.stringify(s):s}call(e,n){return Le(()=>{e=qn(e);const s=new ku;for(let r=0;r<this.inputs.length;++r)s.add(this.inputs[r],e[r]);return Km(this.outputs,s,n)})}computeMask(e,n){return Le(()=>{e=qn(e);let s;return n==null?s=Pd(null,e.length):s=qn(n),this.runInternalGraph(e,s)[1]})}computeOutputShape(e){const n=ab(e);if(n.length!==this.inputLayers.length)throw new Ee(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const s={};for(let i=0;i<n.length;i++){const l=this.inputLayers[i],u=n[i],c=l.name+"_0_0";s[c]=u}const r=Object.keys(this.nodesByDepth).map(i=>parseInt(i,10)).sort(gv);if(r.length>1)for(const i of r){const l=this.nodesByDepth[i];for(const u of l){const c=u.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(c.id)!==-1)continue;const d=[];for(let m=0;m<u.inboundLayers.length;m++){const g=u.inboundLayers[m],y=u.nodeIndices[m],w=u.tensorIndices[m],b=`${g.name}_${y}_${w}`,_=s[b];d.push(_)}const f=c.computeOutputShape(Ur(d)),h=ab(f),p=c.inboundNodes.indexOf(u);for(let m=0;m<h.length;m++){const g=`${c.name}_${p}_${m}`;s[g]=h[m]}}}const o=[],a=[];for(let i=0;i<this.outputLayers.length;i++){const l=this.outputLayers[i],u=this.outputLayersNodeIndices[i],c=this.outputLayersTensorIndices[i],d=`${l.name}_${u}_${c}`;a.push(d)}for(let i=0;i<a.length;i++){const l=a[i];gi(l in s),o.push(s[l])}return Ur(o)}runInternalGraph(e,n){n==null&&(n=Pd(null,e.length));const s={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],c=e[l],d=n[l];s[u.id]=[c,d]}const r=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(gv);for(const l of r){const u=this.nodesByDepth[l];for(const c of u){const d=c.outboundLayer,f=c.inputTensors,h=c.outputTensors,p=new Array;for(const m of f)m.id in s&&p.push(s[m.id]);if(p.length===f.length){let m={},g,y,w,b;if(c.callArgs!=null&&(m=c.callArgs),p.length===1){const[_,$]=p[0];m.mask==null&&(m.mask=$),w=qn(d.call(_,m)),b=qn(d.computeMask(_,$)),g=[_],y=[$]}else g=p.map(_=>_[0]),y=p.map(_=>_[1]),m.mask==null&&(m.mask=y),w=qn(d.call(g,m)),b=qn(d.computeMask(g,y));if(d.activityRegularizer)throw new Zt("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let _=0;_<h.length;++_){const $=h[_],x=w[_],k=b[_];s[$.id]=[x,k]}}}}const o=[],a=[],i=[];for(const l of this.outputs){gi(l.id in s,`Could not compute output ${l.name} : ${l.id}`);const[u,c]=s[l.id];i.push(u.shape),o.push(u),a.push(c)}return[o,a,i]}buildNodeConversionMap(e){const n={};let s;for(const r of this.layers){s=r instanceof Fa?1:0;for(let o=0;o<r.inboundNodes.length;o++){const a=Fa.nodeKey(r,o);this.containerNodes.has(a)&&(n[a]=s,s+=1)}}return n}getLayer(e,n){if(n!=null){if(this.layers.length<=n)throw new Ee(`Was asked to retrieve layer at index ${n}, but model only has ${this.layers.length} layer(s).`);return this.layers[n]}else if(e==null)throw new Ee("Provide either a layer name or layer index");for(const s of this.layers)if(s.name===e)return s;throw new Ee(`No such layer: ${e}`)}calculateLosses(){return Le(()=>{const e=[];for(const n of this.layers)for(let s=0;s<n.inboundNodes.length;++s){const r=Fa.nodeKey(n,s);this.containerNodes.has(r)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),s=[];for(const a of this.layers){const i=a.getClassName(),l=a.getConfig(),u=[];for(let d=0;d<a.inboundNodes.length;d++){const f=a.inboundNodes[d],h=Fa.nodeKey(a,d);let p={};if(this.containerNodes.has(h)){if(f.callArgs)try{JSON.stringify(f.callArgs),p=f.callArgs}catch{console.warn(`Layer ${a.name} was passed non-serializable keyword arguments: ${f.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(f.inboundLayers.length>0){const m=[];for(let g=0;g<f.inboundLayers.length;g++){const y=f.inboundLayers[g],w=f.nodeIndices[g],b=f.tensorIndices[g],_=Fa.nodeKey(y,w);let $=n[_];$==null&&($=0),m.push([y.name,$,b,p])}u.push(m)}}}const c={};c.name=a.name,c.className=i,c.config=l,c.inboundNodes=u,s.push(c)}e.layers=s;const r=[];for(let a=0;a<this.inputLayers.length;a++){const i=this.inputLayers[a],l=this.inputLayersNodeIndices[a],u=Fa.nodeKey(i,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const d=this.inputLayersTensorIndices[a];r.push([i.name,c,d])}e.inputLayers=r;const o=[];for(let a=0;a<this.outputLayers.length;a++){const i=this.outputLayers[a],l=this.outputLayersNodeIndices[a],u=Fa.nodeKey(i,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const d=this.outputLayersTensorIndices[a];o.push([i.name,c,d])}return e.outputLayers=o,e}static fromConfig(e,n,s={},r=!1){const o={},a={};function i(g,y){g.name in a?a[g.name].push(y):a[g.name]=[y]}function l(g,y){const w=[];let b;for(const _ of y){const $=_[0],x=_[1],k=_[2];if(b=_[3]==null?{}:_[3],!($ in o)){i(g,y);return}const C=o[$];if(C.inboundNodes.length<=x){i(g,y);return}const T=C.inboundNodes[x];w.push(T.outputTensors[k])}w.length>0&&g.apply(Ur(w),b)}function u(g){const y=g.name,w=Xa(g,n.customObjects!=null?n.customObjects:{});w.setFastWeightInitDuringBuild(r),o[y]=w,g.inboundNodes.forEach(_=>{if(!(_ instanceof Array))throw new Ee(`Corrupted configuration, expected array for nodeData: ${_}`);i(w,_)})}const c=n.name,d=n.layers;for(const g of d)u(g);for(;!rht(a);)for(const g of d){const y=o[g.name];if(y.name in a){const w=a[y.name];delete a[y.name];for(const b of w)l(y,b)}}const f=[],h=[],p=n.inputLayers;for(const g of p){const y=g[0],w=g[1],b=g[2];gi(y in o);const $=o[y].inboundNodes[w].outputTensors;f.push($[b])}const m=n.outputLayers;for(const g of m){const y=g[0],w=g[1],b=g[2];gi(y in o);const $=o[y].inboundNodes[w].outputTensors;h.push($[b])}return new e({inputs:f,outputs:h,name:c})}get stateful(){if(this._stateful)throw new Ee("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Le(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}function Opt(t,e,n){const s=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>null);if(s===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==s)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${s} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const r=[];return e.forEach(o=>{o in t?r.push(t[o]):r.push(null)}),r}else throw new Error(`The model has multiple (${s}) outputs, so ${n} must be either an array with ${s} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function SW(t,e){return Opt(t,e,"classWeight")}async function CW(t,e,n,s){if(e!=null||s!=null)throw new Error("Support sampleWeight is not implemented yet");if(n!=null){const r=Le(()=>{if(t.shape.length===1)return Ri(t);if(t.shape.length===2){if(t.shape[1]>1)return Od(t,1);if(t.shape[1]===1)return Ne(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),o=Array.from(await r.data());Xt(r);const a=[];return o.forEach(i=>{if(n[i]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${i} exists in the data but not in classWeight`);a.push(n[i])}),vr(a,"float32")}else return null}function Rpt(t,e){return Te(t,e)}const Dpt=32;function kW(t,e){let n,s;const r=e;n=r.xs,s=r.ys,q(n!=null&&s!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const o=gD("input",t.inputNames,n),a=gD("output",t.outputNames,s),i=o[0].shape[0];q(o.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${o.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),q(a.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${a.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<o.length;l++)q(o[l].shape[0]===i,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${o[l].shape[0]}; expected  ${i} based on input ${t.inputNames[0]}.`);for(let l=0;l<a.length;l++)q(a[l].shape[0]===i,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${a[l].shape[0]}; expected  ${i} based on input ${t.inputNames[0]}.`);return{xs:o,ys:a}}function gD(t,e,n){if(n instanceof $n)return[n];if(Array.isArray(n))return q(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const s=[];for(const r of e){if(n[r]==null)throw new Ee(`The feature data generated by the dataset lacks the required ${t} key '${r}'.`);s.push(n[r])}return s}}function Fpt(t){if(t.length===3)throw new Zt("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function Mpt(t,e,n){const s=n.batchesPerEpoch!=null;if(q(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),q(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),q(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),q(!s||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),q(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const r=n.validationData!=null;let o,a;if(r)if(vD(n.validationData))q(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const g=Fpt(n.validationData);o=g.xs,a=g.ys}const i=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let u;r?u=l.slice().concat(l.map(g=>"val_"+g)):u=l.slice();const c=gW(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:f,history:h}=vW(c,d,n.epochs,null,null,Ppt(e,n),null,r,u);f.setModel(t),t.history=h,await f.onTrainBegin(),t.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,m=await e.iterator();for(;p<n.epochs;){const g={};await f.onEpochBegin(p);let y=0,w=0;for(s||(m=await e.iterator());!s||y<n.batchesPerEpoch;){const b=await m.next();if(s&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${y} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(b.value!=null){const{xs:_,ys:$}=kW(t,b.value),x={};x.batch=w,x.size=_[0].shape[0],await f.onBatchBegin(w,x);const k=[];if(n.classWeight!=null){const N=SW(n.classWeight,t.outputNames);for(let M=0;M<N.length;++M)k.push(await CW($[M],null,N[M]))}const C=_.concat($).concat(k),T=i(C);Xt(C);for(let N=0;N<l.length;++N){const M=l[N],R=T[N];x[M]=R,As(R)}await f.onBatchEnd(w,x),fW(x),w++,y++}if(s?y>=n.batchesPerEpoch:b.done){if(r){let _;vD(n.validationData)?_=qn(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):_=qn(t.evaluate(o,a,{batchSize:n.validationBatchSize==null?Dpt:n.validationBatchSize,verbose:0}));for(let $=0;$<t.metricsNames.length;++$)g[`val_${t.metricsNames[$]}`]=_[$]}break}if(t.stopTraining_)break}if(await f.onEpochEnd(p,g),p++,t.stopTraining_)break}return await f.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function Ppt(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function vD(t){return typeof t.iterator=="function"}function Lpt(t){return typeof t.next=="function"}async function zpt(t,e,n){n=n||{};const s=n.batches!=null,r=t.testFunction;let o=[];if(n.verbose>0)throw new Zt("Verbose mode is not implemented yet.");q(!s||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const a=Lpt(e)?e:await e.iterator();let i=0,l=0;for(;!s||l<n.batches;){const u=await a.next();if(o=Le(()=>{if(u.value){const{xs:c,ys:d}=kW(t,u.value),f=c.concat(d),h=Le(()=>r(f));if(Xt(f),l===0)for(let m=0;m<h.length;++m)o.push(Pt(0));const p=f[0].shape[0];for(let m=0;m<h.length;++m){const g=h[m],y=o[m];o[m]=Le(()=>st(o[m],Te(p,g))),l>0&&Xt(y)}Xt(h),i+=p,++l}return o}),u.done){s&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<o.length;++u){const c=o[u];o[u]=It(o[u],i),Xt(c)}return Ur(o)}function w$(t){q(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function Fm(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(s=>fd(s,e,n-e)):fd(t,e,n-e)}function Dx(t,e){return Le(()=>t==null?null:Array.isArray(t)?t.map(n=>Dx(n,e)):iW(t,e.dtype==="int32"?e:ht(e,"int32")))}function _$(t,e){const n=[];let s=0,r=null;for(;s<t;)r=s+e,r>=t&&(r=t),n.push([s,r]),s=r;return n}function TW(t){const e=[];t instanceof $n&&(t=[t]);for(let n=0;n<t.length;++n){const s=t[n];if(s.rank===1)e.push(f2(s,1));else{if(s.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(s)}}return e}function Ra(t,e){if(t==null)return;const n=[];if(e instanceof $n)n.push(e.id);else if(Array.isArray(e))e.forEach(r=>n.push(r.id));else if(e!=null)for(const r in e){const o=e[r];n.push(o.id)}const s=[];if(t instanceof $n)n.indexOf(t.id)===-1&&s.push(t);else if(Array.isArray(t))t.forEach(r=>{n.indexOf(r.id)===-1&&s.push(r)});else if(t!=null)for(const r in t){const o=t[r];n.indexOf(o.id)===-1&&s.push(o)}s.forEach(r=>{r.isDisposed||r.dispose()})}function Bpt(t){return t instanceof $n}function Fx(t){return Array.isArray(t)}function yD(t){return!Bpt(t)&&!Fx(t)}function bD(t,e,n,s=!0,r=""){if(e==null||e.length===0){if(t!=null){let a=!1;if(Fx(t)&&t.length>0)a=!0;else if(yD(t)){for(const i in t)if(t.hasOwnProperty(i)){a=!0;break}}else a=!0;if(a)throw new Ee(`Error when checking model ${r} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(a=>null);let o;if(yD(t)){t=t,o=[];for(const a of e){if(t[a]==null)throw new Ee(`No data provided for "${a}". Need data for each key in: ${e}`);o.push(t[a])}}else if(Fx(t)){if(t=t,t.length!==e.length)throw new Ee(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);o=t}else{if(t=t,e.length>1)throw new Ee(`The model ${r} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);o=[t]}if(o=TW(o),n!=null)for(let a=0;a<e.length;++a){if(n[a]==null)continue;const i=o[a];if(i.shape.length!==n[a].length)throw new Ee(`Error when checking ${r}: expected ${e[a]} to have ${n[a].length} dimension(s). but got array with shape ${i.shape}`);for(let l=0;l<n[a].length;++l){if(l===0&&!s)continue;const u=i.shape[l],c=n[a][l];if(c!=null&&c>=0&&u!==c)throw new Ee(`${r} expected a batch of elements where each example has shape [${n[a].slice(1,n[a].length)}] (i.e.,tensor shape [*,${n[a].slice(1,n[a].length)}]) but the ${r} received an input with ${i.shape[0]} examples, each with shape [${i.shape.slice(1,i.shape.length)}] (tensor shape [${i.shape}])`)}}return o}function Vpt(t,e,n){const s=Pu(t.map(o=>o.shape[0]));s.sort();const r=Pu(e.map(o=>o.shape[0]));if(r.sort(),s.length>1)throw new Ee(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(o=>o.shape))}`);if(r.length>1)throw new Ee(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(o=>o.shape))}`);if(s.length>0&&r.length>0&&!hn(s,r))throw new Ee(`Input Tensors should have the same number of samples as target Tensors. Found ${s[0]} input sample(s) and ${r[0]} target sample(s).`)}function Hpt(t,e,n){const s=[df,B3,og];for(let r=0;r<t.length;++r){const o=t[r],a=e[r],i=n[r];if(a!=null){if(a===og&&o.shape[o.shape.length-1]===1)throw new Ee(`You are passing a target array of shape ${o.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(s.indexOf(a)!==-1){const l=o.shape.slice(1),u=i.slice(1);for(let c=0;c<l.length;++c){const d=l[c],f=u[c];if(f!=null&&d!==f)throw new Ee(`A target Tensor with shape ${o.shape} was passed for an output of shape ${i}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function wD(t,e,n,s=!0,r=""){let o;if(Array.isArray(t)){if(t.length!==e.length)throw new Ee(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);o=t}else{if(e.length>1)throw new Ee(`The model expects ${e.length} ${r} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);o=[t]}if(n!=null)for(let a=0;a<e.length;++a){if(n[a]==null)continue;const i=o[a];if(i.shape.length!==n[a].length)throw new Ee(`Error when checking ${r}: expected ${e[a]} to have ${n[a].length} dimension(s), but got array with shape ${JSON.stringify(i.shape)}`);for(let l=0;l<n[a].length;++l){if(l===0&&!s)continue;const u=i.shape[l],c=n[a][l];if(c!=null&&c!==u)throw new Ee(`Error when checking ${r}: expected ${e[a]} to have shape ${JSON.stringify(n[a])} but got array with shape ${JSON.stringify(i.shape)}.`)}}}function Wpt(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(s=>n);{const s=[];for(const r of e){let o=n.hasOwnProperty(r)?n[r]:[];Array.isArray(o)||(o=[o]),s.push(o)}return s}}const Upt="layers-model";class yl extends Fa{constructor(e){super(e),this.isTraining=!1}summary(e,n,s=console.log){if(!this.built)throw new Ee("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Tpt(this,e,n,s)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=kpt(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof eu))throw new Ee("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const a in e.loss)if(this.outputNames.indexOf(a)===-1)throw new Ee(`Unknown entry in loss dictionary: "${a}". Only expected the following keys: ${this.outputNames}`);for(const a of this.outputNames)e.loss[a]==null&&console.warn(`Output "${a}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${a} during training`),n.push(b$(e.loss[a]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Ee(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(i=>b$(i))}else{const a=b$(e.loss);this.outputs.forEach(i=>{n.push(a)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let a=0;a<this.outputs.length;++a){const i=this.internalOutputShapes[a],l=this.outputNames[a];this.feedOutputNames.push(l),this.feedOutputShapes.push(i),this.feedLossFns.push(this.lossFunctions[a])}const s=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],dd("loss",()=>{for(let a=0;a<this.outputs.length;++a){if(s.indexOf(a)!==-1)continue;const i=this.lossFunctions[a];this.outputs.length>1&&(this.metricsTensors.push([i,a]),this.metricsNames.push(this.outputNames[a]+"_loss"))}});const r=Wpt(e.metrics,this.outputNames),o=(a,i,l)=>{this.outputNames.length>1&&(i=this.outputNames[a]+"_"+i),this.metricsNames.push(i),this.metricsTensors.push([l,a])};dd("metric",()=>{for(let a=0;a<this.outputs.length;++a){if(s.indexOf(a)!==-1)continue;const i=r[a];(u=>{const c="";let d,f,h;for(const p of u){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const g=this.internalOutputShapes[a];g[g.length-1]===1||this.lossFunctions[a]===B3?["accuracy","acc"].indexOf(p)!==-1?f=eN:["crossentropy","ce"].indexOf(p)!==-1&&(f=wW):this.lossFunctions[a]===db?["accuracy","acc"].indexOf(p)!==-1?f=_W:["crossentropy","ce"].indexOf(p)!==-1&&(f=$W):["accuracy","acc"].indexOf(p)!==-1?f=tN:["crossentropy","ce"].indexOf(p)!==-1&&(f=nN);let y;["accuracy","acc"].indexOf(p)!==-1?y="acc":["crossentropy","ce"].indexOf(p)!==-1&&(y="ce"),h=f,d=c+y}else h=Cpt(p),d=c+bv(p);let m;dd(d,()=>{m=h}),o(a,d,m)}})(i)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,s={}){const r=s.batchSize==null?32:s.batchSize;w$(r);const o=!0,a=this.standardizeUserDataXY(e,n,o,r);try{const i=a[0].concat(a[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,i,r,s.verbose,s.steps);return Ur(u)}finally{Ra(a[0],e),Ra(a[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),zpt(this,e,n)}checkNumSamples(e,n,s,r="steps"){let o;if(s!=null){if(o=null,n!=null)throw new Ee(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?o=e[0].shape[0]:o=e.shape[0];else throw new Ee(`Either the input data should have a defined shape, or ${r} shoud be specified.`);return o}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new Ee("`outputs` is an empty Array, which is not allowed.");const s=Array.isArray(n),r=s?n:[n],o=this.retrieveSymbolicTensors(r),a=new ku;if(e instanceof $n&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Ee(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)a.add(this.inputs[l],e[l])}else for(const l of this.inputs){const u=e[l.name];if(u==null)throw new Ee(`No value is provided for the model's input ${l.name}`);a.add(l,u)}const i=Km(o,a);return s?i:i[0]}retrieveSymbolicTensors(e){const n=Pd(null,e.length);let s=e.length;for(const r of this.layers){const o=Array.isArray(r.output)?r.output:[r.output],a=o.map(i=>i.name);for(let i=0;i<e.length;++i){const l=a.indexOf(e[i]);if(l!==-1&&(n[i]=o[l],s--),s===0)break}if(s===0)break}if(s>0){const r=[];throw n.forEach((o,a)=>{o==null&&r.push(e[a])}),new Ee(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(r)}`)}return n}predictLoop(e,n=32,s=!1){return Le(()=>{const r=this.checkNumSamples(e);if(s)throw new Zt("Verbose predictLoop() is not implemented yet.");const o=_$(r,n),a=this.outputs.map(i=>[]);for(let i=0;i<o.length;++i)Le(()=>{const u=o[i][0],c=o[i][1],d=Fm(e,u,c),f=[];if(Array.isArray(d))for(let p=0;p<d.length;++p)f.push({key:this.inputs[p],value:d[p]});else f.push({key:this.inputs[0],value:d});const h=new ku(f);return Km(this.outputs,h)}).forEach((u,c)=>a[c].push(u));return Ur(a.map(i=>vs(i,0)))})}predict(e,n={}){const s=TW(e);wD(s,this.inputNames,this.feedInputShapes,!1);try{const r=n.batchSize==null?32:n.batchSize;return w$(r),this.predictLoop(s,r)}finally{Ra(s,e)}}predictOnBatch(e){wD(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,s=!0,r){if(this.optimizer_==null)throw new pa("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const o=[];for(let a=0;a<this.feedOutputShapes.length;++a){const i=this.feedOutputShapes[a];this.feedLossFns[a]===db?o.push(i.slice(0,i.length-1).concat([1])):o.push(i)}if(e=bD(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=bD(n,this.feedOutputNames,o,!1,"target"),Vpt(e,n),Hpt(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&r!=null&&r>0&&e[0].shape[0]%r!==0)throw new Ee(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,s,r,o=!0,a){const[i,l]=this.standardizeUserDataXY(e,n,o,a);if(s!=null)throw new Error("sample weight is not supported yet.");let u=null;if(r!=null){const c=SW(r,this.outputNames);u=[];for(let d=0;d<c.length;++d)u.push(await CW(l[d],null,c[d]))}return[i,l,u]}testLoop(e,n,s,r=0,o){return Le(()=>{const a=this.checkNumSamples(n,s,o,"steps"),i=[];if(r>0)throw new Zt("Verbose mode is not implemented yet.");if(o!=null)throw new Zt("steps mode in testLoop() is not implemented yet");{const l=_$(a,s),u=vr(ti(0,a));for(let c=0;c<l.length;++c){const d=l[c][0],f=l[c][1],h=fd(u,d,f-d),p=Dx(n,h),m=e(p);if(c===0)for(let g=0;g<m.length;++g)i.push(Pt(0));for(let g=0;g<m.length;++g){const y=m[g];i[g]=st(i[g],Te(f-d,y))}}for(let c=0;c<i.length;++c)i[c]=It(i[c],a)}return i})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let s=0;s<e.length;++s){const r=e[s];let o=r;if(rD(e,r)>1){const a=rD(e.slice(0,s),r);o+=`_${a}`}n.push(o)}return n}makeTrainFunction(){return e=>{const n=[],s=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),a=[],i=()=>{const d=[];for(let m=0;m<this.inputs.length;++m)d.push({key:this.inputs[m],value:s[m]});const f=new ku(d),h=Km(this.outputs,f,{training:!0});let p;for(let m=0;m<this.lossFunctions.length;++m){const g=this.lossFunctions[m];let y=g(r[m],h[m]);o[m]!=null&&(y=Rpt(y,o[m]));const w=us(y);n.push(w),m===0?p=y:p=st(p,y)}for(let m=0;m<this.metricsTensors.length;++m){let g;if(this.outputs.length>1&&m<this.outputs.length)g=n[m];else{const y=this.metricsTensors[m][0],w=this.metricsTensors[m][1];g=us(y(r[w],h[w]))}As(g),a.push(g)}return p=us(p),this.calculateLosses().forEach(m=>{p=st(p,m)}),p},l=this.collectedTrainableWeights.map(d=>d.read()),u=!0;return[this.optimizer_.minimize(i,u,l)].concat(a)}}makeTestFunction(){this.testFunction=e=>Le(()=>{const n=[];let s;const r=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=[];for(let u=0;u<this.inputs.length;++u)a.push({key:this.inputs[u],value:r[u]});const i=new ku(a),l=Km(this.outputs,i);for(let u=0;u<this.lossFunctions.length;++u){const c=this.lossFunctions[u],d=us(c(o[u],l[u]));u===0?s=d:s=st(s,d),n.push(s)}for(let u=0;u<this.metricsTensors.length;++u){const c=this.metricsTensors[u][0],d=this.metricsTensors[u][1],f=us(c(o[d],l[d]));n.push(f)}return n})}async fit(e,n,s={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let r,o,a,i,l,u,c,d,f;try{const h=s.batchSize==null?32:s.batchSize;w$(h);const p=!1,m=await this.standardizeUserData(e,n,s.sampleWeight,s.classWeight,p,h);r=m[0],o=m[1],f=m[2];let g=!1,y;if(s.validationData!=null&&s.validationData.length>0){if(g=!0,s.validationData.length===2)l=s.validationData[0],u=s.validationData[1];else throw s.validationData.length===3?new Zt("validationData including sample weights is not supported yet."):new Ee(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${s.validationData} is invalid.`);const T=!0,N=await this.standardizeUserData(l,u,null,null,T,h);c=N[0],d=N[1],y=c.concat(d)}else if(s.validationSplit!=null&&s.validationSplit>0&&s.validationSplit<1){g=!0;const T=Math.floor(r[0].shape[0]*(1-s.validationSplit)),N=r[0].shape[0];c=Fm(r,T,N),a=r,r=Fm(r,0,T),d=Fm(o,T,N),i=o,o=Fm(o,0,T),y=c.concat(d)}else s.validationSteps!=null&&(g=!0);const w=r.concat(o).concat(f);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),_=this.getDedupedMetricsNames();let $,x;g?(this.makeTestFunction(),$=this.testFunction,x=_.slice().concat(_.map(T=>"val_"+T))):($=null,y=[],x=_.slice());const k=gW(s.callbacks,s.yieldEvery);return await this.fitLoop(b,w,_,h,s.epochs,s.verbose,k,$,y,s.shuffle,x,s.initialEpoch,null,null)}finally{this.isTraining=!1,Ra(r,e),Ra(o,n),Ra(a,e),Ra(i,n),Ra(c,l),Ra(d,u),f!=null&&Xt(f)}}async fitLoop(e,n,s,r,o,a,i,l,u,c,d,f,h,p){r==null&&(r=32),o==null&&(o=1),c==null&&(c=!0),f==null&&(f=0);let m=!1;if(l!=null&&u!=null&&(m=!0),p!=null&&(m=!0,h==null))throw new Ee("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const g=this.checkNumSamples(n,r,h,"steps_per_epoch");let y;g!=null&&(y=ti(0,g)),a==null&&(a=1);const{callbackList:w,history:b}=vW(i,a,o,f,g,h,r,m,d);w.setModel(this),this.history=b,await w.onTrainBegin(),this.stopTraining_=!1;for(let _=f;_<o;++_){await w.onEpochBegin(_);const $={};if(h!=null)throw new Zt("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new Zt("batch shuffling is not implemneted yet");c&&Lk(y);const x=vr(y),k=_$(g,r);for(let C=0;C<k.length;++C){const T={};if(await w.onBatchBegin(C,T),Le(()=>{const N=k[C][0],M=k[C][1],R=fd(x,N,M-N);T.batch=C,T.size=M-N;const D=Dx(n,R),z=e(D);for(let B=0;B<s.length;++B){const V=s[B],O=z[B];T[V]=O,As(O)}if(C===k.length-1&&m){const B=this.testLoop(l,u,r);for(let V=0;V<s.length;++V){const O=s[V],F=B[V];As(F),$["val_"+O]=F}}}),await w.onBatchEnd(C,T),fW(T),this.stopTraining_)break}x.dispose()}if(await w.onEpochEnd(_,$),this.stopTraining_)break}return await w.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return Mpt(this,e,n)}async trainOnBatch(e,n){const s=await this.standardizeUserData(e,n),r=s[0],o=s[1],i=this.makeTrainFunction()(r.concat(o)),l=[];for(const u of i){const c=await u.data();l.push(c[0])}return Xt(i),Ra(s[0],e),Ra(s[1],n),Ur(l)}getNamedWeights(e){const n=[],s=e!=null&&e.trainableOnly,r=s?this.trainableWeights:this.weights,o=this.getWeights(s);for(let a=0;a<r.length;++a)s&&!r[a].trainable||n.push({name:r[a].originalName,tensor:o[a]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=sb().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-sb().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=il(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>il(n))}else{const n=Object.keys(this.loss);e={};const s=this.loss;for(const r of n)if(typeof s[r]=="string")e[r]=il(s[r]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[il(bv(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>il(bv(e)));{const e={};for(const n in this.metrics)e[n]=il(bv(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=ag(e.optimizer_config),s=Xa(n);let r;if(typeof e.loss=="string")r=Hc(e.loss);else if(Array.isArray(e.loss))r=e.loss.map(a=>Hc(a));else if(e.loss!=null){r={};for(const a in e.loss)r[a]=Hc(e.loss[a])}let o;if(Array.isArray(e.metrics))o=e.metrics.map(a=>Hc(a));else if(e.metrics!=null){o={};for(const a in e.metrics)o[a]=Hc(e.metrics[a])}this.compile({loss:r,metrics:o,optimizer:s})}async save(e,n){if(typeof e=="string"){const u=WB(e);if(u.length===0)throw new Ee(`Cannot find any save handlers for URL '${e}'`);if(u.length>1)throw new Ee(`Found more than one (${u.length}) save handlers for URL '${e}'`);e=u[0]}if(e.save==null)throw new Ee("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const s=await vx(this.getNamedWeights(n)),r=!1,o=null,i={modelTopology:this.toJSON(o,r),format:Upt,generatedBy:`TensorFlow.js tfjs-layers v${V3}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){i.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:c,specs:d}=await vx(await this.optimizer.getWeights(),u);s.specs.push(...d),s.data=M_([s.data,c])}return this.userDefinedMetadata!=null&&(mD(this.userDefinedMetadata,this.name,!0),i.userDefinedMetadata=this.userDefinedMetadata),i.weightData=s.data,i.weightSpecs=s.specs,e.save(i)}setUserDefinedMetadata(e){mD(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}yl.className="Model";tt(yl);class NW extends yl{}NW.className="Functional";tt(NW);async function Gpt(t,e){"modelTopology"in t||(t={modelTopology:t}),t=t;let n=t.modelTopology;n.model_config!=null&&(n=n.model_config);const s=ag(n),r=Xa(s,e);if(t.weightsManifest!=null){const o=await QB(t.weightsManifest,t.pathPrefix,r.weights.map(i=>i.originalName)),a={};for(const i of r.weights)a[i.originalName]=o[i.originalName];r.loadWeights(a),Xt(o)}return r}async function jpt(t,e){if(e==null&&(e={}),typeof t=="string"){const n=UB(t,e);if(n.length===0)n.push(nV(t,e));else if(n.length>1)throw new Ee(`Found more than one (${n.length}) load handlers for URL '${t}'`);t=n[0]}return Kpt(t,void 0,e)}async function Kpt(t,e,n){if(n==null&&(n={}),t.load==null)throw new Ee("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const s=await t.load();let r=s.modelTopology;r.model_config!=null&&(r=r.model_config);const o=n.strict==null?!0:n.strict,a=s.weightData!=null&&s.weightSpecs!=null&&o,i=Xa(ag(r),e,a),l=s.trainingConfig;if(l!=null&&i.loadTrainingConfig(l),s.userDefinedMetadata!=null&&i.setUserDefinedMetadata(s.userDefinedMetadata),s.weightData!=null){if(s.weightSpecs==null)throw new Ee("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:u,optimizerWeights:c}=qpt(s.weightData,s.weightSpecs);i.loadWeights(u,o),i.optimizer!=null&&c.length>0&&await i.optimizer.setWeights(c),Xt(u),Xt(c.map(d=>d.tensor))}return i}function qpt(t,e){const n=Xk(t,e),s={},r=[];return e.forEach(o=>{o.group==="optimizer"?r.push({name:o.name,tensor:n[o.name]}):s[o.name]=n[o.name]}),{modelWeights:s,optimizerWeights:r}}class Ld extends yl{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:E3("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(s=>s<0))throw new Ee(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof Ld||e instanceof yl;let s;if(n){if(s=e,s.outputs.length!==1)throw new Ee("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(s.inputs.length!==1)throw new Ee("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new Ee("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const r=dW({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(r)}if(n)this.outputs=s.outputs,this.inputs=s.inputs;else{if(e.inboundNodes.length!==1)throw new Ee(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new Ee("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=cW(this.outputs[0])}this.inboundNodes=[],new L3({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Pd(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(r=>r.shape),outputShapes:this.outputs[0].shape})}else{const r=e.apply(this.outputs[0]);if(Array.isArray(r))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[r],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(Cn(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new yl({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,s=console.log){this.built||this.build(),super.summary(e,n,s)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,s={}){if(!this.built)throw new pa("The model needs to be compiled before being used.");return this.model.evaluate(e,n,s)}async evaluateDataset(e,n){if(!this.built)throw new pa("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,s={}){if(!this.built)throw new pa("The model needs to be compiled before being used.");return this.model.fit(e,n,s)}async fitDataset(e,n){if(!this.built)throw new pa("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,s={},r=!1){let o,a={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new Ee("Legacy serialization format not supported yet.");o=n}else q(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),o=n.layers,delete n.layers,a=n;const i=new e(a);if(!(i instanceof Ld))throw new Zt(`Sequential.fromConfig called on non-Sequential input: ${i}`);for(const l of o){const c=Xa(l,void 0,r);r&&c.setFastWeightInitDuringBuild(!0),i.add(c)}return i}set stopTraining(e){if(this.model==null)throw new Ee("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new Ee("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const s={};s.className=n.getClassName(),s.config=n.getConfig(),e.push(s)}return{name:this.name,layers:e}}}Ld.className="Sequential";tt(Ld);function Xpt(t){return new yl(t)}function Ypt(t){return new Ld(t)}function EW(t){return dW(t)}function Zpt(t,e){Do.registerCallbackConstructor(t,e)}let no=class extends rf{getConfig(){return{}}},IW=class extends no{apply(e,n=1){return bht(e,n)}};IW.className="elu";tt(IW);let AW=class extends no{apply(e){return n3(e)}};AW.className="selu";tt(AW);let OW=class extends no{apply(e){return li(e)}};OW.className="relu";tt(OW);let RW=class extends no{apply(e){return Le(()=>om(6,li(e)))}};RW.className="relu6";tt(RW);class DW extends no{apply(e){return e}}DW.className="linear";tt(DW);let FW=class extends no{apply(e){return qa(e)}};FW.className="sigmoid";tt(FW);class MW extends no{apply(e){return _ht(e)}}MW.className="hardSigmoid";tt(MW);let PW=class extends no{apply(e){return af(e)}};PW.className="softplus";tt(PW);class LW extends no{apply(e){return wht(e)}}LW.className="softsign";tt(LW);let zW=class extends no{apply(e){return Rd(e)}};zW.className="tanh";tt(zW);let sN=class extends no{apply(e,n=-1){return r2(e,n)}};sN.className="softmax";tt(sN);let BW=class extends no{apply(e,n=-1){return q_(e,n)}};BW.className="logSoftmax";tt(BW);class VW extends no{apply(e,n=1){return Le(()=>Te(qa(Te(e,n)),e))}}VW.className="swish";tt(VW);class HW extends no{apply(e){return Le(()=>Te(e,Rd(af(e))))}}HW.className="mish";tt(HW);function Qu(t){return t.getClassName()}function $$(t,e={}){return d2(t,ua.getMap().classNameMap,e,"activation")}function ec(t){if(t==null){const e={};return e.className="linear",e.config={},$$(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},$$(e)}else return t instanceof no?t:$$(t)}function rN(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class WW extends rf{}class g2 extends WW{constructor(e){super(),rN(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return Le(()=>{let n=xs([1]);return this.hasL1&&(n=st(n,kt(Te(this.l1,$s(e))))),this.hasL2&&(n=st(n,kt(Te(this.l2,h2(e))))),Ne(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}g2.className="L1L2";tt(g2);function Jpt(t){return rN(t),new g2({l1:t!=null?t.l1:null,l2:0})}function Qpt(t){return rN(t),new g2({l2:t!=null?t.l2:null,l1:0})}const _D={l1l2:"L1L2"};function zn(t){return PT(t)}function $D(t,e={}){return d2(t,ua.getMap().classNameMap,e,"regularizer")}function is(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in _D?_D[t]:t,config:{}};return $D(n)}else return t instanceof WW?t:$D(t)}class oN extends cn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=jt(e);let s=li(e);return this.maxValue!=null&&(s=Zr(s,0,this.maxValue)),s}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}oN.className="ReLU";tt(oN);class aN extends cn{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const s=jt(e);return X1(s,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}aN.className="LeakyReLU";tt(aN);class iN extends cn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=as(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=is(e.alphaRegularizer),this.alphaConstraint=Ms(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new Ee(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=Cn(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const r of this.sharedAxes)n[r-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const s={};if(this.sharedAxes!=null)for(let r=1;r<e.length;++r)s[r]=e[r];this.inputSpec=[new Ss({ndim:e.length,axes:s})],this.built=!0}call(e,n){return e=jt(e),t2(e,this.alpha.read())}getConfig(){const e={alphaInitializer:cs(this.alphaInitializer),alphaRegularizer:zn(this.alphaRegularizer),alphaConstraint:Fs(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}iN.className="PReLU";tt(iN);let lN=class extends cn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new Zt(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const s=jt(e);return tm(s)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};lN.className="ELU";tt(lN);class uN extends cn{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const s=jt(e);return Te(s,ht(Pr(s,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}uN.className="ThresholdedReLU";tt(uN);let cN=class extends cn{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new sN().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){const s=jt(e);return this.softmax(s,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}};cN.className="Softmax";tt(cN);function Jf(t,e,n){if(typeof t=="number")return Pd(t,e);if(t.length!==e)throw new Ee(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let s=0;s<e;++s){const r=t[s];if(!mht(r))throw new Ee(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${r}`)}return t}function Ya(t,e,n,s,r=1){if(t==null)return t;const o=e+(e-1)*(r-1);let a;return n==="same"?a=t:a=t-o+1,Math.floor((a+s-1)/s)}function vi(t,e,n,s){if(t==null)return null;if(s==="valid")t=t*e+Ju([n-e,0]);else if(s==="same")t=t*e;else throw new Ee(`Unsupport padding mode: ${s}.`);return t}function dN(t,e){return Le(()=>(ws(e),e==="channelsFirst"?dn(t,[0,2,3,1]):t))}function UW(t,e){return Le(()=>(ws(e),e==="channelsFirst"?dn(t,[0,2,3,4,1]):t))}function emt(t,e,n,s=1,r="valid",o,a=1){return Le(()=>{if(o==null&&(o=ni()),ws(o),t.shape.length!==3)throw new Ee(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new Ee(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new Ee(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if(o==="channelsFirst"&&(t=dn(t,[0,2,1])),r==="causal")throw new Zt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let i=V_(t,e,s,r==="same"?"same":"valid","NWC",a);return n!=null&&(i=ui(i,n)),i})}function xD(t,e,n,s=[1,1],r="valid",o,a,i=null){return Le(()=>{if(o==null&&(o=ni()),ws(o),t.rank!==3&&t.rank!==4)throw new Ee(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new Ee(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=dN(t,o);if(r==="causal")throw new Zt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=hH({x:l,filter:e,strides:s,pad:r==="same"?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:i}),o==="channelsFirst"&&(l=dn(l,[0,3,1,2])),l})}function tmt(t,e,n,s=[1,1,1],r="valid",o,a){return Le(()=>{if(o==null&&(o=ni()),ws(o),t.rank!==4&&t.rank!==5)throw new Ee(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new Ee(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let i=UW(t,o);if(r==="causal")throw new Zt("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return i=F8(i,e,s,r==="same"?"same":"valid","NDHWC",a),n!=null&&(i=ui(i,n)),o==="channelsFirst"&&(i=dn(i,[0,4,1,2,3])),i})}class H3 extends cn{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",H3.verifyArgs(n),this.rank=e,Hs(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Zt(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Jf(n.kernelSize,e,"kernelSize"),this.strides=Jf(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,Jo(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,ws(this.dataFormat),this.activation=ec(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=as(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Ms(n.biasConstraint),this.biasRegularizer=is(n.biasRegularizer),this.activityRegularizer=is(n.activityRegularizer),this.dilationRate=Jf(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new Ee(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new Ee(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new Ee(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(gi("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!LT(e.kernelSize,"number",1,3))throw new Ee(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Qu(this.activation),useBias:this.useBias,biasInitializer:cs(this.biasInitializer),biasRegularizer:zn(this.biasRegularizer),activityRegularizer:zn(this.activityRegularizer),biasConstraint:Fs(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class cm extends H3{constructor(e,n){super(e,n),this.kernel=null,cm.verifyArgs(n),this.filters=n.filters,Hs(this.filters,"filters"),this.kernelInitializer=as(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Ms(n.kernelConstraint),this.kernelRegularizer=is(n.kernelRegularizer)}build(e){e=Cn(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Ee(`The channel dimension of the input should be defined. Found ${e[n]}`);const s=e[n],r=this.kernelSize.concat([s,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:s}}],this.built=!0}call(e,n){return Le(()=>{e=jt(e);let s;const r=this.bias==null?null:this.bias.read(),o=tW(this.activation.getClassName());if(o!=null&&this.rank===2)s=xD(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,o);else{if(this.rank===1)s=emt(e,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)s=xD(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)s=tmt(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Zt("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(s=this.activation.apply(s))}return s})}computeOutputShape(e){e=Cn(e);const n=[],s=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let o=0;o<s.length;++o){const a=Ya(s[o],this.kernelSize[o],this.padding,this.strides[o],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[o]);n.push(a)}let r=[e[0]];return this.dataFormat==="channelsLast"?(r=r.concat(n),r.push(this.filters)):(r.push(this.filters),r=r.concat(n)),r}getConfig(){const e={filters:this.filters,kernelInitializer:cs(this.kernelInitializer),kernelRegularizer:zn(this.kernelRegularizer),kernelConstraint:Fs(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new Ee(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}let v2=class extends cm{constructor(e){super(2,e),v2.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!LT(e.kernelSize,"number",1,2))throw new Ee(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}};v2.className="Conv2D";tt(v2);let y2=class extends cm{constructor(e){super(3,e),y2.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new Ee(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}};y2.className="Conv3D";tt(y2);class fN extends v2{constructor(e){if(super(e),this.inputSpec=[new Ss({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new Ee(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Cn(e),e.length!==4)throw new Ee("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Ee("The channel dimension of the inputs should be defined. Found `None`.");const s=e[n],r=this.kernelSize.concat([this.filters,s]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ss({ndim:4,axes:{[n]:s}})],this.built=!0}call(e,n){return Le(()=>{let s=jt(e);if(s.shape.length!==4)throw new Ee(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${s.shape.length}`);const r=s.shape,o=r[0];let a,i;this.dataFormat==="channelsFirst"?(a=2,i=3):(a=1,i=2);const l=r[a],u=r[i],c=this.kernelSize[0],d=this.kernelSize[1],f=this.strides[0],h=this.strides[1],p=vi(l,f,c,this.padding),m=vi(u,h,d,this.padding),g=[o,p,m,this.filters];this.dataFormat!=="channelsLast"&&(s=dn(s,[0,2,3,1]));let y=H_(s,this.kernel.read(),g,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(y=dn(y,[0,3,1,2])),this.bias!=null&&(y=ui(y,this.bias.read(),this.dataFormat)),this.activation!=null&&(y=this.activation.apply(y)),y})}computeOutputShape(e){e=Cn(e);const n=e.slice();let s,r,o;this.dataFormat==="channelsFirst"?(s=1,r=2,o=3):(s=3,r=1,o=2);const a=this.kernelSize[0],i=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return n[s]=this.filters,n[r]=vi(n[r],l,a,this.padding),n[o]=vi(n[o],u,i,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}fN.className="Conv2DTranspose";tt(fN);class hN extends y2{constructor(e){if(super(e),this.inputSpec=[new Ss({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new Ee(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Cn(e),e.length!==5)throw new Ee("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new Ee("The channel dimension of the inputs should be defined. Found `None`.");const s=e[n],r=this.kernelSize.concat([this.filters,s]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Ss({ndim:5,axes:{[n]:s}})],this.built=!0}call(e,n){return Le(()=>{let s=jt(e);if(s.shape.length!==5)throw new Ee(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${s.shape.length}`);const r=s.shape,o=r[0];let a,i,l;this.dataFormat==="channelsFirst"?(l=2,a=3,i=4):(l=1,a=2,i=3);const u=r[l],c=r[a],d=r[i],f=this.kernelSize[0],h=this.kernelSize[1],p=this.kernelSize[2],m=this.strides[0],g=this.strides[1],y=this.strides[2],w=vi(u,m,f,this.padding),b=vi(c,g,h,this.padding),_=vi(d,y,p,this.padding),$=[o,w,b,_,this.filters];this.dataFormat!=="channelsLast"&&(s=dn(s,[0,2,3,4,1]));let x=M8(s,this.kernel.read(),$,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(x=dn(x,[0,4,1,2,3])),this.bias!==null&&(x=ui(x,this.bias.read(),this.dataFormat)),this.activation!==null&&(x=this.activation.apply(x)),x})}computeOutputShape(e){e=Cn(e);const n=e.slice();let s,r,o,a;this.dataFormat==="channelsFirst"?(s=1,r=2,o=3,a=4):(s=4,r=1,o=2,a=3);const i=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],d=this.strides[1],f=this.strides[2];return n[s]=this.filters,n[r]=vi(n[r],c,i,this.padding),n[o]=vi(n[o],d,l,this.padding),n[a]=vi(n[a],f,u,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}hN.className="Conv3DTranspose";tt(hN);class GW extends cm{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new Ee("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new Ee("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new Ee(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=as(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=is(n.depthwiseRegularizer),this.depthwiseConstraint=Ms(n.depthwiseConstraint),this.pointwiseInitializer=as(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=is(n.pointwiseRegularizer),this.pointwiseConstraint=Ms(n.pointwiseConstraint)}build(e){if(e=Cn(e),e.length<this.rank+2)throw new Ee(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new Ee(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const s=e[n],r=this.kernelSize.concat([s,this.depthMultiplier]),o=[];for(let i=0;i<this.rank;++i)o.push(1);o.push(s*this.depthMultiplier,this.filters);const a=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,a,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,a,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,a,this.biasConstraint):this.bias=null,this.inputSpec=[new Ss({ndim:this.rank+2,axes:{[n]:s}})],this.built=!0}call(e,n){return Le(()=>{e=jt(e);let s;if(this.rank===1)throw new Zt("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=dn(e,[0,2,3,1])),s=s3(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(s=ui(s,this.bias.read(),this.dataFormat)),this.activation!=null&&(s=this.activation.apply(s)),this.dataFormat==="channelsFirst"&&(s=dn(s,[0,3,1,2])),s})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=cs(this.depthwiseInitializer),e.pointwiseInitializer=cs(this.pointwiseInitializer),e.depthwiseRegularizer=zn(this.depthwiseRegularizer),e.pointwiseRegularizer=zn(this.pointwiseRegularizer),e.depthwiseConstraint=Fs(this.depthwiseConstraint),e.pointwiseConstraint=Fs(this.pointwiseConstraint),e}}GW.className="SeparableConv";class pN extends GW{constructor(e){super(2,e)}}pN.className="SeparableConv2D";tt(pN);class b2 extends cm{constructor(e){super(1,e),b2.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!LT(e.kernelSize,"number",1,1))throw new Ee(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}b2.className="Conv1D";tt(b2);class mN extends cn{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return Le(()=>{if(e=jt(e),this.dataFormat==="channelsLast"){const s=yv(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return yv(s,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const s=yv(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return yv(s,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}mN.className="Cropping2D";tt(mN);class gN extends cn{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ws(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,fht(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],s=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,s]}else{const n=e[1]==null?null:this.size[0]*e[1],s=e[2]==null?null:this.size[1]*e[2];return[e[0],n,s,e[3]]}}call(e,n){return Le(()=>{let s=jt(e);const r=s.shape;if(this.dataFormat==="channelsFirst"){s=dn(s,[0,2,3,1]);const o=this.size[0]*r[2],a=this.size[1]*r[3],i=this.interpolation==="nearest"?Ti.resizeNearestNeighbor(s,[o,a]):Ti.resizeBilinear(s,[o,a]);return dn(i,[0,3,1,2])}else{const o=this.size[0]*r[1],a=this.size[1]*r[2];return this.interpolation==="nearest"?Ti.resizeNearestNeighbor(s,[o,a]):Ti.resizeBilinear(s,[o,a])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}gN.className="UpSampling2D";tt(gN);function nmt(t,e,n=[1,1],s="valid",r,o){return Le(()=>{r==null&&(r=ni()),ws(r);let a=dN(t,r);if(t.rank!==4)throw new Ee(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new Ee(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return a=em(a,e,n,s==="same"?"same":"valid","NHWC",o),r==="channelsFirst"&&(a=dn(a,[0,3,1,2])),a})}class vN extends H3{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=as(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Ms(e.depthwiseConstraint),this.depthwiseRegularizer=is(e.depthwiseRegularizer)}build(e){if(e=Cn(e),e.length<4)throw new Ee(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new Ee(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const s=e[n],r=[this.kernelSize[0],this.kernelSize[1],s,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[s*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Le(()=>{e=jt(e);let s=nmt(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(s=ui(s,this.bias.read(),this.dataFormat)),this.activation!=null&&(s=this.activation.apply(s)),s})}computeOutputShape(e){e=Cn(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],s=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,o=Ya(n,this.kernelSize[0],this.padding,this.strides[0]),a=Ya(s,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],r,o,a]:[e[0],o,a,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=cs(this.depthwiseInitializer),e.depthwiseRegularizer=zn(this.depthwiseRegularizer),e.depthwiseConstraint=Fs(this.depthwiseRegularizer),e}}vN.className="DepthwiseConv2D";tt(vN);function jW(t,e,n,s){if(Array.isArray(t)){if(e!=null||n!=null)throw new Ee("When inputs is an array, neither initialState or constants should be provided");s!=null&&(n=t.slice(t.length-s,t.length),t=t.slice(0,t.length-s)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function r(o){return o==null||Array.isArray(o)?o:[o]}return e=r(e),n=r(n),{inputs:t,initialState:e,constants:n}}function KW(t,e,n,s=!1,r,o,a=!1,i=!1){return Le(()=>{const l=e.shape.length;if(l<3)throw new Ee(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(ti(2,l));if(e=dn(e,u),o!=null)throw new Zt("The rnn() functoin of the deeplearn.js backend does not support constants yet.");a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),r!=null&&(r=ht(ht(r,"bool"),"float32"),r.rank===l-1&&(r=hr(r,-1)),r=dn(r,u)),s&&(e=Xo(e,0),r!=null&&(r=Xo(r,0)));const c=[];let d,f=n;const h=e.shape[0],p=Yo(e);let m;r!=null&&(m=Yo(r));for(let y=0;y<h;++y){const w=p[y],b=Le(()=>t(w,f));if(r==null)d=b[0],f=b[1];else{const _=Le(()=>{const $=m[y],x=$t(So($),$),k=st(Te(b[0],$),Te(f[0],x)),C=f.map((T,N)=>st(Te(b[1][N],$),Te(T,x)));return{output:k,newStates:C}});d=_.output,f=_.newStates}i&&c.push(d)}let g;return i&&(g=Jr(c,1)),[d,g,f]})}class ci extends cn{constructor(e){super(e);let n;if(e.cell==null)throw new Ee("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new G3({cells:e.cell}):n=e.cell,n.stateSize==null)throw new Ee("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Ss({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return ti(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){Ix(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const s=n[0];let r;if(this.returnSequences?r=[e[0],e[1],s]:r=[e[0],s],this.returnState){const o=[];for(const a of n)o.push([e[0],a]);return[r].concat(o)}else return r}computeMask(e,n){return Le(()=>{Array.isArray(n)&&(n=n[0]);const s=this.returnSequences?n:null;if(this.returnState){const r=this.states.map(o=>null);return[s].concat(r)}else return s})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let s=0;s<e;++s)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new Zt("Constants support is not implemented in RNN yet.");Ix(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,s=e.slice(2);this.inputSpec[0]=new Ss({shape:[n,null,...s]});const r=[e[0]].concat(e.slice(2));this.cell.build(r);let o;if(Array.isArray(this.cell.stateSize)?o=this.cell.stateSize:o=[this.cell.stateSize],this.stateSpec!=null){if(!hn(this.stateSpec.map(a=>a.shape[a.shape.length-1]),o))throw new Ee(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=o.map(a=>new Ss({shape:[null,a]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){Le(()=>{if(!this.stateful)throw new mi("Cannot call resetStates() on an RNN Layer that is not stateful.");const s=this.inputSpec[0].shape[0];if(s==null)throw new Ee("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>xs([s,r])):this.states_=[xs([s,this.cell.stateSize])];else if(e==null)Xt(this.states_),this.keptStates!=null&&(Xt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>xs([s,r])):this.states_[0]=xs([s,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Ee(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):Xt(this.states_);for(let r=0;r<this.states_.length;++r){const o=e[r],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[r]:this.cell.stateSize,i=[s,a];if(!hn(o.shape,i))throw new Ee(`State ${r} is incompatible with layer ${this.name}: expected shape=${i}, received shape=${o.shape}`);this.states_[r]=o}}this.states_=this.states_.map(r=>As(r.clone()))})}apply(e,n){let s=n==null?null:n.initialState,r=n==null?null:n.constants;n==null&&(n={});const o=jW(e,s,r,this.numConstants);e=o.inputs,s=o.initialState,r=o.constants;let a=[],i=[];if(s!=null){n.initialState=s,a=a.concat(s),this.stateSpec=[];for(const u of s)this.stateSpec.push(new Ss({shape:u.shape}));i=i.concat(this.stateSpec)}if(r!=null&&(n.constants=r,a=a.concat(r),this.numConstants=r.length),a[0]instanceof Ga){const u=[e].concat(a),c=this.inputSpec.concat(i),d=this.inputSpec;this.inputSpec=c;const f=super.apply(u,n);return this.inputSpec=d,f}else return super.apply(e,n)}call(e,n){return Le(()=>{const s=n==null?null:n.mask,r=n==null?null:n.training;let o=n==null?null:n.initialState;e=jt(e),o==null&&(this.stateful?o=this.states_:o=this.getInitialState(e));const a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==a)throw new Ee(`RNN Layer has ${a} state(s) but was passed ${o.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const i={training:r},u=KW((p,m)=>{const g=this.cell.call([p].concat(m),i);return[g[0],g.slice(1)]},e,o,this.goBackwards,s,null,this.unroll,this.returnSequences),c=u[0],d=u[1],f=u[2];this.stateful&&this.resetStates(f,r);const h=this.returnSequences?d:c;return this.returnState?[h].concat(f):h})}getInitialState(e){return Le(()=>{let n=xs(e.shape);return n=kt(n,[1,2]),n=f2(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(s=>s>1?Nx(n,[1,s]):n):this.cell.stateSize>1?[Nx(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const s=this.cell.getConfig();return this.getClassName()===ci.className&&(n.cell={className:this.cell.getClassName(),config:s}),Object.assign(Object.assign(Object.assign({},s),e),n)}static fromConfig(e,n,s={}){const r=n.cell,o=Xa(r,s);return new e(Object.assign(n,{cell:o}))}}ci.className="RNN";tt(ci);class w2 extends cn{}class W3 extends w2{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Hs(this.units,"units"),this.activation=ec(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=as(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=as(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=as(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=is(e.kernelRegularizer),this.recurrentRegularizer=is(e.recurrentRegularizer),this.biasRegularizer=is(e.biasRegularizer),this.kernelConstraint=Ms(e.kernelConstraint),this.recurrentConstraint=Ms(e.recurrentConstraint),this.biasConstraint=Ms(e.biasConstraint),this.dropout=Eh([1,Ju([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Eh([1,Ju([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Cn(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Le(()=>{if(e=e,e.length!==2)throw new Ee(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let s=e[1];e=e[0];const r=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=tc({ones:()=>So(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=tc({ones:()=>So(s),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));let o;const a=this.dropoutMask,i=this.recurrentDropoutMask;a!=null?o=Mi(Te(e,a),this.kernel.read()):o=Mi(e,this.kernel.read()),this.bias!=null&&(o=ui(o,this.bias.read())),i!=null&&(s=Te(s,i));let l=st(o,Mi(s,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Qu(this.activation),useBias:this.useBias,kernelInitializer:cs(this.kernelInitializer),recurrentInitializer:cs(this.recurrentInitializer),biasInitializer:cs(this.biasInitializer),kernelRegularizer:zn(this.kernelRegularizer),recurrentRegularizer:zn(this.recurrentRegularizer),biasRegularizer:zn(this.biasRegularizer),activityRegularizer:zn(this.activityRegularizer),kernelConstraint:Fs(this.kernelConstraint),recurrentConstraint:Fs(this.recurrentConstraint),biasConstraint:Fs(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}W3.className="SimpleRNNCell";tt(W3);class yN extends ci{constructor(e){e.cell=new W3(e),super(e)}call(e,n){return Le(()=>{this.cell.dropoutMask!=null&&(Xt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Xt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const s=n==null?null:n.mask,r=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:s,training:r,initialState:o})})}static fromConfig(e,n){return new e(n)}}yN.className="SimpleRNN";tt(yN);class U3 extends w2{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Ee("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Hs(this.units,"units"),this.activation=ec(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ec(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=as(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=as(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=as(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=is(e.kernelRegularizer),this.recurrentRegularizer=is(e.recurrentRegularizer),this.biasRegularizer=is(e.biasRegularizer),this.kernelConstraint=Ms(e.kernelConstraint),this.recurrentConstraint=Ms(e.recurrentConstraint),this.biasConstraint=Ms(e.biasConstraint),this.dropout=Eh([1,Ju([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Eh([1,Ju([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Cn(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Le(()=>{if(e=e,e.length!==2)throw new Ee(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const s=n.training==null?!1:n.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=tc({ones:()=>So(e),rate:this.dropout,training:s,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=tc({ones:()=>So(r),rate:this.recurrentDropout,training:s,count:3,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,a=this.recurrentDropoutMask;let i,l,u;0<this.dropout&&this.dropout<1&&(e=Te(e,o[0]));let c=Mi(e,this.kernel.read());this.useBias&&(c=ui(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=Te(r,a[0]));const d=this.recurrentKernel.read(),[f,h]=Kr(d,[2*this.units,this.units],d.rank-1),p=Mi(r,f),[m,g,y]=Kr(c,3,c.rank-1),[w,b]=Kr(p,2,p.rank-1);i=this.recurrentActivation.apply(st(m,w)),l=this.recurrentActivation.apply(st(g,b));const _=Mi(Te(l,r),h);u=this.activation.apply(st(y,_));const $=st(Te(i,r),Te(st(1,Jn(i)),u));return[$,$]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Qu(this.activation),recurrentActivation:Qu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:cs(this.kernelInitializer),recurrentInitializer:cs(this.recurrentInitializer),biasInitializer:cs(this.biasInitializer),kernelRegularizer:zn(this.kernelRegularizer),recurrentRegularizer:zn(this.recurrentRegularizer),biasRegularizer:zn(this.biasRegularizer),activityRegularizer:zn(this.activityRegularizer),kernelConstraint:Fs(this.kernelConstraint),recurrentConstraint:Fs(this.recurrentConstraint),biasConstraint:Fs(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}U3.className="GRUCell";tt(U3);class bN extends ci{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new U3(e),super(e)}call(e,n){return Le(()=>{this.cell.dropoutMask!=null&&(Xt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Xt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const s=n==null?null:n.mask,r=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:s,training:r,initialState:o})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}bN.className="GRU";tt(bN);class _2 extends w2{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Hs(this.units,"units"),this.activation=ec(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ec(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=as(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=as(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=as(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=is(e.kernelRegularizer),this.recurrentRegularizer=is(e.recurrentRegularizer),this.biasRegularizer=is(e.biasRegularizer),this.kernelConstraint=Ms(e.kernelConstraint),this.recurrentConstraint=Ms(e.recurrentConstraint),this.biasConstraint=Ms(e.biasConstraint),this.dropout=Eh([1,Ju([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=Eh([1,Ju([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=Cn(e);const s=e[e.length-1];this.kernel=this.addWeight("kernel",[s,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let r;if(this.useBias){if(this.unitForgetBias){const o=this.biasInitializer,a=this.units;r=new(n=class extends Ea{apply(l,u){const c=o.apply([a]),d=new A3().apply([a]),f=o.apply([a*2]);return aD(aD(c,d),f)}},n.className="CustomInit",n)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return Le(()=>{const s=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new Ee(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const o=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=tc({ones:()=>So(e),rate:this.dropout,training:s,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=tc({ones:()=>So(r),rate:this.recurrentDropout,training:s,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,i=this.recurrentDropoutMask;let l,u,c,d;0<this.dropout&&this.dropout<1&&(e=Te(e,a[0]));let f=Mi(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=Te(r,i[0])),f=st(f,Mi(r,this.recurrentKernel.read())),this.useBias&&(f=ui(f,this.bias.read()));const[h,p,m,g]=Kr(f,4,f.rank-1);l=this.recurrentActivation.apply(h),u=this.recurrentActivation.apply(p),c=st(Te(u,o),Te(l,this.activation.apply(m))),d=this.recurrentActivation.apply(g);const y=Te(d,this.activation.apply(c));return[y,y,c]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Qu(this.activation),recurrentActivation:Qu(this.recurrentActivation),useBias:this.useBias,kernelInitializer:cs(this.kernelInitializer),recurrentInitializer:cs(this.recurrentInitializer),biasInitializer:cs(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:zn(this.kernelRegularizer),recurrentRegularizer:zn(this.recurrentRegularizer),biasRegularizer:zn(this.biasRegularizer),activityRegularizer:zn(this.activityRegularizer),kernelConstraint:Fs(this.kernelConstraint),recurrentConstraint:Fs(this.recurrentConstraint),biasConstraint:Fs(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}_2.className="LSTMCell";tt(_2);class wN extends ci{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new _2(e),super(e)}call(e,n){return Le(()=>{this.cell.dropoutMask!=null&&(Xt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Xt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const s=n==null?null:n.mask,r=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:s,training:r,initialState:o})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}wN.className="LSTM";tt(wN);class G3 extends w2{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return Le(()=>{e=e;let s=e.slice(1);const r=[];for(const i of this.cells.slice().reverse())Array.isArray(i.stateSize)?r.push(s.splice(0,i.stateSize.length)):r.push(s.splice(0,1));r.reverse();const o=[];let a;for(let i=0;i<this.cells.length;++i){const l=this.cells[i];s=r[i],i===0?a=[e[0]].concat(s):a=[a[0]].concat(s),a=l.call(a,n),o.push(a.slice(1))}s=[];for(const i of o.slice().reverse())s.push(...i);return[a[0]].concat(s)})}build(e){Ix(e)&&(e=e[0]),e=e;let n;this.cells.forEach((s,r)=>{dd(`RNNCell_${r}`,()=>{s.build(e),Array.isArray(s.stateSize)?n=s.stateSize[0]:n=s.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=o=>({className:o.getClassName(),config:o.getConfig()}),r={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),r)}static fromConfig(e,n,s={}){const r=[];for(const o of n.cells)r.push(Xa(o,s));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const s of this.cells)n.push(...s.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return Ax(e)}setWeights(e){const n=[];for(const s of this.cells){const r=s.weights.length,o=e.splice(r);for(let a=0;a<s.weights.length;++a)n.push([s.weights[a],o[a]])}KT(n)}}G3.className="StackedRNNCells";tt(G3);function tc(t){const{ones:e,rate:n,training:s=!1,count:r=1,dropoutFunc:o}=t,a=()=>o!=null?o(e(),n):lW(e(),n),i=()=>p2(a,e,s);return!r||r<=1?As(i().clone()):Array(r).fill(void 0).map(i).map(u=>As(u.clone()))}var smt=globalThis&&globalThis.__rest||function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class qW extends ci{constructor(e){if(e.unroll)throw new Zt("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Zt("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Ss({ndim:5})]}call(e,n){return Le(()=>{if(this.cell.dropoutMask!=null&&(Xt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(Xt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new Ee("ConvRNN2D cell does not support constants");const s=n==null?null:n.mask,r=n==null?null:n.training,o=n==null?null:n.initialState;return super.call(e,{mask:s,training:r,initialState:o})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return Le(()=>{const{stateSize:n}=this.cell,s=e.shape,r=this.computeSingleOutputShape(s),o=[r[0],...r.slice(2)],a=xs(o);return Array.isArray(n)?Array(n.length).fill(a):[a]})}resetStates(e,n=!1){Le(()=>{if(!this.stateful)throw new mi("Cannot call resetStates() on an RNN Layer that is not stateful.");const s=this.inputSpec[0].shape,r=this.computeSingleOutputShape(s),o=[r[0],...r.slice(2)];if(s[0]==null)throw new Ee("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>xs(o)):this.states_=[xs(o)];else if(e==null)Xt(this.states_),this.keptStates!=null&&(Xt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>xs(o)):this.states_[0]=xs(o);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Ee(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):Xt(this.states_);for(let i=0;i<this.states_.length;++i){const l=e[i],u=o;if(!hn(l.shape,u))throw new Ee(`State ${i} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[i]=l}}this.states_=this.states_.map(i=>As(i.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:s,kernelSize:r,padding:o,strides:a,dilationRate:i}=this.cell,l=n==="channelsFirst",u=e[l?3:2],c=e[l?4:3],d=Ya(u,r[0],o,a[0],i[0]),f=Ya(c,r[1],o,a[1],i[1]);return[...e.slice(0,2),...l?[s,d,f]:[d,f,s]]}}qW.className="ConvRNN2D";class j3 extends _2{constructor(e){const{filters:n,kernelSize:s,strides:r,padding:o,dataFormat:a,dilationRate:i}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,Hs(this.filters,"filters"),this.kernelSize=Jf(s,2,"kernelSize"),this.kernelSize.forEach(l=>Hs(l,"kernelSize")),this.strides=Jf(r||1,2,"strides"),this.strides.forEach(l=>Hs(l,"strides")),this.padding=o||"valid",Jo(this.padding),this.dataFormat=a||"channelsLast",ws(this.dataFormat),this.dilationRate=Jf(i||1,2,"dilationRate"),this.dilationRate.forEach(l=>Hs(l,"dilationRate"))}build(e){var n;e=Cn(e);const s=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[s]==null)throw new Ee(`The channel dimension of the input should be defined. Found ${e[s]}`);const r=e[s],o=4,a=this.kernelSize.concat([r,this.filters*o]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const i=this.kernelSize.concat([this.filters,this.filters*o]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,c=this.filters;l=new(n=class extends Ea{apply(f,h){const p=u.apply([c]),m=po([c]),g=u.apply([c*2]);return zT([p,m,g])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*o],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return Le(()=>{if(e.length!==3)throw new Ee(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const s=n.training||!1,r=e[0],o=e[1],a=e[2],i=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=tc({ones:()=>So(r),rate:this.dropout,training:s,count:i,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(G,Z,j)=>!Z||!Z[j]?G:Te(Z[j],G);let c=u(r,l,0),d=u(r,l,1),f=u(r,l,2),h=u(r,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=tc({ones:()=>So(o),rate:this.recurrentDropout,training:s,count:i,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let m=u(o,p,0),g=u(o,p,1),y=u(o,p,2),w=u(o,p,3);const b=3,[_,$,x,k]=Kr(this.kernel.read(),i,b),[C,T,N,M]=this.useBias?Kr(this.bias.read(),i):[null,null,null,null];c=this.inputConv(c,_,C,this.padding),d=this.inputConv(d,$,T,this.padding),f=this.inputConv(f,x,N,this.padding),h=this.inputConv(h,k,M,this.padding);const[R,D,z,B]=Kr(this.recurrentKernel.read(),i,b);m=this.recurrentConv(m,R),g=this.recurrentConv(g,D),y=this.recurrentConv(y,z),w=this.recurrentConv(w,B);const V=this.recurrentActivation.apply(st(c,m)),O=this.recurrentActivation.apply(st(d,g)),F=st(Te(O,a),Te(V,this.activation.apply(st(f,y)))),L=Te(this.recurrentActivation.apply(st(h,w)),this.activation.apply(F));return[L,L,F]})}getConfig(){const e=super.getConfig(),n=smt(e,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),s)}inputConv(e,n,s,r){const o=Al(e,n,this.strides,r||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return s?ui(o,s,this.dataFormat):o}recurrentConv(e,n){return Al(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}j3.className="ConvLSTM2DCell";tt(j3);class _N extends qW{constructor(e){const n=new j3(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}_N.className="ConvLSTM2D";tt(_N);class K3 extends cn{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,s=[];for(let r=0;r<this.noiseShape.length;++r)s.push(this.noiseShape[r]==null?n[r]:this.noiseShape[r]);return s}call(e,n){return Le(()=>{this.invokeCallHook(e,n);const s=jt(e);if(0<this.rate&&this.rate<1){const r=n.training==null?!1:n.training,o=this.getNoiseShape(s);return p2(()=>lW(s,this.rate,o,this.seed),()=>s,r)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}K3.className="Dropout";tt(K3);class $N extends K3{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}$N.className="SpatialDropout1D";tt($N);class xN extends cn{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,Hs(this.units,"units"),this.activation=ec(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=as(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=as(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Ms(e.kernelConstraint),this.biasConstraint=Ms(e.biasConstraint),this.kernelRegularizer=is(e.kernelRegularizer),this.biasRegularizer=is(e.biasRegularizer),this.activityRegularizer=is(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Cn(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=Cn(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return Le(()=>{this.invokeCallHook(e,n);const s=jt(e),r=tW(this.activation.getClassName());let o;return r!=null?o=Mi(s,this.kernel.read(),r,this.bias?this.bias.read():null):(o=Mi(s,this.kernel.read()),this.bias!=null&&(o=ui(o,this.bias.read())),this.activation!=null&&(o=this.activation.apply(o))),o})}getConfig(){const e={units:this.units,activation:Qu(this.activation),useBias:this.useBias,kernelInitializer:cs(this.kernelInitializer),biasInitializer:cs(this.biasInitializer),kernelRegularizer:zn(this.kernelRegularizer),biasRegularizer:zn(this.biasRegularizer),activityRegularizer:zn(this.activityRegularizer),kernelConstraint:Fs(this.kernelConstraint),biasConstraint:Fs(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}xN.className="Dense";tt(xN);class SN extends cn{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Cn(e);for(const n of e.slice(1))if(n==null)throw new Ee(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Lu(e,1)]}call(e,n){return Le(()=>{this.invokeCallHook(e,n);let s=jt(e);if(this.dataFormat==="channelsFirst"&&s.rank>1){const r=[0];for(let o=2;o<s.rank;++o)r.push(o);r.push(1),s=dn(s,r)}return yht(s)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}SN.className="Flatten";tt(SN);class CN extends cn{constructor(e){super(e),this.supportsMasking=!0,this.activation=ec(e.activation)}call(e,n){return Le(()=>{this.invokeCallHook(e,n);const s=jt(e);return this.activation.apply(s)})}getConfig(){const e={activation:Qu(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}CN.className="Activation";tt(CN);class kN extends cn{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return Le(()=>(e=jt(e),ght(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}kN.className="RepeatVector";tt(kN);let TN=class extends cn{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const s="Total size of new array must be unchanged.",r=n.slice();let o=1,a=null;for(let l=0;l<r.length;++l){const u=r[l];if(this.isUnknown(u))if(a===null)a=l;else throw new Ee("Can only specifiy one unknown dimension.");else o*=u}const i=Lu(e);if(a!==null){if(o===0||i%o!==0)throw new Ee(s);r[a]=i/o}else if(i!==o)throw new Ee(s);return r}computeOutputShape(e){let n=!1;for(let s=0;s<e.length;++s)if(this.isUnknown(e[s])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return Le(()=>{this.invokeCallHook(e,n);const s=jt(e),r=s.shape,o=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return Ne(s,o)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}};TN.className="Reshape";tt(TN);class NN extends cn{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=ti(1,e.dims.length+1);if(!hn(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Ss({ndim:this.dims.length+1})]}computeOutputShape(e){e=Cn(e);const n=e.slice();return this.dims.forEach((s,r)=>{n[r+1]=e[s]}),n}call(e,n){return dn(jt(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}NN.className="Permute";tt(NN);class EN extends cn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const s=jt(e),r=-1;return sg(Dd(s,this.maskValue),r)}call(e,n){return Le(()=>{this.invokeCallHook(e,n);const s=jt(e),r=-1,o=!0,a=sg(Dd(s,this.maskValue),r,o);return Te(s,ht(a,s.dtype))})}}EN.className="Masking";tt(EN);class IN extends cn{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(qn(e.inputLength))}this.inputDim=e.inputDim,Hs(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Hs(this.outputDim,"outputDim"),this.embeddingsInitializer=as(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=is(e.embeddingsRegularizer),this.activityRegularizer=is(e.activityRegularizer),this.embeddingsConstraint=Ms(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return Le(()=>this.maskZero?(e=jt(e),Dd(e,yn(e))):null)}computeOutputShape(e){if(e=Cn(e),this.inputLength==null)return[...e,this.outputDim];const n=qn(this.inputLength);if(n.length!==e.length-1)throw new Ee(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let s=0;for(let r=0;r<n.length;++r){const o=n[r],a=e[r+1];if(o!=null&&a!=null&&o!==a)throw new Ee(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);o==null&&(n[s]=a),s++}}return[e[0],...n,this.outputDim]}call(e,n){return Le(()=>{this.invokeCallHook(e,n);let s=jt(e);s.dtype!=="int32"&&(s=Fi(s,"int32"));const r=iW(this.embeddings.read(),Ne(s,[s.size]));return Ne(r,Cn(this.computeOutputShape(s.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:cs(this.embeddingsInitializer),embeddingsRegularizer:zn(this.embeddingsRegularizer),activityRegularizer:zn(this.activityRegularizer),embeddingsConstraint:Fs(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}IN.className="Embedding";tt(IN);class ff extends cn{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Zt}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const s=e.slice(0,e.length-n.length);for(let r=0;r<n.length;++r){const o=e[e.length-n.length+r],a=n[r];if(o==null||a==null||o<0||a<0)s.push(null);else if(o===1)s.push(a);else if(a===1)s.push(o);else{if(o!==a)throw new Ee("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));s.push(o)}}return s}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Cn(e)]),e=e,e.length<2)throw new Ee(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const o of e)o!=null&&o[0]!==null&&n.push(o[0]);if(n=Pu(n),n.length>1)throw new Ee(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let s=e[0]==null?null:e[0].slice(1);for(let o=1;o<e.length;++o){const a=e[o]==null?null:e[o].slice(1);s=this.computeElementwiseOpOutputShape(s,a)}const r=e.map(o=>o.length);e.indexOf(null)===-1&&Pu(r).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return Le(()=>{if(e=e,this.reshapeRequired){const s=[],r=e.map(o=>o.rank);if(r.indexOf(null)===-1){const o=Ju(r);for(let a of e){const i=a.rank;for(let l=0;l<o-i;++l)a=f2(a,1);s.push(a)}return this.mergeFunction(s)}else{let o=!1;for(const l of e){const u=l.rank;if(u==null){const c=l.shape,d=c[0],f=c.slice(1).concat([d]);let h=Ne(l,[d].concat(Lu(c.slice(1))));h=dn(h,[1,0]),h=Ne(h,f),s.push(h),o=!0}else if(u>1){const c=ti(1,u).concat([0]);s.push(dn(l,c)),o=!0}else s.push(l)}let a=this.mergeFunction(s);const i=a.rank;if(o){if(i==null){const l=a.shape,u=l.length,c=l[u-1],d=[c].concat(l.slice(0,l.length-1));a=Ne(dn(Ne(a,[-1,c]),[1,0]),d)}else if(i>1){const l=[i-1].concat(ti(0,i-1));a=dn(a,l)}}return a}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let r=1;r<e.length;++r){const o=e[r]==null?null:e[r].slice(1);n=this.computeElementwiseOpOutputShape(n,o)}let s=[];for(const r of e)r!=null&&r[0]!==null&&s.push(r[0]);return s=Pu(s),s.length===1?n=s.concat(n):n=[null].concat(n),n}computeMask(e,n){return Le(()=>{if(n==null)return null;if(!Array.isArray(n))throw new Ee("`mask` should be an Array");if(!Array.isArray(e))throw new Ee("`inputs` should be an Array");if(n.length!==e.length)throw new Ee(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(r=>r==null))return null;n=n.map(r=>r==null?r:hr(r,0));let s=n[0];for(let r=1;r<n.length-1;++r)s=Ta(s,n[r]);return s})}}let AN=class extends ff{constructor(e){super(e)}mergeFunction(e){return Le(()=>{let n=e[0].clone();for(let s=1;s<e.length;++s)n=st(n,e[s]);return n})}};AN.className="Add";tt(AN);let ON=class extends ff{constructor(e){super(e)}mergeFunction(e){return Le(()=>{let n=e[0].clone();for(let s=1;s<e.length;++s)n=Te(n,e[s]);return n})}};ON.className="Multiply";tt(ON);class RN extends ff{constructor(e){super(e)}mergeFunction(e){return Le(()=>{let n=e[0].clone();for(let s=1;s<e.length;++s)n=st(n,e[s]);return Te(1/e.length,n)})}}RN.className="Average";tt(RN);let DN=class extends ff{constructor(e){super(e)}mergeFunction(e){return Le(()=>{let n=e[0];for(let s=1;s<e.length;++s)n=Zi(n,e[s]);return n})}};DN.className="Maximum";tt(DN);let FN=class extends ff{constructor(e){super(e)}mergeFunction(e){return Le(()=>{let n=e[0];for(let s=1;s<e.length;++s)n=om(n,e[s]);return n})}};FN.className="Minimum";tt(FN);class MN extends ff{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new Ee("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const r of e)if(r!=null){n=!1;break}if(n)return;const s=[];for(let r=0;r<e.length;++r){const o=e[r].slice();o.splice(this.axis,1);let a=!1;for(const i of s)if(hn(i,o)){a=!0;break}a||s.push(o)}if(s.length>1)throw new Ee("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Le(()=>zT(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Ee("A `Concatenate` layer should be called on a list of inputs.");const n=e,s=n[0].slice(),r=this.axis<0?s.length+this.axis:this.axis;for(const o of n.slice(1)){if(s[r]==null||o[r]==null){s[r]=null;break}s[r]+=o[r]}return s}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new Ee("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Ee("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new Ee(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return Le(()=>{let s=!0;if(n.forEach(a=>{if(a!=null){s=!1;return}}),s)return null;const r=[];for(let a=0;a<e.length;++a)n[a]==null?r.push(ht(So(e[a]),"bool")):n[a].rank<e[a].rank?r.push(hr(n[a],-1)):r.push(n[a]);const o=vs(r,this.axis);return B_(o,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}MN.className="Concatenate";tt(MN);function Mm(t,e){for(;t<0;)t+=e;return t}function rmt(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new Zt("batchDot is not implemented for tensors of 4D or higher rank yet");if(q(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),q(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new Zt("batchDot is not implemented for complex64-type Tensors yet.");const s=t.shape.length,r=e.shape.length;n==null&&(n=[s-1,r-2]);const o=n;return Le(()=>{let a;if(s>r){a=s-r;const l=[];for(let u=0;u<a;++u)l.push(1);e=Ne(e,e.shape.concat(l))}else if(r>s){a=r-s;const l=[];for(let u=0;u<a;++u)l.push(1);t=Ne(t,t.shape.concat(l))}else a=0;let i;if(t.shape.length===2&&e.shape.length===2)o[0]===o[1]?i=kt(Te(t,e),o[0]):i=kt(Te(dn(t,[1,0]),e),o[1]);else{const l=o[0]!==t.shape.length-1,u=o[1]===e.shape.length-1;i=ln(t,e,l,u)}if(a>0){let l;s>r?l=s+r-3:l=s-1;const u=[];for(let c=l;c<l+a;++c)u.push(c);i=gc(i,u)}return i.shape.length===1&&(i=hr(i,1)),i})}class PN extends ff{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){q(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],s=e[1];if(n.length>3||s.length>3)throw new Zt("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(n,s);if(n[r[0]]!==s[r[1]])throw new Ee(`Dimension incompatibility: ${n[r[0]]} !== ${s[r[1]]}`)}mergeFunction(e){if(e.length!==2)throw new Ee(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],s=e[1],r;return Array.isArray(this.axes)?r=this.axes.map((o,a)=>Mm(o,e[a].shape.length)):r=[Mm(this.axes,n.shape.length),Mm(this.axes,s.shape.length)],this.normalize&&(n=cb(n,r[0]),s=cb(s,r[1])),rmt(n,s,r)}interpretAxes(e,n){let s;return Array.isArray(this.axes)?s=this.axes:s=[Mm(this.axes,e.length),Mm(this.axes,n.length)],s}computeOutputShape(e){q(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),s=e[1].slice();if(n.length>3||s.length>3)throw new Zt("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(n,s);n.splice(r[0],1),s.splice(r[1],1),s.splice(0,1);const o=n.concat(s);return o.length===1&&o.push(1),o}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}PN.className="Dot";tt(PN);class LN extends cn{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return Le(()=>{this.invokeCallHook(e,n);const s=jt(e);return p2(()=>st(I3(s.shape,0,this.stddev),s),()=>s,n.training||!1)})}}LN.className="GaussianNoise";tt(LN);class zN extends cn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Le(()=>{this.invokeCallHook(e,n);const s=jt(e);return this.rate>0&&this.rate<1?p2(()=>{const o=Math.sqrt(this.rate/(1-this.rate));return Te(s,I3(s.shape,1,o))},()=>s,n.training||!1):s})}}zN.className="GaussianDropout";tt(zN);class BN extends cn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||jt(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Le(()=>{if(this.rate<1&&this.rate>0){const s=this._getNoiseShape(e);return p2(()=>{const o=jt(e),a=1.6732632423543772,i=1.0507009873554805,l=-a*i;let u=Zl(am(s),this.rate);u=Fi(u,"float32");const c=((1-this.rate)*(1+this.rate*l**2))**-.5,d=-c*l*this.rate,f=st(Te(o,u),Te(st(u,-1),l));return st(Te(f,c),d)},()=>jt(e),n.training||!1)}return e})}}BN.className="AlphaDropout";tt(BN);function ig(t,e,n,s,r,o=.001){let a;if(t.rank===2)a=C8(t,e,n,s,r,o);else if(t.rank===3)a=k8(t,e,n,s,r,o);else if(t.rank===4)a=T8(t,e,n,s,r,o);else throw new Zt(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return a}function omt(t,e,n,s,r=.001){return Le(()=>{const o=Q1(t,s),a=o.mean,i=o.variance;return[ig(t,a,i,n,e,r),a,i]})}function amt(t,e,n,s,r=.001){return Le(()=>{const o=Q1(t,s),a=o.mean,i=o.variance,l=[];for(const p of ti(0,t.rank))s.indexOf(p)!==-1?l.push(1):l.push(t.shape[p]);const u=Ne(a,l),c=Ne(i,l),d=e==null?null:Ne(e,l),f=n==null?null:Ne(n,l);return[ig(t,u,c,f,d,r),a,i]})}function imt(t,e,n,s,r=.001){return hn(s.slice().sort(),ti(0,t.rank-1))?omt(t,e,n,s,r):amt(t,e,n,s,r)}class VN extends cn{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=as(e.betaInitializer||"zeros"),this.gammaInitializer=as(e.gammaInitializer||"ones"),this.movingMeanInitializer=as(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=as(e.movingVarianceInitializer||"ones"),this.betaConstraint=Ms(e.betaConstraint),this.gammaConstraint=Ms(e.gammaConstraint),this.betaRegularizer=is(e.betaRegularizer),this.gammaRegularizer=is(e.gammaRegularizer)}build(e){e=Cn(e);const n=this.axis>=0?this.axis:this.axis+e.length,s=e[n];if(s==null)throw new Ee(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Ss({ndim:e.length,axes:{[n]:s}})];const r=[s];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return Le(()=>{const s=n.training==null?!1:n.training,r=jt(e),o=r.shape,a=o.length,i=ti(0,a),l=this.axis>=0?this.axis:this.axis+a;i.splice(l,1);const u=Pd(1,a);u[l]=o[l];const c=i.slice();c.sort();const d=!hn(c,ti(0,a).slice(0,a-1)),f=()=>{if(d){const w=Ne(this.movingMean.read(),u),b=Ne(this.movingVariance.read(),u),_=this.center?Ne(this.beta.read(),u):null,$=this.scale?Ne(this.gamma.read(),u):null;return ig(r,w,b,_,$,this.epsilon)}else return ig(r,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!s)return f();const[h,p,m]=imt(r,this.gamma.read(),this.beta.read(),i,this.epsilon),g=(w,b,_)=>{Le(()=>{const $=1-_,x=w.read(),k=Te($t(x,b),$);w.write($t(x,k))})};return(()=>{g(this.movingMean,p,this.momentum),g(this.movingVariance,m,this.momentum)})(),h})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:cs(this.betaInitializer),gammaInitializer:cs(this.gammaInitializer),movingMeanInitializer:cs(this.movingMeanInitializer),movingVarianceInitializer:cs(this.movingVarianceInitializer),betaRegularizer:zn(this.betaRegularizer),gammaRegularizer:zn(this.gammaRegularizer),betaConstraint:Fs(this.betaConstraint),gammaConstraint:Fs(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}VN.className="BatchNormalization";tt(VN);class HN extends cn{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=as(e.betaInitializer||"zeros"),this.gammaInitializer=as(e.gammaInitializer||"ones"),this.betaRegularizer=is(e.betaRegularizer),this.gammaRegularizer=is(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Cn(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let o=0;o<this.axis.length;++o)this.axis[o]<0&&(this.axis[o]+=n);for(const o of this.axis)if(o<0||o>=n)throw new Error(`Invalid axis: ${o}`);if(this.axis.length!==Pu(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const s=this.axis.map(o=>e[o]),r=!0;this.scale?this.gamma=this.addWeight("gamma",s,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",s,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,n){const s=jt(e),r=s.shape,o=r.length;return Le(()=>{let{mean:i,variance:l}=Q1(s,this.axis,!0);const u=Pd(1,o);for(const m of this.axis)u[m]=r[m];const c=m=>m!=null&&m.shape.length!==o?Ne(m,u):m;let d=this.scale?c(this.gamma.read()):null,f=this.center?c(this.beta.read()):null;const h=[],p=[];for(let m=0;m<o;++m)this.axis.indexOf(m)!==-1?(h.push(r[m]),p.push(1)):(h.push(1),p.push(r[m]));return i=Lo(i,h),l=Lo(l,h),d!=null&&(d=Lo(d,p)),f!=null&&(f=Lo(f,p)),ig(s,i,l,f,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:cs(this.betaInitializer),gammaInitializer:cs(this.gammaInitializer),betaRegularizer:zn(this.betaRegularizer),gammaRegularizer:zn(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}HN.className="LayerNormalization";tt(HN);function lmt(t,e,n){return Le(()=>{if(t.rank!==4)throw new Ee(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new Ee("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=ni()),n!=="channelsLast"&&n!=="channelsFirst")throw new Ee(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let s;return n==="channelsFirst"?s=[[0,0],[0,0],e[0],e[1]]:s=[[0,0],e[0],e[1],[0,0]],Jl(t,s)})}class WN extends cn{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?ni():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new Ee(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,s;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],s=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new Ee(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new Ee(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);s=e.padding[1]}this.padding=[n,s]}this.inputSpec=[new Ss({ndim:4})]}computeOutputShape(e){e=Cn(e);let n,s;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?s=e[3]+this.padding[1][0]+this.padding[1][1]:s=null,[e[0],e[1],n,s]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?s=e[2]+this.padding[1][0]+this.padding[1][1]:s=null,[e[0],n,s,e[3]])}call(e,n){return Le(()=>lmt(jt(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}WN.className="ZeroPadding2D";tt(WN);function q3(t,e,n,s,r,o){return Le(()=>{ws(r),sW(o),Jo(s),n==null&&(n=[1,1]),s==null&&(s="valid"),r==null&&(r=ni()),o==null&&(o="max"),t=dN(t,r);let a;const i=s==="same"?"same":"valid";return o==="max"?a=J1(t,e,n,i):a=j1(t,e,n,i),r==="channelsFirst"&&(a=dn(a,[0,3,1,2])),a})}function XW(t,e,n,s,r,o){return Le(()=>{ws(r),sW(o),Jo(s),n==null&&(n=[1,1,1]),s==null&&(s="valid"),r==null&&(r=ni()),o==null&&(o="max"),t=UW(t,r);let a;const i=s==="same"?"same":"valid";return o==="max"?a=Z8(t,e,n,i):a=S8(t,e,n,i),r==="channelsFirst"&&(a=dn(a,[0,4,1,2,3])),a})}class YW extends cn{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new Ee(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(Hs(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new Ee(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);Hs(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,Jo(this.padding),this.inputSpec=[new Ss({ndim:3})]}computeOutputShape(e){e=Cn(e);const n=Ya(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return Le(()=>{this.invokeCallHook(e,n),e=f2(jt(e),2);const s=this.poolingFunction(jt(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return gc(s,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class UN extends YW{constructor(e){super(e)}poolingFunction(e,n,s,r,o){return ws(o),Jo(r),q3(e,n,s,r,o,"max")}}UN.className="MaxPooling1D";tt(UN);class GN extends YW{constructor(e){super(e)}poolingFunction(e,n,s,r,o){return ws(o),Jo(r),q3(e,n,s,r,o,"avg")}}GN.className="AveragePooling1D";tt(GN);class ZW extends cn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new Ee(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];Hs(this.poolSize,"poolSize"),Hs(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ws(this.dataFormat),Jo(this.padding),this.inputSpec=[new Ss({ndim:4})]}computeOutputShape(e){e=Cn(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],s=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=Ya(n,this.poolSize[0],this.padding,this.strides[0]),s=Ya(s,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,s]:[e[0],n,s,e[3]]}call(e,n){return Le(()=>(this.invokeCallHook(e,n),this.poolingFunction(jt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class jN extends ZW{constructor(e){super(e)}poolingFunction(e,n,s,r,o){return ws(o),Jo(r),q3(e,n,s,r,o,"max")}}jN.className="MaxPooling2D";tt(jN);class KN extends ZW{constructor(e){super(e)}poolingFunction(e,n,s,r,o){return ws(o),Jo(r),q3(e,n,s,r,o,"avg")}}KN.className="AveragePooling2D";tt(KN);class JW extends cn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new Ee(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Hs(this.poolSize,"poolSize"),Hs(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ws(this.dataFormat),Jo(this.padding),this.inputSpec=[new Ss({ndim:5})]}computeOutputShape(e){e=Cn(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],s=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=Ya(n,this.poolSize[0],this.padding,this.strides[0]),s=Ya(s,this.poolSize[1],this.padding,this.strides[1]),r=Ya(r,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,s,r]:[e[0],n,s,r,e[4]]}call(e,n){return Le(()=>(this.invokeCallHook(e,n),this.poolingFunction(jt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class qN extends JW{constructor(e){super(e)}poolingFunction(e,n,s,r,o){return ws(o),Jo(r),XW(e,n,s,r,o,"max")}}qN.className="MaxPooling3D";tt(qN);class XN extends JW{constructor(e){super(e)}poolingFunction(e,n,s,r,o){return ws(o),Jo(r),XW(e,n,s,r,o,"avg")}}XN.className="AveragePooling3D";tt(XN);class QW extends cn{constructor(e){super(e),this.inputSpec=[new Ss({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new Zt}}class YN extends QW{constructor(e){super(e||{})}call(e,n){return Le(()=>{const s=jt(e);return us(s,1)})}}YN.className="GlobalAveragePooling1D";tt(YN);class ZN extends QW{constructor(e){super(e||{})}call(e,n){return Le(()=>{const s=jt(e);return Go(s,1)})}}ZN.className="GlobalMaxPooling1D";tt(ZN);class eU extends cn{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ws(this.dataFormat),this.inputSpec=[new Ss({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new Zt}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class JN extends eU{call(e,n){return Le(()=>{const s=jt(e);return this.dataFormat==="channelsLast"?us(s,[1,2]):us(s,[2,3])})}}JN.className="GlobalAveragePooling2D";tt(JN);class QN extends eU{call(e,n){return Le(()=>{const s=jt(e);return this.dataFormat==="channelsLast"?Go(s,[1,2]):Go(s,[2,3])})}}QN.className="GlobalMaxPooling2D";tt(QN);class tU extends cn{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,s={}){const r=n.layer,o=Xa(r,s);delete n.layer;const a={layer:o};return Object.assign(a,n),new e(a)}}class eE extends tU{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Cn(e),e.length<3)throw new Ee(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Cn(e);const n=[e[0]].concat(e.slice(2)),s=this.layer.computeOutputShape(n),r=e[1];return[s[0],r].concat(s.slice(1))}call(e,n){return Le(()=>(e=jt(e),KW((a,i)=>[jt(this.layer.call(a,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}eE.className="TimeDistributed";tt(eE);function umt(t){cf(dht,"BidirectionalMergeMode",t)}const cmt="concat";class tE extends tU{constructor(e){super(e);const n=e.layer.getConfig(),s={};s.className=e.layer.getClassName(),s.config=n,this.forwardLayer=Xa(s),n.goBackwards=n.goBackwards!==!0;const r={};if(r.className=e.layer.getClassName(),r.config=n,this.backwardLayer=Xa(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?cmt:e.mergeMode,umt(this.mergeMode),e.weights)throw new Zt("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,s=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,s)),this.backwardLayer.setWeights(e.slice(s))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let s,r,o;return this.returnState&&(o=n.slice(1)),s=n[0],s=s,this.mergeMode==="concat"?(s[s.length-1]*=2,r=[s]):this.mergeMode==null?r=[s,s.slice()]:r=[s],this.returnState?this.mergeMode==null?r.concat(o).concat(o.slice()):[s].concat(o).concat(o.slice()):Ur(r)}apply(e,n){let s=n==null?null:n.initialState,r=n==null?null:n.constants;n==null&&(n={});const o=jW(e,s,r,this.numConstants);if(e=o.inputs,s=o.initialState,r=o.constants,Array.isArray(e)&&(s=e.slice(1),e=e[0]),(s==null||s.length===0)&&r==null)return super.apply(e,n);const a=[],i=[];if(s!=null){const u=s.length;if(u%2>0)throw new Ee("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=s,a.push(...s);const c=s.map(d=>new Ss({shape:d.shape}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),i.push(...c)}if(r!=null)throw new Zt("Support for constants in Bidirectional layers is not implemented yet.");const l=a[0]instanceof Ga;for(const u of a)if(u instanceof Ga!==l)throw new Ee("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[e].concat(a),c=this.inputSpec.concat(i),d=this.inputSpec;this.inputSpec=c;const f=super.apply(u,n);return this.inputSpec=d,f}else return super.apply(e,n)}call(e,n){return Le(()=>{const s=n.initialState;let r,o;if(s==null)r=this.forwardLayer.call(e,n),o=this.backwardLayer.call(e,n);else{const l=s.slice(0,s.length/2),u=s.slice(s.length/2);r=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),o=this.backwardLayer.call(e,Object.assign(n,{initialState:u}))}let a;this.returnState&&(Array.isArray(r)&&(a=r.slice(1).concat(o.slice(1))),r=r[0],o=o[0]),this.returnSequences&&(o=Xo(o,1));let i;return this.mergeMode==="concat"?i=zT([r,o]):this.mergeMode==="sum"?i=st(r,o):this.mergeMode==="ave"?i=Te(.5,st(r,o)):this.mergeMode==="mul"?i=Te(r,o):this.mergeMode==null&&(i=[r,o]),this.returnState?this.mergeMode==null?i.concat(a):[i].concat(a):i})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){dd(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),dd(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let s;if(this.returnSequences?this.mergeMode==null?s=[n,n]:s=n:this.mergeMode==null?s=[null,null]:s=null,this.returnState){const o=this.forwardLayer.states.map(a=>null);return Array.isArray(s)?s.concat(o).concat(o):[s].concat(o).concat(o)}else return s}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const s=Xa(n.layer);if(delete n.layer,n.numConstants!=null)throw new Zt("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=n;return r.layer=s,new e(r)}}tE.className="Bidirectional";tt(tE);class nE extends cn{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Le(()=>(e=jt(e),e.dtype!=="float32"&&(e=Fi(e,"float32")),st(Te(e,this.scale),this.offset)))}}nE.className="Rescaling";tt(nE);const{resizeBilinear:dmt,cropAndResize:fmt}=Ti;class sE extends cn{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,s,r,o,a,i,l){return Le(()=>{let u,c=!1;const d=n/a,f=s/i,h=(r+n)/a,p=(o+s)/i,m=[d,f,h,p],g=[];e.rank===3?(c=!0,u=Jr([e])):u=e;for(let $=0;$<u.shape[0];$++)g.push(m);const y=yo(g,[g.length,4]),w=Fd(0,g.length,1,"int32"),_=fmt(u,y,w,[r,o],"nearest");return Fi(c?jt(Yo(_)):_,l)})}upsize(e,n,s,r){return Le(()=>{const o=dmt(e,[n,s]);return Fi(o,r)})}call(e,n){return Le(()=>{const s=jt(e),r=s.dtype,o=s.shape,a=o[o.length-3],i=o[o.length-2];let l=0;a!==this.height&&(l=Math.floor((a-this.height)/2));let u=0;return i!==this.width&&(u=Math.floor((i-this.width)/2),u===0&&(u=1)),l>=0&&u>=0?this.centerCrop(s,l,u,this.height,this.width,a,i,r):this.upsize(e,this.height,this.width,r)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=Cn(e);const n=e.length-3,s=e.length-2;return e[n]=this.height,e[s]=this.width,e}}sE.className="CenterCrop";tt(sE);function hmt(t,e,n,s){let r=jt(t);if(r.dtype!=="int32"&&(r=Fi(r,"int32")),e==="int")return r;const o=r.shape;if(r.rank===0&&(r=hr(r,-1)),e==="oneHot"&&r.shape[r.shape.length-1]!==1&&(r=hr(r,-1)),r.rank>2)throw new Ee(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${o} which would result in output rank ${r.rank}.`);const a=["multiHot","oneHot"].includes(e),i=r;let l;if(typeof s<"u"&&e==="count"?l=ob(i,s,n,a):l=ob(i,[],n,a),e!=="tfIdf")return l;if(s)return Te(l,s);throw new Ee("When outputMode is 'tfIdf', weights must be provided.")}class rE extends cn{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=Cn(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return Le(()=>{e=jt(e),e.dtype!=="int32"&&(e=Fi(e,"int32"));let s;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new Ee(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);s=jt(n.countWeights)}const r=Go(e),o=kh(e),a=Pr(this.numTokens,r).bufferSync().get(0),i=Zl(o,0).bufferSync().get(0);if(!(a&&i))throw new Ee(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return hmt(e,this.outputMode,this.numTokens,s)})}}rE.className="CategoryEncoding";tt(rE);const pmt=["bilinear","nearest"],SD=new Set(pmt);class oE extends cn{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(SD.has(e.interpolation))this.interpolation=e.interpolation;else throw new Ee(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){e=Cn(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Le(()=>{const s=[this.height,this.width];if(this.interpolation==="bilinear")return Ti.resizeBilinear(e,s,!this.cropToAspectRatio);if(this.interpolation==="nearest")return Ti.resizeNearestNeighbor(e,s,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...SD]} are supported`)})}}oE.className="Resizing";tt(oE);function mmt(t){return new lm(t)}function gmt(t){return new lN(t)}function vmt(t){return new oN(t)}function ymt(t){return new aN(t)}function bmt(t){return new iN(t)}function wmt(t){return new cN(t)}function _mt(t){return new uN(t)}function $mt(t){return new b2(t)}function xmt(t){return new v2(t)}function Smt(t){return new fN(t)}function Cmt(t){return new y2(t)}function kmt(t){return new hN(t)}function Tmt(t){return new pN(t)}function Nmt(t){return new mN(t)}function Emt(t){return new gN(t)}function Imt(t){return new vN(t)}function Amt(t){return new CN(t)}function Omt(t){return new xN(t)}function Rmt(t){return new K3(t)}function Dmt(t){return new $N(t)}function Fmt(t){return new SN(t)}function Mmt(t){return new kN(t)}function Pmt(t){return new TN(t)}function Lmt(t){return new NN(t)}function zmt(t){return new IN(t)}function Bmt(t){return new AN(t)}function Vmt(t){return new RN(t)}function Hmt(t){return new MN(t)}function Wmt(t){return new DN(t)}function Umt(t){return new FN(t)}function Gmt(t){return new ON(t)}function jmt(t){return new PN(t)}function Kmt(t){return new VN(t)}function qmt(t){return new HN(t)}function Xmt(t){return new WN(t)}function aE(t){return new GN(t)}function Ymt(t){return aE(t)}function Zmt(t){return aE(t)}function iE(t){return new KN(t)}function Jmt(t){return iE(t)}function Qmt(t){return iE(t)}function lE(t){return new XN(t)}function e0t(t){return lE(t)}function t0t(t){return lE(t)}function n0t(t){return new YN(t)}function s0t(t){return new JN(t)}function nU(t){return new ZN(t)}function sU(t){return new QN(t)}function rU(t){return new UN(t)}function oU(t){return new jN(t)}function r0t(t){return new qN(t)}function o0t(t){return new bN(t)}function a0t(t){return new U3(t)}function i0t(t){return new wN(t)}function l0t(t){return new _2(t)}function u0t(t){return new yN(t)}function c0t(t){return new W3(t)}function d0t(t){return new _N(t)}function f0t(t){return new j3(t)}function h0t(t){return new ci(t)}function p0t(t){return new G3(t)}function m0t(t){return new tE(t)}function g0t(t){return new eE(t)}const v0t=nU,y0t=sU,b0t=rU,w0t=oU;function _0t(t){return new LN(t)}function $0t(t){return new zN(t)}function x0t(t){return new BN(t)}function S0t(t){return new EN(t)}function C0t(t){return new nE(t)}function k0t(t){return new sE(t)}function T0t(t){return new oE(t)}function N0t(t){return new rE(t)}const E0t=Object.freeze(Object.defineProperty({__proto__:null,inputLayer:mmt,elu:gmt,reLU:vmt,leakyReLU:ymt,prelu:bmt,softmax:wmt,thresholdedReLU:_mt,conv1d:$mt,conv2d:xmt,conv2dTranspose:Smt,conv3d:Cmt,conv3dTranspose:kmt,separableConv2d:Tmt,cropping2D:Nmt,upSampling2d:Emt,depthwiseConv2d:Imt,activation:Amt,dense:Omt,dropout:Rmt,spatialDropout1d:Dmt,flatten:Fmt,repeatVector:Mmt,reshape:Pmt,permute:Lmt,embedding:zmt,add:Bmt,average:Vmt,concatenate:Hmt,maximum:Wmt,minimum:Umt,multiply:Gmt,dot:jmt,batchNormalization:Kmt,layerNormalization:qmt,zeroPadding2d:Xmt,averagePooling1d:aE,avgPool1d:Ymt,avgPooling1d:Zmt,averagePooling2d:iE,avgPool2d:Jmt,avgPooling2d:Qmt,averagePooling3d:lE,avgPool3d:e0t,avgPooling3d:t0t,globalAveragePooling1d:n0t,globalAveragePooling2d:s0t,globalMaxPooling1d:nU,globalMaxPooling2d:sU,maxPooling1d:rU,maxPooling2d:oU,maxPooling3d:r0t,gru:o0t,gruCell:a0t,lstm:i0t,lstmCell:l0t,simpleRNN:u0t,simpleRNNCell:c0t,convLstm2d:d0t,convLstm2dCell:f0t,rnn:h0t,stackedRNNCells:p0t,bidirectional:m0t,timeDistributed:g0t,globalMaxPool1d:v0t,globalMaxPool2d:y0t,maxPool1d:b0t,maxPool2d:w0t,Layer:cn,RNN:ci,RNNCell:w2,input:EW,gaussianNoise:_0t,gaussianDropout:$0t,alphaDropout:x0t,masking:S0t,rescaling:C0t,centerCrop:k0t,resizing:T0t,categoryEncoding:N0t},Symbol.toStringTag,{value:"Module"}));function I0t(t,e){return eN(t,e)}function A0t(t,e){return wW(t,e)}function O0t(t,e){return _W(t,e)}function R0t(t,e){return tN(t,e)}function D0t(t,e){return nN(t,e)}function F0t(t,e){return bW(t,e)}function M0t(t,e){return vpt(t,e)}function P0t(t,e){return QT(t,e)}function L0t(t,e){return z3(t,e)}function z0t(t,e){return um(t,e)}function B0t(t,e){return um(t,e)}function V0t(t,e){return um(t,e)}function H0t(t,e){return df(t,e)}function W0t(t,e){return df(t,e)}function U0t(t,e){return df(t,e)}const G0t=Object.freeze(Object.defineProperty({__proto__:null,binaryAccuracy:I0t,binaryCrossentropy:A0t,sparseCategoricalAccuracy:O0t,categoricalAccuracy:R0t,categoricalCrossentropy:D0t,precision:F0t,recall:M0t,cosineProximity:P0t,meanAbsoluteError:L0t,meanAbsolutePercentageError:z0t,MAPE:B0t,mape:V0t,meanSquaredError:H0t,MSE:W0t,mse:U0t},Symbol.toStringTag,{value:"Module"}));const j0t=Object.freeze(Object.defineProperty({__proto__:null,modelFromJSON:Gpt},Symbol.toStringTag,{value:"Module"}));function K0t(t){return new g2(t)}function q0t(t){return Jpt(t)}function X0t(t){return Qpt(t)}const Y0t=Object.freeze(Object.defineProperty({__proto__:null,l1l2:K0t,l1:q0t,l2:X0t},Symbol.toStringTag,{value:"Module"}));class aU extends Ih{constructor(){super(...arguments),this.model=null}setModel(e){if(!(e instanceof yl))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}function wv(t,e){return t<e}function CD(t,e){return t>e}class iU extends aU{constructor(e){if(super(),e==null&&(e={}),e.restoreBestWeights)throw new Zt("restoreBestWeights = True is not implemented in EarlyStopping yet.");this.monitor=e.monitor||"val_loss",this.minDelta=Math.abs(e.minDelta||0),this.patience=e.patience||0,this.verbose=e.verbose||0,this.mode=e.mode||"auto",this.baseline=e.baseline,["auto","min","max"].indexOf(this.mode)===-1&&(console.warn(`EarlyStopping mode '${this.mode}' is invalid. Falling back to mode 'auto'.`),this.mode="auto"),this.mode==="min"?this.monitorFunc=wv:this.mode==="max"?this.monitorFunc=CD:this.monitor.indexOf("acc")!==-1?this.monitorFunc=CD:this.monitorFunc=wv,this.monitorFunc===wv&&(this.minDelta*=-1)}async onTrainBegin(e){this.wait=0,this.stoppedEpoch=0,this.baseline!=null?this.best=this.baseline:this.best=this.monitorFunc===wv?1/0:-1/0}async onEpochEnd(e,n){await mu(n);const s=this.getMonitorValue(n);s!=null&&(this.monitorFunc(s-this.minDelta,this.best)?(this.best=s,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)))}async onTrainEnd(e){this.stoppedEpoch>0&&this.verbose&&console.log(`Epoch ${this.stoppedEpoch}: early stopping.`)}getMonitorValue(e){e==null&&(e={});const n=e[this.monitor];return n==null&&console.warn(`Metric for EarlyStopping ${this.monitor} is not available. Available metrics are: ${Object.keys(e)}`),n}}function Z0t(t){return new iU(t)}const J0t={earlyStopping:Z0t};const Q0t=Be();Q0t.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var na;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(na||(na={}));var kD;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(kD||(kD={}));const uE={};function egt(t,e){const n={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};uE[t]=n}function lU(t){return uE[t]}function tgt(t){delete uE[t]}function H(t,e,n,s,r){const o=e.inputParams[t];if(o&&o.inputIndexStart!==void 0){const i=o.inputIndexStart,l=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?i+1:o.inputIndexEnd;if(o.type==="tensor")return Nr(e.inputNames[o.inputIndexStart],n,s,r);if(o.type==="tensors")return e.inputNames.slice(i,l).map(f=>Nr(f,n,s,r));const u=Nr(e.inputNames.slice(i)[0],n,s,r),c=u.dataSync();return o.type==="number"?c[0]:Uo(u.shape,c)}const a=e.attrParams[t];return a&&a.value}function Nr(t,e,n,s){const[r,o]=lo(t);if(s!=null){const i=s.getHashTableHandleByName(r);if(i!=null)return i}const a=n.currentContextIds.find(i=>!!e[mb(r,i)]);return a!==void 0?e[mb(r,a)][o]:void 0}function ngt(t,e,n){return e[mb(t,n.currentContextId)]}function ll(t,e){const[n,s,r]=lo(t);return[mb(n,e&&e.currentContextId),s,r]}function mb(t,e){return e?`${t}-${e}`:t}function lo(t){const e=t.split(":");if(e.length===1)return[t,0,void 0];const n=e[0],s=e.length===3?e[1]:void 0,r=Number(e[e.length-1]);return[n,r,s]}function hy(t,e,n){let s=H("pad",t,e,n);if(s==="explicit"){s=H("explicitPaddings",t,e,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)r[o][0]=s[o*2],r[o][1]=s[o*2+1];return r}return s}function ul(t){return t.kept?t:Ri(t)}const sgt=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],rgt=Object.freeze(Object.defineProperty({__proto__:null,json:sgt},Symbol.toStringTag,{value:"Module"}));const ogt=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],agt=Object.freeze(Object.defineProperty({__proto__:null,json:ogt},Symbol.toStringTag,{value:"Module"}));const igt=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],lgt=Object.freeze(Object.defineProperty({__proto__:null,json:igt},Symbol.toStringTag,{value:"Module"}));const ugt=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],cgt=Object.freeze(Object.defineProperty({__proto__:null,json:ugt},Symbol.toStringTag,{value:"Module"}));const dgt=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],fgt=Object.freeze(Object.defineProperty({__proto__:null,json:dgt},Symbol.toStringTag,{value:"Module"}));const hgt=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],pgt=Object.freeze(Object.defineProperty({__proto__:null,json:hgt},Symbol.toStringTag,{value:"Module"}));const mgt=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],ggt=Object.freeze(Object.defineProperty({__proto__:null,json:mgt},Symbol.toStringTag,{value:"Module"}));const vgt=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],ygt=Object.freeze(Object.defineProperty({__proto__:null,json:vgt},Symbol.toStringTag,{value:"Module"}));const bgt=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],wgt=Object.freeze(Object.defineProperty({__proto__:null,json:bgt},Symbol.toStringTag,{value:"Module"}));const _gt=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],$gt=Object.freeze(Object.defineProperty({__proto__:null,json:_gt},Symbol.toStringTag,{value:"Module"}));const xgt=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Sgt=Object.freeze(Object.defineProperty({__proto__:null,json:xgt},Symbol.toStringTag,{value:"Module"}));const Cgt=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],kgt=Object.freeze(Object.defineProperty({__proto__:null,json:Cgt},Symbol.toStringTag,{value:"Module"}));const Tgt=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],Ngt=Object.freeze(Object.defineProperty({__proto__:null,json:Tgt},Symbol.toStringTag,{value:"Module"}));const Egt=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],Igt=Object.freeze(Object.defineProperty({__proto__:null,json:Egt},Symbol.toStringTag,{value:"Module"}));const Agt=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],Ogt=Object.freeze(Object.defineProperty({__proto__:null,json:Agt},Symbol.toStringTag,{value:"Module"}));const Rgt=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Dgt=Object.freeze(Object.defineProperty({__proto__:null,json:Rgt},Symbol.toStringTag,{value:"Module"}));const Fgt=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Mgt=Object.freeze(Object.defineProperty({__proto__:null,json:Fgt},Symbol.toStringTag,{value:"Module"}));const Pgt=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Lgt=Object.freeze(Object.defineProperty({__proto__:null,json:Pgt},Symbol.toStringTag,{value:"Module"}));const zgt=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],Bgt=Object.freeze(Object.defineProperty({__proto__:null,json:zgt},Symbol.toStringTag,{value:"Module"}));let TD=class{constructor(){const e=[rgt,agt,lgt,cgt,fgt,pgt,ggt,ygt,wgt,$gt,Sgt,kgt,Ngt,Igt,Ogt,Dgt,Mgt,Lgt,Bgt],n=[].concat(...e.map(s=>s.json));this.opMappers=n.reduce((s,r)=>(s[r.tfOpName]=r,s),{})}static get Instance(){return this._instance||(this._instance=new this)}transformGraph(e,n={}){const s=e.node,r=[],o=[],a=[],i=s.reduce((m,g)=>(m[g.name]=this.mapNode(g),g.op.startsWith("Placeholder")?r.push(m[g.name]):g.op==="Const"?o.push(m[g.name]):(g.input==null||g.input.length===0)&&a.push(m[g.name]),m),{});let l=[];const u=[];let c={},d={};n!=null&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const f=Object.keys(i);f.forEach(m=>{const g=i[m];g.inputNames.forEach((y,w)=>{const[b,,_]=ll(y),$=i[b];if($.outputs!=null){const x=$.outputs.indexOf(_);if(x!==-1){const k=`${b}:${x}`;g.inputNames[w]=k}}g.inputs.push($),$.children.push(g)})}),Object.keys(d).length===0?f.forEach(m=>{const g=i[m];g.children.length===0&&u.push(g)}):Object.keys(d).forEach(m=>{const[g]=ll(m),y=i[g];y!=null&&(y.signatureKey=d[m],u.push(y))}),Object.keys(c).length>0?Object.keys(c).forEach(m=>{const[g]=ll(m),y=i[g];y&&(y.signatureKey=c[m],l.push(y))}):l=r;let h={};e.library!=null&&e.library.function!=null&&(h=e.library.function.reduce((m,g)=>(m[g.signature.name]=this.mapFunction(g),m),{}));const p={nodes:i,inputs:l,outputs:u,weights:o,placeholders:r,signature:n,functions:h};return a.length>0&&(p.initNodes=a),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,s)=>(n[e[s].name]=s,n),{})}mapNode(e){const n=lU(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const s={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(s.inputParams=n.inputs.reduce((r,o)=>(r[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},r),{})),n.attrs!=null&&(s.attrParams=n.attrs.reduce((r,o)=>{const a=o.type;let i;switch(o.type){case"string":i=Mx(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=Mx(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":i=Wx(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=Wx(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":i=Lx(e.attr,o.tfName,o.defaultValue||0),i===void 0&&!!o.tfDeprecatedName&&(i=Lx(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":i=Hx(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=Hx(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":i=Px(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=Px(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":i=Gx(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=Gx(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":i=Vx(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=Vx(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":i=Ux(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=Ux(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":i=zx(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=zx(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":i=Bx(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=Bx(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":i=ND(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=ND(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${o.type} for op: ${e.op}`)}return r[o.name]={value:i,type:a},r},{})),s}mapFunction(e){const n=e.nodeDef,s=[],r=[];let o={};n!=null&&(o=n.reduce((d,f)=>(d[f.name]=this.mapNode(f),f.op==="Const"&&r.push(d[f.name]),d),{}));const a=[],i=[];e.signature.inputArg.forEach(d=>{const[f]=ll(d.name),h={name:f,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:cE(d.type),type:"dtype"}},children:[]};h.signatureKey=d.name,a.push(h),o[f]=h}),Object.keys(o).forEach(d=>{const f=o[d];f.inputNames.forEach((h,p)=>{const[m,,g]=ll(h),y=o[m];if(y.outputs!=null){const w=y.outputs.indexOf(g);if(w!==-1){const b=`${m}:${w}`;f.inputNames[p]=b}}f.inputs.push(y),y.children.push(f)})});const u=e.ret;e.signature.outputArg.forEach(d=>{const[f,h]=ll(u[d.name]),p=o[f];p!=null&&(p.defaultOutput=h,i.push(p))});const c=this.mapArgsToSignature(e);return{nodes:o,inputs:a,outputs:i,weights:r,placeholders:s,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,s)=>(n[s.name]=this.mapArgToTensorInfo(s),n),{}),outputs:e.signature.outputArg.reduce((n,s)=>(n[s.name]=this.mapArgToTensorInfo(s,e.ret),n),{})}}mapArgToTensorInfo(e,n){let s=e.name;return n!=null&&(s=n[s]),{name:s,dtype:e.type}}};function Vgt(t){const e=Be().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function uU(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):Vgt(t);return e?n:n.toLowerCase()}function Mx(t,e,n,s=!1){const r=t[e];return r!=null?uU(r.s,s):n}function Px(t,e,n){const s=t[e];return s?s.b:n}function Lx(t,e,n){const s=t[e]||{},r=s.i!=null?s.i:s.f!=null?s.f:n;return typeof r=="number"?r:parseInt(r,10)}function cE(t){switch(typeof t=="string"&&(t=na[t]),t){case na.DT_FLOAT:case na.DT_HALF:return"float32";case na.DT_INT32:case na.DT_INT64:case na.DT_INT8:case na.DT_UINT8:return"int32";case na.DT_BOOL:return"bool";case na.DT_DOUBLE:return"float32";case na.DT_STRING:return"string";default:return null}}function ND(t,e,n){const s=t[e];return s&&s.func?s.func.name:n}function zx(t,e,n){const s=t[e];return s&&s.type?cE(s.type):n}function Bx(t,e,n){const s=t[e];return s&&s.list&&s.list.type?s.list.type.map(r=>cE(r)):n}function cU(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function Vx(t,e,n){const s=t[e];return s&&s.shape?cU(s.shape):n}function Hx(t,e,n){const s=t[e];return s?((s.list.f&&s.list.f.length?s.list.f:s.list.i)||[]).map(r=>typeof r=="number"?r:parseInt(r,10)):n}function Wx(t,e,n,s=!1){const r=t[e];return r&&r.list&&r.list.s?r.list.s.map(o=>uU(o,s)):n}function Ux(t,e,n){const s=t[e];return s&&s.list&&s.list.shape?s.list.shape.map(r=>cU(r)):n}function Gx(t,e,n){const s=t[e];return s&&s.list&&s.list.b?s.list.b:n}let Hgt=class{constructor(e,n,s){this.node=e,this.tensorMap=n,this.context=s,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(r=>this.getInput(r)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((r,o)=>(r[o]=this.getAttr(o),r),{}))}getInput(e){return Nr(e,this.tensorMap,this.context)}getAttr(e,n){const s=this.node.rawAttrs[e];if(s.tensor!=null)return Nr(e,this.tensorMap,this.context);if(s.i!=null||s.f!=null)return Lx(this.node.rawAttrs,e,n);if(s.s!=null)return Mx(this.node.rawAttrs,e,n);if(s.b!=null)return Px(this.node.rawAttrs,e,n);if(s.shape!=null)return Vx(this.node.rawAttrs,e,n);if(s.type!=null)return zx(this.node.rawAttrs,e,n);if(s.list!=null){if(s.list.i!=null||s.list.f!=null)return Hx(this.node.rawAttrs,e,n);if(s.list.s!=null)return Wx(this.node.rawAttrs,e,n);if(s.list.shape!=null)return Ux(this.node.rawAttrs,e,n);if(s.list.b!=null)return Gx(this.node.rawAttrs,e,n);if(s.list.type!=null)return Bx(this.node.rawAttrs,e,n)}return n}};const dr=Object.freeze(Object.defineProperty({__proto__:null,abs:$s,acos:m8,acosh:g8,add:st,addN:bV,all:B_,any:sg,argMax:Od,argMin:v8,asin:y8,asinh:b8,atan:w8,atan2:_8,atanh:$8,avgPool:j1,avgPool3d:S8,basicLSTMCell:wV,batchToSpaceND:K1,batchNorm:Qp,batchNorm2d:C8,batchNorm3d:k8,batchNorm4d:T8,bincount:N8,broadcastArgs:_V,broadcastTo:cd,buffer:tn,cast:ht,ceil:E8,clipByValue:Zr,clone:Ri,complex:Il,concat:vs,concat1d:I8,concat2d:A8,concat3d:O8,concat4d:R8,conv1d:V_,conv2d:Al,conv2dTranspose:H_,conv3d:F8,conv3dTranspose:M8,cos:q1,cosh:W_,cumprod:rg,cumsum:U_,denseBincount:ob,depthToSpace:P8,depthwiseConv2d:em,diag:xV,dilation2d:L8,div:It,divNoNan:z8,dot:B8,einsum:SV,elu:tm,equal:_o,erf:V8,euclideanNorm:W8,exp:$o,expandDims:hr,expm1:U8,eye:G_,fill:of,floor:sm,floorDiv:z_,gather:rm,greater:Pr,greaterEqual:Zl,imag:U1,isFinite:G8,isInf:j8,isNaN:K8,leakyRelu:X1,less:j_,lessEqual:mc,linspace:TV,localResponseNormalization:q8,log:xo,log1p:Y1,logSigmoid:X8,logSoftmax:q_,logSumExp:X_,logicalAnd:Ta,logicalNot:Z1,logicalOr:Y_,logicalXor:Y8,lowerBound:EV,matMul:ln,max:Go,maxPool:J1,maxPool3d:Z8,maxPoolWithArgmax:IV,maximum:Zi,mean:us,meshgrid:AV,min:kh,minimum:om,mirrorPad:J8,mod:Q8,moments:Q1,mul:Te,multiRNNCell:OV,multinomial:RV,neg:Jn,notEqual:Dd,oneHot:Sh,ones:po,onesLike:So,outerProduct:DV,pad:Jl,pad1d:FV,pad2d:MV,pad3d:PV,pad4d:LV,pool:eT,pow:Ol,prelu:t2,print:e8,prod:tT,raggedGather:zV,raggedRange:BV,raggedTensorToTensor:VV,rand:HV,randomGamma:YV,randomNormal:J_,randomStandardNormal:ZV,randomUniform:am,range:Fd,real:Ch,reciprocal:sT,relu:li,relu6:Q_,reshape:Ne,reverse:Xo,reverse1d:JV,reverse2d:QV,reverse3d:eH,reverse4d:tH,round:e3,rsqrt:t3,scalar:Pt,selu:n3,separableConv2d:s3,setdiff1dAsync:nH,sigmoid:qa,sign:rT,sin:r3,sinh:o3,slice:mn,slice1d:n2,slice2d:a3,slice3d:s2,slice4d:Th,softmax:r2,softplus:af,spaceToBatchND:e2,fft:o2,ifft:Nh,irfft:i3,rfft:a2,split:Kr,sqrt:ar,square:Dn,squaredDifference:l3,squeeze:gc,stack:Jr,step:uf,stridedSlice:oT,sub:$t,sum:kt,tan:aT,tanh:Rd,tensor:yo,tensor1d:vr,tensor2d:Mu,tensor3d:o8,tensor4d:sH,tensor5d:rH,tensor6d:oH,tile:Lo,topk:iT,truncatedNormal:u3,unique:lT,unsortedSegmentSum:c3,unstack:Yo,upperBound:aH,variable:uT,where:wr,whereAsync:cT,zeros:xs,zerosLike:yn,op:be,OP_SCOPE_SUFFIX:qk,booleanMaskAsync:iH,transpose:dn,norm:nm,movingAverage:lH,scatterND:uH,searchSorted:Z_,sparseToDense:cH,gatherND:dH,dropout:dT,enclosingPowerOfTwo:fT,cosineWindow:f3,inTopKAsync:fH,image:Ti,linalg:mT,losses:xH,spectral:_H,fused:gH,signal:$H,sparse:SH,string:CH},Symbol.toStringTag,{value:"Module"}));const Wgt=(t,e,n,s=dr)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[s.add(H("a",t,e,n),H("b",t,e,n))];case"AddN":return[s.addN(H("tensors",t,e,n))];case"FloorMod":case"Mod":return[s.mod(H("a",t,e,n),H("b",t,e,n))];case"Mul":return[s.mul(H("a",t,e,n),H("b",t,e,n))];case"RealDiv":case"Div":return[s.div(H("a",t,e,n),H("b",t,e,n))];case"DivNoNan":return[s.divNoNan(H("a",t,e,n),H("b",t,e,n))];case"FloorDiv":return[s.floorDiv(H("a",t,e,n),H("b",t,e,n))];case"Sub":return[s.sub(H("a",t,e,n),H("b",t,e,n))];case"Minimum":return[s.minimum(H("a",t,e,n),H("b",t,e,n))];case"Maximum":return[s.maximum(H("a",t,e,n),H("b",t,e,n))];case"Pow":return[s.pow(H("a",t,e,n),H("b",t,e,n))];case"SquaredDifference":return[s.squaredDifference(H("a",t,e,n),H("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const Ugt=(t,e,n,s=dr)=>{switch(t.op){case"Abs":case"ComplexAbs":return[s.abs(H("x",t,e,n))];case"Acos":return[s.acos(H("x",t,e,n))];case"Acosh":return[s.acosh(H("x",t,e,n))];case"Asin":return[s.asin(H("x",t,e,n))];case"Asinh":return[s.asinh(H("x",t,e,n))];case"Atan":return[s.atan(H("x",t,e,n))];case"Atan2":return[s.atan2(H("x",t,e,n),H("y",t,e,n))];case"Atanh":return[s.atanh(H("x",t,e,n))];case"Ceil":return[s.ceil(H("x",t,e,n))];case"Complex":return[s.complex(H("real",t,e,n),H("imag",t,e,n))];case"Cos":return[s.cos(H("x",t,e,n))];case"Cosh":return[s.cosh(H("x",t,e,n))];case"Elu":return[s.elu(H("x",t,e,n))];case"Erf":return[s.erf(H("x",t,e,n))];case"Exp":return[s.exp(H("x",t,e,n))];case"Expm1":return[s.expm1(H("x",t,e,n))];case"Floor":return[s.floor(H("x",t,e,n))];case"Log":return[s.log(H("x",t,e,n))];case"Log1p":return[s.log1p(H("x",t,e,n))];case"Imag":return[s.imag(H("x",t,e,n))];case"Neg":return[s.neg(H("x",t,e,n))];case"Reciprocal":return[s.reciprocal(H("x",t,e,n))];case"Real":return[s.real(H("x",t,e,n))];case"Relu":return[s.relu(H("x",t,e,n))];case"Round":return[s.round(H("x",t,e,n))];case"Selu":return[s.selu(H("x",t,e,n))];case"Sigmoid":return[s.sigmoid(H("x",t,e,n))];case"Sin":return[s.sin(H("x",t,e,n))];case"Sign":return[s.sign(H("x",t,e,n))];case"Sinh":return[s.sinh(H("x",t,e,n))];case"Softplus":return[s.softplus(H("x",t,e,n))];case"Sqrt":return[s.sqrt(H("x",t,e,n))];case"Square":return[s.square(H("x",t,e,n))];case"Tanh":return[s.tanh(H("x",t,e,n))];case"Tan":return[s.tan(H("x",t,e,n))];case"ClipByValue":return[s.clipByValue(H("x",t,e,n),H("clipValueMin",t,e,n),H("clipValueMax",t,e,n))];case"Relu6":return[s.relu6(H("x",t,e,n))];case"Rsqrt":return[s.rsqrt(Nr(t.inputNames[0],e,n))];case"Prod":return[s.prod(H("x",t,e,n),H("axes",t,e,n))];case"LeakyRelu":return[s.leakyRelu(H("x",t,e,n),H("alpha",t,e,n))];case"Prelu":return[s.prelu(H("x",t,e,n),H("alpha",t,e,n))];case"IsNan":return[s.isNaN(Nr(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function oa(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){q(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let s=0;s<t.length;s++){const r=t[s],o=e[s];q(r<0||o<0||r===o,()=>n+` Shapes ${t} and ${e} must match`)}}}function ED(t){return!(typeof t=="number"||t.some(e=>e<0))}function Pm(t,e,n){let s=jx(t,n);const r=!ED(s);if(r&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${s}`);if(r&&e.forEach(o=>{s=jx(o.shape,s)}),!ED(s))throw new Error(`Non-fully-defined elementShape: ${s}`);return s}function jx(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let s=0;s<t.length;++s){const r=t[s],o=e[s];if(r>=0&&o>=0&&r!==o)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[s]=r>=0?r:o}return n}let Ggt=class{constructor(e,n,s,r,o,a,i){this.name=e,this.dtype=n,this.maxSize=s,this.elementShape=r,this.identicalElementShapes=o,this.dynamicSize=a,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=Pt(0),As(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const s=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),oa(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),s.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(s.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);s.tensor=n,As(n),s.written=!0,this.tensors[e]=s}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((s,r)=>this.write(s,n[r]))}gather(e,n){if(!!n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let r=0;r<this.size();r++)e.push(r)}if(e.length===0)return yo([],[0].concat(this.elementShape));const s=this.readMany(e);return oa(this.elementShape,s[0].shape,"TensorArray shape mismatch: "),Jr(s,0)}concat(e){if(!!e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return yo([],[0].concat(this.elementShape));const n=[];for(let r=0;r<this.size();r++)n.push(r);const s=this.readMany(n);return oa(this.elementShape,s[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${s[0].shape})`),vs(s,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const s=Math.max(...e);if(!this.dynamicSize&&s>=this.maxSize)throw new Error(`Max index must be < array size (${s}  vs. ${this.maxSize})`);this.writeMany(e,Yo(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let s=0;const r=e.map(l=>(s+=l,s));if(s!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${s}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const o=s===0?0:n.size/s,a=[];Le(()=>{n=Ne(n,[1,s,o]);for(let l=0;l<e.length;++l){const c=[0,l===0?0:r[l-1],0],d=[1,e[l],o];a[l]=Ne(mn(n,c,d),this.elementShape)}return a});const i=[];for(let l=0;l<e.length;l++)i[l]=l;this.writeMany(i,a)}};let Ah=class{constructor(e,n,s,r=-1){this.tensors=e,this.elementShape=n,this.elementDtype=s,e!=null&&e.forEach(o=>{if(s!==o.dtype)throw new Error(`Invalid data types; op elements ${s}, but list elements ${o.dtype}`);oa(n,o.shape,"TensorList shape mismatch: "),As(o)}),this.idTensor=Pt(0),this.maxNumElements=r,As(this.idTensor)}get id(){return this.idTensor.id}copy(){return new Ah([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,s=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(s!==-1&&this.tensors.length!==s)throw new Error(`Operation expected a list with ${s} elements but got a list with ${this.tensors.length} elements.`);oa(e,this.elementShape,"TensorList shape mismatch: ");const r=Pm(this.elementShape,this.tensors,e);return Le(()=>{const o=this.tensors.map(a=>Ne(a,r));return Jr(o,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const s=Pm(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,oa(r.shape,e,"TensorList shape mismatch: "),Ne(r,s)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(oa(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");As(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Ah([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let s=0;s<Math.min(this.tensors.length,e);++s)n.tensors[s]=this.tensors[s];return n}getItem(e,n,s){if(s!==this.elementDtype)throw new Error(`Invalid data types; op elements ${s}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);oa(this.tensors[e].shape,n,"TensorList shape mismatch: ");const r=Pm(this.elementShape,this.tensors,n);return Ne(this.tensors[e],r)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);oa(this.elementShape,n.shape,"TensorList shape mismatch: "),As(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,s){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);oa(this.elementShape,s,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=Pm(this.elementShape,this.tensors,s);return e.length===0?yo([],[0].concat(r)):Le(()=>{const o=e.map(a=>Ne(this.tensors[a],r));return Jr(o,0)})}concat(e,n){if(!!e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);oa(this.elementShape,n,"TensorList shape mismatch: ");const s=Pm(this.elementShape,this.tensors,n);return this.size()===0?yo([],[0].concat(s)):Le(()=>{const r=this.tensors.map(o=>Ne(o,s));return vs(r,0)})}};function jgt(t,e,n){const s=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const r=t.shape.slice(1);oa(r,e,"TensorList shape mismatch: ");const o=Yo(t);return new Ah(o,e,s)}function Kgt(t,e,n,s){return new Ah([],t,e,s)}function qgt(t,e,n,s){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const r=Math.max(...e);if(s!=null&&s!==-1&&r>=s)throw new Error(`Max index must be < array size (${r}  vs. ${s})`);const o=new Ah([],n,t.dtype,s),a=Yo(t,0);return e.forEach((i,l)=>{o.setItem(i,a[l])}),o}function Xgt(t,e,n){let s=0;const r=e.map(c=>(s+=c,s));if(s!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${s}, and tensor's shape is: ${t.shape}`);const o=t.shape.slice(1),a=jx(o,n),i=s===0?0:t.size/s,l=Le(()=>{const c=[];t=Ne(t,[1,s,i]);for(let d=0;d<e.length;++d){const h=[0,d===0?0:r[d-1],0],p=[1,e[d],i];c[d]=Ne(mn(t,h,p),a)}return t.dispose(),c}),u=new Ah([],n,t.dtype,e.length);for(let c=0;c<l.length;c++)u.setItem(c,l[c]);return u}const Ygt=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const s=H("thenBranch",t,e,n),r=H("elseBranch",t,e,n),o=H("cond",t,e,n),a=H("args",t,e,n);return(await o.data())[0]?n.functionMap[s].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const s=H("body",t,e,n),r=H("cond",t,e,n),o=H("args",t,e,n),a=await n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),i=o.map(c=>c.id);let l=await a[0].data();a.forEach(c=>{!c.kept&&i.indexOf(c.id)===-1&&c.dispose()});let u=o;for(;l[0];){const c=u;u=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const d=u.map(h=>h.id);c.forEach(h=>{!h.kept&&i.indexOf(h.id)===-1&&d.indexOf(h.id)===-1&&h.dispose()});const f=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await f[0].data(),f.forEach(h=>{!h.kept&&i.indexOf(h.id)===-1&&d.indexOf(h.id)===-1&&h.dispose()})}return u}case"LoopCond":{const s=H("pred",t,e,n);return[ul(s)]}case"Switch":{const s=H("pred",t,e,n);let r=H("data",t,e,n);return r.kept||(r=ul(r)),(await s.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const s=t.inputNames.find(r=>Nr(r,e,n)!==void 0);if(s){const r=Nr(s,e,n);return[ul(r)]}return}case"Enter":{const s=H("frameName",t,e,n),r=H("tensor",t,e,n);return n.enterFrame(s),[ul(r)]}case"Exit":{const s=H("tensor",t,e,n);return n.exitFrame(),[ul(s)]}case"NextIteration":{const s=H("tensor",t,e,n);return n.nextIteration(),[ul(s)]}case"TensorArrayV3":{const s=H("size",t,e,n),r=H("dtype",t,e,n),o=H("elementShape",t,e,n),a=H("dynamicSize",t,e,n),i=H("clearAfterRead",t,e,n),l=H("identicalElementShapes",t,e,n),u=H("name",t,e,n),c=new Ggt(u,r,s,o,l,a,i);return n.addTensorArray(c),[c.idTensor,Pt(1)]}case"TensorArrayWriteV3":{const s=H("tensorArrayId",t,e,n),r=H("index",t,e,n),o=H("tensor",t,e,n),a=n.getTensorArray(s.id);return a.write(r,o),[a.idTensor]}case"TensorArrayReadV3":{const s=H("tensorArrayId",t,e,n),r=H("index",t,e,n);return[n.getTensorArray(s.id).read(r)]}case"TensorArrayGatherV3":{const s=H("tensorArrayId",t,e,n),r=H("indices",t,e,n),o=H("dtype",t,e,n);return[n.getTensorArray(s.id).gather(r,o)]}case"TensorArrayScatterV3":{const s=H("tensorArrayId",t,e,n),r=H("indices",t,e,n),o=H("tensor",t,e,n),a=n.getTensorArray(s.id);return a.scatter(r,o),[a.idTensor]}case"TensorArrayConcatV3":{const s=H("tensorArrayId",t,e,n),r=n.getTensorArray(s.id),o=H("dtype",t,e,n);return[r.concat(o)]}case"TensorArraySplitV3":{const s=H("tensorArrayId",t,e,n),r=H("tensor",t,e,n),o=H("lengths",t,e,n),a=n.getTensorArray(s.id);return a.split(o,r),[a.idTensor]}case"TensorArraySizeV3":{const s=H("tensorArrayId",t,e,n),r=n.getTensorArray(s.id);return[Pt(r.size(),"int32")]}case"TensorArrayCloseV3":{const s=H("tensorArrayId",t,e,n),r=n.getTensorArray(s.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const s=H("tensorListId",t,e,n),r=H("index",t,e,n),o=H("tensor",t,e,n),a=n.getTensorList(s.id);return a.setItem(r,o),[a.idTensor]}case"TensorListGetItem":{const s=H("tensorListId",t,e,n),r=H("index",t,e,n),o=H("elementShape",t,e,n),a=H("elementDType",t,e,n);return[n.getTensorList(s.id).getItem(r,o,a)]}case"TensorListScatterV2":case"TensorListScatter":{const s=H("indices",t,e,n),r=H("tensor",t,e,n),o=H("elementShape",t,e,n),a=H("numElements",t,e,n),i=qgt(r,s,o,a);return n.addTensorList(i),[i.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const s=H("elementShape",t,e,n),r=H("elementDType",t,e,n);let o;t.op==="TensorListReserve"?o="numElements":o="maxNumElements";const a=H(o,t,e,n),i=t.op==="TensorListReserve"?-1:a,l=Kgt(s,r,a,i);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const s=H("tensorListId",t,e,n),r=H("indices",t,e,n),o=H("elementShape",t,e,n),a=H("elementDType",t,e,n);return[n.getTensorList(s.id).gather(r,a,o)]}case"TensorListStack":{const s=H("tensorListId",t,e,n),r=H("elementShape",t,e,n),o=H("elementDType",t,e,n),a=H("numElements",t,e,n);return[n.getTensorList(s.id).stack(r,o,a)]}case"TensorListFromTensor":{const s=H("tensor",t,e,n),r=H("elementShape",t,e,n),o=H("elementDType",t,e,n),a=jgt(s,r,o);return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const s=H("tensorListId",t,e,n),r=n.getTensorList(s.id),o=H("dtype",t,e,n),a=H("elementShape",t,e,n);return[r.concat(o,a)]}case"TensorListPushBack":{const s=H("tensorListId",t,e,n),r=H("tensor",t,e,n),o=n.getTensorList(s.id);return o.pushBack(r),[o.idTensor]}case"TensorListPopBack":{const s=H("tensorListId",t,e,n),r=H("elementShape",t,e,n),o=H("elementDType",t,e,n);return[n.getTensorList(s.id).popBack(r,o)]}case"TensorListSplit":{const s=H("tensor",t,e,n),r=H("elementShape",t,e,n),o=H("lengths",t,e,n),a=Xgt(s,o,r);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const s=H("tensorListId",t,e,n),r=n.getTensorList(s.id);return[Pt(r.size(),"int32")]}case"TensorListResize":{const s=H("tensorListId",t,e,n),r=H("size",t,e,n),a=n.getTensorList(s.id).resize(r);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};function ID(t,e,n){const[s,r]=H("fusedOps",t,e,n),o=s==="biasadd",a=!o,i=r==="prelu",l=s==="fusedbatchnorm",u=H("numArgs",t,e,n);if(o){if(i&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&o&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=H("strides",t,e,n),d=hy(t,e,n),f=H("dataFormat",t,e,n).toUpperCase(),h=H("dilations",t,e,n);let[p,m]=H("args",t,e,n);a&&(m=p,p=void 0);const g=H("leakyreluAlpha",t,e,n);return{stride:c,pad:d,dataFormat:f,dilations:h,biasArg:p,preluArg:m,activationFunc:r,leakyreluAlpha:g}}const Zgt=(t,e,n,s=dr)=>{switch(t.op){case"Conv1D":{const r=H("stride",t,e,n),o=H("pad",t,e,n),a=H("dataFormat",t,e,n).toUpperCase(),i=H("dilation",t,e,n);return[s.conv1d(H("x",t,e,n),H("filter",t,e,n),r,o,a,i)]}case"Conv2D":{const r=H("strides",t,e,n),o=hy(t,e,n),a=H("dataFormat",t,e,n).toUpperCase(),i=H("dilations",t,e,n);return[s.conv2d(H("x",t,e,n),H("filter",t,e,n),[r[1],r[2]],o,a,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:r,pad:o,dataFormat:a,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=ID(t,e,n);return[s.fused.conv2d({x:H("x",t,e,n),filter:H("filter",t,e,n),strides:[r[1],r[2]],pad:o,dataFormat:a,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:o,dataFormat:a,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=ID(t,e,n);return[s.fused.depthwiseConv2d({x:H("x",t,e,n),filter:H("filter",t,e,n),strides:[r[1],r[2]],pad:o,dataFormat:a,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=H("outputShape",t,e,n),o=H("strides",t,e,n),a=hy(t,e,n);return[s.conv2dTranspose(H("x",t,e,n),H("filter",t,e,n),r,[o[1],o[2]],a)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=H("strides",t,e,n),o=hy(t,e,n),a=H("dilations",t,e,n),i=H("dataFormat",t,e,n).toUpperCase();return[s.depthwiseConv2d(H("input",t,e,n),H("filter",t,e,n),[r[1],r[2]],o,i,[a[1],a[2]])]}case"Conv3D":{const r=H("strides",t,e,n),o=H("pad",t,e,n),a=H("dataFormat",t,e,n).toUpperCase(),i=H("dilations",t,e,n);return[s.conv3d(H("x",t,e,n),H("filter",t,e,n),[r[1],r[2],r[3]],o,a,[i[1],i[2],i[3]])]}case"AvgPool":{const r=H("strides",t,e,n),o=H("pad",t,e,n),a=H("kernelSize",t,e,n);return[s.avgPool(H("x",t,e,n),[a[1],a[2]],[r[1],r[2]],o)]}case"MaxPool":{const r=H("strides",t,e,n),o=H("pad",t,e,n),a=H("kernelSize",t,e,n);return[s.maxPool(H("x",t,e,n),[a[1],a[2]],[r[1],r[2]],o)]}case"MaxPoolWithArgmax":{const r=H("strides",t,e,n),o=H("pad",t,e,n),a=H("kernelSize",t,e,n),i=H("includeBatchInIndex",t,e,n),{result:l,indexes:u}=s.maxPoolWithArgmax(H("x",t,e,n),[a[1],a[2]],[r[1],r[2]],o,i);return[l,u]}case"AvgPool3D":{const r=H("strides",t,e,n),o=H("pad",t,e,n),a=H("kernelSize",t,e,n);return[s.avgPool3d(H("x",t,e,n),[a[1],a[2],a[3]],[r[1],r[2],r[3]],o)]}case"MaxPool3D":{const r=H("strides",t,e,n),o=H("pad",t,e,n),a=H("kernelSize",t,e,n);return[s.maxPool3d(H("x",t,e,n),[a[1],a[2],a[3]],[r[1],r[2],r[3]],o)]}case"Dilation2D":{const r=H("strides",t,e,n),o=H("pad",t,e,n),a=H("dilations",t,e,n),i=r[1],l=r[2],u=a[1],c=a[2];return[s.dilation2d(H("x",t,e,n),H("filter",t,e,n),[i,l],o,[u,c],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const Jgt=(t,e,n,s=dr)=>{switch(t.op){case"Fill":{const r=H("shape",t,e,n),o=H("dtype",t,e,n),a=H("value",t,e,n);return[s.fill(r,a,o)]}case"LinSpace":{const r=H("start",t,e,n),o=H("stop",t,e,n),a=H("num",t,e,n);return[s.linspace(r,o,a)]}case"Multinomial":{const r=H("logits",t,e,n),o=H("numSamples",t,e,n),a=H("seed",t,e,n);return[s.multinomial(r,o,a)]}case"OneHot":{const r=H("indices",t,e,n),o=H("depth",t,e,n),a=H("onValue",t,e,n),i=H("offValue",t,e,n),l=H("dtype",t,e,n);return[s.oneHot(r,o,a,i,l)]}case"Ones":return[s.ones(H("shape",t,e,n),H("dtype",t,e,n))];case"OnesLike":return[s.onesLike(H("x",t,e,n))];case"RandomStandardNormal":return[s.randomStandardNormal(H("shape",t,e,n),H("dtype",t,e,n),H("seed",t,e,n))];case"RandomUniform":return[s.randomUniform(H("shape",t,e,n),H("minval",t,e,n),H("maxval",t,e,n),H("dtype",t,e,n))];case"Range":{const r=H("start",t,e,n),o=H("stop",t,e,n),a=H("step",t,e,n);return[s.range(r,o,a,H("dtype",t,e,n))]}case"TruncatedNormal":{const r=H("shape",t,e,n),o=H("mean",t,e,n),a=H("stdDev",t,e,n),i=H("seed",t,e,n);return[s.truncatedNormal(r,o,a,H("dtype",t,e,n),i)]}case"Zeros":return[s.zeros(H("shape",t,e,n),H("dtype",t,e,n))];case"ZerosLike":return[s.zerosLike(H("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function x$(t,e,n){const s=H("boxes",t,e,n),r=H("scores",t,e,n),o=H("maxOutputSize",t,e,n),a=H("iouThreshold",t,e,n),i=H("scoreThreshold",t,e,n),l=H("softNmsSigma",t,e,n);return{boxes:s,scores:r,maxOutputSize:o,iouThreshold:a,scoreThreshold:i,softNmsSigma:l}}const Qgt=async(t,e,n,s,r=dr)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=x$(t,e,n),d=await r.image.nonMaxSuppressionWithScoreAsync(o,a,i,l,u,c);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:l,scoreThreshold:u}=x$(t,e,n),c=H("padToMaxOutputSize",t,e,n),d=await r.image.nonMaxSuppressionPaddedAsync(o,a,i,l,u,c);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:l,scoreThreshold:u}=x$(t,e,n);return[await r.image.nonMaxSuppressionAsync(o,a,i,l,u)]}case"Where":{const o=r.cast(H("condition",t,e,n),"bool"),a=[await r.whereAsync(o)];return o.dispose(),a}case"ListDiff":return r.setdiff1dAsync(H("x",t,e,n),H("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};const e1t=(t,e,n,s=dr)=>{switch(t.op){case"LowerBound":{const r=H("sortedSequence",t,e,n),o=H("values",t,e,n);return[s.lowerBound(r,o)]}case"TopKV2":{const r=H("x",t,e,n),o=H("k",t,e,n),a=H("sorted",t,e,n),i=s.topk(r,o,a);return[i.values,i.indices]}case"UpperBound":{const r=H("sortedSequence",t,e,n),o=H("values",t,e,n);return[s.upperBound(r,o)]}case"Unique":{const r=H("x",t,e,n),o=s.unique(r);return[o.values,o.indices]}case"UniqueV2":{const r=H("x",t,e,n),o=H("axis",t,e,n),a=s.unique(r,o);return[a.values,a.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const t1t=(t,e,n,s=dr)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const r=H("default",t,e,n);return[Nr(t.name,e,n)||r];case"Placeholder":return[Nr(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=H("x",t,e,n);return[ul(c)]}case"IdentityN":return H("x",t,e,n).map(c=>ul(c));case"Snapshot":const o=H("x",t,e,n);return[ul(o)];case"Shape":return[s.tensor1d(H("x",t,e,n).shape,"int32")];case"ShapeN":return H("x",t,e,n).map(c=>s.tensor1d(c.shape));case"Size":return[s.scalar(H("x",t,e,n).size,"int32")];case"Rank":return[s.scalar(H("x",t,e,n).rank,"int32")];case"NoOp":return[s.scalar(1)];case"Print":const a=H("x",t,e,n),i=H("data",t,e,n),l=H("message",t,e,n),u=H("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let c=0;c<i.length;c++)console.log(Array.prototype.slice.call(i[c].dataSync()).slice(0,u));return[a];default:throw TypeError(`Node type ${t.op} is not implemented`)}};let n1t=class{constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Pt(0),this.tensorMap=new Map,As(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Pt(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const s=await e.data();return this.tensorMap.forEach(r=>r.dispose()),this.tensorMap.clear(),Le(()=>{const r=Yo(n),o=s.length,a=r.length;q(o===a,()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${a} elements.`);for(let i=0;i<o;i++){const l=s[i],u=r[i];As(u),this.tensorMap.set(l,u)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const s=await e.data();return Le(()=>{const r=[];for(let o=0;o<s.length;o++){const a=s[o],i=this.findWithDefault(a,n);r.push(i)}return Jr(r)})}findWithDefault(e,n){const s=this.tensorMap.get(e);return s??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}};const s1t=async(t,e,n,s)=>{switch(t.op){case"HashTable":case"HashTableV2":{const r=s.getHashTableHandleByName(t.name);if(r!=null)return[r];{const o=H("keyDType",t,e,n),a=H("valueDType",t,e,n),i=new n1t(o,a);return s.addHashTable(t.name,i),[i.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const r=H("tableHandle",t,e,n,s),o=H("keys",t,e,n),a=H("values",t,e,n);return[await s.getHashTableById(r.id).import(o,a)]}case"LookupTableFind":case"LookupTableFindV2":{const r=H("tableHandle",t,e,n,s),o=H("keys",t,e,n),a=H("defaultValue",t,e,n);return[await s.getHashTableById(r.id).find(o,a)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=H("tableHandle",t,e,n,s);return[s.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const r1t=(t,e,n,s=dr)=>{switch(t.op){case"ResizeBilinear":{const r=H("images",t,e,n),o=H("size",t,e,n),a=H("alignCorners",t,e,n),i=H("halfPixelCenters",t,e,n);return[s.image.resizeBilinear(r,[o[0],o[1]],a,i)]}case"ResizeNearestNeighbor":{const r=H("images",t,e,n),o=H("size",t,e,n),a=H("alignCorners",t,e,n),i=H("halfPixelCenters",t,e,n);return[s.image.resizeNearestNeighbor(r,[o[0],o[1]],a,i)]}case"CropAndResize":{const r=H("image",t,e,n),o=H("boxes",t,e,n),a=H("boxInd",t,e,n),i=H("cropSize",t,e,n),l=H("method",t,e,n),u=H("extrapolationValue",t,e,n);return[s.image.cropAndResize(r,o,a,i,l,u)]}case"ImageProjectiveTransformV3":{const r=H("images",t,e,n),o=H("transforms",t,e,n),a=H("outputShape",t,e,n),i=H("fillValue",t,e,n),l=H("interpolation",t,e,n),u=H("fillMode",t,e,n);return[s.image.transform(r,o,l.toLowerCase(),u.toLowerCase(),i,a)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const o1t=(t,e,n,s=dr)=>{switch(t.op){case"Equal":return[s.equal(H("a",t,e,n),H("b",t,e,n))];case"NotEqual":return[s.notEqual(H("a",t,e,n),H("b",t,e,n))];case"Greater":return[s.greater(H("a",t,e,n),H("b",t,e,n))];case"GreaterEqual":return[s.greaterEqual(H("a",t,e,n),H("b",t,e,n))];case"Less":return[s.less(H("a",t,e,n),H("b",t,e,n))];case"LessEqual":return[s.lessEqual(H("a",t,e,n),H("b",t,e,n))];case"LogicalAnd":return[s.logicalAnd(H("a",t,e,n),H("b",t,e,n))];case"LogicalNot":return[s.logicalNot(H("a",t,e,n))];case"LogicalOr":return[s.logicalOr(H("a",t,e,n),H("b",t,e,n))];case"Select":case"SelectV2":return[s.where(H("condition",t,e,n),H("a",t,e,n),H("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const a1t=(t,e,n,s=dr)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[s.matMul(H("a",t,e,n),H("b",t,e,n),H("transposeA",t,e,n),H("transposeB",t,e,n))];case"Einsum":return[s.einsum(H("equation",t,e,n),...H("tensors",t,e,n))];case"Transpose":return[s.transpose(H("x",t,e,n),H("perm",t,e,n))];case"_FusedMatMul":const[r,o]=H("fusedOps",t,e,n),a=r==="biasadd",i=o==="prelu",l=H("numArgs",t,e,n),u=H("leakyreluAlpha",t,e,n);if(a){if(i&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=H("args",t,e,n);return[s.fused.matMul({a:H("a",t,e,n),b:H("b",t,e,n),transposeA:H("transposeA",t,e,n),transposeB:H("transposeB",t,e,n),bias:c,activation:o,preluActivationWeights:d,leakyreluAlpha:u})];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const i1t=(t,e,n,s=dr)=>{switch(t.op){case"EuclideanNorm":return[s.euclideanNorm(H("x",t,e,n),H("axis",t,e,n),H("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[s.batchNorm(H("x",t,e,n),H("mean",t,e,n),H("variance",t,e,n),H("offset",t,e,n),H("scale",t,e,n),H("epsilon",t,e,n))];case"FusedBatchNormV3":return[s.batchNorm(H("x",t,e,n),H("mean",t,e,n),H("variance",t,e,n),H("offset",t,e,n),H("scale",t,e,n),H("epsilon",t,e,n))];case"LRN":return[s.localResponseNormalization(H("x",t,e,n),H("radius",t,e,n),H("bias",t,e,n),H("alpha",t,e,n),H("beta",t,e,n))];case"Softmax":return[s.softmax(H("x",t,e,n))];case"LogSoftmax":return[s.logSoftmax(H("x",t,e,n))];case"SparseToDense":return[s.sparseToDense(H("sparseIndices",t,e,n),H("outputShape",t,e,n),H("sparseValues",t,e,n),H("defaultValue",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const l1t=(t,e,n,s=dr)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:o}=s.raggedGather(H("paramsNestedSplits",t,e,n),H("paramsDenseValues",t,e,n),H("indices",t,e,n),H("outputRaggedRank",t,e,n));return r.concat(o)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:o}=s.raggedRange(H("starts",t,e,n),H("limits",t,e,n),H("splits",t,e,n));return[r,o]}case"RaggedTensorToTensor":return[s.raggedTensorToTensor(H("shape",t,e,n),H("values",t,e,n),H("defaultValue",t,e,n),H("rowPartitionTensors",t,e,n),H("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const u1t=(t,e,n,s=dr)=>{switch(t.op){case"Max":{const i=H("axis",t,e,n),l=H("keepDims",t,e,n);return[s.max(H("x",t,e,n),i,l)]}case"Mean":{const i=H("axis",t,e,n),l=H("keepDims",t,e,n);return[s.mean(H("x",t,e,n),i,l)]}case"Min":{const i=H("axis",t,e,n),l=H("keepDims",t,e,n);return[s.min(H("x",t,e,n),i,l)]}case"Sum":{const i=H("axis",t,e,n),l=H("keepDims",t,e,n);return[s.sum(H("x",t,e,n),i,l)]}case"All":{const i=H("axis",t,e,n),l=H("keepDims",t,e,n);return[s.all(H("x",t,e,n),i,l)]}case"Any":{const i=H("axis",t,e,n),l=H("keepDims",t,e,n);return[s.any(H("x",t,e,n),i,l)]}case"ArgMax":{const i=H("axis",t,e,n);return[s.argMax(H("x",t,e,n),i)]}case"ArgMin":{const i=H("axis",t,e,n);return[s.argMin(H("x",t,e,n),i)]}case"Prod":{const i=H("axis",t,e,n),l=H("keepDims",t,e,n);return[s.prod(H("x",t,e,n),i,l)]}case"Cumprod":{const i=H("axis",t,e,n),l=H("exclusive",t,e,n),u=H("reverse",t,e,n);return[s.cumprod(H("x",t,e,n),i,l,u)]}case"Cumsum":{const i=H("axis",t,e,n),l=H("exclusive",t,e,n),u=H("reverse",t,e,n);return[s.cumsum(H("x",t,e,n),i,l,u)]}case"Bincount":const r=H("x",t,e,n),o=H("weights",t,e,n),a=H("size",t,e,n);return[s.bincount(r,o,a)];case"DenseBincount":{const i=H("x",t,e,n),l=H("weights",t,e,n),u=H("size",t,e,n),c=H("binaryOutput",t,e,n);return[s.denseBincount(i,l,u,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const c1t=(t,e,n,s=dr)=>{switch(t.op){case"ConcatV2":case"Concat":{const r=H("n",t,e,n),o=H("axis",t,e,n);let a=H("tensors",t,e,n);return a=a.slice(0,r),[s.concat(a,o)]}case"Gather":{const r=H("x",t,e,n),o=H("indices",t,e,n);return[s.gather(r,s.cast(o,"int32"),0)]}case"GatherV2":{const r=H("axis",t,e,n),o=H("batchDims",t,e,n),a=H("x",t,e,n),i=H("indices",t,e,n);return[s.gather(a,s.cast(i,"int32"),r,o)]}case"Reverse":{const r=H("dims",t,e,n),o=[];for(let i=0;i<r.length;i++)r[i]&&o.push(i);const a=H("x",t,e,n);return[s.reverse(a,o)]}case"ReverseV2":{const r=H("axis",t,e,n),o=H("x",t,e,n);return[s.reverse(o,r)]}case"Slice":{const r=H("begin",t,e,n),o=H("size",t,e,n);return[s.slice(H("x",t,e,n),r,o)]}case"StridedSlice":{const r=H("begin",t,e,n),o=H("end",t,e,n),a=H("strides",t,e,n),i=H("beginMask",t,e,n),l=H("endMask",t,e,n),u=H("ellipsisMask",t,e,n),c=H("newAxisMask",t,e,n),d=H("shrinkAxisMask",t,e,n),f=H("x",t,e,n);return[s.stridedSlice(f,r,o,a,i,l,u,c,d)]}case"Pack":return Le(()=>{const r=H("axis",t,e,n),o=H("tensors",t,e,n),a=o[0].shape,i=s.squeeze(o[0]).shape,l=o.map(u=>{const c=hn(u.shape,a);if(!c&&!hn(s.squeeze(u).shape,i))throw new Error("the input tensors shape does not match");return c?u:s.reshape(u,a)});return[s.stack(l,r)]});case"Unpack":{const r=H("axis",t,e,n),o=H("tensor",t,e,n);return s.unstack(o,r)}case"Tile":{const r=H("reps",t,e,n);return[s.tile(H("x",t,e,n),r)]}case"Split":case"SplitV":{const r=H("axis",t,e,n),o=H("numOrSizeSplits",t,e,n),a=H("x",t,e,n);return s.split(a,o,r)}case"ScatterNd":{const r=H("indices",t,e,n),o=H("values",t,e,n),a=H("shape",t,e,n);return[s.scatterND(r,o,a)]}case"GatherNd":{const r=H("x",t,e,n),o=H("indices",t,e,n);return[s.gatherND(r,o)]}case"SparseToDense":{const r=H("sparseIndices",t,e,n),o=H("outputShape",t,e,n),a=H("sparseValues",t,e,n),i=H("defaultValue",t,e,n);return[s.sparseToDense(r,a,o,a.dtype===i.dtype?i:s.cast(i,a.dtype))]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const d1t=(t,e,n,s=dr)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:o,emptyRowIndicator:a,reverseIndexMap:i}=s.sparse.sparseFillEmptyRows(H("indices",t,e,n),H("values",t,e,n),H("denseShape",t,e,n),H("defaultValue",t,e,n));return[r,o,a,i]}case"SparseReshape":{const{outputIndices:r,outputShape:o}=s.sparse.sparseReshape(H("inputIndices",t,e,n),H("inputShape",t,e,n),H("newShape",t,e,n));return[r,o]}case"SparseSegmentMean":return[s.sparse.sparseSegmentMean(H("data",t,e,n),H("indices",t,e,n),H("segmentIds",t,e,n))];case"SparseSegmentSum":return[s.sparse.sparseSegmentSum(H("data",t,e,n),H("indices",t,e,n),H("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const f1t=(t,e,n,s=dr)=>{switch(t.op){case"FFT":return[s.fft(H("x",t,e,n))];case"IFFT":return[s.ifft(H("x",t,e,n))];case"RFFT":return[s.rfft(H("x",t,e,n))];case"IRFFT":return[s.irfft(H("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const h1t=(t,e,n,s=dr)=>{switch(t.op){case"StringNGrams":{const{nGrams:r,nGramsSplits:o}=s.string.stringNGrams(H("data",t,e,n),H("dataSplits",t,e,n),H("separator",t,e,n),H("nGramWidths",t,e,n),H("leftPad",t,e,n),H("rightPad",t,e,n),H("padWidth",t,e,n),H("preserveShortSequences",t,e,n));return[r,o]}case"StringSplit":{const{indices:r,values:o,shape:a}=s.string.stringSplit(H("input",t,e,n),H("delimiter",t,e,n),H("skipEmpty",t,e,n));return[r,o,a]}case"StringToHashBucketFast":return[s.string.stringToHashBucketFast(H("input",t,e,n),H("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const p1t=(t,e,n,s=dr)=>{switch(t.op){case"Cast":return[s.cast(H("x",t,e,n),H("dtype",t,e,n))];case"ExpandDims":{const r=H("axis",t,e,n);return[s.expandDims(H("x",t,e,n),r)]}case"Squeeze":{const r=H("axis",t,e,n);return[s.squeeze(H("x",t,e,n),r)]}case"Reshape":return[s.reshape(H("x",t,e,n),H("shape",t,e,n))];case"MirrorPad":return[s.mirrorPad(H("x",t,e,n),H("padding",t,e,n),H("mode",t,e,n))];case"PadV2":case"Pad":return[s.pad(H("x",t,e,n),H("padding",t,e,n),H("constantValue",t,e,n))];case"SpaceToBatchND":{const r=H("blockShape",t,e,n),o=H("paddings",t,e,n);return[s.spaceToBatchND(H("x",t,e,n),r,o)]}case"BatchToSpaceND":{const r=H("blockShape",t,e,n),o=H("crops",t,e,n);return[s.batchToSpaceND(H("x",t,e,n),r,o)]}case"DepthToSpace":{const r=H("blockSize",t,e,n),o=H("dataFormat",t,e,n).toUpperCase();return[s.depthToSpace(H("x",t,e,n),r,o)]}case"BroadcastTo":return[s.broadcastTo(H("x",t,e,n),H("shape",t,e,n))];case"BroadcastArgs":return[s.broadcastArgs(H("s0",t,e,n),H("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function AD(t,e,n,s,r=Le){const o=((a,i,l)=>{switch(a.category){case"arithmetic":return r(()=>Wgt(a,i,l));case"basic_math":return r(()=>Ugt(a,i,l));case"control":return Ygt(a,i,l);case"convolution":return r(()=>Zgt(a,i,l));case"creation":return r(()=>Jgt(a,i,l));case"dynamic":return Qgt(a,i,l);case"evaluation":return r(()=>e1t(a,i,l));case"image":return r(()=>r1t(a,i,l));case"graph":return r(()=>t1t(a,i,l));case"logical":return r(()=>o1t(a,i,l));case"matrices":return r(()=>a1t(a,i,l));case"normalization":return r(()=>i1t(a,i,l));case"ragged":return r(()=>l1t(a,i,l));case"reduction":return r(()=>u1t(a,i,l));case"slice_join":return r(()=>c1t(a,i,l));case"sparse":return r(()=>d1t(a,i,l));case"spectral":return r(()=>f1t(a,i,l));case"string":return r(()=>h1t(a,i,l));case"transformation":return r(()=>p1t(a,i,l));case"hash_table":return s1t(a,i,l,s);case"custom":const u=lU(a.op);if(u&&u.customExecutor)return u.customExecutor(new Hgt(a,i,l));throw TypeError(`Custom op ${a.op} is not registered.`);default:throw TypeError(`Unknown op '${a.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Yu(o)?o.then(a=>[].concat(a)):[].concat(o)}let OD=class{constructor(e={},n={},s={},r={}){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=s,this.functionMap=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const s=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(s))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}};function RD(t,e,n,s){const r=new Set,o=[];let a=null,i=null;const l=new Set,u=Object.keys(t).map(f=>lo(f)[0]);let c=[];s!=null&&(c=s.map(f=>lo(f.name)[0]));const d=[...e];for(;d.length>0;){const f=d.pop();if((dU(f)||b1t(f)||w1t(f))&&a==null&&(a=f,i=a.children.map(h=>h.name).filter(h=>r.has(h))),r.add(f.name),n[f.name]==null&&u.indexOf(f.name)===-1&&c.indexOf(f.name)===-1){if(f.inputs.length===0){o.push(f.name);continue}f.inputs.forEach(h=>{l.has(h.name)||(l.add(h.name),d.push(h))})}}return{inputs:t,outputs:e,usedNodes:r,missingInputs:o,dynamicNode:a,syncInputs:i}}function m1t(t,e,n){const{usedNodes:s,inputs:r}=n,o=[],a=Object.keys(r).map(c=>lo(c)[0]).map(c=>t.nodes[c]),i=t.initNodes;a.forEach(c=>{s.has(c.name)&&o.push(c)}),t.weights.forEach(c=>{s.has(c.name)&&o.push(c)}),i!=null&&i.forEach(c=>{s.has(c.name)&&o.push(c)});const l=new Set,u=[];for(;o.length>0;){const c=o.pop();l.add(c.name),e[c.name]||u.push(c),c.children.forEach(d=>{!l.has(d.name)&&s.has(d.name)&&d.inputs.every(f=>l.has(f.name))&&o.push(d)})}return u}const g1t=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],v1t=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],y1t=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function dU(t){return g1t.indexOf(t.op)>=0}function b1t(t){return v1t.indexOf(t.op)>=0}function w1t(t){return y1t.indexOf(t.op)>=0}let Kx=class{constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(s=>{this._functionExecutorMap[s]=new Kx(e.functions[s],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(s=>e[s].map(r=>r.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}getCompilationKey(e,n){const s=e.map(o=>o.name).sort(),r=n.map(o=>o.name).sort();return s.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,n){const s=RD(e,n,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:o,syncInputs:a}=s;if(o!=null)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(r.length>0){const i=n.map(u=>u.name),l=Object.keys(e);throw new Error(`Cannot compute the outputs [${i}] from the provided inputs [${l}]. Missing the following inputs: [${r}]`)}return m1t(this.graph,this.weightMap,s)}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return As(n),n}cloneTensorList(e){return e?e.map(s=>this.cloneAndKeepTensor(s)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,s])=>[n,this.cloneTensorList(s)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const s=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const r=s.map(d=>this.graph.nodes[lo(d)[0]]),o=n.map(d=>lo(d)[0]);let a=o.map(d=>this.graph.nodes[d]);a.length===0&&(a=this._outputs);const i=this.getCompilationKey(r,a);let l=this.compiledMap.get(i);l==null&&(l=this.compile(e,a),this.compiledMap.set(i,l));try{this.keepIntermediateTensors=Be().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const u={},c={};return Le(()=>{const d=new OD(this.weightMap,u,c,this.functionExecutorMap),f=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(m=>{const[g,y]=lo(m),w=[];w[y]=e[m],f[g]=w,this.keepIntermediateTensors&&(this.clonedTensorsMap[g]=this.cloneTensorList(w))});const h=this.getFrozenTensorIds(f),p={};for(let m=0;m<l.length;m++){const g=l[m];if(!f[g.name]){const y=AD(g,f,d,this._resourceManager);if(Yu(y))throw new Error(`The execution of the op '${g.op}' returned a promise. Please use model.executeAsync() instead.`);f[g.name]=y,this.keepIntermediateTensors&&(this.clonedTensorsMap[g.name]=this.cloneTensorList(y)),this.checkTensorForDisposal(g.name,g,f,d,h,o,p)}}return this.parent==null&&d.dispose(h),n.map(m=>Nr(m,f,d))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(s=>e[s]).map(s=>s.map(r=>r.id)));return new Set(n)}checkTensorForDisposal(e,n,s,r,o,a,i){n.category==="control"||a.indexOf(e)!==-1||(s[e].forEach(l=>{l!=null&&(i[l.id]=(i[l.id]||0)+n.children.length)}),n.inputs.forEach(l=>{if(l.category!=="control"){const u=ngt(l.name,s,r);u!=null&&u.forEach(c=>{if(c&&!c.kept&&!o.has(c.id)){const d=i[c.id];d===1?(c.dispose(),delete i[c.id]):d!=null&&i[c.id]--}})}}))}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){!this.clonedTensorsMap||(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,s=!1,r={},o={}){this.disposeIntermediateTensors(),s||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=Be().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(f){this.keepIntermediateTensors=!1,console.warn(f.message)}const a=new OD(this.weightMap,r,o,this.functionExecutorMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const i=await this.executeWithControlFlow(e,a,n,s),l=n.map(f=>Nr(f,i,a)),u=l.map(f=>f.id),c=Object.keys(e).map(f=>e[f].id),d=new Set([...u,...c,...this.weightIds]);return Object.values(i).forEach(f=>{f.forEach(h=>{h&&!h.isDisposed&&!d.has(h.id)&&h.dispose()})}),this.parent==null&&a.dispose(d),l}async executeFunctionAsync(e,n,s){const r=e.reduce((o,a,i)=>(o[this.inputs[i].name]=a,o),{});return this._executeAsync(r,this.outputNodes,!0,n,s)}async executeWithControlFlow(e,n,s,r){const o=Object.keys(e),a=o.map(b=>this.graph.nodes[lo(b)[0]]),i=s.map(b=>lo(b)[0]);let l=i.map(b=>this.graph.nodes[b]);l.length===0&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:f}=RD(e,l,this.weightMap,this._initNodes),h=[...a,...this.graph.weights,...this._initNodes||[]].map(b=>({node:b,contexts:n.currentContext})),p=Object.assign({},this.weightMap);Object.keys(e).forEach(b=>{const[_,$]=lo(b),x=[];x[$]=e[b],p[_]=x});const m={},g=this.getFrozenTensorIds(p),y={};for(;h.length>0;){const b=this.processStack(a,h,n,p,y,g,i,m,u);await Promise.all(b)}d==null&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const w=l.filter(b=>!dU(b)&&!Nr(b.name,p,n)).map(b=>b.name);if(w.length>0){let b="";throw d!=null&&(b=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${f}]`),new Error(`Cannot compute the outputs [${w}] from the provided inputs [${o}]. Consider providing the following inputs: [${c}]. ${b}`)}return p}processStack(e,n,s,r,o,a,i,l,u){const c=[];for(;n.length>0;){const d=n.pop();s.currentContext=d.contexts;let f="";if(d.node.op==="Enter"&&H("isConstant",d.node,r,s)&&([f]=ll(d.node.name,s)),r[d.node.name]==null){const h=AD(d.node,r,s,this._resourceManager);f||([f]=ll(d.node.name,s));const p=s.currentContext;Yu(h)?c.push(h.then(m=>(r[f]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[f]=this.cloneTensorList(m)),s.currentContext=p,this.checkTensorForDisposal(f,d.node,r,s,a,i,l),this.processChildNodes(d.node,n,s,r,o,u),m))):(r[f]=h,this.keepIntermediateTensors&&(this.clonedTensorsMap[f]=this.cloneTensorList(h)),this.checkTensorForDisposal(f,d.node,r,s,a,i,l),this.processChildNodes(d.node,n,s,r,o,u))}else this.processChildNodes(d.node,n,s,r,o,u)}return c}processChildNodes(e,n,s,r,o,a){e.children.forEach(i=>{const[l]=ll(i.name,s);o[l]||!a.has(i.name)||(i.op==="Merge"?i.inputNames.some(u=>!!Nr(u,r,s))&&(o[l]=!0,n.push({contexts:s.currentContext,node:i})):i.inputNames.every(u=>!!Nr(u,r,s))&&(o[l]=!0,n.push({contexts:s.currentContext,node:i})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const s=e[n],[r]=lo(n),o=this.graph.nodes[r];if(o.attrParams.shape&&o.attrParams.shape.value){const a=o.attrParams.shape.value,i=a.length===s.shape.length&&s.shape.every((l,u)=>a[u]===-1||a[u]===l);q(i,()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${a}], but was [${s.shape}]`)}o.attrParams.dtype&&o.attrParams.dtype.value&&q(s.dtype===o.attrParams.dtype.value,()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${s.dtype}`)})}mapInputs(e){var n,s;const r={};for(const o in e){const a=(s=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||s===void 0?void 0:s[o];a!=null?r[a.name]=e[o]:r[o]=e[o]}return r}checkInputs(e){const n=Object.keys(e).filter(s=>{const[r]=lo(s);return this.graph.nodes[r]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var s,r;const o=(r=(s=this._signature)===null||s===void 0?void 0:s.outputs)===null||r===void 0?void 0:r[n];return o!=null?o.name:n},{})}checkOutputs(e){e.forEach(n=>{const[s]=lo(n);if(!this.graph.nodes[s])throw new Error(`The output '${n}' is not found in the graph`)})}},_1t=class{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}};const $1t="?tfjs-format=file",x1t="model.json";let dE=class{constructor(e,n={},s=s8){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=s,n==null&&(this.loadOptions={}),this.resourceManager=new _1t}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Yu(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(s=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}this.signature=s,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const r=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Kx(TD.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const o=TD.Instance.transformGraph(e.modelInitializer);this.initializer=new Kx(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const s=this.io.getSaveHandlers(e);if(s.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(s.length>1)throw new Error(`Found more than one (${s.length}) save handlers for URL '${e}'`);e=s[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof $n?[e]:e,s={};return n.forEach((r,o)=>s[this.structuredOutputKeys[o]]=r),s}return e}predict(e,n){const s=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(s)}async predictAsync(e,n){const s=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(s)}normalizeInputs(e){var n;if(!(e instanceof $n)&&!Array.isArray(e)){const o=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(o!=null)for(const a in o){const i=o[a];i.resourceId!=null&&(e[a]=this.resourceIdToCapturedInput[i.resourceId])}return e}e=Array.isArray(e)?e:[e];const s=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+s!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-s} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((o,a)=>{var i,l,u;const c=(u=(l=(i=this.signature)===null||i===void 0?void 0:i.inputs)===null||l===void 0?void 0:l[a])===null||u===void 0?void 0:u.resourceId;return c!=null?o[a]=this.resourceIdToCapturedInput[c]:o[a]=e[r++],o},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,s=Object.keys(n);for(let r=0;r<s.length;r++){const o=s[r],a=n[o];this.resourceIdToCapturedInput[a.resourceId]=e[r]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const s=this.executor.execute(e,n);return s.length>1?s:s[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const s=await this.executor.executeAsync(e,n);return s.length>1?s:s[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,s)=>(n[s]=[e[s]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Xt(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}};async function S1t(t,e={},n=s8){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=k1t(t));const s=new dE(t,e,n);return await s.load(),s}function C1t(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let e;if(t instanceof Array){const[s,r]=t;if(!s)throw new Error("modelJSON must be the first element of the array");if(!r||!(r instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in s))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in s))throw new Error("Model JSON is missing 'weightsManifest'");const o=Qk(s.weightsManifest),a=Zk(s,o,r);e=nb(a)}else if("load"in t)e=t;else if("modelTopology"in t&&"weightSpecs"in t&&"weightData"in t)e=nb(t);else throw new Error("Unknown model format");const n=new dE(e);return n.load(),n}function k1t(t){return t.endsWith("/")||(t=t+"/"),`${t}${x1t}${$1t}`}const fU="4.1.0";function T1t(t,e){return gb(t,e)}function gb(t,e,n=new Map,s=new Set){if(t==null)return null;if(typeof Blob=="function"&&t instanceof Blob)return t.slice();if(s.has(t))throw new Error("Circular references are not supported.");if(n.has(t))return n.get(t);const r=e(t);if(r.recurse&&r.value!==null)throw new Error("A deep map function may not return both a value and recurse=true.");if(r.recurse)if(Oh(t)){const o=Array.isArray(t)?[]:{};s.add(t);for(const a in t){const i=t[a],l=gb(i,e,n,s);o[a]=l}return s.delete(t),t.__proto__&&(o.__proto__=t.__proto__),o}else throw new Error(`Can't recurse into non-iterable type: ${t}`);else return n.set(t,r.value),r.value}function N1t(t,e=pU){return hU(t,e)}function hU(t,e,n=new Set){const s=t[0];if(n.has(s))throw new Error("Circular references are not supported.");const r=e(t);if(r.recurse&&r.value!==null)throw new Error("A deep zip function may not return both a value and recurse=true.");if(r.recurse)if(Oh(s)){const o=Array.isArray(s)?[]:{};n.add(s);for(const a in s){const i=t.map(u=>u[a]),l=hU(i,e,n);o[a]=l}return n.delete(s),o}else throw new Error(`Can't recurse into non-iterable type: ${s}`);else return r.value}function pU(t){return t===null?null:Oh(t[0])?{value:null,recurse:!0}:{value:t,recurse:!1}}async function mU(t,e){const n=new Map;gb(t,e,n);for(const r of Array.from(n.keys())){const o=n.get(r);if(Yu(o)){const a=await o;n.set(r,a)}}return gb(t,e,n)}function Oh(t){let e=!1;if(Be().get("IS_BROWSER"))e=t instanceof TextDecoder;else{const{StringDecoder:n}=require("string_decoder");e=t instanceof n}return t!=null&&!ArrayBuffer.isView(t)&&(Array.isArray(t)||typeof t=="object"&&!(t instanceof $n)&&!(t instanceof Promise)&&!e)}function E1t(t){return t==null||I1t(t)||Array.isArray(t)||typeof t=="object"&&t instanceof $n||Zs(t)}function I1t(t){return t===null||typeof t!="object"&&typeof t!="function"}function A1t(t){return T1t(t,O1t)}function O1t(t){return t instanceof $n?{value:t.clone(),recurse:!1}:Oh(t)?{value:null,recurse:!0}:{value:t,recurse:!1}}class gU{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,e==null)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,n){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=n}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return this.length()===0}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const n of e)this.push(n)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const n=this.wrap(this.begin+e),s=this.get(n);return this.set(n,this.pop()),s}}class X3 extends gU{constructor(){super(X3.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=this.capacity*2,n=new Array(e),s=this.length();for(let r=0;r<s;r++)n[r]=this.get(this.wrap(this.begin+r));this.data=n,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=s}}X3.INITIAL_CAPACITY=32;function vU(t){return new F1t(t)}function fE(t){return new M1t(t)}function R1t(t,e){return new yU(t,e)}function D1t(t,e=Tu.FAIL){return new G1t(t,e)}class Us{async toArray(){const e=[];let n=await this.next();for(;!n.done;)e.push(n.value),n=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),n=[];let s=await e.next();for(;!s.done;)n.push(s.value),s=await e.next();return n}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let n=await this.next(),s=e(n.value);for(;!n.done&&s;)n=await this.next(),s=e(n.value)}handleErrors(e){return new W1t(this,e)}filter(e){return new V1t(this,e)}map(e){return new H1t(this,e)}mapAsync(e){return new DD(this,e)}serialMapAsync(e){return new DD(this,e).serial()}flatmap(e){return new U1t(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile(n=>n===!0)}rowMajorBatch(e,n=!0){return new B1t(this,e,n)}columnMajorBatch(e,n=!0,s=pU){return this.rowMajorBatch(e,n).map(o=>N1t(o,s))}concatenate(e,n){return new yU(vU([this,e]),n)}take(e){return e<0||e==null?this:new z1t(this,e)}skip(e){return e<0||e==null?this:new L1t(this,e)}prefetch(e){return new bU(this,e)}shuffle(e,n){return new j1t(this,e,n)}serial(){return new P1t(this)}}class F1t extends Us{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:A1t(e),done:!1}}}class M1t extends Us{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class P1t extends Us{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){return this.upstream.next()}}class L1t extends Us{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;Xt(e.value)}return this.upstream.next()}}class z1t extends Us{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class B1t extends Us{constructor(e,n,s=!0){super(),this.upstream=e,this.batchSize=n,this.enableSmallLastBatch=s,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const n=await this.upstream.next();if(n.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(n.value)}return{value:e,done:!1}}}class V1t extends Us{constructor(e,n){super(),this.upstream=e,this.predicate=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;Xt(e.value)}}}class H1t extends Us{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=El(e.value),s=this.transform(e.value),r=El(s);for(const o of n)F_(o,r)||o.dispose();return{value:s,done:!1}}}class W1t extends Us{constructor(e,n){super(),this.upstream=e,this.handler=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class DD extends Us{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=El(e.value),s=await this.transform(e.value),r=El(s);for(const o of n)F_(o,r)||o.dispose();return{value:s,done:!1}}}class hE extends Us{constructor(){super(),this.outputQueue=new X3,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.outputQueue.length()===0;)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class U1t extends hE{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const n=El(e.value),s=this.transform(e.value),r=El(s);this.outputQueue.pushAll(s);for(const o of n)F_(o,r)||o.dispose();return!0}}class yU extends Us{constructor(e,n){super(),this.baseErrorHandler=n,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,this.iterator==null){const s=await this.moreIterators.next();if(s.done)return{value:null,done:!0};this.iterator=s.value,this.baseErrorHandler!=null&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const n=await this.iterator.next();return n.done?(this.iterator=null,this.readFromChain(e)):n}}var Tu;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(Tu||(Tu={}));class G1t extends Us{constructor(e,n=Tu.FAIL){super(),this.iterators=e,this.mismatchMode=n,this.count=0,this.currentPromise=null}summary(){return"{TODO: fill in upstream of zip summaries} -> Zip"}async nextState(e){await e;let n=0,s=0;function r(a){return a instanceof Us?{value:a.next().then(l=>(n++,l.done&&s++,l.value)),recurse:!1}:{value:null,recurse:!0}}const o=await mU(this.iterators,r);if(n===s)return{value:null,done:!0};if(s>0)switch(this.mismatchMode){case Tu.FAIL:throw new Error(`Zipped streams should have the same length. Mismatched at element ${this.count}.`);case Tu.SHORTEST:return{value:null,done:!0};case Tu.LONGEST:}return this.count++,{value:o,done:!1}}async next(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}}class bU extends Us{constructor(e,n){super(),this.upstream=e,this.bufferSize=n,this.buffer=new gU(n)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class j1t extends bU{constructor(e,n,s){super(e,n),this.upstream=e,this.windowSize=n,this.upstreamExhausted=!1,this.random=Ji.alea(s||Ys().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),n=await this.buffer.shuffleExcise(e);if(n.done)this.upstreamExhausted=!0;else return this.refill(),n}return{value:null,done:!0}}}class dm{constructor(){this.size=null}batch(e,n=!0){const s=this;q(e>0,()=>`batchSize needs to be positive, but it is
      ${e}`);let r;return this.size===1/0||this.size==null?r=this.size:n?r=Math.ceil(this.size/e):r=Math.floor(this.size/e),io(async()=>(await s.iterator()).columnMajorBatch(e,n,X1t),r)}concatenate(e){const n=this;let s;return this.size===1/0||e.size===1/0?s=1/0:this.size!=null&&e.size!=null?s=this.size+e.size:s=null,io(async()=>(await n.iterator()).concatenate(await e.iterator()),s)}filter(e){const n=this;let s;return this.size===1/0?s=1/0:s=null,io(async()=>(await n.iterator()).filter(r=>Le(()=>e(r))),s)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const n=this;return io(async()=>(await n.iterator()).map(s=>Le(()=>e(s))),this.size)}mapAsync(e){const n=this;return io(async()=>(await n.iterator()).mapAsync(e),this.size)}prefetch(e){if(e==null)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const n=this;return io(async()=>(await n.iterator()).prefetch(e),this.size)}repeat(e){const n=this;let s;return this.size!=null&&e>0?s=this.size*e:e===0?s=0:this.size!=null&&(e===void 0||e<0)?s=1/0:s=null,io(async()=>{const r=fE(async()=>({value:await n.iterator(),done:!1}));return R1t(r.take(e))},s)}skip(e){const n=this;let s;return this.size!=null&&e>=0&&this.size>=e?s=this.size-e:this.size!=null&&(this.size<e||e===void 0||e<0)?s=0:s=null,io(async()=>(await n.iterator()).skip(e),s)}shuffle(e,n,s=!0){if(e==null||e<0)throw this.size==null?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const r=this,o=Ji.alea(n||Ys().toString());return io(async()=>{let a=o.int32();return s&&(a+=o.int32()),(await r.iterator()).shuffle(e,a.toString())},this.size)}take(e){const n=this;let s;return this.size!=null&&this.size>e?s=e:this.size!=null&&this.size<=e?s=this.size:s=null,io(async()=>(await n.iterator()).take(e),s)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}dm.MAX_BUFFER_SIZE=1e4;function io(t,e=null){return new class extends dm{constructor(){super(...arguments),this.size=e}async iterator(){return t()}}}function K1t(t){return io(async()=>vU(t),t.length)}function q1t(t){if(!Oh(t))throw new Error("The argument to zip() must be an object or array.");let e;if(Array.isArray(t))for(let n=0;n<t.length;n++)e=e==null?t[n].size:Math.min(e,t[n].size);else if(t instanceof Object)for(const n in t)e=e==null?t[n].size:Math.min(e,t[n].size);return io(async()=>{const n=await mU(t,s=>{if(s instanceof dm)return{value:s.iterator(),recurse:!1};if(Oh(s))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")});return D1t(n,Tu.SHORTEST)},e)}function X1t(t){if(t===null)return null;const e=t[0];return E1t(e)?{value:Y1t(t),recurse:!1}:{value:null,recurse:!0}}function Y1t(t){if(t.length===0)throw new Error("Can't make a batch of zero elements.");return t[0]instanceof $n?Jr(t):yo(t)}class wU extends dm{constructor(e){super(),this.input=e}async iterator(){return(await this.input.iterator()).decodeUTF8().split(`
`).map(r=>(r.endsWith("\r")&&(r=r.slice(0,-1)),r))}}const _v='"',Lm=Symbol("out"),FD=Symbol("field"),$v=Symbol("quote"),S$=Symbol("quoteafterquote"),MD=Symbol("quoteinquote");class _U extends dm{constructor(e,n){super(),this.input=e,this.hasHeader=!0,this.fullColumnNames=null,this.columnNamesValidated=!1,this.columnConfigs=null,this.configuredColumnsOnly=!1,this.delimiter=",",this.delimWhitespace=!1,this.base=new wU(e),n||(n={}),this.hasHeader=n.hasHeader!==!1,this.fullColumnNames=n.columnNames,this.columnConfigs=n.columnConfigs,this.configuredColumnsOnly=n.configuredColumnsOnly,n.delimWhitespace?(q(n.delimiter==null,()=>"Delimiter should not be provided when delimWhitespace is true."),this.delimWhitespace=!0,this.delimiter=" "):this.delimiter=n.delimiter?n.delimiter:","}async columnNames(){return this.columnNamesValidated||await this.setColumnNames(),this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames}async setColumnNames(){const e=await this.maybeReadHeaderLine();if(!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");this.fullColumnNames&&e&&q(e.length===this.fullColumnNames.length,()=>"The length of provided columnNames ("+this.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."),this.fullColumnNames||(this.fullColumnNames=e);const n=this.fullColumnNames.reduce((r,o)=>(r[o]=r[o]+1||1,r),{}),s=Object.keys(n).filter(r=>n[r]>1);if(q(s.length===0,()=>"Duplicate column names found: "+s.toString()),this.columnConfigs){for(const r of Object.keys(this.columnConfigs))if(this.fullColumnNames.indexOf(r)===-1)throw new Error('The key "'+r+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").")}this.columnNamesValidated=!0}async maybeReadHeaderLine(){if(this.hasHeader){const n=await(await this.base.iterator()).next();if(n.done)throw new Error("No data was found for CSV parsing.");const s=n.value;return this.parseRow(s,!1)}else return null}async iterator(){this.columnNamesValidated||await this.setColumnNames();let e=await this.base.iterator();return this.hasHeader&&(e=e.skip(1)),e.map(n=>this.makeDataElement(n))}makeDataElement(e){const n=this.parseRow(e),s={},r={};for(let o=0;o<this.fullColumnNames.length;o++){const a=this.fullColumnNames[o],i=this.columnConfigs?this.columnConfigs[a]:null;if(!(this.configuredColumnsOnly&&!i)){const l=n[o];let u=null;if(l==="")if(i&&i.default!==void 0)u=i.default;else{if(i&&(i.required||i.isLabel))throw new Error(`Required column ${a} is empty in this line: ${e}`);u=void 0}else{const c=Number(l);if(isNaN(c))i&&i.dtype==="bool"?u=this.getBoolean(l):u=l;else if(!i||!i.dtype)u=c;else switch(i.dtype){case"float32":u=c;break;case"int32":u=Math.floor(c);break;case"bool":u=this.getBoolean(l);break;default:u=c}}i&&i.isLabel?r[a]=u:s[a]=u}}return Object.keys(r).length===0?s:{xs:s,ys:r}}getBoolean(e){return e==="1"||e.toLowerCase()==="true"?1:0}parseRow(e,n=!0){const s=[];let r=0;const o=e.length;let a=Lm;for(let i=0;i<o;i++)switch(a){case Lm:switch(e.charAt(i)){case _v:r=i+1,a=$v;break;case this.delimiter:if(r=i+1,this.delimiter===" "&&this.delimWhitespace)break;s.push(""),a=Lm;break;default:a=FD,r=i;break}break;case FD:switch(e.charAt(i)){case this.delimiter:s.push(e.substring(r,i)),a=Lm,r=i+1;break}break;case $v:switch(e.charAt(i)){case _v:a=S$;break}break;case S$:switch(e.charAt(i)){case this.delimiter:s.push(e.substring(r,i-1)),a=Lm,r=i+1;break;case _v:a=$v;break;default:a=MD;break}break;case MD:switch(e.charAt(i)){case _v:a=$v;break}break}if(a===S$?s.push(e.substring(r,o-1)):s.push(e.substring(r)),n&&s.length!==this.fullColumnNames.length)throw new Error(`Invalid row in csv file. Should have ${this.fullColumnNames.length} elements in a row, but got ${s}`);return s}}class pE extends Us{constructor(e){super(),this.microphoneConfig=e,this.isClosed=!1,this.fftSize=e.fftSize||1024;const n=Math.log2(this.fftSize);if(this.fftSize<0||n<4||n>14||!Number.isInteger(n))throw new Error(`Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got ${this.fftSize}`);if(this.numFrames=e.numFramesPerSpectrogram||43,this.sampleRateHz=e.sampleRateHz,this.columnTruncateLength=e.columnTruncateLength||this.fftSize,this.audioTrackConstraints=e.audioTrackConstraints,this.smoothingTimeConstant=e.smoothingTimeConstant||0,this.includeSpectrogram=e.includeSpectrogram!==!1,this.includeWaveform=e.includeWaveform===!0,!this.includeSpectrogram&&!this.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.")}summary(){return"microphone"}static async create(e={}){if(!Be().get("IS_BROWSER"))throw new Error("microphone API is only supported in browser environment.");const n=new pE(e);return await n.start(),n}async start(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:this.audioTrackConstraints==null?!0:this.audioTrackConstraints,video:!1})}catch(s){throw new Error(`Error thrown while initializing video stream: ${s.message}`)}if(!this.stream)throw new Error("Could not obtain audio from microphone.");const e=window.AudioContext||window.webkitAudioContext;if(this.audioContext=new e,!this.sampleRateHz)this.sampleRateHz=this.audioContext.sampleRate;else if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error(`Mismatch in sampling rate: Expected: ${this.sampleRateHz}; Actual: ${this.audioContext.sampleRate}`);const n=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.fftSize*2,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize)}async next(){if(this.isClosed)return{value:null,done:!0};let e,n;const s=await this.getAudioData();if(this.includeSpectrogram){const r=this.flattenQueue(s.freqDataQueue);e=this.getTensorFromAudioDataArray(r,[this.numFrames,this.columnTruncateLength,1])}if(this.includeWaveform){const r=this.flattenQueue(s.timeDataQueue);n=this.getTensorFromAudioDataArray(r,[this.numFrames*this.fftSize,1])}return{value:{spectrogram:e,waveform:n},done:!1}}async capture(){return(await this.next()).value}async getAudioData(){const e=[],n=[];let s=0;return new Promise(r=>{const o=setInterval(()=>{this.includeSpectrogram&&(this.analyser.getFloatFrequencyData(this.freqData),this.freqData[0]===-1/0&&r({freqDataQueue:e,timeDataQueue:n}),e.push(this.freqData.slice(0,this.columnTruncateLength))),this.includeWaveform&&(this.analyser.getFloatTimeDomainData(this.timeData),n.push(this.timeData.slice())),++s===this.numFrames&&(clearInterval(o),r({freqDataQueue:e,timeDataQueue:n}))},this.fftSize/this.sampleRateHz*1e3)})}stop(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),this.stream!=null&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}toArray(){throw new Error("Can not convert infinite audio stream to array.")}getSampleRate(){return this.sampleRateHz}flattenQueue(e){const n=e[0].length,s=new Float32Array(e.length*n);return e.forEach((r,o)=>s.set(r,o*n)),s}getTensorFromAudioDataArray(e,n){const s=new Float32Array(Ge(n));return s.set(e,s.length-e.length),yo(s,n)}}class mE extends Us{constructor(e,n){if(super(),this.webcamVideoElement=e,this.webcamConfig=n,this.isClosed=!0,this.resize=!1,this.needToResize())if(this.resize=!0,this.cropSize=[this.webcamConfig.resizeHeight,this.webcamConfig.resizeWidth],this.cropBoxInd=vr([0],"int32"),this.webcamConfig.centerCrop){const s=this.webcamConfig.resizeWidth*1/this.webcamVideoElement.width,r=this.webcamConfig.resizeHeight*1/this.webcamVideoElement.height,o=(1-s)/2,a=(1-r)/2,i=o+s,l=r+a;this.cropBox=Mu([a,o,l,i],[1,4])}else this.cropBox=Mu([0,0,1,1],[1,4])}summary(){return"webcam"}static async create(e,n={}){if(!Be().get("IS_BROWSER"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=n.resizeWidth,e.height=n.resizeHeight}const s=new mE(e,n);return await s.start(),s}async start(){this.webcamConfig.facingMode&&q(this.webcamConfig.facingMode==="user"||this.webcamConfig.facingMode==="environment",()=>`Invalid webcam facing mode: ${this.webcamConfig.facingMode}. Please provide 'user' or 'environment'`);try{this.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(e){throw e.message=`Error thrown while initializing video stream: ${e.message}`,e}if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise(e=>{this.webcamVideoElement.onloadedmetadata=()=>{e()}})}async next(){if(this.isClosed)return{value:null,done:!0};let e;try{e=aV(this.webcamVideoElement)}catch(n){throw new Error(`Error thrown converting video to pixels: ${JSON.stringify(n)}`)}if(this.resize)try{return{value:this.cropAndResizeFrame(e),done:!1}}catch(n){throw new Error(`Error thrown cropping the video: ${n.message}`)}finally{e.dispose()}else return{value:e,done:!1}}needToResize(){return!!(this.webcamConfig.resizeWidth&&this.webcamConfig.resizeHeight&&(this.webcamVideoElement.width!==this.webcamConfig.resizeWidth||this.webcamVideoElement.height!==this.webcamConfig.resizeHeight))}cropAndResizeFrame(e){return Le(()=>{const n=hr(ht(e,"float32"),0);let s;s=Ti.cropAndResize(n,this.cropBox,this.cropBoxInd,this.cropSize,"bilinear");const r=s.shape;return Ne(s,r.slice(1))})}async capture(){return(await this.next()).value}stop(){this.stream.getTracks().forEach(n=>n.stop());try{this.webcamVideoElement.srcObject=null}catch(n){console.log(n),this.webcamVideoElement.src=null}this.isClosed=!0}toArray(){throw new Error("Can not convert infinite video stream to array.")}}class $U{}class xU extends Us{split(e){return new Z1t(this,e)}}class Z1t extends xU{constructor(e,n){super(),this.upstream=e,this.impl=new J1t(e,n)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class J1t extends hE{constructor(e,n){super(),this.upstream=e,this.separator=n,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){const e=await this.upstream.next();if(e.done)return this.carryover===""?!1:(this.outputQueue.push(this.carryover),this.carryover="",!0);const n=e.value.split(this.separator);n[0]=this.carryover+n[0];for(const s of n.slice(0,-1))this.outputQueue.push(s);return this.carryover=n[n.length-1],!0}}class Q1t extends Us{decodeUTF8(){return new e2t(this)}}class e2t extends xU{constructor(e){super(),this.upstream=e,this.impl=new t2t(e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class t2t extends hE{constructor(e){if(super(),this.upstream=e,Be().get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{const{StringDecoder:n}=require("string_decoder");this.decoder=new n("utf8")}}summary(){return`${this.upstream.summary()} -> Utf8`}async pump(){const e=await this.upstream.next();let n;if(e.done)return!1;n=e.value;let s;return Be().get("IS_BROWSER")?s=this.decoder.decode(n,{stream:!0}):s=this.decoder.write(Buffer.from(n.buffer)),this.outputQueue.push(s),!0}}class SU extends Q1t{constructor(e,n={}){super(),this.file=e,this.options=n,q(e instanceof Uint8Array||(Be().get("IS_BROWSER")?e instanceof File||e instanceof Blob:!1),()=>"FileChunkIterator only supports File, Blob and Uint8Array right now."),this.offset=n.offset||0,this.chunkSize=n.chunkSize||1024*1024}summary(){return`FileChunks ${this.file}`}async next(){return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?{value:null,done:!0}:{value:await new Promise((n,s)=>{const r=this.offset+this.chunkSize;if(this.file instanceof Uint8Array)n(new Uint8Array(this.file.slice(this.offset,r)));else{const o=new FileReader;o.onload=i=>{let l=o.result;if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),!(l instanceof Uint8Array))return s(new TypeError("FileReader returned unknown type."));n(l)},o.onabort=i=>s(new Error("Aborted")),o.onerror=i=>s(new Error(i.type));const a=this.file.slice(this.offset,r);o.readAsArrayBuffer(a)}this.offset=r}),done:!1}}}async function n2t(t,e={},n){let s,r;typeof t=="string"?s=t:(s=t.url,r=s2t(t));const o=await(n||MB)(s,r);if(o.ok){const a=new Uint8Array(await o.arrayBuffer());return new SU(a,e)}else throw new Error(o.statusText)}const s2t=t=>({method:t.method,headers:t.headers,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});function CU(t){return typeof t=="string"&&t.slice(0,7)==="file://"}class kU extends $U{constructor(e,n={}){super(),this.input=e,this.options=n}async iterator(){if(CU(this.input)&&Be().get("IS_NODE")){const e=require("fs");this.input=e.readFileSync(this.input.slice(7))}return new SU(this.input,this.options)}}class TU extends $U{constructor(e,n={}){super(),this.url=e,this.fileOptions=n}async iterator(){return CU(this.url)?new kU(this.url,this.fileOptions).iterator():n2t(this.url,this.fileOptions)}}function r2t(t,e={}){return new _U(new TU(t),e)}function o2t(t){const e=fE(t);return io(async()=>e)}function a2t(t){return io(async()=>{const e=await t();return fE(()=>e.next())})}async function i2t(t,e){return mE.create(t,e)}async function l2t(t){return pE.create(t)}const NU="4.1.0";const u2t=Object.freeze(Object.defineProperty({__proto__:null,array:K1t,Dataset:dm,zip:q1t,CSVDataset:_U,TextLineDataset:wU,csv:r2t,func:o2t,generator:a2t,microphone:l2t,webcam:i2t,FileDataSource:kU,URLDataSource:TU,version_data:NU},Symbol.toStringTag,{value:"Module"}));function Tt(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&q(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}const c2t=d3;class Y3 extends Tw{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Pk(this,Ma())}nextDataId(){return Y3.nextDataId++}write(e,n,s){this.firstUse&&(this.firstUse=!1,Be().get("IS_NODE")&&Fo(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:s,refCount:1}),r}makeTensorInfo(e,n,s){let r;if(n==="string"&&s!=null&&s.length>0&&ki(s[0])){const o=s.map(a=>Oi(a));r=this.write(o,e,n)}else r=this.write(s,e,n);return{dataId:r,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,s,r,o){this.data.set(e,{values:n,dtype:r,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:s}=this.data.get(e);if(n==="complex64"){const r=this.readSync(s.real.dataId),o=this.readSync(s.imag.dataId);return Rl(r,o)}return this.data.get(e).values}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const s=n.map(r=>Nl(r));return tn(e.shape,e.dtype,s)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return tn(e.shape,e.dtype,n)}makeOutput(e,n,s){return Ma().makeTensorFromTensorInfo(this.makeTensorInfo(n,s,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:s}=this.data.get(e);s!=null&&(this.disposeData(s.real.dataId,!0),this.disposeData(s.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=Ys();return e(),{kernelMs:Ys()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Tt([e],"where");const n=this.readSync(e.dataId);return c2t(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}Y3.nextDataId=0;function EU(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const d2t=t=>{const{x:e}=t.inputs,n=t.backend;Tt(e,"abs");let s=new Float32Array(Ge(e.shape));const r=n.data.get(e.dataId).values;return s=EU(r),n.makeOutput(s,e.shape,e.dtype)},f2t={kernelName:Vg,backendName:"cpu",kernelFunc:d2t};function Es(t){return(e,n,s,r,o)=>{const a=Yt(e,n),i=a.length,l=Mt(a),u=Ge(a),c=zs(o,u),d=e.length,f=n.length,h=Mt(e),p=Mt(n),m=Ad(e,a),g=Ad(n,a);if(m.length+g.length===0)for(let y=0;y<c.length;++y)c[y]=t(s[y%s.length],r[y%r.length]);else for(let y=0;y<c.length;++y){const w=tf(y,i,l),b=w.slice(-d);m.forEach(k=>b[k]=0);const _=Ka(b,d,h),$=w.slice(-f);g.forEach(k=>$[k]=0);const x=Ka($,f,p);c[y]=t(s[_],r[x])}return[c,a]}}function fo(t){const{inputs:e,backend:n}=t,{real:s,imag:r}=e,o=n.data.get(s.dataId).values,a=n.data.get(r.dataId).values,i=n.makeTensorInfo(s.shape,"complex64"),l=n.data.get(i.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(s.shape,"float32",o),imag:n.makeTensorInfo(r.shape,"float32",a)},i}const h2t={kernelName:Mw,backendName:"cpu",kernelFunc:fo};function vb(t,e,n="float32"){if(n==="complex64"){const r=vb(t,e,"float32"),o=vb(t,e,"float32");return fo({inputs:{real:r,imag:o},backend:t})}const s=or(Ge(e),n);return t.makeTensorInfo(e,n,s)}function Wi(t){const{inputs:e,backend:n}=t,{x:s}=e;return n.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const p2t={kernelName:xp,backendName:"cpu",kernelFunc:Wi};function zd(t){const{inputs:e,backend:n}=t,{input:s}=e,r=n.data.get(s.dataId).complexTensorInfos.real,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}const m2t={kernelName:p_,backendName:"cpu",kernelFunc:zd};function IU(t,e,n,s){if(s==="int32"){const r=Int32Array.from(t);return[e,"int32",r]}if(s==="bool"){const r=dc([0],n),[o,a]=Es((i,l)=>i!==l?1:0)(e,[],t,r,"bool");return[a,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${s}`)}function nc(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{dtype:o}=s;if(o==="complex64"){if(r.dtype==="complex64")return Wi({inputs:{x:r},backend:n});const c=vb(n,r.shape,r.dtype),d=nc({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),f=fo({inputs:{real:d,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),f}if(r.dtype==="complex64"){const c=zd({inputs:{input:r},backend:n}),d=nc({inputs:{x:c},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(c),d}if(!Bk(r.dtype,o)){const c=Wi({inputs:{x:r},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:o}}const a=n.data.get(r.dataId).values,[i,l,u]=IU(a,r.shape,r.dtype,o);return n.makeTensorInfo(i,l,u)}const g2t={kernelName:cp,backendName:"cpu",kernelFunc:nc};function Ks(t,e,n,s){return n==null?({inputs:r,backend:o})=>{const{a,b:i}=r,l=o;Tt([a,i],t);const u=l.data.get(a.dataId).values,c=l.data.get(i.dataId).values,d=a.dtype==="string"?Md(u):u,f=a.dtype==="string"?Md(c):c,h=s||a.dtype,[p,m]=e(a.shape,i.shape,d,f,h);return l.makeTensorInfo(m,h,p)}:({inputs:r,backend:o})=>{const{a,b:i}=r,l=o;if(a.dtype==="complex64"||i.dtype==="complex64"){const u=nc({inputs:{x:a},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),d=c.complexTensorInfos.real,f=c.complexTensorInfos.imag,h=l.data.get(d.dataId).values,p=l.data.get(f.dataId).values,m=nc({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),g=l.data.get(m.dataId),y=g.complexTensorInfos.real,w=g.complexTensorInfos.imag,b=l.data.get(y.dataId).values,_=l.data.get(w.dataId).values,[$,x,k]=n(a.shape,i.shape,h,p,b,_),C=l.makeTensorInfo(k,"float32",$),T=l.makeTensorInfo(k,"float32",x),N=fo({inputs:{real:C,imag:T},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(C),l.disposeIntermediateTensorInfo(T),N}else{const u=l.data.get(a.dataId).values,c=l.data.get(i.dataId).values,d=s||a.dtype,[f,h]=e(a.shape,i.shape,u,c,d);return l.makeTensorInfo(h,d,f)}}}function gE(t){return(e,n,s,r,o,a)=>{const i=Yt(e,n),l=Ge(i),u=i.length,c=Mt(i),d=zs("float32",l),f=zs("float32",l),h=Ad(e,i),p=Ad(n,i),m=Rl(s,r),g=Rl(o,a),y=e.length,w=Mt(e),b=n.length,_=Mt(n);if(h.length+p.length===0)for(let $=0;$<d.length;$++){const x=$%m.length,k=$%g.length,C=t(m[x*2],m[x*2+1],g[k*2],g[k*2+1]);d[$]=C.real,f[$]=C.imag}else for(let $=0;$<d.length;$++){const x=tf($,u,c),k=x.slice(-y);h.forEach(R=>k[R]=0);const C=Ka(k,y,w),T=x.slice(-b);p.forEach(R=>T[R]=0);const N=Ka(T,b,_),M=t(m[C*2],m[C*2+1],g[N*2],g[N*2+1]);d[$]=M.real,f[$]=M.imag}return[d,f,i]}}const AU=Es((t,e)=>t+e),v2t=gE((t,e,n,s)=>({real:t+n,imag:e+s})),Rh=Ks(nf,AU,v2t),y2t={kernelName:nf,backendName:"cpu",kernelFunc:Rh};function vE(t,e,n,s,r){const o=Ge(s),a=or(r,n);for(let i=0;i<t.length;i++){const l=t[i];if(l<0)throw new Error("Input x must be non-negative!");l>=r||(o>0?a[l]+=e[i]:a[l]+=1)}return a}function OU(t,e,n,s=!1){const r=t.shape[0],o=t.shape[1],a=tn([r,n],e.dtype);for(let i=0;i<r;i++)for(let l=0;l<o;l++){const u=t.get(i,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(s?a.set(1,i,u):e.size>0?a.set(a.get(i,u)+e.get(i,l),i,u):a.set(a.get(i,u)+1,i,u))}return a}function vc(t){return(e,n,s)=>{const r=zs(n,e.length);for(let o=0;o<e.length;++o)r[o]=t(e[o],s);return r}}function An(t,e,n){return({inputs:s,attrs:r,backend:o})=>{const{x:a}=s;if(Tt(a,t),a.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");const i=o,l=i.data.get(a.dataId).values,u=Ge(a.shape),c=n||a.dtype,d=gs(c,u);for(let f=0;f<u;++f)d[f]=e(l[f],r);return i.makeTensorInfo(a.shape,c,d)}}function fm(t,e,n){return({inputs:s,attrs:r,backend:o})=>{const{x:a}=s;if(Tt(a,t),a.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");const i=o,l=i.data.get(a.dataId).values,u=n||a.dtype,c=e(l,u,r);return i.makeTensorInfo(a.shape,u,c)}}const RU=vc(t=>Math.ceil(t)),b2t=fm(dp,RU),w2t={kernelName:dp,backendName:"cpu",kernelFunc:b2t};function DU(t,e,n,s){const r=gs(n,Ge(e));if(s&&n!=="string"){let o=0;t.forEach(a=>{const i=Ge(a.shape);r.set(a.vals,o),o+=i})}else{let o=0;t.forEach(a=>{const i=n==="string"?Md(a.vals):a.vals;let l=0;for(let u=0;u<a.shape[0];++u){const c=u*e[1]+o;for(let d=0;d<a.shape[1];++d)r[c+d]=i[l++]}o+=a.shape[1]})}return r}const FU=Es((t,e)=>t===e?1:0),MU=Ks(s1,FU,null,"bool"),_2t={kernelName:s1,backendName:"cpu",kernelFunc:MU};const PU=vc(t=>Math.exp(t)),LU=fm(yp,PU,"float32"),$2t={kernelName:yp,backendName:"cpu",kernelFunc:LU};const zU=vc(t=>Math.expm1(t)),x2t=fm(bp,zU),S2t={kernelName:bp,backendName:"cpu",kernelFunc:x2t};const BU=vc(t=>Math.floor(t)),C2t=fm(wp,BU),k2t={kernelName:wp,backendName:"cpu",kernelFunc:C2t};function VU(t,e,n,s,r,o,a,i,l){const u=tn([s,o],n);for(let c=0;c<s;c++){const d=[];let f=0;for(let h=0;h<r;h++){const p=t[c*r+h];f+=p*a[h],d.push(p)}if(f<0||f>=l/o)throw new Error(`Invalid indices: ${d} does not index into ${i}`);for(let h=0;h<o;h++)u.values[c*o+h]=e.get(...e.indexToLoc(f*o+h))}return u}function HU(t,e,n){const s=tn(n,t.dtype);for(let r=0;r<s.size;++r){const a=s.indexToLoc(r).slice(),i=a[0],l=a[2],u=e.locToIndex([i,l]);a[2]=e.values[u];const c=t.locToIndex(a);0<=c&&c<t.values.length&&(s.values[r]=t.values[c])}return s}const WU=Es((t,e)=>t>e?1:0),T2t=Ks(i1,WU,null,"bool"),N2t={kernelName:i1,backendName:"cpu",kernelFunc:T2t};const UU=Es((t,e)=>t>=e?1:0),E2t=Ks($p,UU,null,"bool"),I2t={kernelName:$p,backendName:"cpu",kernelFunc:E2t};const GU=Es((t,e)=>t<e?1:0),A2t=Ks(u1,GU,null,"bool"),O2t={kernelName:u1,backendName:"cpu",kernelFunc:A2t};const jU=Es((t,e)=>t<=e?1:0),R2t=Ks(c1,jU,null,"bool"),D2t={kernelName:c1,backendName:"cpu",kernelFunc:R2t};function KU(t,e,n){const s=(e-t)/(n-1),r=or(n,"float32");r[0]=t;for(let o=1;o<r.length;o++)r[o]=r[o-1]+s;return r}const qU=vc(t=>Math.log(t)),F2t=fm(Tp,qU),M2t={kernelName:Tp,backendName:"cpu",kernelFunc:F2t};function XU(t,e,n,s){const r=zs(s,Ge(n));for(let o=0;o<r.length;++o){const a=o*e;let i=t[a];for(let l=0;l<e;++l){const u=t[a+l];(Number.isNaN(u)||u>i)&&(i=u)}r[o]=i}return r}const YU=Es((t,e)=>Math.max(t,e)),P2t=Ks(Ep,YU),L2t={kernelName:Ep,backendName:"cpu",kernelFunc:P2t};const ZU=Es((t,e)=>Math.min(t,e)),z2t=Ks(Ip,ZU),B2t={kernelName:Ip,backendName:"cpu",kernelFunc:z2t};const yE=Es((t,e)=>t*e),V2t=gE((t,e,n,s)=>({real:t*n-e*s,imag:t*s+e*n})),Z3=Ks(Op,yE,V2t),H2t={kernelName:Op,backendName:"cpu",kernelFunc:Z3};function JU(t,e,n){const s=ql(-1,n);return yE([],e,s,t,n)}function W2t(t){const{inputs:e,backend:n}=t,{x:s}=e;Tt(s,"neg");const r=n.data.get(s.dataId).values,[o,a]=JU(r,s.shape,s.dtype);return n.makeTensorInfo(a,s.dtype,o)}const U2t={kernelName:_1,backendName:"cpu",kernelFunc:W2t};const QU=Es((t,e)=>t!==e?1:0),G2t=Ks($1,QU,null,"bool"),j2t={kernelName:$1,backendName:"cpu",kernelFunc:G2t};function bE(t,e,n,s,r){const o=e.length,a=Ge(e),i=Mt(e),l=Mt(r),u=zs(n,Ge(r));for(let c=0;c<a;++c){const d=tf(c,o,i),f=new Array(d.length);for(let p=0;p<f.length;p++)f[p]=d[s[p]];const h=Ka(f,o,l);u[h]=t[c]}return u}function eo(t){const{inputs:e,attrs:n,backend:s}=t,{x:r}=e,{perm:o}=n;Tt(r,"transpose");const a=r.shape.length,i=new Array(a);for(let d=0;d<i.length;d++)i[d]=r.shape[o[d]];const l=s.data.get(r.dataId).values,u=bE(l,r.shape,r.dtype,o,i);return{dataId:s.write(u,i,r.dtype),shape:i,dtype:r.dtype}}const K2t={kernelName:ld,backendName:"cpu",kernelFunc:eo};function eG(t,e,n,s){const[r,o]=js(t,s),a=Yr(e,"int32"),i=or(Ge(r),a),l=Ge(o);for(let u=0;u<i.length;++u){const c=u*l;let d=1;for(let f=0;f<l;++f)d*=n[c+f];i[u]=d}return{outVals:i,outShape:r,outDtype:a}}function q2t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s;Tt(r,"prod");const i=r.shape.length,l=un(o,r.shape),u=hs(l,i);let c=l,d=r;const f=[];u!=null&&(d=eo({inputs:{x:r},backend:n,attrs:{perm:u}}),f.push(d),c=bs(c.length,i));const h=n.data.get(d.dataId).values,{outVals:p,outShape:m,outDtype:g}=eG(d.shape,d.dtype,h,c);let y=m;return a&&(y=ys(m,l)),f.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.makeTensorInfo(y,g,p)}const X2t={kernelName:N1,backendName:"cpu",kernelFunc:q2t};function Y2t(t,e,n){t.forEach((s,r)=>{if(s<0||s>=n){const o=tf(r,e.length,Mt(e)).join(",");throw new Error(`indices[${o}] = ${s} is not in [0, ${n})`)}})}function Z2t(t,e){for(let n=0;n<t.length;++n){const s=t[n],r=n===t.length-1?e:t[n+1].length;if(s.length===0)throw new Error("Ragged splits may not be empty");if(s[0]<0)throw new Error("Ragged splits must be non-negative");if(s[s.length-1]>r)throw new Error("Ragged splits must not point past values");for(let o=1;o<s.length;++o)if(s[o-1]>s[o])throw new Error("Ragged splits must be sorted in ascending order")}}function J2t(t,e,n,s){const r=[];let o=0;const a=e.length-1+n.length,i=new Array(a).fill(null).map(()=>[0]);Z2t(n,s);let l=1;for(let u=0;u<e.length-1;++u){l*=e[u];const c=e[u+1];for(let d=1;d<l+1;++d)i[u].push(d*c)}for(let u=0;u<t.length;++u){let c=t[u],d=t[u]+1;for(let f=0;f<n.length;++f){const h=n[f],p=f+e.length-1;if(p>=0){const m=i[p],g=m[m.length-1]-h[c];for(let y=c;y<d;++y)i[p].push(h[y+1]+g)}c=h[c],d=h[d]}d!==c&&(r.push([c,d]),o+=d-c)}return{outSplits:i,valueSlices:r,numValues:o}}function Q2t(t){const e=[];for(let n=0;n<t.length;++n){const s=t[n].length,r=gs("int32",s);e.push(r),t[n].forEach((o,a)=>r[a]=o)}return e}function PD(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let s=e;s<t.length;s++)n[e-1]*=t[s];return n}function evt(t,e,n,s,r,o){const a=PD(e,2)[1],i=PD(o,2)[1];let l=0;for(const u of n)for(let c=u[0];c<u[1];++c){for(let d=0;d<s;++d)r[l*i+d]=t[c*a+d];++l}}function tvt(t,e,n,s,r){const o=e.slice();o[0]=r;const a=gs(n,Ge(o)),i=t.length,l=i===0?0:i/e[0];return evt(t,e,s,l,a,o),[a,o]}function tG(t,e,n,s,r,o,a,i){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(Y2t(o,a,l),s.length===0)throw new Error("params.rank must be nonzero");const u=s[0],{outSplits:c,valueSlices:d,numValues:f}=J2t(o,a,t,u),h=Q2t(c),p=tvt(n,s,r,d,f);return[h,p[0],p[1]]}const LD=2147483647;function nG(t,e,n,s,r,o,a){if(e.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const i=e.length===0,l=r.length===0,u=a.length===0,c=[];i||c.push(e[0]),l||c.push(r[0]),u||c.push(a[0]);for(let g=1;g<c.length;++g)if(c[g]!==c[g-1])throw new Error("starts, limits, and deltas must have the same shape");const d=c.length===0?1:c[0],f=gs("int32",d+1);f[0]=0;for(let g=0;g<d;++g){const y=i?t[0]:t[g],w=l?s[0]:s[g],b=u?o[0]:o[g];if(b===0)throw new Error("Requires delta != 0");let _;if(b>0&&w<y||b<0&&w>y)_=0;else if(_=Math.ceil(Math.abs((w-y)/b)),_>LD)throw new Error(`Requires ((limit - start) / delta) <= ${LD}`);f[g+1]=f[g]+_}const h=f[d],p=gs(n,h);let m=0;for(let g=0;g<d;++g){const y=f[g+1]-f[g];let w=i?t[0]:t[g];const b=u?o[0]:o[g];for(let _=0;_<y;++_)p[m++]=w,w+=b}return[f,p]}var ta=za;class yb{constructor(e,n,s,r,o,a,i,l,u,c){this.shape=e,this.shapeShape=n,this.values=s,this.valuesShape=r,this.valuesDType=o,this.defaultValue=a,this.defaultValueShape=i,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=TH(c),this.raggedRank=NH(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===ta.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===ta.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case ta.VALUE_ROWIDS:return yb.getMaxWidthValueRowID(n);case ta.ROW_SPLITS:return yb.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${ta[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let s=0;for(let r=0;r<n-1;++r){const o=e[r+1]-e[r];o>s&&(s=o)}return s}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let s=0,r=e[0],o=0;for(let a=1;a<n;++a){const i=e[a];i!==r&&(r=i,o=Math.max(a-s,o),s=a)}return Math.max(n-s,o)}tensorShapeFromTensor(e,n,s=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return BD(e,s)}calculateOutputSize(e){const n=this.valuesShape,s=this.defaultValueShape;EH(s,n);const r=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=kH(this.raggedRank,r,n);a[0]<0&&(a[0]=e);for(let i=1;i<=this.raggedRank;++i)a[i]<0&&(a[i]=this.getMaxWidth(i));return a}calculateFirstParentOutputIndex(e,n,s){const r=Math.min(e,s),o=[];let a=0;for(let i=0;i<r;++i,a+=n)o.push(a);for(let i=r;i<e;++i)o.push(-1);return q(o.length===e,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(e,n,s,r){const o=e.length,a=[];for(let i=0;i<o-1;++i){const l=e[i+1]-e[i];let u=Math.min(r,l),c=n[i];c===-1&&(u=0);for(let d=0;d<u;++d)a.push(c),c+=s;for(let d=0;d<l-u;++d)a.push(-1)}if(o>0&&a.length!==e[o-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,n,s,r){const o=e.length,a=[];if(o===0)return[];let i=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];a.push(u);for(let c=1;c<o;++c){const d=e[c];if(d===l)u>=0&&(++i,i<r?u+=s:u=-1);else{if(i=0,l=d,d>=n.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${n.length}`);u=n[d]}a.push(u)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,n,s,r){const o=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case ta.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,n,s,r);case ta.ROW_SPLITS:if(o.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(o,n,s,r);default:throw new Error(`Unsupported partition type: ${ta[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case ta.FIRST_DIM_SIZE:return e[0];case ta.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case ta.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${ta[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),s=this.calculateOutputSize(n),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let l=r.length-2;l>=0;--l)r[l]=r[l+1]*s[l+1];const o=BD(s,!1),a=gs(this.valuesDType,Ge(o));if(r[0]*s[0]>0){let l=this.calculateFirstParentOutputIndex(n,r[0],s[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,r[u],s[u]);this.setOutput(this.raggedRank,l,a,o)}return[o,a]}setOutput(e,n,s,r){if(s.length===0)return;const o=this.values,a=s;let i=r.slice();i=i.slice(e+1);const l=Ge(i),u=n.length;let c=this.defaultValue;if(c.length!==l&&c.length!==1){const p=this.defaultValueShape;Le(()=>{const m=Ne(c,p);c=cd(m,i).dataSync()})}let d=0,f=0,h=0;for(let p=0;p<=u;++p){let m=p<u?n[p]:-1;if(m===h){++h;continue}if(f<h){const g=o.subarray(d*l),y=a.subarray(f*l),w=(h-f)*l;zD(y,g,w)}if(p>=u){const g=s.length;m=Math.floor(g/l)}if(m>h)if(this.defaultValue.length===1)a.subarray(h*l,m*l).fill(this.defaultValue[0]),h=m;else for(;m>h;){const g=a.slice(h*l);zD(g,c,l),++h}m<0?(d=p+1,f=h):(d=p,f=h,h=f+1)}}}function zD(t,e,n){for(let s=0;s<n;s++)t[s]=e[s]}function BD(t,e){const n=[];for(let s of t){if(s<0){if(!e)throw new Error(`Dimension ${s} must be >= 0`);if(s<-1)throw new Error(`Dimension ${s} must be >= -1`);s=-1}n.push(s)}return n}function sG(t,e,n,s,r,o,a,i,l,u){return new yb(t,e,n,s,r,o,a,i,l,u).compute()}function rG(t,e,n,s){const r=t===e,o=t<e&&n<0,a=e<t&&n>1;if(r||o||a)return or(0,s);const i=Math.abs(Math.ceil((e-t)/n)),l=or(i,s);e<t&&n===1&&(n=-1),l[0]=t;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}const oG=vc(t=>1/Math.sqrt(t)),nvt=fm(Lp,oG),svt={kernelName:Lp,backendName:"cpu",kernelFunc:nvt};function zf(t,e,n,s,r,o,a,i,l,u){const c=[s/r,r],d=t.values,f=e.values;if(s===0)return tn(n,e.dtype);const h=tn(c,e.dtype);typeof l=="string"||typeof l=="number"?h.values.fill(l):typeof l=="boolean"&&h.values.fill(+l);for(let p=0;p<o;p++){const m=[];let g=0;for(let y=0;y<a;y++){const w=d[p*a+y];m.push(w),g+=w*i[y]}if(g<0||g>=s/r)throw new Error(`Invalid indices: ${m} does not index into ${n}`);for(let y=0;y<r;y++)u?h.values[g*r+y]+=f[p*r+y]:h.values[g*r+y]=e.rank===0?f[0]:f[p*r+y]}return h}const rvt=vc(t=>1/(1+Math.exp(-t))),aG=An(Wp,t=>1/(1+Math.exp(-t))),ovt={kernelName:Wp,backendName:"cpu",kernelFunc:aG};function iG(t,e,n,s,r){const o=c8(s,e,n),a=Ge(n),i=Mt(s);if(o){const d=d8(e,i);return r==="string"?t.slice(d,d+a):t.subarray(d,d+a)}const l=r==="string"?Md(t):t,u=tn(s,r,l),c=tn(n,r);for(let d=0;d<c.size;++d){const f=c.indexToLoc(d),h=f.map((p,m)=>p+e[m]);c.set(u.get(...h),...f)}return r==="string"?XH(c.values):c.values}function Bd(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{begin:o,size:a}=s;Tt(r,"slice");const[i,l]=L_(r,o,a);l8(r,i,l);const u=n.data.get(r.dataId).values,c=iG(u,i,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,c)}const avt={kernelName:D1,backendName:"cpu",kernelFunc:Bd};function lG(t,e,n,s,r,o,a){const i=e[0],l=o[0],u=new Array(l),c=new Array(i),d=e[1];if(l===0){if(i!==0)throw new Error(MH(i));const g=gs(n,0),y=gs(r,0);return[g,[0,d],y,u,c]}let f=!0,h=0;const p=new Array(l).fill(0);for(let g=0;g<i;++g){const y=t[g*d];if(y<0)throw new Error(PH(g,y));if(y>=l)throw new Error(LH(g,y,l));++p[y],f=f&&y>=h,h=y}let m=!0;for(let g=0;g<l;++g){const y=p[g]===0;u[g]=y,m=m&&!y,p[g]=Math.max(p[g],1),g>0&&(p[g]+=p[g-1])}if(m&&f){const g=t,y=s;for(let w=0;w<i;++w)c[w]=w;return[g,[i,d],y,u,c]}else{const g=p[l-1],y=gs(n,g*d),w=gs(r,g),b=new Array(l).fill(0);for(let _=0;_<i;++_){const $=t[_*d],x=b[$],k=($===0?0:p[$-1])+x;b[$]++;for(let C=0;C<d;++C)y[k*d+C]=t[_*d+C];w[k]=s[_],c[_]=k}for(let _=0;_<l;++_)if(b[_]===0){const x=_===0?0:p[_-1];y[x*d+0]=_;for(let k=1;k<d;++k)y[x*d+k]=0;w[x]=a}return[y,[g,d],w,u,c]}}function uG(t,e,n,s,r){const o=Ge(s),a=e[0],i=r.length,l=[];let u=1,c=-1;for(let g=0;g<i;++g){const y=r[g];if(y===-1){if(c!==-1)throw new Error(zH(c,g));c=g,l.push(1)}else{if(y<0)throw new Error(BH(g,y));u*=y,l.push(y)}}if(c!==-1){if(u<=0)throw new Error(VH());const g=Math.trunc(o/u);if(u*g!==o)throw new Error(HH(s,l));l[c]=g}if(Ge(l)!==o)throw new Error(WH(s,l));const f=s.length,h=[];if(f>0){h[f-1]=1;for(let g=f-2;g>=0;--g)h[g]=h[g+1]*s[g+1]}const p=[];if(i>0){p[i-1]=1;for(let g=i-2;g>=0;--g)p[g]=p[g+1]*l[g+1]}const m=gs(n,a*i);for(let g=0;g<a;++g){let y=0;for(let w=0;w<f;++w)y+=t[g*f+w]*h[w];for(let w=0;w<i;++w)m[g*i+w]=Math.trunc(y/p[w]),y%=p[w]}return[m,[a,i],l]}function wE(t,e,n,s,r,o=!1,a=0){const i=s.length,l=[e[0],t.length/e[0]],u=l[1],d=i>0?r[i-1]+1:0;if(d<0)throw new Error(kx());const f=e.slice();f[0]=d;const h=f.reduce((b,_)=>b*_,1),p=gs(n,h);if(i===0)return d>0&&p.fill(a),[p,f];if(d<=0)throw new Error(kx());let m=0,g=1,y=0,w=r[m];for(;;){let b=0;if(g<i){if(b=r[g],w===b){++g;continue}if(w>=b)throw new Error(UH())}if(w<0||w>=d)throw new Error(GH(w,d));w>y&&p.fill(a,y*u,w*u);for(let _=m;_<g;++_){const $=s[_];if($<0||$>=l[0])throw new Error(jH(_,s[_],l[0]));for(let x=0;x<u;x++)p[w*u+x]+=t[$*u+x]}if(o)for(let _=0;_<u;_++)p[w*u+_]/=g-m;if(m=g,++g,y=w+1,w=b,g>i)break}return y<d&&p.fill(a,y*u,d*u),[p,f]}const ivt=vc(t=>Math.sqrt(t)),lvt=An(Gp,t=>Math.sqrt(t)),uvt={kernelName:Gp,backendName:"cpu",kernelFunc:lvt};const cG=Es((t,e)=>{const n=t-e;return n*n}),cvt=Ks(jp,cG),dvt={kernelName:jp,backendName:"cpu",kernelFunc:cvt};function dG(t,e,n,s){const r=tn(t,e.dtype);for(let o=0;o<r.size;o++){const a=r.indexToLoc(o),i=new Array(a.length);for(let l=0;l<i.length;l++)i[l]=a[l]*n[l]+s[l];r.set(e.get(...i),...a)}return r}class fvt{constructor(e,n,s,r,o,a){this.separator=Oi(e),this.nGramWidths=n,this.leftPad=Oi(s),this.rightPad=Oi(r),this.padWidth=o,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const s=this.getPadWidth(n);return Math.max(0,e+2*s-n+1)}createNGrams(e,n,s,r,o,a){for(let i=0;i<o;++i){const l=this.getPadWidth(a),u=Math.max(0,l-i),c=Math.max(0,l-(o-(i+1))),d=a-(u+c),f=n+(u>0?0:i-l);let h=0;h+=u*this.leftPad.length;for(let w=0;w<d;++w)h+=e[f+w].length;h+=c*this.rightPad.length;const p=u+c+d-1;h+=p*this.separator.length,s[r+i]=new Uint8Array(h);const m=s[r+i];let g=0;const y=w=>w.forEach(b=>m[g++]=b);for(let w=0;w<u;++w)y(this.leftPad),y(this.separator);for(let w=0;w<d-1;++w)y(e[f+w]),y(this.separator);if(d>0){y(e[f+d-1]);for(let w=0;w<c;++w)y(this.separator),y(this.rightPad)}else{for(let w=0;w<c-1;++w)y(this.rightPad),y(this.separator);y(this.rightPad)}}}compute(e,n){const s=e.length,r=n.length;if(r>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<r;++u){let c=n[u]>=l;if(c=c&&n[u]<=s,!c)throw new Error(`Invalid split value ${n[u]}, must be in [${l}, ${s}]`);l=n[u]}if(l!==s)throw new Error(`Last split value must be data size. Expected ${s}, got ${l}`)}const o=r-1,a=gs("int32",r);if(s===0||r===0){const l=new Array(s);for(let u=0;u<=o;++u)a[u]=0;return[l,a]}a[0]=0;for(let l=1;l<=o;++l){const u=n[l]-n[l-1];let c=0;this.nGramWidths.forEach(d=>{c+=this.getNumNGrams(u,d)}),this.preserveShort&&u>0&&c===0&&(c=1),a[l]=a[l-1]+c}const i=new Array(a[o]);for(let l=0;l<o;++l){const u=n[l];let c=a[l];if(this.nGramWidths.forEach(d=>{const f=n[l+1]-n[l],h=this.getNumNGrams(f,d);this.createNGrams(e,u,i,c,h,d),c+=h}),this.preserveShort&&c===a[l]){const d=n[l+1]-n[l];if(d===0)continue;const f=d+2*this.padWidth,h=1;this.createNGrams(e,u,i,c,h,f)}}return[i,a]}}function fG(t,e,n,s,r,o,a,i){return new fvt(n,s,r,o,a,i).compute(t,e)}function hvt(t,e,n,s){if(!t.length)return;if(e.length===0){for(let o=0;o<t.length;++o)s.push(t.subarray(o,o+1));return}if(e.length===1){const o=e[0];let a=t.indexOf(o);for(;a!==-1;){const i=t.subarray(0,a);(!n||i.length!==0)&&s.push(i),t=t.subarray(a+1),a=t.indexOf(o)}(!n||t.length!==0)&&s.push(t);return}let r=0;for(let o=0;o<t.length+1;o++)if(o===t.length||e.indexOf(t[o])!==-1){const a=t.subarray(r,o);(!n||a.length!==0)&&s.push(a),r=o+1}}function hG(t,e,n){const s=t.length,r=[];let o=0,a=0;const i=new Array(s);for(let f=0;f<s;++f){const h=r.length;hvt(t[f],e,n,r);const p=r.length-h;i[f]=p,o+=p,a=Math.max(a,p)}const l=gs("int32",o*2),u=new Array(o),c=[s,a];let d=0;for(let f=0;f<s;++f)for(let h=0;h<i[f];++h)l[d*2]=f,l[d*2+1]=h,u[d]=r[d],++d;return[l,u,c]}function pG(t,e){const n=gs("int32",t.length);for(let s=0;s<t.length;++s)n[s]=FB(t[s]).modulo(e).getLowBitsUnsigned();return n}const mG=Es((t,e)=>t-e),pvt=gE((t,e,n,s)=>({real:t-n,imag:e-s})),_E=Ks(Kp,mG,pvt),mvt={kernelName:Kp,backendName:"cpu",kernelFunc:_E};function gG(t,e){const n=new Array(t.rank);for(let r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];const s=tn(n,t.dtype);for(let r=0;r<s.values.length;++r){const o=s.indexToLoc(r),a=new Array(t.rank);for(let l=0;l<a.length;l++)a[l]=o[l]%t.shape[l];const i=t.locToIndex(a);s.values[r]=t.values[i]}return s}const qm=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function vG(t,e,n=0,s=t.length-1){for(;s>n;){if(s-n>600){const i=s-n+1,l=e-n+1,u=Math.log(i),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(i-c)/i)*Math.sign(l-i/2),f=Math.max(n,Math.floor(e-l*c/i+d)),h=Math.min(s,Math.floor(e+(i-l)*c/i+d));vG(t,e,f,h)}const r=t[e];let o=n,a=s;for(hl(t,n,e),qm(t[s],r)>0&&hl(t,n,s);o<a;){for(hl(t,o,a),o++,a--;qm(t[o],r)<0;)o=o+1;for(;qm(t[a],r)>0;)a=a-1}qm(t[n],r)===0?hl(t,n,a):(a=a+1,hl(t,a,s)),a<=e&&(n=a+1),e<=a&&(s=a-1)}}function yG(t,e,n,s,r){const o=e[e.length-1],[a,i]=[t.length/o,o],l=zs(n,a*s),u=zs("int32",a*s);for(let d=0;d<a;d++){const f=d*i,h=t.subarray(f,f+i);let p=new Array(h.length);h.forEach((w,b)=>p[b]={value:w,index:b}),s<p.length&&(vG(p,s),p=p.slice(0,s)),r&&p.sort(qm);const m=d*s,g=l.subarray(m,m+s),y=u.subarray(m,m+s);for(let w=0;w<s;w++)g[w]=p[w].value,y[w]=p[w].index}const c=e.slice();return c[c.length-1]=s,[tn(c,n,l),tn(c,"int32",u)]}function bG(t,e,n,s){const r=un(e,n)[0],o=[1,n[0],1];for(let p=0;p<r;p++)o[0]*=n[p];o[1]=n[r];for(let p=r+1;p<n.length;p++)o[2]*=n[p];const a={},i=new Int32Array(n[r]),l=new Ds(o,s,t),u=[],c=o[0]===1&&o[2]===1;for(let p=0;p<n[r];p++){let m;if(c)m=t[p].toString();else{const g=[];for(let y=0;y<o[0];y++)for(let w=0;w<o[2];w++)g.push(l.get(y,p,w));m=g.join(",")}if(a[m]!==void 0)i[p]=a[m];else{const g=Object.keys(a).length;a[m]=g,i[p]=g,u.push(p)}}const d=o.slice();d[1]=Object.keys(a).length;const f=new Ds(d,s);u.forEach((p,m)=>{for(let g=0;g<o[0];g++)for(let y=0;y<o[2];y++)f.set(l.get(g,p,y),g,m,y)});const h=n.slice();return h[r]=d[1],{outputValues:f.values,outputShape:h,indices:i}}const gvt=Object.freeze(Object.defineProperty({__proto__:null,simpleAbsImpl:EU,addImpl:AU,bincountImpl:vE,bincountReduceImpl:OU,castImpl:IU,ceilImpl:RU,concatImpl:DU,equalImpl:FU,expImpl:PU,expm1Impl:zU,floorImpl:BU,gatherNdImpl:VU,gatherV2Impl:HU,greaterImpl:WU,greaterEqualImpl:UU,lessImpl:GU,lessEqualImpl:jU,linSpaceImpl:KU,logImpl:qU,maxImpl:XU,maximumImpl:YU,minimumImpl:ZU,multiplyImpl:yE,negImpl:JU,notEqualImpl:QU,prodImpl:eG,raggedGatherImpl:tG,raggedRangeImpl:nG,raggedTensorToTensorImpl:sG,rangeImpl:rG,rsqrtImpl:oG,scatterImpl:zf,sigmoidImpl:rvt,sliceImpl:iG,sparseFillEmptyRowsImpl:lG,sparseReshapeImpl:uG,sparseSegmentReductionImpl:wE,sqrtImpl:ivt,squaredDifferenceImpl:cG,stridedSliceImpl:dG,stringNGramsImpl:fG,stringSplitImpl:hG,stringToHashBucketFastImpl:pG,subImpl:mG,tileImpl:gG,topKImpl:yG,transposeImpl:bE,uniqueImpl:bG},Symbol.toStringTag,{value:"Module"}));const vvt="4.1.0";r8("cpu",()=>new Y3,1);const wG=An(gp,t=>t>=0?t:Math.exp(t)-1),yvt={kernelName:gp,backendName:"cpu",kernelFunc:wG};function _G(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{alpha:o}=s;Tt([r],"leakyRelu");const a=Ge(r.shape),i=n.data.get(r.dataId).values,l=zs("float32",a);for(let u=0;u<i.length;u++)l[u]=i[u]<0?o*i[u]:i[u];return n.makeTensorInfo(r.shape,"float32",l)}const bvt={kernelName:l1,backendName:"cpu",kernelFunc:_G};const wvt=Es((t,e)=>t<0?e*t:t);function $G(t){const{inputs:e,backend:n}=t,{x:s,alpha:r}=e;Tt([s,r],"prelu");const o=n.data.get(s.dataId).values,a=n.data.get(r.dataId).values,[i,l]=wvt(s.shape,r.shape,o,a,"float32");return n.makeTensorInfo(l,"float32",i)}const _vt={kernelName:T1,backendName:"cpu",kernelFunc:$G};const xG=An(Fp,t=>Math.max(0,t)),$vt={kernelName:Fp,backendName:"cpu",kernelFunc:xG};const SG=An(Mp,t=>Math.min(Math.max(0,t),6)),xvt={kernelName:Mp,backendName:"cpu",kernelFunc:SG};function bb(t,e,n,s,r){if(n==="linear")return Wi({inputs:{x:e},backend:t});if(n==="relu")return xG({inputs:{x:e},backend:t});if(n==="elu")return wG({inputs:{x:e},backend:t});if(n==="relu6")return SG({inputs:{x:e},backend:t});if(n==="prelu")return $G({inputs:{x:e,alpha:s},backend:t});if(n==="leakyrelu")return _G({inputs:{x:e},backend:t,attrs:{alpha:r}});if(n==="sigmoid")return aG({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function Gn(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{shape:o}=s,a=Ge(r.shape),i=zk(o,a),l=Ge(i);q(a===l,()=>`The new shape (${i}) has ${l} elements and the old shape (${r.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`),n.incRef(r.dataId);const u=n.data.get(r.dataId);if(u.complexTensorInfos!=null){const c=u.complexTensorInfos.real,d=u.complexTensorInfos.imag;c.shape=i,d.shape=i}return{dataId:r.dataId,shape:i,dtype:r.dtype}}const Svt={kernelName:E1,backendName:"cpu",kernelFunc:Gn};function CG(t){const{inputs:e,backend:n,attrs:s}=t,{a:r,b:o}=e,{transposeA:a,transposeB:i}=s;Tt([r,o],"matMul");const l=r.shape.length,u=o.shape.length,c=a?r.shape[l-2]:r.shape[l-1],d=i?o.shape[u-1]:o.shape[u-2],f=a?r.shape[l-1]:r.shape[l-2],h=i?o.shape[u-2]:o.shape[u-1],p=r.shape.slice(0,-2),m=o.shape.slice(0,-2),g=Ge(p),y=Ge(m),b=Yt(r.shape.slice(0,-2),o.shape.slice(0,-2)).concat([f,h]);q(c===d,()=>`Error in matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${r.shape} and ${o.shape} and transposeA=${a} and transposeB=${i} must match.`);const _=a?[g,c,f]:[g,f,c],$=i?[y,h,d]:[y,d,h],x=Gn({inputs:{x:r},backend:n,attrs:{shape:_}}),k=Gn({inputs:{x:o},backend:n,attrs:{shape:$}}),C=a?x.shape[1]:x.shape[2],T=a?x.shape[2]:x.shape[1],N=i?k.shape[1]:k.shape[2],M=Math.max(g,y),R=n.data.get(x.dataId).values,D=n.data.get(k.dataId).values,z=Mt(x.shape),B=Mt(k.shape),[V,O,F]=a?[z[0],1,z[1]]:[z[0],z[1],1],[L,G,Z]=i?[1,B[1],B[0]]:[B[1],1,B[0]],j=T*N,J=tn([M,T,N],x.dtype),fe=J.values,X=n.blockSize;for(let oe=0;oe<M;oe++)for(let ee=0;ee<T;ee+=X)for(let Q=0;Q<N;Q+=X)for(let ie=0;ie<C;ie+=X){const pe=Math.min(ee+X,T),Re=Math.min(Q+X,N),K=Math.min(ie+X,C);for(let re=ee;re<pe;re++)for(let we=Q;we<Re;we++){let Ie=0;for(let De=ie;De<K;De++){const _e=Math.min(oe,g-1)*V,ze=Math.min(oe,y-1)*Z,Ae=R[_e+re*O+De*F],he=D[De*L+we*G+ze];Ie+=Ae*he}fe[oe*j+(re*N+we)]+=Ie}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(b,J.dtype,J.values)}const Cvt={kernelName:Kg,backendName:"cpu",kernelFunc:CG};function kvt(t){const{inputs:e,backend:n,attrs:s}=t,{a:r,b:o,bias:a,preluActivationWeights:i}=e,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=s;let f,h,p;const m=[];f=CG({inputs:{a:r,b:o},attrs:{transposeA:l,transposeB:u},backend:n}),a&&(h=Rh({inputs:{a:f,b:a},backend:n}),m.push(f),f=h),c&&(p=bb(n,f,c,i,d),m.push(f),f=p);for(const y of m)n.disposeIntermediateTensorInfo(y);return f}const Tvt={kernelName:Y0,backendName:"cpu",kernelFunc:kvt};const Nvt=An(sp,t=>Math.acos(t)),Evt={kernelName:sp,backendName:"cpu",kernelFunc:Nvt};const Ivt=An(rp,t=>Math.acosh(t)),Avt={kernelName:rp,backendName:"cpu",kernelFunc:Ivt};function Ovt(t){const{inputs:e,backend:n}=t,s=e;Tt(e,"addN");const r=s.map(i=>n.data.get(i.dataId).values),o=tn(s[0].shape,s[0].dtype),a=o.values;for(let i=0;i<s.length;i++){const l=r[i];for(let u=0;u<a.length;u++)a[u]+=l[u]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}const Rvt={kernelName:Hg,backendName:"cpu",kernelFunc:Ovt};function Dvt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s;Tt(r,"all");const i=un(o,r.shape);let l=i;const u=hs(l,r.shape.length);let c=r;u!=null&&(c=eo({inputs:{x:r},backend:n,attrs:{perm:u}}),l=bs(l.length,r.shape.length)),cr("all",l,c.shape.length);const[d,f]=js(c.shape,l),h=Ge(f),p=or(Ge(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<p.length;++y){const w=y*h;let b=m[w];for(let _=0;_<h;++_){const $=m[w+_];b=b&&$}p[y]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,p);if(a){const y=ys(d,i),w=Gn({inputs:{x:g},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(g),w}return g}const Fvt={kernelName:Iw,backendName:"cpu",kernelFunc:Dvt};function Mvt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s;Tt(r,"any");const i=un(o,r.shape);let l=i;const u=hs(l,r.shape.length);let c=r;u!=null&&(c=eo({inputs:{x:r},backend:n,attrs:{perm:u}}),l=bs(l.length,r.shape.length)),cr("any",l,c.shape.length);const[d,f]=js(c.shape,l),h=Ge(f),p=or(Ge(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<p.length;++y){const w=y*h;let b=m[w];for(let _=0;_<h;++_){const $=m[w+_];b=b||$}p[y]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,p);if(a){const y=ys(d,i),w=Gn({inputs:{x:g},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(g),w}return g}const Pvt={kernelName:Aw,backendName:"cpu",kernelFunc:Mvt};function Lvt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o}=s;Tt(r,"argMax");let a=un(o,r.shape);const i=hs(a,r.shape.length);let l=r;const u=[];i!=null&&(l=eo({inputs:{x:r},backend:n,attrs:{perm:i}}),u.push(l),a=bs(a.length,l.shape.length)),a=[a[0]],cr("argMax",a,l.shape.length);const[c,d]=js(l.shape,a),f=Ge(c),h=or(f,"int32"),p=Ge(d),m=n.data.get(l.dataId).values;for(let g=0;g<h.length;++g){const y=g*p;let w=m[y],b=0;for(let _=0;_<p;++_){const $=m[y+_];$>w&&(w=$,b=_)}h[g]=b}return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(c,"int32",h)}const zvt={kernelName:Wg,backendName:"cpu",kernelFunc:Lvt};function Bvt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o}=s;Tt(r,"argMin");let a=un(o,r.shape);const i=hs(a,r.shape.length);let l=r;const u=[];i!=null&&(l=eo({inputs:{x:r},backend:n,attrs:{perm:i}}),u.push(l),a=bs(a.length,l.shape.length)),a=[a[0]],cr("argMin",a,l.shape.length);const[c,d]=js(l.shape,a),f=Ge(c),h=or(f,"int32"),p=Ge(d),m=n.data.get(l.dataId).values;for(let g=0;g<h.length;++g){const y=g*p;let w=m[y],b=0;for(let _=0;_<p;++_){const $=m[y+_];$<w&&(w=$,b=_)}h[g]=b}return u.forEach(g=>n.disposeIntermediateTensorInfo(g)),n.makeTensorInfo(c,"int32",h)}const Vvt={kernelName:Ug,backendName:"cpu",kernelFunc:Bvt};const Hvt=An(op,t=>Math.asin(t)),Wvt={kernelName:op,backendName:"cpu",kernelFunc:Hvt};const Uvt=An(ap,t=>Math.asinh(t)),Gvt={kernelName:ap,backendName:"cpu",kernelFunc:Uvt};const jvt=An(ip,t=>Math.atan(t)),Kvt={kernelName:ip,backendName:"cpu",kernelFunc:jvt};const qvt=Es((t,e)=>Math.atan2(t,e)),Xvt=Ks(up,qvt),Yvt={kernelName:up,backendName:"cpu",kernelFunc:Xvt};const Zvt=An(lp,t=>Math.atanh(t)),Jvt={kernelName:lp,backendName:"cpu",kernelFunc:Zvt};function $E(t,e,n,s,r,o){const a=r.strideHeight,i=r.strideWidth,l=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,d=r.effectiveFilterWidth,f=r.padInfo.top,h=r.padInfo.left,p=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=tn(r.outShape,n),g=m.values,y=r.outShape[1]*r.outShape[2]*r.outShape[3],w=r.outShape[2]*r.outShape[3],b=r.outShape[3];for(let _=0;_<r.batchSize;++_){const $=_*y,x=_*s[0];for(let k=0;k<r.inChannels;++k)for(let C=0;C<r.outHeight;++C){const T=C*a-f,N=Math.max(0,T),M=Math.min(r.inHeight,c+T),R=$+C*w;for(let D=0;D<r.outWidth;++D){const z=D*i-h,B=Math.max(0,z),V=Math.min(r.inWidth,d+z);let O=p,F=0,L=0;for(let Z=N;Z<M;Z+=l){const j=x+Z*s[1];for(let J=B;J<V;J+=u){const fe=j+J*s[2],X=t[fe+k];o==="max"&&X>O?O=X:o==="avg"&&(F+=X,L++)}if(isNaN(O))break}const G=R+D*b+k;g[G]=o==="avg"?F/L:O}}}return m}function kG(t,e,n,s,r=!1,o=!1){const a=tn(s.outShape,"int32"),i=s.strideHeight,l=s.strideWidth,u=s.dilationHeight,c=s.dilationWidth,d=s.effectiveFilterHeight,f=s.effectiveFilterWidth,h=s.padInfo.top,p=s.padInfo.left,m=tn(e,n,t);for(let g=0;g<s.batchSize;++g)for(let y=0;y<s.inChannels;++y)for(let w=0;w<s.outHeight;++w){const b=w*i-h;let _=b;for(;_<0;)_+=u;const $=Math.min(s.inHeight,d+b);for(let x=0;x<s.outWidth;++x){const k=x*l-p;let C=k;for(;C<0;)C+=c;const T=Math.min(s.inWidth,f+k);let N=Number.NEGATIVE_INFINITY,M=-1;for(let R=_;R<$;R+=u){const D=R-b;for(let z=C;z<T;z+=c){const B=z-k,V=m.get(g,R,z,y);V>N&&(N=V,r?M=o?((g*s.inHeight+R)*s.inWidth+z)*s.inChannels+y:(R*s.inWidth+z)*s.inChannels+y:M=D*f+B)}}a.set(M,g,w,x,y)}}return a}function TG(t,e,n,s,r,o){const a=r.strideDepth,i=r.strideHeight,l=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,d=r.dilationWidth,f=r.effectiveFilterDepth,h=r.effectiveFilterHeight,p=r.effectiveFilterWidth,m=r.padInfo.front,g=r.padInfo.top,y=r.padInfo.left,w=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=tn(r.outShape,n),_=b.values,$=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],x=r.outShape[2]*r.outShape[3]*r.outShape[4],k=r.outShape[3]*r.outShape[4],C=r.outShape[4];for(let T=0;T<r.batchSize;++T){const N=T*$,M=T*s[0];for(let R=0;R<r.inChannels;++R)for(let D=0;D<r.outDepth;++D){const z=D*a-m;let B=z;for(;B<0;)B+=u;const V=Math.min(r.inDepth,f+z),O=N+D*x;for(let F=0;F<r.outHeight;++F){const L=F*i-g;let G=L;for(;G<0;)G+=c;const Z=Math.min(r.inHeight,h+L),j=O+F*k;for(let J=0;J<r.outWidth;++J){const fe=J*l-y;let X=fe;for(;X<0;)X+=d;const oe=Math.min(r.inWidth,p+fe),ee=j+J*C;let Q=w,ie=0,pe=0;for(let K=B;K<V;K+=u){const re=M+K*s[1];for(let we=G;we<Z;we+=c){const Ie=re+we*s[2];for(let De=X;De<oe;De+=d){const _e=Ie+De*s[3],ze=t[_e+R];if(o==="max"&&ze>Q?Q=ze:o==="avg"&&(ie+=ze,pe++),isNaN(Q))break}if(isNaN(Q))break}if(isNaN(Q))break}const Re=ee+R;_[Re]=o==="avg"?ie/pe:Q}}}}return b}function Qvt(t,e){const n=tn(e.outShape,"int32"),s=e.strideDepth,r=e.strideHeight,o=e.strideWidth,a=e.dilationDepth,i=e.dilationHeight,l=e.dilationWidth,u=e.effectiveFilterDepth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=e.padInfo.front,h=e.padInfo.top,p=e.padInfo.left;for(let m=0;m<e.batchSize;++m)for(let g=0;g<e.inChannels;++g)for(let y=0;y<e.outDepth;++y){const w=y*s-f;let b=w;for(;b<0;)b+=a;const _=Math.min(e.inDepth,u+w);for(let $=0;$<e.outHeight;++$){const x=$*r-h;let k=x;for(;k<0;)k+=i;const C=Math.min(e.inHeight,c+x);for(let T=0;T<e.outWidth;++T){const N=T*o-p;let M=N;for(;M<0;)M+=l;const R=Math.min(e.inWidth,d+N);let D=Number.NEGATIVE_INFINITY,z=-1;for(let B=b;B<_;B+=a){const V=B-w;for(let O=k;O<C;O+=i){const F=O-x;for(let L=M;L<R;L+=l){const G=L-N,Z=t.get(m,B,O,L,g);Z>=D&&(D=Z,z=V*c*d+F*c+G)}}}n.set(z,m,y,$,T,g)}}}return n}function eyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;Tt(r,"avgPool");const{filterSize:o,strides:a,pad:i,dimRoundingMode:l}=s,u=1;q(ur(a,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=Na(r.shape,o,a,u,i,l);let d;if(c.filterWidth===1&&c.filterHeight===1&&hn(c.inShape,c.outShape))d=Wi({inputs:{x:r},backend:n});else{const f=n.data.get(r.dataId).values,h=Mt(r.shape),p=$E(f,r.shape,r.dtype,h,c,"avg");d=n.makeTensorInfo(c.outShape,r.dtype,p.values)}return d}const tyt={kernelName:Gg,backendName:"cpu",kernelFunc:eyt};function nyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{filterSize:o,strides:a,pad:i,dimRoundingMode:l,dataFormat:u}=s;Tt(r,"avgPool3d");const c=Xl(r.shape,o,a,1,i,l,u),d=n.data.get(r.dataId).values,f=TG(d,r.shape,r.dtype,Mt(r.shape),c,"avg");return n.makeTensorInfo(f.shape,"float32",f.values)}const syt={kernelName:jg,backendName:"cpu",kernelFunc:nyt};function ryt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:o}=e,{filterSize:a,strides:i,pad:l,dimRoundingMode:u}=s;Tt([r,o],"avgPool3DGrad");const c=Xl(o.shape,a,i,1,l,u),d=c.strideDepth,f=c.strideHeight,h=c.strideWidth,p=c.filterDepth,m=c.filterHeight,g=c.filterWidth,y=c.dilationDepth,w=c.dilationHeight,b=c.dilationWidth,_=c.effectiveFilterDepth,$=c.effectiveFilterHeight,x=c.effectiveFilterWidth,k=_-1-c.padInfo.front,C=x-1-c.padInfo.left,T=$-1-c.padInfo.top,N=tn(o.shape,"float32"),M=1/(p*m*g),R=n.bufferSync(r);for(let D=0;D<c.batchSize;++D)for(let z=0;z<c.inChannels;++z)for(let B=0;B<c.inDepth;++B)for(let V=0;V<c.inHeight;++V)for(let O=0;O<c.inWidth;++O){const F=B-k,L=V-T,G=O-C;let Z=0;for(let j=0;j<_;j+=y){const J=(F+j)/d;if(!(J<0||J>=c.outDepth||Math.floor(J)!==J))for(let fe=0;fe<$;fe+=w){const X=(L+fe)/f;if(!(X<0||X>=c.outHeight||Math.floor(X)!==X))for(let oe=0;oe<x;oe+=b){const ee=(G+oe)/h;if(ee<0||ee>=c.outWidth||Math.floor(ee)!==ee)continue;const Q=R.get(D,J,X,ee,z);Z+=Q}}}N.set(Z*M,D,B,V,O,z)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}const oyt={kernelName:Rw,backendName:"cpu",kernelFunc:ryt};function ayt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:o}=e,a=o;Tt([r,o],"avgPoolGrad");const{filterSize:i,strides:l,pad:u}=s,c=Na(a.shape,i,l,1,u),d=c.strideHeight,f=c.strideWidth,h=c.filterHeight,p=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,y=c.effectiveFilterHeight,w=c.effectiveFilterWidth,b=w-1-c.padInfo.left,_=y-1-c.padInfo.top,$=tn(a.shape,"float32"),x=1/(h*p),k=n.data.get(r.dataId).values,C=tn(r.shape,"float32",k);for(let T=0;T<c.batchSize;++T)for(let N=0;N<c.inChannels;++N)for(let M=0;M<c.inHeight;++M)for(let R=0;R<c.inWidth;++R){const D=M-_,z=R-b;let B=0;for(let V=0;V<y;V+=m){const O=(D+V)/d;if(!(O<0||O>=c.outHeight||Math.floor(O)!==O))for(let F=0;F<w;F+=g){const L=(z+F)/f;if(L<0||L>=c.outWidth||Math.floor(L)!==L)continue;const G=C.get(T,O,L,N);B+=G}}$.set(B*x,T,M,R,N)}return n.makeTensorInfo($.shape,$.dtype,$.values)}const iyt={kernelName:Ow,backendName:"cpu",kernelFunc:ayt};function lyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,scale:o,offset:a,mean:i,variance:l}=e;q(i.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),q(a==null||i.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),q(o==null||i.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Tt([r,i,l,o,a],"batchNorm");let{varianceEpsilon:u}=s;u==null&&(u=.001);const c=n.data.get(r.dataId).values,d=n.data.get(i.dataId).values,f=n.data.get(l.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),p=a?n.data.get(a.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=p.length,y=h.length,w=f.length,b=d.length;let _=0,$=0,x=0,k=0;for(let C=0;C<c.length;++C)m[C]=p[_++]+(c[C]-d[$++])*h[x++]/Math.sqrt(f[k++]+u),_>=g&&(_=0),$>=b&&($=0),x>=y&&(x=0),k>=w&&(k=0);return n.makeTensorInfo(r.shape,r.dtype,m)}const uyt={kernelName:o1,backendName:"cpu",kernelFunc:lyt};function cyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockShape:o,crops:a}=s;Tt([r],"batchToSpaceND");const i=o.reduce((y,w)=>y*w),l=l2(r.shape,o,i),u=u2(l.length,o.length),c=c2(r.shape,o,i),d=wT(a,o.length),f=_T(c,a,o.length),h=Gn({inputs:{x:r},backend:n,attrs:{shape:l}}),p=eo({inputs:{x:h},backend:n,attrs:{perm:u}}),m=Gn({inputs:{x:p},backend:n,attrs:{shape:c}}),g=Bd({inputs:{x:m},backend:n,attrs:{begin:d,size:f}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}const dyt={kernelName:qg,backendName:"cpu",kernelFunc:cyt};function fyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,weights:o}=e,{size:a}=s,i=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,u=vE(i,l,o.dtype,o.shape,a);return n.makeTensorInfo([a],o.dtype,u)}const hyt={kernelName:Dw,backendName:"cpu",kernelFunc:fyt};function pyt(t){const{inputs:e,backend:n}=t,{s0:s,s1:r}=e,o=n.data.get(s.dataId).values,a=n.data.get(r.dataId).values,i=Yt(Array.from(o),Array.from(a));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}const myt={kernelName:Fw,backendName:"cpu",kernelFunc:pyt};const gyt=An(fp,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),vyt={kernelName:fp,backendName:"cpu",kernelFunc:gyt};const yyt=t=>{const{x:e}=t.inputs,n=t.backend,s=new Float32Array(Ge(e.shape)),r=n.data.get(e.dataId),o=r.complexTensorInfos.real,a=r.complexTensorInfos.imag,i=n.data.get(o.dataId).values,l=n.data.get(a.dataId).values;for(let u=0;u<i.length;u++){const c=i[u],d=l[u];s[u]=Math.hypot(c,d)}return n.makeOutput(s,e.shape,"float32")},byt={kernelName:Xg,backendName:"cpu",kernelFunc:yyt};function Dh(t){const{inputs:e,backend:n}=t,{input:s}=e,r=n.data.get(s.dataId).complexTensorInfos.imag,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}const wyt={kernelName:e_,backendName:"cpu",kernelFunc:Dh};function Fh(t){const{inputs:e,backend:n,attrs:s}=t,{axis:r}=s,o=un(r,e[0].shape)[0],a=e.map(m=>m.shape);vT(a,o);let i=Di(e.map(m=>m.shape),o);if(Ge(i)===0)return n.makeTensorInfo(i,e[0].dtype,[]);const l=e.filter(m=>Ge(m.shape)>0);if(l.length===1)return Wi({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const m=l.map(_=>zd({inputs:{input:_},backend:n})),g=l.map(_=>Dh({inputs:{input:_},backend:n})),y=Fh({inputs:m,backend:n,attrs:{axis:o}}),w=Fh({inputs:g,backend:n,attrs:{axis:o}}),b=fo({inputs:{real:y,imag:w},backend:n});return m.forEach(_=>n.disposeIntermediateTensorInfo(_)),g.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(w),b}const u=l.map(m=>{const y=[-1,Ge(m.shape.slice(o))];return Gn({inputs:{x:m},backend:n,attrs:{shape:y}})}),c=u.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));i=Di(u.map(m=>m.shape),1);const d=u[0].shape[0]===1,f=DU(c,i,e[0].dtype,d),h=Di(l.map(m=>m.shape),o),p=n.makeTensorInfo(h,e[0].dtype,f);return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const _yt={kernelName:Yg,backendName:"cpu",kernelFunc:Fh};function NG(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o}=e,{strides:a,pad:i,dataFormat:l,dilations:u,dimRoundingMode:c}=s;Tt([r,o],"conv2d");const d=Yl(l),f=Gs(r.shape,o.shape,a,u,i,c,!1,d),h=f.filterHeight,p=f.filterWidth,m=f.dilationHeight,g=f.dilationWidth,y=f.padInfo.left,w=f.padInfo.top,b=f.dataFormat==="channelsLast",_=new Ds(f.outShape,r.dtype),$=Mt(r.shape),x=Mt(o.shape),k=$[0],C=b?$[1]:$[2],T=b?$[2]:1,N=b?1:$[1],M=_.strides[0],R=b?_.strides[1]:_.strides[2],D=b?_.strides[2]:1,z=b?1:_.strides[1],B=n.data.get(r.dataId).values,V=n.data.get(o.dataId).values,O=_.values;for(let F=0;F<f.batchSize;++F){const L=F*k,G=F*M;for(let Z=0;Z<f.outHeight;++Z){const j=G+Z*R,J=Z*f.strideHeight-w;for(let fe=0;fe<h;++fe){const X=J+fe*m;if(X<0||X>=f.inHeight)continue;const oe=fe*x[0],ee=L+X*C;for(let Q=0;Q<f.outWidth;++Q){const ie=j+Q*D,pe=Q*f.strideWidth-y;for(let Re=0;Re<p;++Re){const K=pe+Re*g;if(K<0||K>=f.inWidth)continue;const re=oe+Re*x[1],we=ee+K*T;let Ie=re;for(let De=0;De<f.inChannels;++De){const _e=B[we+De*N];for(let ze=0;ze<f.outChannels;++ze)O[ie+ze*z]+=_e*V[Ie+ze];Ie+=f.outChannels}}}}}}return n.makeTensorInfo(_.shape,_.dtype,O)}const $yt={kernelName:Zg,backendName:"cpu",kernelFunc:NG};function xyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:o}=e,{strides:a,pad:i,dataFormat:l,dimRoundingMode:u,filterShape:c}=s;Tt([r,o],"conv2dBackpropFilter");const d=Yl(l),f=Gs(r.shape,c,a,1,i,u,!1,d),{strideHeight:h,strideWidth:p,filterHeight:m,filterWidth:g}=f,y=f.dataFormat==="channelsLast",w=new Ds(f.filterShape,"float32"),b=f.padInfo.left,_=f.padInfo.top,$=n.data.get(r.dataId).values,x=n.data.get(o.dataId).values,k=new Ds(r.shape,r.dtype,$),C=new Ds(o.shape,o.dtype,x);for(let T=0;T<m;++T){const N=Math.max(0,Math.ceil((_-T)/h)),M=Math.min(f.outHeight,(f.inHeight+_-T)/h);for(let R=0;R<g;++R){const D=Math.max(0,Math.ceil((b-R)/p)),z=Math.min(f.outWidth,(f.inWidth+b-R)/p);for(let B=0;B<f.inChannels;++B)for(let V=0;V<f.outChannels;++V){let O=0;for(let F=0;F<f.batchSize;++F)for(let L=N;L<M;++L){const G=T+L*h-_;for(let Z=D;Z<z;++Z){const j=R+Z*p-b;y?O+=k.get(F,G,j,B)*C.get(F,L,Z,V):O+=k.get(F,B,G,j)*C.get(F,V,L,Z)}}w.set(O,T,R,B,V)}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const Syt={kernelName:Pw,backendName:"cpu",kernelFunc:xyt};function Cyt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:o}=e,{inputShape:a,strides:i,pad:l,dataFormat:u,dimRoundingMode:c}=s;Tt([r,o],"conv2dBackpropInput");const d=Mt(o.shape),f=Mt(r.shape);let h=Yl(u);const p=Gs(a,o.shape,i,1,l,c,!1,h),m=new Ds(p.inShape,"float32"),g=m.values,y=n.data.get(r.dataId).values,w=n.data.get(o.dataId).values,[b,_,$]=d,{batchSize:x,filterHeight:k,filterWidth:C,inChannels:T,inHeight:N,inWidth:M,outChannels:R,outHeight:D,outWidth:z,strideHeight:B,strideWidth:V}=p;h=p.dataFormat;const O=k-1-p.padInfo.top,F=C-1-p.padInfo.left,L=h==="channelsLast",G=m.strides[0],Z=L?m.strides[1]:m.strides[2],j=L?m.strides[2]:1,J=L?1:m.strides[1],fe=f[0],X=L?f[1]:f[2],oe=L?f[2]:1,ee=L?1:f[1];for(let Q=0;Q<x;++Q)for(let ie=0;ie<T;++ie)for(let pe=0;pe<N;++pe){const Re=pe-O,K=Math.max(0,Math.ceil(Re/B)),re=Math.min(D,(k+Re)/B);for(let we=0;we<M;++we){const Ie=we-F,De=Math.max(0,Math.ceil(Ie/V)),_e=Math.min(z,(C+Ie)/V);let ze=0;for(let he=K;he<re;++he){const ve=he*B-Re;for(let me=De;me<_e;++me){const Ve=me*V-Ie,Ye=fe*Q+X*he+oe*me,Je=b*(k-1-ve)+_*(C-1-Ve)+$*ie;for(let ct=0;ct<R;++ct){const xt=y[Ye+ee*ct],dt=w[Je+ct];ze+=xt*dt}}}const Ae=G*Q+Z*pe+j*we+J*ie;g[Ae]=ze}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const kyt={kernelName:Jg,backendName:"cpu",kernelFunc:Cyt};function Tyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o}=e,{strides:a,pad:i,dilations:l}=s;Tt([r,o],"conv3d");const u=hc(r.shape,o.shape,a,l,i),{filterDepth:c,filterHeight:d,filterWidth:f,dilationDepth:h,dilationHeight:p,dilationWidth:m,padInfo:g}=u,y=g.front,w=g.left,b=g.top,_=new Ds(u.outShape,r.dtype),$=n.data.get(r.dataId).values,x=n.data.get(o.dataId).values,k=_.values,C=Mt(r.shape),T=Mt(o.shape);for(let N=0;N<u.batchSize;++N){const M=N*C[0],R=N*_.strides[0];for(let D=0;D<u.outDepth;++D){const z=R+D*_.strides[1],B=D*u.strideDepth-y;for(let V=0;V<c;++V){const O=B+V*h;if(O<0||O>=u.inDepth)continue;const F=V*T[0],L=M+O*C[1];for(let G=0;G<u.outHeight;++G){const Z=z+G*_.strides[2],j=G*u.strideHeight-b;for(let J=0;J<d;++J){const fe=j+J*p;if(fe<0||fe>=u.inHeight)continue;const X=F+J*T[1],oe=L+fe*C[2];for(let ee=0;ee<u.outWidth;++ee){const Q=Z+ee*u.outChannels,ie=ee*u.strideWidth-w;for(let pe=0;pe<f;++pe){const Re=ie+pe*m;if(Re<0||Re>=u.inWidth)continue;const K=X+pe*T[2],re=oe+Re*u.inChannels;let we=K;for(let Ie=0;Ie<u.inChannels;++Ie){const De=$[re+Ie];for(let _e=0;_e<u.outChannels;++_e)k[Q+_e]+=De*x[we+_e];we+=u.outChannels}}}}}}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const Nyt={kernelName:Qg,backendName:"cpu",kernelFunc:Tyt};function Eyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:o}=e,{strides:a,pad:i,filterShape:l}=s;Tt([r,o],"conv3dBackpropFilterV2");const u=Mt(r.shape),c=Mt(o.shape),d=hc(r.shape,l,a,1,i),f=d.strideDepth,h=d.strideHeight,p=d.strideWidth,m=d.filterDepth,g=d.filterHeight,y=d.filterWidth,w=new Ds(d.filterShape,"float32"),b=w.values,[_,$,x,k]=w.strides,C=n.data.get(o.dataId).values,[T,N,M,R]=c,D=n.data.get(r.dataId).values,[z,B,V,O]=u,F=d.padInfo.front,L=d.padInfo.left,G=d.padInfo.top;for(let Z=0;Z<m;++Z){const j=Math.max(0,Math.ceil((F-Z)/f)),J=Math.min(d.outDepth,(d.inDepth+F-Z)/f),fe=Z*_;for(let X=0;X<g;++X){const oe=Math.max(0,Math.ceil((G-X)/h)),ee=Math.min(d.outHeight,(d.inHeight+G-X)/h),Q=X*$+fe;for(let ie=0;ie<y;++ie){const pe=Math.max(0,Math.ceil((L-ie)/p)),Re=Math.min(d.outWidth,(d.inWidth+L-ie)/p),K=ie*x+Q;for(let re=0;re<d.inChannels;++re){const we=re*k+K;for(let Ie=0;Ie<d.outChannels;++Ie){let De=0;for(let _e=0;_e<d.batchSize;++_e){const ze=_e*z,Ae=_e*T;for(let he=j;he<J;++he){const me=(Z+he*f-F)*B+ze,Ve=he*N+Ae;for(let Ye=oe;Ye<ee;++Ye){const ct=(X+Ye*h-G)*V+me,xt=Ye*M+Ve;for(let dt=pe;dt<Re;++dt){const Ke=(ie+dt*p-L)*O+ct,at=dt*R+xt;De+=D[Ke+re]*C[at+Ie]}}}}b[we+Ie]=De}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const Iyt={kernelName:Lw,backendName:"cpu",kernelFunc:Eyt};function Ayt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:o}=e,{pad:a,strides:i,inputShape:l}=s;Tt([r],"conv3dBackpropInputV2");const u=Mt(r.shape),c=Mt(o.shape),d=hc(l,o.shape,i,1,a),f=new Ds(d.inShape,"float32"),h=f.values,[p,m,g,y]=f.strides,w=n.data.get(r.dataId).values,[b,_,$,x]=u,k=n.data.get(o.dataId).values,[C,T,N,M]=c,{batchSize:R,filterDepth:D,filterHeight:z,filterWidth:B,inChannels:V,inDepth:O,inHeight:F,inWidth:L,outChannels:G,outDepth:Z,outHeight:j,outWidth:J,strideDepth:fe,strideHeight:X,strideWidth:oe}=d,ee=D-1-d.padInfo.front,Q=z-1-d.padInfo.top,ie=B-1-d.padInfo.left;for(let pe=0;pe<R;++pe)for(let Re=0;Re<V;++Re)for(let K=0;K<O;++K){const re=K-ee,we=Math.max(0,Math.ceil(re/fe)),Ie=Math.min(Z,(D+re)/fe);for(let De=0;De<F;++De){const _e=De-Q,ze=Math.max(0,Math.ceil(_e/X)),Ae=Math.min(j,(z+_e)/X);for(let he=0;he<L;++he){const ve=he-ie,me=Math.max(0,Math.ceil(ve/oe)),Ve=Math.min(J,(B+ve)/oe);let Ye=0;for(let Je=we;Je<Ie;++Je){const ct=Je*fe-re;for(let xt=ze;xt<Ae;++xt){const dt=xt*X-_e;for(let xe=me;xe<Ve;++xe){const Ke=xe*oe-ve,at=b*pe+_*Je+$*xt+x*xe,Y=C*(D-1-ct)+T*(z-1-dt)+N*(B-1-Ke)+M*Re;for(let de=0;de<G;++de){const Pe=w[at+de],We=k[Y+de];Ye+=Pe*We}}}}h[p*pe+m*K+g*De+y*he+Re]=Ye}}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}const Oyt={kernelName:zw,backendName:"cpu",kernelFunc:Ayt};const Ryt=An(hp,t=>Math.cos(t)),Dyt={kernelName:hp,backendName:"cpu",kernelFunc:Ryt};const Fyt=An(pp,t=>Math.cosh(t)),Myt={kernelName:pp,backendName:"cpu",kernelFunc:Fyt};function Pyt(t){const{inputs:e,backend:n,attrs:s}=t,{image:r,boxes:o,boxInd:a}=e,{cropSize:i,method:l,extrapolationValue:u}=s,[c,d,f,h]=r.shape,p=o.shape[0],[m,g]=i,y=tn([p,m,g,h],"float32"),w=n.data.get(o.dataId).values,b=n.data.get(a.dataId).values,_=n.data.get(r.dataId).values,$=Mt(r.shape),x=Mt(y.shape);for(let k=0;k<p;k++){const C=k*4,T=w[C],N=w[C+1],M=w[C+2],R=w[C+3],D=b[k];if(D>=c)continue;const z=m>1?(M-T)*(d-1)/(m-1):0,B=g>1?(R-N)*(f-1)/(g-1):0;for(let V=0;V<m;V++){const O=m>1?T*(d-1)+V*z:.5*(T+M)*(d-1);if(O<0||O>d-1){for(let F=0;F<g;F++)for(let L=0;L<h;L++){const G=L+F*x[2]+V*x[1]+k*x[0];y.values[G]=u}continue}if(l==="bilinear"){const F=Math.floor(O),L=Math.ceil(O),G=O-F;for(let Z=0;Z<g;Z++){const j=g>1?N*(f-1)+Z*B:.5*(N+R)*(f-1);if(j<0||j>f-1){for(let oe=0;oe<h;oe++){const ee=oe+Z*x[2]+V*x[1]+k*x[0];y.values[ee]=u}continue}const J=Math.floor(j),fe=Math.ceil(j),X=j-J;for(let oe=0;oe<h;oe++){let ee=oe+J*$[2]+F*$[1]+D*$[0];const Q=_[ee];ee=oe+fe*$[2]+F*$[1]+D*$[0];const ie=_[ee];ee=oe+J*$[2]+L*$[1]+D*$[0];const pe=_[ee];ee=oe+fe*$[2]+L*$[1]+D*$[0];const Re=_[ee],K=Q+(ie-Q)*X,re=pe+(Re-pe)*X;ee=oe+Z*x[2]+V*x[1]+k*x[0],y.values[ee]=K+(re-K)*G}}}else for(let F=0;F<g;++F){const L=g>1?N*(f-1)+F*B:.5*(N+R)*(f-1);if(L<0||L>f-1){for(let j=0;j<h;j++){const J=j+F*x[2]+V*x[1]+k*x[0];y.values[J]=u}continue}const G=Math.round(L),Z=Math.round(O);for(let j=0;j<h;j++){const J=j+G*$[2]+Z*$[1]+D*$[0],fe=j+F*x[2]+V*x[1]+k*x[0];y.values[fe]=_[J]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const Lyt={kernelName:Vw,backendName:"cpu",kernelFunc:Pyt};function zyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,exclusive:a,reverse:i}=s;Tt(r,"cumprod");const l=hs([o],r.shape.length);let u=r;l!=null&&(u=eo({inputs:{x:r},backend:n,attrs:{perm:l}}));const c=bs(1,r.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=Yr(u.dtype,"int32"),f=Ew(Ge(u.shape),d),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],m=i?(y,w)=>y+p-w-1:(y,w)=>y+w;for(let y=0;y<h.length;y+=p)for(let w=0;w<p;w++){const b=m(y,w);if(w===0)f[b]=a?1:h[b];else{const _=m(y,w-1);f[b]=a?h[_]*f[_]:h[b]*f[_]}}const g=n.makeTensorInfo(u.shape,d,f);if(l!=null){const y=pc(l),w=eo({inputs:{x:g},backend:n,attrs:{perm:y}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),w}return g}const Byt={kernelName:Bw,backendName:"cpu",kernelFunc:zyt};function Vyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,exclusive:a,reverse:i}=s;Tt(r,"cumsum");const l=hs([o],r.shape.length);let u=r;l!=null&&(u=eo({inputs:{x:r},backend:n,attrs:{perm:l}}));const c=bs(1,r.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=Yr(u.dtype,"int32"),f=or(Ge(u.shape),d),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],m=i?(y,w)=>y+p-w-1:(y,w)=>y+w;for(let y=0;y<h.length;y+=p)for(let w=0;w<p;w++){const b=m(y,w);if(w===0)f[b]=a?0:h[b];else{const _=m(y,w-1);f[b]=a?h[_]+f[_]:h[b]+f[_]}}const g=n.makeTensorInfo(u.shape,d,f);if(l!=null){const y=pc(l),w=eo({inputs:{x:g},backend:n,attrs:{perm:y}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),w}return g}const Hyt={kernelName:e1,backendName:"cpu",kernelFunc:Vyt};function Wyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,weights:o}=e,{size:a,binaryOutput:i}=s;if(r.shape.length===1){const l=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,c=vE(l,u,o.dtype,o.shape,a);return n.makeTensorInfo([a],o.dtype,c)}else if(r.shape.length===2){const l=n.bufferSync(r),u=n.bufferSync(o),c=OU(l,u,a,i);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const Uyt={kernelName:Hw,backendName:"cpu",kernelFunc:Wyt};function Gyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockSize:o,dataFormat:a}=s;q(a==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${a}`);const i=r.shape[0],l=r.shape[1],u=r.shape[2],c=r.shape[3],d=l*o,f=u*o,h=c/(o*o),p=n.data.get(r.dataId).values,m=new Float32Array(i*d*f*h);let g=0;for(let y=0;y<i;++y)for(let w=0;w<d;++w){const b=Math.floor(w/o),_=w%o;for(let $=0;$<f;++$){const x=Math.floor($/o),k=$%o,C=(_*o+k)*h;for(let T=0;T<h;++T){const M=T+C+c*(x+u*(b+l*y));m[g++]=p[M]}}}return n.makeTensorInfo([i,d,f,h],r.dtype,m)}const jyt={kernelName:Ww,backendName:"cpu",kernelFunc:Gyt};function EG(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o}=e,{strides:a,pad:i,dilations:l,dimRoundingMode:u}=s;Tt([r,o],"depthwiseConv2DNative");const c=Mt(r.shape),d=Mt(o.shape);let f=l;f==null&&(f=[1,1]),q(ur(a,f),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${f}'`);const h=Gs(r.shape,o.shape,a,f,i,u,!0),{filterHeight:p,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:w}=h,b=w.left,_=w.top,$=h.outChannels/h.inChannels,x=new Ds(h.outShape,r.dtype),k=n.data.get(r.dataId).values,C=n.data.get(o.dataId).values,T=x.values;for(let N=0;N<h.batchSize;++N){const M=N*c[0],R=N*x.strides[0];for(let D=0;D<h.outHeight;++D){const z=R+D*x.strides[1],B=D*h.strideHeight-_;for(let V=0;V<p;++V){const O=B+V*g;if(O<0||O>=h.inHeight)continue;const F=V*d[0],L=M+O*c[1];for(let G=0;G<h.outWidth;++G){const Z=z+G*x.strides[2],j=G*h.strideWidth-b;for(let J=0;J<m;++J){const fe=j+J*y;if(fe<0||fe>=h.inWidth)continue;const X=F+J*d[1],oe=L+fe*h.inChannels;let ee=Z,Q=X;for(let ie=0;ie<h.inChannels;++ie){const pe=k[oe+ie];for(let Re=0;Re<$;++Re)T[ee+Re]+=pe*C[Q+Re];ee+=$,Q+=$}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const Kyt={kernelName:t1,backendName:"cpu",kernelFunc:EG};function qyt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:o}=e,{strides:a,dilations:i,pad:l,dimRoundingMode:u,filterShape:c}=s;Tt([r,o],"depthwiseConv2dNativeBackpropFilter");const d=Gs(r.shape,c,a,i,l,u,!0),{strideHeight:f,strideWidth:h,filterHeight:p,filterWidth:m}=d,g=new Ds(d.filterShape,"float32"),y=d.padInfo.left,w=d.padInfo.top,b=d.outChannels/d.inChannels,_=n.data.get(r.dataId).values,$=new Ds(r.shape,r.dtype,_),x=n.data.get(o.dataId).values,k=new Ds(o.shape,o.dtype,x);for(let C=0;C<p;++C){const T=Math.max(0,Math.ceil((w-C)/f)),N=Math.min(d.outHeight,(d.inHeight+w-C)/f);for(let M=0;M<m;++M){const R=Math.max(0,Math.ceil((y-M)/h)),D=Math.min(d.outWidth,(d.inWidth+y-M)/h);for(let z=0;z<d.outChannels;++z){const B=Math.trunc(z/b),V=z%b;let O=0;for(let F=0;F<d.batchSize;++F)for(let L=T;L<N;++L){const G=C+L*f-w;for(let Z=R;Z<D;++Z){const j=M+Z*h-y;O+=$.get(F,G,j,B)*k.get(F,L,Z,z)}}g.set(O,C,M,B,V)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const Xyt={kernelName:Uw,backendName:"cpu",kernelFunc:qyt};function Yyt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:o}=e,{strides:a,dilations:i,pad:l,dimRoundingMode:u,inputShape:c}=s;Tt([r,o],"depthwiseConv2DNativeBackpropInput");const d=Mt(r.shape),f=Mt(o.shape),h=Gs(c,o.shape,a,i,l,u,!0),p=new Ds(h.inShape,"float32"),m=p.values,[g,y,w]=p.strides,b=n.data.get(r.dataId).values,[_,$,x]=d,k=n.data.get(o.dataId).values,[C,T,N]=f,{batchSize:M,filterHeight:R,filterWidth:D,inChannels:z,inHeight:B,inWidth:V,outChannels:O,outHeight:F,outWidth:L,strideHeight:G,strideWidth:Z}=h,j=R-1-h.padInfo.top,J=D-1-h.padInfo.left,fe=O/z;for(let X=0;X<M;++X)for(let oe=0;oe<z;++oe)for(let ee=0;ee<B;++ee){const Q=ee-j,ie=Math.max(0,Math.ceil(Q/G)),pe=Math.min(F,(R+Q)/G);for(let Re=0;Re<V;++Re){const K=Re-J,re=Math.max(0,Math.ceil(K/Z)),we=Math.min(L,(D+K)/Z);let Ie=0;for(let De=ie;De<pe;++De){const _e=De*G-Q;for(let ze=re;ze<we;++ze){const Ae=ze*Z-K,he=_*X+$*De+x*ze,ve=C*(R-1-_e)+T*(D-1-Ae)+N*oe;for(let me=0;me<fe;++me){const Ve=oe*fe+me,Ye=b[he+Ve],Je=k[ve+me];Ie+=Ye*Je}}}m[g*X+y*ee+w*Re+oe]=Ie}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const Zyt={kernelName:Gw,backendName:"cpu",kernelFunc:Yyt};function Jyt(t){const{inputs:e,backend:n}=t,{x:s}=e,r=Ge(s.shape),o=n.data.get(s.dataId).values,a=tn([r,r],s.dtype),i=a.values;for(let u=0;u<o.length;u++)i[u*r+u]=o[u];const l=[...s.shape,...s.shape];return n.makeTensorInfo(l,a.dtype,a.values)}const Qyt={kernelName:jw,backendName:"cpu",kernelFunc:Jyt};const ebt={kernelName:n1,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:s,filter:r}=t,{strides:o,pad:a,dilations:i}=n,l=e,u=l.data.get(s.dataId).values,c=s.shape.length,d=l.data.get(r.dataId).values,f=r.shape.length,{batchSize:h,inHeight:p,inWidth:m,inChannels:g,outHeight:y,outWidth:w,padInfo:b,strideHeight:_,strideWidth:$,filterHeight:x,filterWidth:k,dilationHeight:C,dilationWidth:T,outShape:N}=G1(s.shape,r.shape,o,a,"NHWC",i),M=Ge(N),R=N.length,D=gs(s.dtype,M);for(let B=0;B<h;++B)for(let V=0;V<y;++V){const O=V*_-b.top;for(let F=0;F<w;++F){const L=F*$-b.left;for(let G=0;G<g;++G){let Z=Number.MIN_SAFE_INTEGER;for(let J=0;J<x;++J){const fe=O+J*C;if(fe>=0&&fe<p)for(let X=0;X<k;++X){const oe=L+X*T;if(oe>=0&&oe<m){const ee=Ka([B,fe,oe,G],c,Mt(s.shape)),Q=Ka([J,X,G],f,Mt(r.shape)),ie=u[ee]+d[Q];ie>Z&&(Z=ie)}}}const j=Ka([B,V,F,G],R,Mt(N));D[j]=Z}}}return{dataId:l.write(dc(D,s.dtype),N,s.dtype),shape:N,dtype:s.dtype}}};const tbt={kernelName:Xy,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:s,filter:r,dy:o}=t,{strides:a,pad:i,dilations:l}=n,u=e,c=Uo(s.shape,u.data.get(s.dataId).values),d=Uo(r.shape,u.data.get(r.dataId).values),{batchSize:f,inHeight:h,inWidth:p,inChannels:m,outHeight:g,outWidth:y,padInfo:w,strideHeight:b,strideWidth:_,filterHeight:$,filterWidth:x,dilationHeight:k,dilationWidth:C,outShape:T}=G1(s.shape,r.shape,a,i,"NHWC",l);q(o.rank===T.length,()=>`Error in ${Xy}, dy must have the same rank as output ${T.length}, but got ${o.rank}`);const N=Uo(T,u.data.get(o.dataId).values),M=Vk(r.shape,r.dtype);for(let D=0;D<f;++D)for(let z=0;z<g;++z){const B=z*b-w.top;for(let V=0;V<y;++V){const O=V*_-w.left;for(let F=0;F<m;++F){let L=Number.MIN_SAFE_INTEGER,G=0,Z=0;for(let j=0;j<$;++j){const J=B+j*k;if(J>=0&&J<h)for(let fe=0;fe<x;++fe){const X=O+fe*C;if(X>=0&&X<p){const oe=c[D][J][X][F]+d[j][fe][F];oe>L&&(L=oe,G=j,Z=fe)}}}M[G][Z][F]+=N[D][z][V][F]}}}return{dataId:u.write(dc(M,s.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};const nbt={kernelName:qy,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:s,filter:r,dy:o}=t,{strides:a,pad:i,dilations:l}=n,u=e,c=Uo(s.shape,u.data.get(s.dataId).values),d=Uo(r.shape,u.data.get(r.dataId).values),{batchSize:f,inHeight:h,inWidth:p,inChannels:m,outHeight:g,outWidth:y,padInfo:w,strideHeight:b,strideWidth:_,filterHeight:$,filterWidth:x,dilationHeight:k,dilationWidth:C,outShape:T}=G1(s.shape,r.shape,a,i,"NHWC",l);q(o.rank===T.length,()=>`Error in ${qy}, dy must have the same rank as output ${T.length}, but got ${o.rank}`);const N=Uo(T,u.data.get(o.dataId).values),M=Vk(s.shape,s.dtype);for(let D=0;D<f;++D)for(let z=0;z<g;++z){const B=z*b-w.top;for(let V=0;V<y;++V){const O=V*_-w.left;for(let F=0;F<m;++F){let L=Number.MIN_SAFE_INTEGER,G=B<0?0:B,Z=O<0?0:O;for(let j=0;j<$;++j){const J=B+j*k;if(J>=0&&J<h)for(let fe=0;fe<x;++fe){const X=O+fe*C;if(X>=0&&X<p){const oe=c[D][J][X][F]+d[j][fe][F];oe>L&&(L=oe,G=J,Z=X)}}}M[D][G][Z][F]+=N[D][z][V][F]}}}return{dataId:u.write(dc(M,s.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};function $2(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s;Tt(r,"sum");let i;r.dtype==="bool"?i=nc({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):i=Wi({inputs:{x:r},backend:n});const l=i.shape.length,u=un(o,i.shape),c=hs(u,l);let d=u,f=i;c!=null&&(f=eo({inputs:{x:i},backend:n,attrs:{perm:c}}),d=bs(d.length,l)),cr("sum",d,f.shape.length);const[h,p]=js(f.shape,d),m=Yr(f.dtype,"int32");let g=vb(n,h,m);const y=Ge(p),w=n.data.get(g.dataId).values,b=n.data.get(f.dataId).values;for(let _=0;_<w.length;++_){const $=_*y;let x=0;for(let k=0;k<y;++k)x+=b[$+k];w[_]=x}if(a){const _=ys(g.shape,u),$=g;g=Gn({inputs:{x:g},backend:n,attrs:{shape:_}}),n.disposeIntermediateTensorInfo($)}return n.disposeIntermediateTensorInfo(i),c!=null&&n.disposeIntermediateTensorInfo(f),g}const sbt={kernelName:F1,backendName:"cpu",kernelFunc:$2};function rbt(t){const{inputs:e,backend:n,attrs:s}=t,{equation:r}=s,o=e,{allDims:a,summedDims:i,idDims:l}=ET(r,o.length);AT(a.length,l,o);const{path:u,steps:c}=OT(i,l),d=c.length;let f=null,h=a.length;const p=[];for(let m=0;m<d;++m){for(const g of c[m]){const{permutationIndices:y,expandDims:w}=IT(h,l[g]);let b;RT(y)?b=o[g]:(b=eo({inputs:{x:o[g]},backend:n,attrs:{perm:y}}),p.push(b));const _=b.shape.slice();for(let $=0;$<w.length;++$)_.splice(w[$],0,1);hn(b.shape,_)||(b=Gn({inputs:{x:b},backend:n,attrs:{shape:_}}),p.push(b)),f===null?f=b:(f=Z3({inputs:{a:b,b:f},backend:n}),p.push(f))}m<d-1&&(u[m]>=0&&(f=$2({inputs:{x:f},backend:n,attrs:{axis:u[m]-(a.length-h),keepDims:!1}}),p.push(f)),h--)}for(const m of p)m!==f&&n.disposeIntermediateTensorInfo(m);return f}const obt={kernelName:Kw,backendName:"cpu",kernelFunc:rbt};function abt(t){const{inputs:e,backend:n}=t,{dy:s,y:r}=e;Tt([s,r],"eluGrad");const o=new Float32Array(Ge(r.shape)),a=n.data.get(r.dataId).values,i=n.data.get(s.dataId).values;for(let l=0;l<a.length;++l){const u=a[l];u>=1?o[l]=i[l]:o[l]=i[l]*(u+1)}return n.makeTensorInfo(r.shape,"float32",o)}const ibt={kernelName:qw,backendName:"cpu",kernelFunc:abt};const lbt=$T,ubt=xT,cbt=ST,dbt=CT,fbt=kT,hbt=TT,pbt=An(vp,t=>{const e=Math.sign(t),n=Math.abs(t),s=1/(1+lbt*n);return e*(1-((((hbt*s+fbt)*s+dbt)*s+cbt)*s+ubt)*s*Math.exp(-n*n))}),mbt={kernelName:vp,backendName:"cpu",kernelFunc:pbt};function wb(t){const{inputs:e,backend:n,attrs:s}=t,{input:r}=e,{dim:o}=s,a=r.shape.length,i=r.shape.slice();let l=o;return o<0&&(q(-(a+1)<=o,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),l=a+o+1),i.splice(l,0,1),Gn({inputs:{x:r},backend:n,attrs:{shape:i}})}const gbt={kernelName:r1,backendName:"cpu",kernelFunc:wb};const vbt=Es((t,e)=>t/e),xE=Ks(mp,vbt),qx={kernelName:mp,backendName:"cpu",kernelFunc:xE};function IG(t,e,n){const s=t.shape,r=s[0],o=s[1],a=n.data.get(t.dataId),i=a.complexTensorInfos.real,l=a.complexTensorInfos.imag,u=[r,o],c=Ge(u),d=zs("float32",c),f=zs("float32",c);for(let g=0;g<r;g++){const y=Bd({inputs:{x:i},backend:n,attrs:{begin:[g,0],size:[1,o]}}),w=Bd({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,o]}}),b=fo({inputs:{real:y,imag:w},backend:n}),{real:_,imag:$}=ybt(b,e,n),x=Rl(_,$);for(let k=0;k<o;k++){const C=NT(x,k);d[g*o+k]=C.real,f[g*o+k]=C.imag}n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(b)}const h=n.makeTensorInfo(u,"float32",d),p=n.makeTensorInfo(u,"float32",f),m=fo({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}function ybt(t,e,n){const s=Ge(t.shape),r=n.data.get(t.dataId),o=n.data.get(r.complexTensorInfos.real.dataId).values,a=n.data.get(r.complexTensorInfos.imag.dataId).values;if(bbt(s)){const i=Xx(o,a,s,e,n),l=[t.shape[0],t.shape[1]];if(e){const u=n.makeTensorInfo(l,"float32",i.real),c=n.makeTensorInfo(l,"float32",i.imag),d=n.makeTensorInfo([],"float32",ql(s,"float32")),f=Wi({inputs:{x:d},backend:n}),h=qx.kernelFunc({inputs:{a:u,b:d},backend:n}),p=qx.kernelFunc({inputs:{a:c,b:f},backend:n}),m=n.data.get(h.dataId).values,g=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),{real:m,imag:g}}return i}else{const i=Rl(o,a),l=wbt(i,s,e);return IH(l)}}function bbt(t){return(t&t-1)===0}function Xx(t,e,n,s,r){if(n===1)return{real:t,imag:e};const o=Rl(t,e),a=n/2,i=AH(o),l=i.real,u=i.imag,c=[l.length],d=r.makeTensorInfo(c,"float32",l),f=r.makeTensorInfo(c,"float32",u),h=fo({inputs:{real:d,imag:f},backend:r}),p=OH(o),m=p.real,g=p.imag,y=[m.length],w=r.makeTensorInfo(y,"float32",m),b=r.makeTensorInfo(y,"float32",g),_=fo({inputs:{real:w,imag:b},backend:r}),$=Xx(l,u,a,s,r),x=$.real,k=$.imag,C=[x.length],T=r.makeTensorInfo(C,"float32",x),N=r.makeTensorInfo(C,"float32",k),M=fo({inputs:{real:T,imag:N},backend:r}),R=Xx(m,g,a,s,r),D=R.real,z=R.imag,B=[D.length],V=r.makeTensorInfo(B,"float32",D),O=r.makeTensorInfo(B,"float32",z),F=fo({inputs:{real:V,imag:O},backend:r}),L=DH(n,s),G=[L.real.length],Z=r.makeTensorInfo(G,"float32",L.real),j=r.makeTensorInfo(G,"float32",L.imag),J=fo({inputs:{real:Z,imag:j},backend:r}),fe=Z3({inputs:{a:J,b:F},backend:r}),X=Rh({inputs:{a:M,b:fe},backend:r}),oe=_E({inputs:{a:M,b:fe},backend:r}),ee=zd({inputs:{input:X},backend:r}),Q=zd({inputs:{input:oe},backend:r}),ie=Dh({inputs:{input:X},backend:r}),pe=Dh({inputs:{input:oe},backend:r}),Re=Fh({inputs:[ee,Q],backend:r,attrs:{axis:0}}),K=Fh({inputs:[ie,pe],backend:r,attrs:{axis:0}}),re=r.data.get(Re.dataId).values,we=r.data.get(K.dataId).values;return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(N),r.disposeIntermediateTensorInfo(M),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(O),r.disposeIntermediateTensorInfo(F),r.disposeIntermediateTensorInfo(Z),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(J),r.disposeIntermediateTensorInfo(fe),r.disposeIntermediateTensorInfo(X),r.disposeIntermediateTensorInfo(oe),r.disposeIntermediateTensorInfo(ee),r.disposeIntermediateTensorInfo(ie),r.disposeIntermediateTensorInfo(Q),r.disposeIntermediateTensorInfo(pe),r.disposeIntermediateTensorInfo(Re),r.disposeIntermediateTensorInfo(K),{real:re,imag:we}}function wbt(t,e,n){const s=new Float32Array(e*2);for(let r=0;r<e;r++){let o=0,a=0;for(let i=0;i<e;i++){const l=FH(r*i,e,n),u=NT(t,i);o+=u.real*l.real-u.imag*l.imag,a+=u.real*l.imag+u.imag*l.real}n&&(o/=e,a/=e),RH(s,o,a,r)}return s}function _bt(t){const{inputs:e,backend:n}=t,{input:s}=e,r=Ge(s.shape),o=s.shape[s.shape.length-1],a=r/o,i=Gn({inputs:{x:s},backend:n,attrs:{shape:[a,o]}}),l=IG(i,!1,n),u=Gn({inputs:{x:l},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}const $bt={kernelName:Xw,backendName:"cpu",kernelFunc:_bt};function SE(t){const{backend:e,attrs:n}=t,{shape:s,value:r,dtype:o}=n,a=o||np(r),i=gs(a,Ge(s));return Sbt(i,r,a),e.makeTensorInfo(s,a,i)}const xbt={kernelName:Yw,backendName:"cpu",kernelFunc:SE};function Sbt(t,e,n){t.fill(e)}const Cbt={kernelName:Zw,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:s}=t,r=n,o=zs(s.dtype,Ge(s.shape)),[a,i,l,u]=s.shape,c=r.data.get(s.dataId).values;for(let f=0;f<a;f++){const h=f*l*i*u;for(let p=0;p<i;p++){const m=p*(l*u);for(let g=0;g<l;g++){const y=g*u;for(let w=0;w<u;w++){const b=Math.round(l-g-1),_=h+m+y+w;let $=c[_];if(b>=0&&b<l){const x=b*u,k=h+m+x+w;$=c[k]}o[_]=$}}}}return{dataId:r.write(o,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const kbt=Es((t,e)=>Math.floor(t/e)),Tbt=Ks(_p,kbt,null,"int32"),Nbt={kernelName:_p,backendName:"cpu",kernelFunc:Tbt};function Ebt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o,bias:a,preluActivationWeights:i}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:p}=s;let m=NG({inputs:{x:r,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f}});if(a){const g=m;if(c==="NCHW"&&a.shape.length===1&&a.shape[0]!==1){const y=Gn({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=Rh({inputs:{a:m,b:y},backend:n}),n.disposeIntermediateTensorInfo(y)}else m=Rh({inputs:{a:m,b:a},backend:n});n.disposeIntermediateTensorInfo(g)}if(h){const g=m;if(c==="NCHW"&&h==="prelu"&&i.shape.length===1&&i.shape[0]!==1){const y=Gn({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=bb(n,m,h,y,p),n.disposeIntermediateTensorInfo(y)}else m=bb(n,m,h,i,p);n.disposeIntermediateTensorInfo(g)}return m}const Ibt={kernelName:Z0,backendName:"cpu",kernelFunc:Ebt};function Abt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o,bias:a,preluActivationWeights:i}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:p}=s;let m=EG({inputs:{x:r,filter:o},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f}});if(a){const g=m;m=Rh({inputs:{a:m,b:a},backend:n}),n.disposeIntermediateTensorInfo(g)}if(h){const g=m;m=bb(n,m,h,i,p),n.disposeIntermediateTensorInfo(g)}return m}const Obt={kernelName:J0,backendName:"cpu",kernelFunc:Abt};function Rbt(t){const{inputs:e,backend:n}=t,{params:s,indices:r}=e,o=Ge(s.shape),a=r.shape,i=a[a.length-1],[l,u,c,d]=P_(s,r);if(u===0)return n.makeTensorInfo(l,s.dtype,[]);const f=n.data.get(r.dataId).values,h=n.bufferSync(s),p=VU(f,h,s.dtype,u,i,c,d,s.shape,o);return n.makeTensorInfo(l,s.dtype,p.values)}const Dbt={kernelName:Jw,backendName:"cpu",kernelFunc:Rbt};function Fbt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,indices:o}=e,{axis:a,batchDims:i}=s;Tt([r,o],"gatherV2");const l=un(a,r.shape)[0],u=n.data.get(o.dataId).values,c=r.shape[l];for(let _=0;_<u.length;++_){const $=u[_];q($<=c-1&&$>=0,()=>`GatherV2: the index value ${$} is not in [0, ${c-1}]`)}let d=i;i==null&&(d=0);const f=Ge(o.shape),h=FT(r,o,l,d),p=Gn({inputs:{x:r},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=Gn({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,f/h.batchSize]}}),g=[h.batchSize,h.outerSize,f/h.batchSize,h.sliceSize],y=n.bufferSync(m),w=n.bufferSync(p),b=HU(w,y,g);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}const Mbt={kernelName:a1,backendName:"cpu",kernelFunc:Fbt};function Pbt(t){const{inputs:e,backend:n}=t,{input:s}=e,r=Ge(s.shape),o=s.shape[s.shape.length-1],a=r/o,i=Gn({inputs:{x:s},backend:n,attrs:{shape:[a,o]}}),l=IG(i,!0,n),u=Gn({inputs:{x:l},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}const Lbt={kernelName:Qw,backendName:"cpu",kernelFunc:Pbt};const zbt=An(Sp,t=>Number.isFinite(t)?1:0,"bool"),Bbt={kernelName:Sp,backendName:"cpu",kernelFunc:zbt};const Vbt=An(Cp,t=>Math.abs(t)===1/0?1:0,"bool"),Hbt={kernelName:Cp,backendName:"cpu",kernelFunc:Vbt};const Wbt=An(kp,t=>Number.isNaN(t)?1:0,"bool"),Ubt={kernelName:kp,backendName:"cpu",kernelFunc:Wbt};function Gbt(t){const{backend:e,attrs:n}=t,{start:s,stop:r,num:o}=n,a=KU(s,r,o);return e.makeTensorInfo([a.length],"float32",a)}const jbt={kernelName:t_,backendName:"cpu",kernelFunc:Gbt};const Kbt=An(Np,t=>Math.log1p(t)),qbt={kernelName:Np,backendName:"cpu",kernelFunc:Kbt};const Xbt=Es((t,e)=>t&&e),Ybt=Ks(d1,Xbt,null,"bool"),Zbt={kernelName:d1,backendName:"cpu",kernelFunc:Ybt};const Jbt=An(f1,t=>t?0:1,"bool"),Qbt={kernelName:f1,backendName:"cpu",kernelFunc:Jbt};const ewt=Es((t,e)=>t||e),twt=Ks(h1,ewt,null,"bool"),nwt={kernelName:h1,backendName:"cpu",kernelFunc:twt};function swt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{depthRadius:o,bias:a,alpha:i,beta:l}=s;Tt(r,"LRN");const u=r.shape[3],c=u-1,d=n.data.get(r.dataId).values,f=Ge(r.shape),h=new Float32Array(f);function p(m){const g=m%u;let y=m-g+Math.max(0,g-o);const w=m-g+Math.min(g+o,c);let b=0;for(;y<=w;y++){const _=d[y];b+=_*_}return b}for(let m=0;m<f;m++){const g=p(m),y=d[m]*Math.pow(a+i*g,-l);h[m]=y}return n.makeTensorInfo(r.shape,r.dtype,h)}const rwt={kernelName:p1,backendName:"cpu",kernelFunc:swt};function owt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,y:o,dy:a}=e,{depthRadius:i,bias:l,alpha:u,beta:c}=s;Tt(a,"LRNGrad");const d=Ge(a.shape),f=a.shape[3],h=n.data.get(a.dataId).values,p=n.data.get(r.dataId).values,m=n.data.get(o.dataId).values,g=new Float32Array(d),y=d;for(let w=0;w<y;w++){const b=w%f,_=w-b+Math.max(0,b-i),$=w-b+Math.min(f,b+i+1);let x=0;for(let k=_;k<$;k++)x+=Math.pow(p[k],2);x=u*x+l;for(let k=_;k<$;k++){let C=-2*u*c*p[k]*m[w]/x;w===k&&(C+=Math.pow(x,-c)),C*=h[w],g[k]+=C}}return n.makeTensorInfo(a.shape,r.dtype,g)}const awt={kernelName:n_,backendName:"cpu",kernelFunc:owt};function AG(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{reductionIndices:o,keepDims:a}=s,i=n;let l=r.shape;const u=l.length,c=un(o,l);let d=c;const f=hs(d,u);let h=i.data.get(r.dataId).values;if(f!=null){const _=new Array(u);for(let $=0;$<_.length;$++)_[$]=l[f[$]];h=bE(h,l,r.dtype,f,_),d=bs(d.length,u),l=_}Tt(r,"max"),cr("max",d,u);const[p,m]=js(l,d),g=Ge(m),y=XU(h,g,p,r.dtype),w=i.write(y,p,r.dtype);let b=p;return a&&(b=ys(p,c)),{dataId:w,shape:b,dtype:r.dtype}}const iwt={kernelName:m1,backendName:"cpu",kernelFunc:AG};function lwt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;Tt(r,"maxPool");const{filterSize:o,strides:a,pad:i,dimRoundingMode:l}=s,u=1;q(ur(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=Na(r.shape,o,a,u,i,l);let d;if(c.filterWidth===1&&c.filterHeight===1&&hn(c.inShape,c.outShape))d=Wi({inputs:{x:r},backend:n});else{const f=n.data.get(r.dataId).values,h=Mt(r.shape),p=$E(f,r.shape,r.dtype,h,c,"max");d=n.makeTensorInfo(c.outShape,r.dtype,p.values)}return d}const uwt={kernelName:g1,backendName:"cpu",kernelFunc:lwt};function cwt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{filterSize:o,strides:a,pad:i,dimRoundingMode:l,dataFormat:u}=s;Tt(r,"maxPool3d");const c=Xl(r.shape,o,a,1,i,l,u),d=n.data.get(r.dataId).values,f=TG(d,r.shape,r.dtype,Mt(r.shape),c,"max");return n.makeTensorInfo(f.shape,"float32",f.values)}const dwt={kernelName:v1,backendName:"cpu",kernelFunc:cwt};function fwt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:o}=e,{filterSize:a,strides:i,pad:l,dimRoundingMode:u}=s;Tt([r,o],"maxPool3DGrad");const c=Xl(o.shape,a,i,1,l,u),d=n.bufferSync(o),f=Qvt(d,c),h=c.strideDepth,p=c.strideHeight,m=c.strideWidth,g=c.dilationDepth,y=c.dilationHeight,w=c.dilationWidth,b=c.effectiveFilterDepth,_=c.effectiveFilterHeight,$=c.effectiveFilterWidth,x=b-1-c.padInfo.front,k=$-1-c.padInfo.left,C=_-1-c.padInfo.top,T=tn(o.shape,"float32"),N=n.bufferSync(r);for(let M=0;M<c.batchSize;++M)for(let R=0;R<c.inChannels;++R)for(let D=0;D<c.inDepth;++D)for(let z=0;z<c.inHeight;++z)for(let B=0;B<c.inWidth;++B){const V=D-x,O=z-C,F=B-k;let L=0;for(let G=0;G<b;G+=g){const Z=(V+G)/h;if(!(Z<0||Z>=c.outDepth||Math.floor(Z)!==Z))for(let j=0;j<_;j+=y){const J=(O+j)/p;if(!(J<0||J>=c.outHeight||Math.floor(J)!==J))for(let fe=0;fe<$;fe+=w){const X=(F+fe)/m;if(X<0||X>=c.outWidth||Math.floor(X)!==X)continue;const oe=b*_*$-1-f.get(M,Z,J,X,R),ee=G*_*$+j*$+fe,Q=oe===ee?1:0;if(Q===0)continue;const ie=N.get(M,Z,J,X,R);L+=ie*Q}}}T.set(L,M,D,z,B,R)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const hwt={kernelName:r_,backendName:"cpu",kernelFunc:fwt};function pwt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:o,output:a}=e,i=o;Tt([o,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=s,f=Na(i.shape,l,u,1,c,d),h=n.data.get(i.dataId).values,p=tn(f.outShape,i.dtype,kG(h,i.shape,i.dtype,f).values),m=f.strideHeight,g=f.strideWidth,y=f.dilationHeight,w=f.dilationWidth,b=f.effectiveFilterHeight,_=f.effectiveFilterWidth,$=_-1-f.padInfo.left,x=b-1-f.padInfo.top,k=tn(i.shape,"float32"),C=n.data.get(r.dataId).values,T=tn(r.shape,"float32",C);for(let N=0;N<f.batchSize;++N)for(let M=0;M<f.inChannels;++M)for(let R=0;R<f.inHeight;++R)for(let D=0;D<f.inWidth;++D){const z=R-x,B=D-$;let V=0;for(let O=0;O<b;O+=y){const F=(z+O)/m;if(!(F<0||F>=f.outHeight||Math.floor(F)!==F))for(let L=0;L<_;L+=w){const G=(B+L)/g;if(G<0||G>=f.outWidth||Math.floor(G)!==G)continue;const Z=b*_-1-p.get(N,F,G,M),j=O*_+L,J=Z===j?1:0;if(J===0)continue;const fe=T.get(N,F,G,M);V+=fe*J}}k.set(V,N,R,D,M)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const mwt={kernelName:s_,backendName:"cpu",kernelFunc:pwt};function gwt(t,e,n,s,r){const o=Mt(e),a=$E(t,e,n,o,r,"max"),i=kG(t,e,n,r,!0,s);return[a.values,i.values]}const vwt={kernelName:o_,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:s}=t,{filterSize:r,strides:o,pad:a,includeBatchInIndex:i}=e,l=n;Tt(s,"MaxPoolWithArgmax");const u=l.data.get(s.dataId).values,c=Na(s.shape,r,o,[1,1],a),[d,f]=gwt(u,s.shape,s.dtype,i,c),h=l.write(d,c.outShape,s.dtype),p=l.write(f,c.outShape,s.dtype);return[{dataId:h,shape:c.outShape,dtype:s.dtype},{dataId:p,shape:c.outShape,dtype:"int32"}]}};function ywt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s,i=un(o,r.shape),u=js(r.shape,i)[1],c=Ge(u),d=[],f=n.makeTensorInfo([],"float32",new Float32Array([c]));d.push(f);const h=nc({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});d.push(h);const p=xE({inputs:{a:h,b:f},backend:n});d.push(p);const m=$2({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:a}});return d.forEach(g=>n.disposeIntermediateTensorInfo(g)),m}const bwt={kernelName:y1,backendName:"cpu",kernelFunc:ywt};function wwt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s;Tt(r,"min");const i=un(o,r.shape);let l=i;const u=hs(l,r.shape.length);let c=r;u!=null&&(c=eo({inputs:{x:r},backend:n,attrs:{perm:u}}),l=bs(l.length,r.shape.length)),cr("min",l,c.shape.length);const[d,f]=js(c.shape,l),h=Ge(f),p=or(Ge(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<p.length;++y){const w=y*h;let b=m[w];for(let _=0;_<h;++_){const $=m[w+_];(Number.isNaN($)||$<b)&&(b=$)}p[y]=b}u!=null&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,p);if(a){const y=ys(d,i),w=Gn({inputs:{x:g},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(g),w}return g}const _wt={kernelName:b1,backendName:"cpu",kernelFunc:wwt};function $wt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{paddings:o,mode:a}=s;Tt(r,"mirrorPad");const i=o.map((b,_)=>b[0]+r.shape[_]+b[1]),l=o.map(b=>b[0]),u=o.map((b,_)=>b[0]+r.shape[_]),c=a==="reflect"?0:1,d=n.data.get(r.dataId).values,f=r.shape.length,h=Mt(r.shape),p=Ge(i),m=i.length,g=Mt(i),y=zs(r.dtype,p);for(let b=0;b<p;b++){let _=tf(b,m,g);for(let x=0;x<m;x++)_[x]<l[x]?_[x]=l[x]*2-_[x]-c:_[x]>=u[x]&&(_[x]=(u[x]-1)*2-_[x]+c);_=_.map((x,k)=>x-l[k]);const $=Ka(_,f,h);y[b]=d[$]}return{dataId:n.write(y,i,r.dtype),shape:i,dtype:r.dtype}}const xwt={kernelName:w1,backendName:"cpu",kernelFunc:$wt};const Swt=Es((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),Cwt=Ks(Ap,Swt),kwt={kernelName:Ap,backendName:"cpu",kernelFunc:Cwt};function OG(t){const{inputs:e,backend:n,attrs:s}=t,{logits:r}=e,{dim:o}=s,a=r.shape.length;let i=o;if(i===-1&&(i=a-1),i!==a-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a} and dim was ${i}`);const l=un([i],r.shape),u=AG({inputs:{x:r},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=ys(u.shape,l),d=Gn({inputs:{x:u},backend:n,attrs:{shape:c}}),f=_E({inputs:{a:r,b:d},backend:n}),h=LU({inputs:{x:f},backend:n}),p=$2({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=Gn({inputs:{x:p},backend:n,attrs:{shape:c}}),g=xE({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}const Twt={kernelName:L1,backendName:"cpu",kernelFunc:OG};function Nwt(t){const{inputs:e,backend:n,attrs:s}=t,{logits:r}=e,{numSamples:o,seed:a,normalized:i}=s;Tt(r,"multinomial");const l=i?r:OG({inputs:{logits:r},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=n.data.get(l.dataId).values,f=[u,o],h=or(Ge(f),"int32");for(let p=0;p<u;++p){const m=p*c,g=new Float32Array(c-1);g[0]=d[m];for(let b=1;b<g.length;++b)g[b]=g[b-1]+d[m+b];const y=Ji.alea(a.toString()),w=p*o;for(let b=0;b<o;++b){const _=y();h[w+b]=g.length;for(let $=0;$<g.length;$++)if(_<g[$]){h[w+b]=$;break}}}return i||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(f,"int32",h)}const Ewt={kernelName:a_,backendName:"cpu",kernelFunc:Nwt};const Iwt=v3;function Awt(t){const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:o}=e,{maxOutputSize:a,iouThreshold:i,scoreThreshold:l}=s;Tt(r,"NonMaxSuppression");const u=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,{selectedIndices:d}=Iwt(u,c,a,i,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const Owt={kernelName:i_,backendName:"cpu",kernelFunc:Awt};const Rwt=y3;function Dwt(t){const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:o}=e,{maxOutputSize:a,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:u}=s;Tt(r,"NonMaxSuppressionPadded");const c=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,{selectedIndices:f,validOutputs:h}=Rwt(c,d,a,i,l,u);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const Fwt={kernelName:l_,backendName:"cpu",kernelFunc:Dwt};const Mwt=b3;function Pwt(t){const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:o}=e,{maxOutputSize:a,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=s;Tt(r,"NonMaxSuppressionWithScore");const c=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,f=a,h=i,p=l,m=u,{selectedIndices:g,selectedScores:y}=Mwt(c,d,f,h,p,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}const Lwt={kernelName:u_,backendName:"cpu",kernelFunc:Pwt};function zwt(t){const{inputs:e,backend:n,attrs:s}=t,{indices:r}=e,{dtype:o,depth:a,onValue:i,offValue:l}=s;Tt(r,"oneHot");const u=Ge(r.shape),c=new Float32Array(u*a);c.fill(l);const d=n.data.get(r.dataId).values;for(let f=0;f<u;++f)d[f]>=0&&d[f]<a&&(c[f*a+d[f]]=i);return n.makeTensorInfo([...r.shape,a],o,c)}const Bwt={kernelName:S1,backendName:"cpu",kernelFunc:zwt};function _b(t){const{inputs:e,backend:n}=t,{x:s}=e;if(s.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(s.dtype==="complex64"){const r=zd({inputs:{input:s},backend:n}),o=_b({inputs:{x:r},backend:n}),a=Dh({inputs:{input:s},backend:n}),i=_b({inputs:{x:a},backend:n}),l=fo({inputs:{real:o,imag:i},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),l}else return SE({backend:n,attrs:{shape:s.shape,value:0,dtype:s.dtype}})}const Vwt={kernelName:V1,backendName:"cpu",kernelFunc:_b};function RG(t){const{inputs:e,backend:n}=t,{x:s}=e;if(s.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(s.dtype==="complex64"){const r=zd({inputs:{input:s},backend:n}),o=RG({inputs:{x:r},backend:n}),a=Dh({inputs:{input:s},backend:n}),i=_b({inputs:{x:a},backend:n}),l=fo({inputs:{real:o,imag:i},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),l}else return SE({backend:n,attrs:{shape:s.shape,value:1,dtype:s.dtype}})}const Hwt={kernelName:x1,backendName:"cpu",kernelFunc:RG};function DG(t){const{inputs:e,backend:n,attrs:s}=t,{axis:r}=s;if(e.length===1)return wb({inputs:{input:e[0]},backend:n,attrs:{dim:r}});const o=e[0].shape,a=e[0].dtype;e.forEach(c=>{lr(o,c.shape,"All tensors passed to stack must have matching shapes"),q(a===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],l=e.map(c=>{const d=wb({inputs:{input:c},backend:n,attrs:{dim:r}});return i.push(d),d}),u=Fh({inputs:l,backend:n,attrs:{axis:r}});return i.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const Wwt={kernelName:C1,backendName:"cpu",kernelFunc:DG};function Uwt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{paddings:o,constantValue:a}=s;Tt(r,"pad");const i=o.map((w,b)=>w[0]+r.shape[b]+w[1]),l=o.map(w=>w[0]),u=n.data.get(r.dataId).values,c=Ge(r.shape),d=r.shape.length,f=Mt(r.shape),h=Ge(i),p=i.length,m=Mt(i),g=zs(r.dtype,h);a!==0&&g.fill(a);for(let w=0;w<c;w++){const _=tf(w,d,f).map((x,k)=>x+l[k]),$=Ka(_,p,m);g[$]=u[w]}return{dataId:n.write(g,i,r.dtype),shape:i,dtype:r.dtype}}const FG={kernelName:k1,backendName:"cpu",kernelFunc:Uwt};const Gwt=Es((t,e)=>Math.pow(t,e)),jwt=Ks(Rp,Gwt),Kwt={kernelName:Rp,backendName:"cpu",kernelFunc:jwt};function qwt(t){const{inputs:e,backend:n,attrs:s}=t,{paramsNestedSplits:r,paramsDenseValues:o,indices:a}=e,i=r.map(g=>n.data.get(g.dataId).values),l=r.map(g=>g.shape),u=n.data.get(o.dataId).values,c=n.data.get(a.dataId).values,[d,f,h]=tG(i,l,u,o.shape,o.dtype,c,a.shape),p=d.map(g=>n.makeTensorInfo([g.length],"int32",g)),m=n.makeTensorInfo(h,o.dtype,f);return p.concat([m])}const Xwt={kernelName:c_,backendName:"cpu",kernelFunc:qwt};function Ywt(t){const{inputs:e,backend:n}=t,{starts:s,limits:r,deltas:o}=e,a=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[u,c]=nG(a,s.shape,s.dtype,i,r.shape,l,o.shape),d=n.makeTensorInfo([u.length],"int32",u),f=n.makeTensorInfo([c.length],s.dtype,c);return[d,f]}const Zwt={kernelName:d_,backendName:"cpu",kernelFunc:Ywt};function Jwt(t){const{inputs:e,backend:n,attrs:s}=t,{shape:r,values:o,defaultValue:a,rowPartitionTensors:i}=e,{rowPartitionTypes:l}=s,u=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,d=n.data.get(a.dataId).values,f=i.map(g=>n.data.get(g.dataId).values),h=i.map(g=>g.shape),[p,m]=sG(u,r.shape,c,o.shape,o.dtype,d,a.shape,f,h,l);return n.makeTensorInfo(p,o.dtype,m)}const Qwt={kernelName:f_,backendName:"cpu",kernelFunc:Jwt};function e_t(t){const{backend:e,attrs:n}=t,{start:s,stop:r,dtype:o,step:a}=n,i=rG(s,r,a,o);return e.makeTensorInfo([i.length],o,i)}const t_t={kernelName:h_,backendName:"cpu",kernelFunc:e_t};const n_t=An(Dp,t=>1/t),s_t={kernelName:Dp,backendName:"cpu",kernelFunc:n_t};function r_t(t){const{inputs:e,backend:n,attrs:s}=t,{images:r}=e,{alignCorners:o,halfPixelCenters:a,size:i}=s;Tt(r,"resizeBilinear");const l=Mt(r.shape),[u,c]=i,[d,f,h,p]=r.shape,m=n.data.get(r.dataId).values,g=new Float32Array(Ge([d,u,c,p])),y=[o&&u>1?f-1:f,o&&c>1?h-1:h],w=[o&&u>1?u-1:u,o&&c>1?c-1:c];let b=0;const _=y[0]/w[0],$=y[1]/w[1];for(let x=0;x<d;x++)for(let k=0;k<u;k++){let C;a?C=_*(k+.5)-.5:C=_*k;const T=Math.max(0,Math.floor(C)),N=C-T,M=Math.min(f-1,Math.ceil(C)),R=x*l[0]+T*l[1],D=x*l[0]+M*l[1];for(let z=0;z<c;z++){let B;a?B=$*(z+.5)-.5:B=$*z;const V=Math.max(0,Math.floor(B)),O=B-V,F=Math.min(h-1,Math.ceil(B)),L=R+V*l[2],G=D+V*l[2],Z=R+F*l[2],j=D+F*l[2];for(let J=0;J<p;J++){const fe=m[L+J],X=m[G+J],oe=m[Z+J],ee=m[j+J],Q=fe+(oe-fe)*O,ie=X+(ee-X)*O,pe=Q+(ie-Q)*N;g[b++]=pe}}}return n.makeTensorInfo([d,u,c,p],"float32",g)}const o_t={kernelName:A1,backendName:"cpu",kernelFunc:r_t};function a_t(t){const{inputs:e,backend:n,attrs:s}=t,{images:r,dy:o}=e,{alignCorners:a}=s;Tt([o,r],"resizeBilinearGrad");const i=Mt(r.shape),[l,u,c,d]=r.shape,[,f,h]=o.shape,p=new Float32Array(l*u*c*d),m=[a&&f>1?u-1:u,a&&h>1?c-1:c],g=[a&&f>1?f-1:f,a&&h>1?h-1:h],y=m[0]/g[0],w=m[1]/g[1],b=n.data.get(o.dataId).values;let _=0;for(let $=0;$<l;$++){const x=$*i[0];for(let k=0;k<f;k++){const C=k*y,T=Math.floor(C),N=Math.min(Math.ceil(C),u-1),M=x+T*i[1],R=x+N*i[1],D=C-T,z=1-D;for(let B=0;B<h;B++){const V=B*w,O=Math.floor(V),F=Math.min(Math.ceil(V),c-1),L=V-O,G=1-L,Z=M+O*i[2],j=M+F*i[2],J=R+O*i[2],fe=R+F*i[2],X=z*G,oe=z*L,ee=D*G,Q=D*L;for(let ie=0;ie<d;ie++){const pe=b[_++];p[Z+ie]+=pe*X,p[j+ie]+=pe*oe,p[J+ie]+=pe*ee,p[fe+ie]+=pe*Q}}}}return n.makeTensorInfo([l,c,u,d],"float32",p)}const i_t={kernelName:g_,backendName:"cpu",kernelFunc:a_t};function l_t(t){const{inputs:e,backend:n,attrs:s}=t,{images:r}=e,{alignCorners:o,halfPixelCenters:a,size:i}=s;Tt(r,"resizeNearestNeighbor");const l=Mt(r.shape),[u,c]=i,[d,f,h,p]=r.shape,m=n.data.get(r.dataId).values,g=new Float32Array(d*u*c*p),y=[o&&u>1?f-1:f,o&&c>1?h-1:h],w=[o&&u>1?u-1:u,o&&c>1?c-1:c],b=y[0]/w[0],_=y[1]/w[1];let $=0;for(let x=0;x<d;x++){const k=x*l[0];for(let C=0;C<u;C++){const T=a?b*(C+.5):b*C;let N=Math.min(f-1,o?Math.round(T):Math.floor(T));a&&(N=Math.max(0,N));const M=k+N*l[1];for(let R=0;R<c;R++){const D=a?_*(R+.5):_*R;let z=Math.min(h-1,o?Math.round(D):Math.floor(D));a&&(z=Math.max(0,z));const B=M+z*l[2];for(let V=0;V<p;V++){const O=m[B+V];g[$++]=O}}}}return n.makeTensorInfo([d,u,c,p],r.dtype,g)}const u_t={kernelName:I1,backendName:"cpu",kernelFunc:l_t};function c_t(t){const{inputs:e,backend:n,attrs:s}=t,{images:r,dy:o}=e,{alignCorners:a}=s;Tt([o,r],"resizeNearestNeighborGrad");const i=Mt(r.shape),l=Mt(o.shape),[u,c,d,f]=r.shape,[,h,p]=o.shape,m=new Float32Array(u*c*d*f),g=n.data.get(o.dataId).values,y=[a&&h>1?c-1:c,a&&p>1?d-1:d],w=[a&&h>1?h-1:h,a&&p>1?p-1:p],b=y[0]/w[0],_=y[1]/w[1],$=1/b,x=1/_,k=Math.ceil($)*2+2,C=Math.ceil(x)*2+2;for(let T=0;T<u;T++){const N=T*i[0];for(let M=0;M<c;M++){const R=N+M*i[1],D=Math.floor(M*$),z=Math.floor(D-k/2);for(let B=0;B<d;B++){const V=R+B*i[2],O=Math.floor(B*x),F=Math.floor(O-C/2);for(let L=0;L<f;L++){let G=0;for(let Z=0;Z<k;Z++){const j=Z+z;if(j<0||j>=h)continue;const J=N+j*l[1],fe=j*b,X=Math.min(c-1,a?Math.round(fe):Math.floor(fe));if(M===X)for(let oe=0;oe<C;oe++){const ee=oe+F;if(ee<0||ee>=p)continue;const Q=J+ee*l[2],ie=ee*_,pe=Math.min(d-1,a?Math.round(ie):Math.floor(ie));B===pe&&(G+=g[Q+L])}}m[V+L]=G}}}}return n.makeTensorInfo(r.shape,r.dtype,m)}const d_t={kernelName:m_,backendName:"cpu",kernelFunc:c_t};function f_t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{dims:o}=s;Tt(r,"reverse");const a=r.shape.length,i=un(o,r.shape);if(a===0)return Wi({inputs:{x:r},backend:n});const l=new Ds(r.shape,r.dtype),u=n.bufferSync(r);for(let c=0;c<l.size;c++){const d=l.indexToLoc(c),f=d.slice();i.forEach(h=>f[h]=r.shape[h]-1-f[h]),l.set(u.get(...f),...d)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const h_t={kernelName:O1,backendName:"cpu",kernelFunc:f_t};const p_t={kernelName:O_,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:s}=t,{radians:r,fillValue:o,center:a}=e,i=n,l=zs(s.dtype,Ge(s.shape)),[u,c,d,f]=s.shape,[h,p]=bT(a,c,d),m=255,g=Math.sin(r),y=Math.cos(r),w=i.data.get(s.dataId).values;for(let _=0;_<u;_++){const $=_*d*c*f;for(let x=0;x<c;x++){const k=x*(d*f);for(let C=0;C<d;C++){const T=C*f;for(let N=0;N<f;N++){const M=[u,x,C,N],R=M[2],D=M[1];let z=(R-h)*y-(D-p)*g,B=(R-h)*g+(D-p)*y;z=Math.round(z+h),B=Math.round(B+p);let V=o;if(typeof o!="number"&&(N===3?V=m:V=o[N]),z>=0&&z<d&&B>=0&&B<c){const F=B*(d*f),L=z*f,G=$+F+L+N;V=w[G]}const O=$+k+T+N;l[O]=V}}}}return{dataId:i.write(l,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};const m_t=An(Pp,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),g_t={kernelName:Pp,backendName:"cpu",kernelFunc:m_t};function v_t(t){const{inputs:e,backend:n,attrs:s}=t,{indices:r,updates:o}=e,{shape:a}=s,{sliceRank:i,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=Jp(o,r,a),f=!0,h=n.bufferSync(r),p=n.bufferSync(o),m=zf(h,p,a,d,u,l,i,c,0,f);return n.makeTensorInfo(a,m.dtype,m.values)}const y_t={kernelName:v_,backendName:"cpu",kernelFunc:v_t};function b_t(t,e){let n=0,s=t.length,r=0;for(;n<s;)r=Math.floor((n+s)/2),t[r]<e?n=r+1:s=r;return s}function w_t(t,e){let n=0,s=t.length,r=0;for(;n<s;)r=Math.floor((n+s)/2),t[r]<=e?n=r+1:s=r;return s}function __t(t,e,n,s,r,o){const a=gs("int32",n*r);for(let i=0;i<n;++i){const l=t.slice(i*s,(i+1)*s),u=i*r;for(let c=0;c<r;++c)a[u+c]=o==="left"?b_t(l,e[c+u]):w_t(l,e[c+u])}return a}function $_t(t){const{inputs:e,backend:n,attrs:s}=t,{sortedSequence:r,values:o}=e,{side:a}=s,i=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,u=__t(i,l,r.shape[0],r.shape[1],o.shape[1],a);return n.makeTensorInfo(o.shape,"int32",u)}const x_t={kernelName:y_,backendName:"cpu",kernelFunc:$_t};function S_t(t){const{inputs:e,backend:n}=t,{condition:s,t:r,e:o}=e;Tt([s,r,o],"select");const a=s.shape.length,i=n.data.get(s.dataId).values,l=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,c=Yr(r.dtype,o.dtype),d=or(Ge(r.shape),c);let f=0;const h=a===0||a>1||r.shape.length===1?1:Ge(r.shape.slice(1));for(let p=0;p<i.length;p++)for(let m=0;m<h;m++)i[p]===1?d[f++]=l[p]:d[f++]=u[p];return n.makeTensorInfo(r.shape,c,d)}const C_t={kernelName:R1,backendName:"cpu",kernelFunc:S_t};const k_t=T3,T_t=N3,N_t=An(zp,t=>t>=0?T_t*t:k_t*(Math.exp(t)-1)),E_t={kernelName:zp,backendName:"cpu",kernelFunc:N_t};const I_t=An(Hp,t=>t<0?-1:t>0?1:0),A_t={kernelName:Hp,backendName:"cpu",kernelFunc:I_t};const O_t=An(Bp,t=>Math.sin(t)),R_t={kernelName:Bp,backendName:"cpu",kernelFunc:O_t};const D_t=An(Vp,t=>Math.sinh(t)),F_t={kernelName:Vp,backendName:"cpu",kernelFunc:D_t};const M_t=11920928955078125e-23,VD=Math.log(M_t)+2,P_t=An(Up,t=>{const e=t>-VD,n=t<VD,s=Math.exp(t);let r;return n?r=s:e?r=t:r=Math.log(1+s),r}),L_t={kernelName:Up,backendName:"cpu",kernelFunc:P_t};function z_t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockShape:o,paddings:a}=s;Tt([r],"spaceToBatchND");const i=Ge(o),l=[[0,0]];l.push(...a);for(let x=1+o.length;x<r.shape.length;++x)l.push([0,0]);const u=FG.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),c=l2(u.shape,o,i,!1),d=u2(c.length,o.length,!1),f=c2(u.shape,o,i,!1),m=Gn({inputs:{x:u},backend:n,attrs:{shape:c}}),w=eo({inputs:{x:m},backend:n,attrs:{perm:d}}),$=Gn({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(w),$}const B_t={kernelName:M1,backendName:"cpu",kernelFunc:z_t};function V_t(t){const{inputs:e,backend:n}=t,{indices:s,values:r,denseShape:o,defaultValue:a}=e;if(o.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${o.shape}`);if(s.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${s.shape}`);if(r.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${r.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const i=n.data.get(s.dataId).values,l=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,c=n.data.get(a.dataId).values[0],[d,f,h,p,m]=lG(i,s.shape,s.dtype,l,r.dtype,u,c);return[n.makeTensorInfo(f,s.dtype,d),n.makeTensorInfo([f[0]],r.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(g=>Number(g)))),n.makeTensorInfo([m.length],s.dtype,new Int32Array(m))]}const H_t={kernelName:b_,backendName:"cpu",kernelFunc:V_t};function W_t(t){const{inputs:e,backend:n}=t,{inputIndices:s,inputShape:r,newShape:o}=e;if(s.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${s.shape}`);if(r.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${r.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const a=Array.from(n.data.get(r.dataId).values),i=n.data.get(s.dataId).values,l=Array.from(n.data.get(o.dataId).values),[u,c,d]=uG(i,s.shape,s.dtype,a,l);return[n.makeTensorInfo(c,s.dtype,u),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}const U_t={kernelName:w_,backendName:"cpu",kernelFunc:W_t};function G_t(t){const{inputs:e,backend:n}=t,{data:s,indices:r,segmentIds:o}=e;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${r.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${o.shape}`);if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[u,c]=wE(a,s.shape,s.dtype,i,l,!0);return n.makeTensorInfo(c,s.dtype,u)}const j_t={kernelName:__,backendName:"cpu",kernelFunc:G_t};function K_t(t){const{inputs:e,backend:n}=t,{data:s,indices:r,segmentIds:o}=e;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${r.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${o.shape}`);if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[u,c]=wE(a,s.shape,s.dtype,i,l);return n.makeTensorInfo(c,s.dtype,u)}const q_t={kernelName:$_,backendName:"cpu",kernelFunc:K_t};function X_t(t){const{inputs:e,backend:n,attrs:s}=t,{sparseIndices:r,sparseValues:o,defaultValue:a}=e,{outputShape:i}=s,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:f}=Jp(o,r,i),h=!1,p=n.bufferSync(r);let m;switch(o.dtype){case"bool":{const g=n.bufferSync(o),y=Boolean(n.data.get(a.dataId).values[0]);m=zf(p,g,i,f,c,u,l,d,y,h);break}case"float32":{const g=n.bufferSync(o),y=n.data.get(a.dataId).values[0];m=zf(p,g,i,f,c,u,l,d,y,h);break}case"int32":{const g=n.bufferSync(o),y=n.data.get(a.dataId).values[0];m=zf(p,g,i,f,c,u,l,d,y,h);break}case"string":{const g=n.bufferSync(o),y=Nl(n.data.get(a.dataId).values[0]);m=zf(p,g,i,f,c,u,l,d,y,h);break}default:throw new Error(`Unsupported type ${o.dtype}`)}return n.makeTensorInfo(i,m.dtype,m.values)}const Y_t={kernelName:x_,backendName:"cpu",kernelFunc:X_t};function Z_t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{numOrSizeSplits:o,axis:a}=s,i=un(a,r.shape)[0],l=DT(r,o,i),u=new Array(r.shape.length).fill(0),c=r.shape.slice();return l.map(d=>{const f=[...c];f[i]=d;const h=Bd({inputs:{x:r},backend:n,attrs:{begin:u,size:f}});return u[i]+=d,h})}const J_t={kernelName:P1,backendName:"cpu",kernelFunc:Z_t};const Q_t={kernelName:S_,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,s=e;Tt(n,"square");const r=s.data.get(n.dataId).values,o=new Float32Array(r.length);for(let i=0;i<r.length;++i){const l=r[i];o[i]=l*l}return{dataId:s.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};const e3t=An(Zp,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),t3t={kernelName:Zp,backendName:"cpu",kernelFunc:e3t};function n3t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{begin:o,end:a,strides:i,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:f}=s;Tt(r,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:w,end:b,strides:_}=f8(r.shape,o,a,i,l,u,c,d,f);let $;if(m)$=Gn({inputs:{x:r},backend:n,attrs:{shape:p}});else if(g||y){q(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const x=u8(w,b,_),k=Bd({inputs:{x:r},backend:n,attrs:{begin:w,size:x}});$=Gn({inputs:{x:k},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(k)}else{const x=n.bufferSync(r),k=dG(h,x,_,w);$=n.makeTensorInfo(p,k.dtype,k.values)}return $}const s3t={kernelName:C_,backendName:"cpu",kernelFunc:n3t};function r3t(t){const{inputs:e,backend:n,attrs:s}=t,{separator:r,nGramWidths:o,leftPad:a,rightPad:i,padWidth:l,preserveShortSequences:u}=s,{data:c,dataSplits:d}=e,f=n.data.get(c.dataId).values,h=n.data.get(d.dataId).values,[p,m]=fG(f,h,r,o,a,i,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}const o3t={kernelName:k_,backendName:"cpu",kernelFunc:r3t};function a3t(t){const{inputs:e,backend:n,attrs:s}=t,{skipEmpty:r}=s,{input:o,delimiter:a}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const i=n.data.get(o.dataId).values,l=n.data.get(a.dataId).values[0],[u,c,d]=hG(i,l,r),f=c.length;return[n.makeTensorInfo([f,2],"int32",u),n.makeTensorInfo([f],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const i3t={kernelName:T_,backendName:"cpu",kernelFunc:a3t};function l3t(t){const{inputs:e,backend:n,attrs:s}=t,{numBuckets:r}=s,{input:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const a=n.data.get(o.dataId).values,i=pG(a,r);return n.makeTensorInfo(o.shape,"int32",i)}const u3t={kernelName:N_,backendName:"cpu",kernelFunc:l3t};const c3t=An(qp,t=>Math.tan(t)),d3t={kernelName:qp,backendName:"cpu",kernelFunc:c3t};const f3t=An(Xp,t=>Math.tanh(t)),h3t={kernelName:Xp,backendName:"cpu",kernelFunc:f3t};function p3t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{reps:o}=s;Tt(r,"tile");const a=gG(n.bufferSync(r),o);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const m3t={kernelName:Yp,backendName:"cpu",kernelFunc:p3t};function g3t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{k:o,sorted:a}=s;Tt(r,"topk");const i=n.data.get(r.dataId).values,[l,u]=yG(i,r.shape,r.dtype,o,a);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}const v3t={kernelName:E_,backendName:"cpu",kernelFunc:g3t};function y3t(t){const{inputs:e,attrs:n,backend:s}=t,{image:r,transforms:o}=e,{interpolation:a,fillMode:i,fillValue:l,outputShape:u}=n,[c,d,f,h]=r.shape,[p,m]=u??[d,f],g=[c,p,m,h],y=Mt(r.shape),w=y[0],b=y[1],_=y[2],$=Mt(g),x=$[0],k=$[1],C=$[2],T=zs(r.dtype,Ge(g));T.fill(l);const N=s.data.get(r.dataId).values,M=s.data.get(o.dataId).values;for(let D=0;D<c;++D){const z=o.shape[0]===1?M:M.subarray(D*8,D*8+8);for(let B=0;B<p;++B)for(let V=0;V<m;++V)for(let O=0;O<h;++O){let F;const L=z[6]*V+z[7]*B+1;if(L===0)continue;const G=(z[0]*V+z[1]*B+z[2])/L,Z=(z[3]*V+z[4]*B+z[5])/L,j=HD(G,f,i),J=HD(Z,d,i);switch(a){case"nearest":F=S3t(N,d,f,w,b,_,D,J,j,O,l);break;case"bilinear":F=C3t(N,d,f,w,b,_,D,J,j,O,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${a}`)}const fe=D*x+B*k+V*C+O;T[fe]=F}return s.makeTensorInfo(g,r.dtype,T)}return{dataId:s.write(T,g,r.dtype),shape:r.shape,dtype:r.dtype}}const b3t={kernelName:I_,backendName:"cpu",kernelFunc:y3t};function HD(t,e,n){switch(n){case"reflect":return w3t(t,e);case"wrap":return _3t(t,e);case"nearest":return x3t(t,e);case"constant":default:return $3t(t)}}function w3t(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const s=2*e;n<s&&(n=s*Math.trunc(-n/s)+n),n=n<-e?n+s:-n-1}else if(n>e-1)if(e<=1)n=0;else{const s=2*e;n-=s*Math.trunc(n/s),n>=e&&(n=s-n-1)}return qu(0,n,e-1)}function _3t(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const s=e-1;n+=e*(Math.trunc(-n/s)+1)}else if(n>e-1)if(e<=1)n=0;else{const s=e-1;n-=e*Math.trunc(n/s)}return qu(0,n,e-1)}function $3t(t,e){return t}function x3t(t,e){return qu(0,t,e-1)}function Xm(t,e,n,s,r,o,a,i,l,u,c){const d=a*s+i*r+l*o+u;return 0<=i&&i<e&&0<=l&&l<n?t[d]:c}function S3t(t,e,n,s,r,o,a,i,l,u,c){const d=Math.round(i),f=Math.round(l);return Xm(t,e,n,s,r,o,a,d,f,u,c)}function C3t(t,e,n,s,r,o,a,i,l,u,c){const d=Math.floor(i),f=Math.floor(l),h=d+1,p=f+1,m=(p-l)*Xm(t,e,n,s,r,o,a,d,f,u,c)+(l-f)*Xm(t,e,n,s,r,o,a,d,p,u,c),g=(p-l)*Xm(t,e,n,s,r,o,a,h,f,u,c)+(l-f)*Xm(t,e,n,s,r,o,a,h,p,u,c);return(h-i)*m+(i-d)*g}function k3t(t){const{inputs:e,attrs:n,backend:s}=t,{axis:r}=n,{x:o}=e;Tt(o,"unique");const a=s.data.get(o.dataId).values,{outputValues:i,outputShape:l,indices:u}=bG(a,r,o.shape,o.dtype);return[s.makeTensorInfo(l,o.dtype,i),s.makeTensorInfo([u.length],"int32",u)]}const T3t={kernelName:A_,backendName:"cpu",kernelFunc:k3t};function N3t(t){const{inputs:e,backend:n,attrs:s}=t,{value:r}=e;let{axis:o}=s;o<0&&(o+=r.shape.length);const a=r.shape.length,i=r.shape[o],l=new Array(a-1);let u=0;for(let h=0;h<a;h++)h!==o&&(l[u++]=r.shape[h]);const c=new Array(a).fill(0),d=r.shape.slice();d[o]=1;const f=new Array(i);for(let h=0;h<f.length;h++){c[o]=h;const p=Bd({inputs:{x:r},backend:n,attrs:{begin:c,size:d}});f[h]=Gn({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return f}const E3t={kernelName:z1,backendName:"cpu",kernelFunc:N3t};function I3t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,segmentIds:o}=e,{numSegments:a}=s;Tt(r,"unsortedSegmentSum");const i=r.shape.length,l=o.shape.length,u=[],c=[],d=i-l;let f=o;for(let p=0;p<d;++p){const m=wb({inputs:{input:f},backend:n,attrs:{dim:p+1}});f=m,c.push(m)}for(let p=0;p<a;++p){const m=ql(p,"int32"),g=n.makeTensorInfo([],"int32",m),y=MU({inputs:{a:g,b:f},backend:n}),w=nc({inputs:{x:y},backend:n,attrs:{dtype:"float32"}}),b=Z3({inputs:{a:w,b:r},backend:n}),_=$2({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});u.push(_),c.push(g),c.push(y),c.push(w),c.push(b),c.push(_)}const h=DG({inputs:u,backend:n,attrs:{axis:0}});return c.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const A3t={kernelName:B1,backendName:"cpu",kernelFunc:I3t};const O3t=[Tvt,f2t,Evt,Avt,y2t,Rvt,Fvt,Pvt,zvt,Vvt,Wvt,Gvt,Kvt,Yvt,Jvt,tyt,syt,oyt,iyt,Cvt,uyt,dyt,hyt,myt,g2t,w2t,vyt,h2t,byt,_yt,$yt,Syt,kyt,Nyt,Iyt,Oyt,Dyt,Myt,Lyt,Byt,Hyt,Uyt,jyt,Kyt,Xyt,Zyt,Qyt,ebt,tbt,nbt,obt,yvt,ibt,_2t,mbt,$2t,gbt,S2t,$bt,xbt,Cbt,k2t,Nbt,Ibt,Obt,Dbt,Mbt,N2t,I2t,p2t,Lbt,wyt,Bbt,Hbt,Ubt,bvt,O2t,D2t,jbt,M2t,qbt,Zbt,Qbt,nwt,rwt,awt,iwt,L2t,uwt,dwt,hwt,mwt,vwt,bwt,_wt,B2t,xwt,kwt,Ewt,H2t,U2t,Owt,Fwt,Lwt,j2t,Bwt,Hwt,Wwt,FG,Kwt,_vt,X2t,Xwt,Zwt,Qwt,t_t,m2t,qx,s_t,$vt,xvt,Svt,o_t,i_t,u_t,d_t,h_t,p_t,g_t,svt,y_t,x_t,C_t,E_t,ovt,A_t,R_t,F_t,avt,Twt,L_t,B_t,H_t,U_t,j_t,q_t,Y_t,J_t,uvt,Q_t,dvt,t3t,s3t,o3t,i3t,u3t,mvt,sbt,d3t,h3t,m3t,v3t,b3t,K2t,T3t,E3t,A3t,Vwt];for(const t of O3t)R_(t);const Wc={},xv={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function R3t(t,e){Wc[t]=e}function si(t,e){if(!(t in Wc)||e!=null){const s=F3t(t,e);if(s!==null)Wc[t]=s;else return console.log("Could not get context for WebGL version",t),null}const n=Wc[t];return n==null||n.isContextLost()?(delete Wc[t],si(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Wc[t])}function D3t(t){if(typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function F3t(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??D3t(t);return n.addEventListener("webglcontextlost",s=>{s.preventDefault(),delete Wc[t]},!1),Be().getBool("SOFTWARE_WEBGL_ENABLED")&&(xv.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",xv)||n.getContext("experimental-webgl",xv):n.getContext("webgl2",xv)}var lg;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(lg||(lg={}));var zo;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(zo||(zo={}));var Qs;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Qs||(Qs={}));function x2(t,e){return[e,t]}function M3t(t,e){return t*e}function Sv(t){const e=Ge(t),n=Math.ceil(e/4);return Uy(n)}function hm(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function P3t(t,e){const[n,s]=hm(t,e);return n*s*4}function CE(t,e){const n=t;let s,r,o,a,i,l,u,c,d,f;return Be().getNumber("WEBGL_VERSION")===2?(s=n.R32F,r=n.R16F,o=n.RGBA16F,a=n.RGBA32F,i=n.RED,u=4,c=1,d=n.HALF_FLOAT,f=n.FLOAT,l=n.RGBA8):(s=t.RGBA,r=t.RGBA,o=t.RGBA,a=n.RGBA,i=t.RGBA,u=4,c=4,d=e!=null?e.HALF_FLOAT_OES:null,f=t.FLOAT,l=t.RGBA),{internalFormatFloat:s,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:a,textureFormatFloat:i,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:f}}function _t(t,e){const n=e();return Be().getBool("DEBUG")&&L3t(t),n}function L3t(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+H3t(t,e))}const z3t=596e-10,B3t=65504;function V3t(t){return!!(Be().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||z3t<Math.abs(t)&&Math.abs(t)<B3t)}function H3t(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function Cv(t,e){return tu(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function W3t(t,e){const n=tu(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(_t(t,()=>t.shaderSource(n,e)),_t(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function U3t(t,e){const n=tu(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(_t(t,()=>t.shaderSource(n,e)),_t(t,()=>t.compileShader(n)),Be().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw MG(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const G3t=/ERROR: [0-9]+:([0-9]+):/g;function MG(t,e){const n=G3t.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const s=+n[1],r=t.split(`
`),o=r.length.toString().length+2,a=r.map((d,f)=>id((f+1).toString(),o)+d);let i=0;for(let d=0;d<a.length;d++)i=Math.max(a[d].length,i);const l=a.slice(0,s-1),u=a.slice(s-1,s),c=a.slice(s);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${id(u[0],i)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function j3t(t){return tu(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function K3t(t,e){if(_t(t,()=>t.linkProgram(e)),!Be().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function C$(t,e){if(_t(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function q3t(t,e){const n=tu(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return _t(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),_t(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function X3t(t,e){const n=tu(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return _t(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),_t(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function Y3t(t){return tu(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function Z3t(t,e){const n=Be().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const s=`[${t}x${e}]`;throw new Error("Requested texture size "+s+" is invalid.")}if(t>n||e>n){const s=`[${t}x${e}]`,r=`[${n}x${n}]`;throw new Error("Requested texture size "+s+" greater than WebGL maximum on this browser / GPU "+r+".")}}function J3t(t){return tu(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function WD(t,e,n,s,r,o,a){const i=t.getAttribLocation(e,n);return i===-1?!1:(_t(t,()=>t.bindBuffer(t.ARRAY_BUFFER,s)),_t(t,()=>t.vertexAttribPointer(i,r,t.FLOAT,!1,o,a)),_t(t,()=>t.enableVertexAttribArray(i)),!0)}function Q3t(t,e,n){r4t(t,n),_t(t,()=>t.activeTexture(t.TEXTURE0+n)),_t(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function e4t(t,e,n){return tu(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function t4t(t,e,n){return t.getUniformLocation(e,n)}function n4t(t,e,n,s){_t(t,()=>Q3t(t,e,s)),_t(t,()=>t.uniform1i(n,s))}function k$(t,e,n){_t(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),_t(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function UD(t,e){_t(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),_t(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function kv(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+s4t(t,e))}function s4t(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function tu(t,e,n){const s=_t(t,()=>e());if(s==null)throw new Error(n);return s}function r4t(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,s=e+t.TEXTURE0;if(s<t.TEXTURE0||s>n){const r=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${r}.`)}}function Mh(t,e=2){return Ge(t.slice(0,t.length-e))}function Ph(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function Tv(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[Mh(t),...Ph(t)]),e}function o4t(t,e=!1){let n=Be().getNumber("WEBGL_MAX_TEXTURE_SIZE"),s=Be().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");s===1/0&&Be().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(s=n/2),e&&(n=n*2,s=s*2,t=t.map((i,l)=>l>=t.length-2?Nw(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=Kl(t).newShape);let r=Ge(t),o=null;t.length<=1&&r<=n?o=[1,r]:t.length===2&&t[0]<=n&&t[1]<=n?o=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?o=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?o=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?o=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(o=[t[0],t[1]*t[2]*t[3]]);const a=o!=null&&Math.max(...o)>s&&Math.min(...o)<=(e?2:1)&&Math.min(...o)>0;if(o==null||a)if(e){const i=Mh(t);let l=2,u=2;t.length&&([l,u]=Ph(t)),r=i*(l/2)*(u/2),o=Uy(r).map(c=>c*2)}else o=Uy(r);return o}function Nv(t){return t%2===0}function $b(t,e){if(t=t.slice(-2),e=e.slice(-2),hn(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t.slice(-1)[0],s=e.slice(-1)[0];if(n===s||Nv(n)&&Nv(s)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&Nv(t[0])&&Nv(e[0])}let T$,N$;function a4t(t){if(T$==null){const e=si(t);T$=e.getParameter(e.MAX_TEXTURE_SIZE)}return T$}function i4t(t){if(N$==null){const e=si(t);N$=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,N$)}function l4t(t){if(t===0)return 0;let e;const n=si(t);return ma(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:ma(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function ma(t,e){return t.getExtension(e)!=null}function GD(t){try{if(si(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function u4t(t){if(t===0)return!1;const e=si(t);if(t===1){if(!ma(e,"OES_texture_float"))return!1}else if(!ma(e,"EXT_color_buffer_float"))return!1;return Yx(e)}function c4t(t){if(t===0)return!1;const e=si(t);if(t===1){if(!ma(e,"OES_texture_float")||!ma(e,"WEBGL_color_buffer_float"))return!1}else{if(ma(e,"EXT_color_buffer_float"))return Yx(e);const s="EXT_color_buffer_half_float";if(ma(e,s)){const r=e.getExtension(s);return d4t(e,r)}return!1}return Yx(e)}function Yx(t){const e=CE(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);const s=1,r=1;t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,s,r,0,e.textureFormatFloat,e.textureTypeFloat,null);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(o),a}function d4t(t,e){const n=CE(t,e),s=t.createTexture();t.bindTexture(t.TEXTURE_2D,s);const r=1,o=1;t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,r,o,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0);const i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(s),t.deleteFramebuffer(a),i}function f4t(t){return t!==2?!1:si(t).fenceSync!=null}function S2(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&q(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}const At=Be();At.registerFlag("HAS_WEBGL",()=>At.getNumber("WEBGL_VERSION")>0);At.registerFlag("WEBGL_VERSION",()=>GD(2)?2:GD(1)?1:0);At.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);At.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>At.get("WEBGL_VERSION")===2);At.registerFlag("WEBGL_CPU_FORWARD",()=>!0);At.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);At.registerFlag("WEBGL_PACK",()=>At.getBool("HAS_WEBGL"));At.registerFlag("WEBGL_PACK_NORMALIZATION",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_PACK_CLIP",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_PACK_REDUCE",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_LAZILY_UNPACK",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_CONV_IM2COL",()=>At.getBool("WEBGL_PACK"));At.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>a4t(At.getNumber("WEBGL_VERSION")));At.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>i4t(At.getNumber("WEBGL_VERSION")));At.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=At.getNumber("WEBGL_VERSION");return t===0?0:l4t(t)});At.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>At.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!jk());At.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>u4t(At.getNumber("WEBGL_VERSION")));At.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>At.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:At.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));At.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>c4t(At.getNumber("WEBGL_VERSION")));At.registerFlag("WEBGL_FENCE_API_ENABLED",()=>f4t(At.getNumber("WEBGL_VERSION")));At.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>At.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);At.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});At.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>jk()?1:-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});At.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);At.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);At.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);At.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);At.registerFlag("WEBGL_EXP_CONV",()=>!1);At.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>At.getBool("IS_TEST"));At.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);At.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);At.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);At.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);function Lr(){let t,e,n,s,r,o,a,i,l,u;return Be().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",s="in",r="texture",o="outputColor",a="out vec4 outputColor;",i=Be().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",s="varying",r="texture2D",o="gl_FragColor",a="",i=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:s,texture2D:r,output:o,defineOutput:a,defineSpecialNaN:i,defineSpecialInf:l,defineRound:u}}function hf(t,e,n="index"){const s=Mt(e);return s.map((r,o)=>{const a=`int ${t[o]} = ${n} / ${r}`,i=o===s.length-1?`int ${t[o+1]} = ${n} - ${t[o]} * ${r}`:`index -= ${t[o]} * ${r}`;return`${a}; ${i};`}).join("")}function J3(t,e,n="index"){const s=Mt(e);return s.map((r,o)=>{const a=`int ${t[o]} = ${n} / outShapeStrides[${o}]`,i=o===s.length-1?`int ${t[o+1]} = ${n} - ${t[o]} * outShapeStrides[${o}]`:`index -= ${t[o]} * outShapeStrides[${o}]`;return`${a}; ${i};`}).join("")}function h4t(t,e){const n=t.length,s=t.map(o=>`${e}[${o}]`),r=new Array(n-1);r[n-2]=s[n-1];for(let o=n-3;o>=0;--o)r[o]=`(${r[o+1]} * ${s[o+1]})`;return r}function p4t(t,e,n="index"){const s=t.map((o,a)=>a),r=h4t(s,e);return r.map((o,a)=>{const i=`int ${t[a]} = ${n} / ${r[a]}`,l=a===r.length-1?`int ${t[a+1]} = ${n} - ${t[a]} * ${r[a]}`:`index -= ${t[a]} * ${r[a]}`;return`${i}; ${l};`}).join("")}function kE(t){const e=Mt(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function TE(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const PG=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;const{getBroadcastDims:LG}=YH;function m4t(t,e,n){const s=[];if(t.forEach(h=>{const p=Ge(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?s.push(`uniform float ${h.name}${p>1?`[${p}]`:""};`):(s.push(`uniform sampler2D ${h.name};`),s.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:m}=NE(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(m.length){case 1:s.push(`uniform int ${h.name}Shape;`);break;case 2:s.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:s.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:s.push(`uniform ivec4 ${h.name}Shape;`);break}s.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:s.push("uniform int outShape;");break;case 2:s.push("uniform ivec2 outShape;"),s.push("uniform int outShapeStrides;");break;case 3:s.push("uniform ivec3 outShape;"),s.push("uniform ivec2 outShapeStrides;");break;case 4:s.push("uniform ivec4 outShape;"),s.push("uniform ivec3 outShapeStrides;");break}s.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{s.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const r=s.join(`
`),o=t.map(h=>g4t(h,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),a=e.texShape,i=Lr(),l=b4t(i);let u,c,d=$4t(i);return e.isPacked?(u=v4t(e.logicalShape,a,n.enableShapeUniforms),c=_4t(i)):(u=y4t(e.logicalShape,a,n.enableShapeUniforms),c=w4t(i)),n.packedInputs&&(d+=k4t),[d,l,c,r,u,o,n.userCode].join(`
`)}function pm(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return L4t(t,e);case 1:return B4t(t,e);case 2:return H4t(t,e);case 3:return U4t(t,e);case 4:return j4t(t,e);case 5:return K4t(t);case 6:return q4t(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function zG(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return P4t(t);case 1:return z4t(t,e);case 2:return V4t(t,e);case 3:return W4t(t,e);default:return G4t(t,e)}}function g4t(t,e,n=!1,s){let r="";n?r+=zG(t,s):r+=pm(t,s);const o=t.shapeInfo.logicalShape,a=e.logicalShape;return o.length<=a.length&&(n?r+=X4t(t,e):r+=Y4t(t,e)),r}function v4t(t,e,n){switch(t.length){case 0:return BG();case 1:return T4t(t,e,n);case 2:return F4t(t,e,n);case 3:return E4t(t,e,n);default:return A4t(t,e,n)}}function y4t(t,e,n){switch(t.length){case 0:return BG();case 1:return N4t(t,e,n);case 2:return M4t(t,e,n);case 3:return I4t(t,e,n);case 4:return O4t(t,e,n);case 5:return R4t(t,e);case 6:return D4t(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function b4t(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function w4t(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function _4t(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function $4t(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${x4t}
    ${S4t}
    ${C4t}
  `}const x4t=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,S4t=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,C4t=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,k4t=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function BG(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function T4t(t,e,n){const s=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return s[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${s[1]}.0);
      }
    `:s[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${s[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${s[0]}, ${s[1]}));
      return 2 * (resTexRC.x * ${s[1]} + resTexRC.y);
    }
  `}function N4t(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function E4t(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const s=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[2]/2),o=r*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${s[0]}, ${s[1]}));
      int index = resTexRC.x * ${s[1]} + resTexRC.y;

      int b = index / ${o};
      index -= b * ${o};

      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec3(b, r, c);
    }
  `}function I4t(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${J3(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const s=hf(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${s}
      return ivec3(r, c, d);
    }
  `}function A4t(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const s=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),o=r*Math.ceil(t[t.length-2]/2);let a=o,i="",l="b, r, c";for(let u=2;u<t.length-1;u++)a*=t[t.length-u-1],i=`
      int b${u} = index / ${a};
      index -= b${u} * ${a};
    `+i,l=`b${u}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${s[0]}, ${s[1]}));
      int index = resTexRC.x * ${s[1]} + resTexRC.y;

      ${i}

      int b = index / ${o};
      index -= b * ${o};

      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec${t.length}(${l});
    }
  `}function O4t(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${J3(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const s=hf(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${s}
      return ivec4(r, c, d, d2);
    }
  `}function R4t(t,e){const n=hf(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function D4t(t,e){const n=hf(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function F4t(t,e,n){const s=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(hn(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${s[0]}, ${s[1]}));
      }
    `;const r=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${s[0]}, ${s[1]}));

      int index = resTexRC.x * ${s[1]} + resTexRC.y;
      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec2(r, c);
    }
  `}function M4t(t,e,n){return hn(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function pf(t){return`offset${t}`}function P4t(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),s=Lr();return`
    vec4 ${n}() {
      return ${s.texture2D}(${e}, halfCR);
    }
  `}function L4t(t,e){const n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${s}() {return ${n};}`;const[r,o]=t.shapeInfo.texShape;if(r===1&&o===1)return`
      float ${s}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=pf(n);if(e)return`
    float ${s}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});
      return sampleTexture(${n}, uv);
    }
  `;const[i,l]=t.shapeInfo.texShape;return`
    float ${s}() {
      vec2 uv = uvFromFlat(${i}, ${l}, ${a});
      return sampleTexture(${n}, uv);
    }
  `}function z4t(t,e){const n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t.shapeInfo.texShape,o=Lr();if(e)return`
    vec4 ${s}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${o.texture2D}(${n}, uv);
    }
  `;const a=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`
    vec4 ${s}(int index) {
      vec2 uv = packedUVfrom1D(
        ${a[0]}, ${a[1]}, index);
      return ${o.texture2D}(${n}, uv);
    }
  `}function B4t(t,e){const n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${s}(int index) {
        ${mm(t)}
      }
    `;const r=t.shapeInfo.texShape,o=r[0],a=r[1];if(a===1&&o===1)return`
      float ${s}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const i=pf(n);return a===1?e?`
      float ${s}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${i}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${s}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${i}) + 0.5) / ${o}.0);
        return sampleTexture(${n}, uv);
      }
    `:o===1?e?`
      float ${s}(int index) {
        vec2 uv = vec2((float(index + ${i}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${s}(int index) {
        vec2 uv = vec2((float(index + ${i}) + 0.5) / ${a}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${s}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${i});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${s}(int index) {
      vec2 uv = uvFromFlat(${o}, ${a}, index + ${i});
      return sampleTexture(${n}, uv);
    }
  `}function V4t(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),o=t.shapeInfo.texShape,a=o[0],i=o[1],l=Lr();if(o!=null&&hn(n,o))return e?`
      vec4 ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);

        return ${l.texture2D}(${s}, uv);
      }
    `:`
      vec4 ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}.0, ${a}.0);

        return ${l.texture2D}(${s}, uv);
      }
    `;if(e)return`
    vec4 ${r}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${s}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${s}, uv);
    }
  `;const u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${r}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${s}, uv);
    }
  `}function H4t(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),o=t.shapeInfo.texShape;if(o!=null&&hn(n,o)){if(e)return`
      float ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `;const f=o[0],h=o[1];return`
    float ${r}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${f}.0);
      return sampleTexture(${s}, uv);
    }
  `}const{newShape:a,keptDims:i}=Kl(n),l=a;if(l.length<n.length){const f=gm(t,l),h=["row","col"];return`
      ${pm(f,e)}
      float ${r}(int row, int col) {
        return ${r}(${vm(h,i)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${mm(t)}
      }
    `;const u=o[0],c=o[1],d=pf(s);return c===1?e?`
      float ${r}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${s}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${s}TexShape[0]));
        return sampleTexture(${s}, uv);
      }
    `:`
    float ${r}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${s}, uv);
    }
  `:u===1?e?`
      float ${r}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${s}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${s}TexShape[1]), 0.5);
        return sampleTexture(${s}, uv);
      }
    `:`
    float ${r}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${s}, uv);
    }
  `:e?`
      float ${r}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${s}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);
        return sampleTexture(${s}, uv);
      }
    `:`
  float ${r}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${d};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${s}, uv);
  }
`}function W4t(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),o=t.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(n[0]===1){const f=n.slice(1),h=[1,2],p=gm(t,f),m=["b","row","col"];return`
        ${zG(p,e)}
        vec4 ${r}(int b, int row, int col) {
          return ${r}(${vm(m,h)});
        }
      `}const i=Lr();if(e)return`
    vec4 ${r}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${s}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${s}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${i.texture2D}(${s}, uv);
    }
  `;const l=a[0],u=a[1],c=Math.ceil(n[2]/2),d=c*Math.ceil(n[1]/2);return`
    vec4 ${r}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${d}, ${c}, b, row, col);
      return ${i.texture2D}(${s}, uv);
    }
  `}function U4t(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),o=n[1]*n[2],a=n[2],{newShape:i,keptDims:l}=Kl(n),u=i;if(u.length<n.length){const m=gm(t,u),g=["row","col","depth"];return`
        ${pm(m,e)}
        float ${r}(int row, int col, int depth) {
          return ${r}(${vm(g,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${o}, ${a}, 1)));
        ${mm(t)}
      }
    `;const c=t.shapeInfo.texShape,d=c[0],f=c[1],h=t.shapeInfo.flatOffset;if(f===o&&h==null)return e?`
      float ${r}(int row, int col, int depth) {
        int stride1 = ${s}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `:`
        float ${r}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${a}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${f}.0, ${d}.0);
          return sampleTexture(${s}, uv);
        }
      `;if(f===a&&h==null)return e?`
      float ${r}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${s}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `:`
    float ${r}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${d}.0);
      return sampleTexture(${s}, uv);
    }
  `;const p=pf(s);return e?`
    float ${r}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${s}Shape[1] * ${s}Shape[2];
      int stride1 = ${s}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);
      return sampleTexture(${s}, uv);
    }
    `:`
      float ${r}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${o} + col * ${a} + depth + ${p};
        vec2 uv = uvFromFlat(${d}, ${f}, index);
        return sampleTexture(${s}, uv);
      }
  `}function G4t(t,e){const n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=Lr();if(e)return`
    vec4 ${s}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${n}, uv);
    }
  `;const o=t.shapeInfo.logicalShape,a=o.length,i=t.shapeInfo.texShape,l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=l[0],c=l[1],d=Math.ceil(o[a-1]/2);let f=d*Math.ceil(o[a-2]/2),h="int b, int row, int col",p=`b * ${f} + (row / 2) * ${d} + (col / 2)`;for(let m=2;m<a-1;m++)h=`int b${m}, `+h,f*=o[a-m-1],p=`b${m} * ${f} + `+p;return`
    vec4 ${s}(${h}) {
      int index = ${p};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${r.texture2D}(${n}, uv);
    }
  `}function j4t(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),o=n[3],a=n[2]*o,i=n[1]*a,{newShape:l,keptDims:u}=Kl(n);if(l.length<n.length){const w=gm(t,l),b=["row","col","depth","depth2"];return`
      ${pm(w,e)}
      float ${r}(int row, int col, int depth, int depth2) {
        return ${r}(${vm(b,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${i}, ${a}, ${o}, 1)));
        ${mm(t)}
      }
    `;const c=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,f=d[0],h=d[1],p=`int stride2 = ${s}Shape[3];`,m=`int stride1 = ${s}Shape[2] * stride2;`,g=`int stride0 = ${s}Shape[1] * stride1;`;if(h===i&&c==null)return e?`
      float ${r}(int row, int col, int depth, int depth2) {
        ${p}
        ${m}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `:`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${a}, ${o}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${f}.0);
        return sampleTexture(${s}, uv);
      }
    `;if(h===o&&c==null)return e?`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${s}Shape[1] * ${s}Shape[2], ${s}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `:`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${f}.0);
        return sampleTexture(${s}, uv);
      }
    `;const y=pf(s);return e?`
    float ${r}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${m}
      ${g}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index + ${y});
      return sampleTexture(${s}, uv);
    }
  `:`
    float ${r}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${i} + col * ${a} +
          depth * ${o} + depth2;
      vec2 uv = uvFromFlat(${f}, ${h}, index + ${y});
      return sampleTexture(${s}, uv);
    }
  `}function K4t(t){const e=t.shapeInfo.logicalShape,n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e[4],o=e[3]*r,a=e[2]*o,i=e[1]*a,{newShape:l,keptDims:u}=Kl(e);if(l.length<e.length){const m=gm(t,l),g=["row","col","depth","depth2","depth3"];return`
      ${pm(m)}
      float ${s}(int row, int col, int depth, int depth2, int depth3) {
        return ${s}(${vm(g,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${i}, ${a}, ${o}, ${r})) +
          depth3;
        ${mm(t)}
      }
    `;const c=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,f=d[0],h=d[1];if(h===i&&c==null)return`
      float ${s}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${a}, ${o}, ${r}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===r&&c==null)return`
      float ${s}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=pf(n);return`
    float ${s}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${i} + col * ${a} + depth * ${o} +
          depth2 * ${r} + depth3 + ${p};
      vec2 uv = uvFromFlat(${f}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function q4t(t){const e=t.shapeInfo.logicalShape,n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:o}=Kl(e);if(r.length<e.length){const g=gm(t,r),y=["row","col","depth","depth2","depth3","depth4"];return`
      ${pm(g)}
      float ${s}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${s}(${vm(y,o)});
      }
    `}const a=e[5],i=e[4]*a,l=e[3]*i,u=e[2]*l,c=e[1]*u;if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${i})) +
          dot(
            vec2(depth3, depth4),
            vec2(${a}, 1)));
        ${mm(t)}
      }
    `;const d=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,h=f[0],p=f[1];if(p===c&&d==null)return`
      float ${s}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${i}, ${a})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===a&&d==null)return`
      float ${s}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const m=pf(n);return`
    float ${s}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${i} + depth3 * ${a} + depth4 + ${m};
      vec2 uv = uvFromFlat(${h}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function mm(t){const e=t.name,n=Ge(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function X4t(t,e){const n=t.name,s=n.charAt(0).toUpperCase()+n.slice(1),r="get"+s+"AtOutCoords",o=t.shapeInfo.logicalShape.length,a=e.logicalShape.length,i=LG(t.shapeInfo.logicalShape,e.logicalShape),l=jn(a),u=a-o;let c;const d=["x","y","z","w","u","v"];o===0?c="":a<2&&i.length>=1?c="coords = 0;":c=i.map(w=>`coords.${d[w+u]} = 0;`).join(`
`);let f="";a<2&&o>0?f="coords":f=t.shapeInfo.logicalShape.map((w,b)=>`coords.${d[b+u]}`).join(", ");let h="return outputValue;";const m=Ge(t.shapeInfo.logicalShape)===1,y=Ge(e.logicalShape)===1;if(o===1&&!m&&!y)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(m&&!y)a===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(i.length){const w=o-2,b=o-1;i.indexOf(w)>-1&&i.indexOf(b)>-1?h="return vec4(outputValue.x);":i.indexOf(w)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":i.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${r}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${s}(${f});
      ${h}
    }
  `}function Y4t(t,e){const n=t.name,s=n.charAt(0).toUpperCase()+n.slice(1),r="get"+s+"AtOutCoords",o=e.texShape,a=t.shapeInfo.texShape,i=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&i===l&&t.shapeInfo.flatOffset==null&&hn(a,o))return`
      float ${r}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=jn(l),c=LG(t.shapeInfo.logicalShape,e.logicalShape),d=l-i;let f;const h=["x","y","z","w","u","v"];i===0?f="":l<2&&c.length>=1?f="coords = 0;":f=c.map(m=>`coords.${h[m+d]} = 0;`).join(`
`);let p="";return l<2&&i>0?p="coords":p=t.shapeInfo.logicalShape.map((m,g)=>`coords.${h[g+d]}`).join(", "),`
    float ${r}() {
      ${u} coords = getOutputCoords();
      ${f}
      return get${s}(${p});
    }
  `}function jn(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function NE(t,e,n){const{newShape:s,keptDims:r}=Kl(e),o=e.length,a=t&&o===3&&e[0]===1,i=a?e.slice(1):s,l=!t&&o>1&&!hn(e,n)&&s.length<o||a;return{useSqueezeShape:l,uniformShape:l?i:e,keptDims:r}}function gm(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function vm(t,e){return e.map(n=>t[n]).join(", ")}function Z4t(t,e,n,s){const r=n.map((c,d)=>{const f={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(f.flatOffset=c.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:f}}),o=r.map(c=>c.shapeInfo),a={logicalShape:s.shape,texShape:s.texData.texShape,isUniform:!1,isPacked:s.texData.isPacked,flatOffset:null},i=m4t(r,a,e),l=U3t(t.gl,i),u=t.createProgram(l);return Be().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:i,webGLProgram:u,inShapeInfos:o,outShapeInfo:a,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:e,fragmentShader:l,source:i,webGLProgram:u,inShapeInfos:o,outShapeInfo:a},VG(t,e,u))}function VG(t,e,n){const s={},r={},o={},a=[];let i,l,u,c=null,d=null;d=t.getUniformLocation(n,"NAN",!1),Be().getNumber("WEBGL_VERSION")===1&&(c=t.getUniformLocation(n,"INFINITY",!1));const f=!1;for(let h=0;h<e.variableNames.length;h++){const p=e.variableNames[h];s[p]=t.getUniformLocation(n,p,f),s[`offset${p}`]=t.getUniformLocation(n,`offset${p}`,f),e.enableShapeUniforms&&(r[`${p}Shape`]=t.getUniformLocation(n,`${p}Shape`,f),o[`${p}TexShape`]=t.getUniformLocation(n,`${p}TexShape`,f))}return e.enableShapeUniforms&&(i=t.getUniformLocation(n,"outShape",f),u=t.getUniformLocation(n,"outShapeStrides",f),l=t.getUniformLocation(n,"outTexShape",f)),e.customUniforms&&e.customUniforms.forEach((h,p)=>{a[p]=t.getUniformLocation(n,h.name,f)}),{uniformLocations:s,customUniformLocations:a,infLoc:c,nanLoc:d,inShapesLocations:r,inTexShapesLocations:o,outShapeLocation:i,outShapeStridesLocation:u,outTexShapeLocation:l}}function jD(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,s)=>{const r=n.logicalShape,o=e[s],a=o.shape;if(!hn(r,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${a} must match`);if(n.isUniform&&o.isUniform)return;const i=n.texShape,l=o.isUniform?null:o.texData.texShape;if(!hn(i,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${i} and ${l} must match`)})}function J4t(t,e,n,s,r){e.program.enableShapeUniforms||(jD(e.inShapeInfos,n),jD([e.outShapeInfo],[s]));const o=s.texData.texture,a=s.texData.texShape;s.texData.isPacked?t.setOutputPackedMatrixTexture(o.texture,a[0],a[1]):t.setOutputMatrixTexture(o.texture,a[0],a[1]),t.setProgram(e.webGLProgram),Be().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach((l,u)=>{const c=e.program.variableNames[u],d=e.uniformLocations[c],f=e.uniformLocations[`offset${c}`],h=e.inShapesLocations[`${c}Shape`],p=e.inTexShapesLocations[`${c}TexShape`];if(h){const{uniformShape:m}=NE(e.program.packedInputs,l.shape,l.texData.texShape);switch(m.length){case 1:t.gl.uniform1iv(h,new Int32Array(m));break;case 2:t.gl.uniform2iv(h,new Int32Array(m));break;case 3:t.gl.uniform3iv(h,new Int32Array(m));break;case 4:t.gl.uniform4iv(h,new Int32Array(m));break}}if(p&&t.gl.uniform2i(p,l.texData.texShape[0],l.texData.texShape[1]),d!=null){if(l.isUniform){if(Ge(l.shape)<2)t.gl.uniform1f(d,l.uniformValues[0]);else{let m=l.uniformValues;m instanceof Float32Array||(m=new Float32Array(m)),t.gl.uniform1fv(d,m)}return}l.texData.slice!=null&&f!=null&&t.gl.uniform1i(f,l.texData.slice.flatOffset),t.setInputMatrixTexture(l.texData.texture.texture,d,u)}});const i=e.outShapeLocation;if(i)switch(s.shape.length){case 1:t.gl.uniform1iv(i,new Int32Array(s.shape));break;case 2:t.gl.uniform2iv(i,new Int32Array(s.shape));break;case 3:t.gl.uniform3iv(i,new Int32Array(s.shape));break;case 4:t.gl.uniform4iv(i,new Int32Array(s.shape));break}if(e.outShapeStridesLocation){const l=Mt(s.shape);switch(s.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,s.texData.texShape[0],s.texData.texShape[1]),e.program.customUniforms&&r&&e.program.customUniforms.forEach((l,u)=>{const c=e.customUniformLocations[u],d=r[u];if(l.type==="float")t.gl.uniform1fv(c,d);else if(l.type==="vec2")t.gl.uniform2fv(c,d);else if(l.type==="vec3")t.gl.uniform3fv(c,d);else if(l.type==="vec4")t.gl.uniform4fv(c,d);else if(l.type==="int")t.gl.uniform1iv(c,d);else if(l.type==="ivec2")t.gl.uniform2iv(c,d);else if(l.type==="ivec3")t.gl.uniform3iv(c,d);else if(l.type==="ivec4")t.gl.uniform4iv(c,d);else throw Error(`uniform type ${l.type} is not supported yet.`)}),t.executeProgram()}function Q4t(t,e,n){let s="";e.concat(n).forEach(a=>{const i=a.texData!=null&&a.texData.slice!=null&&a.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!a.isUniform){const l=a.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:d}=NE(t.packedInputs,a.shape,l);let f="",h="",p="";if(c.length===1&&t.packedInputs){const $=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];f=`${$[0]>1}_${$[1]>1}`}else if(c.length===2&&!t.packedInputs)h=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!t.packedInputs){const $=Mt(c);p=`${$[0]===l[1]}_${$[$.length-1]===l[1]}`}const m=a.shape.length,g=c.length===2&&hn(a.shape,l),y=Ge(a.shape)===1,w=Ad(a.shape,n.shape),b=!t.packedInputs&&m===n.shape.length&&hn(l,n.texData.texShape),_=t.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;s+=`${m}_${b}_${u?d:""}_${c.length}_${y}_${w}_${g}_${f}_${h}_${p}_${_}_${i}`}else{const l=a.isUniform?"uniform":a.texData.texShape;s+=`${a.shape}_${l}_${i}`}});const r=t.userCode;let o=t.constructor.name;return o+="_"+s+"_"+r+`${Be().getNumber("WEBGL_VERSION")}`,o}function zr(t){return Be().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}class e$t{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=lg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Lr();this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?J3(["r","c","d"],e):hf(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}class t$t{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=lg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Lr();this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?J3(["r","c","d"],e):hf(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}class n$t{constructor(e){this.variableNames=["A"],this.outTexUsage=zo.DOWNLOAD;const n=Lr();this.outputShape=e,this.userCode=`
      ${PG}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}class s$t{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=zo.DOWNLOAD;const n=Lr();this.outputShape=e,this.userCode=`
      ${PG}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}const r$t={R:0,G:1,B:2,A:3};class KD{constructor(e,n=!1,s="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Lr();this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length);let o="result";n&&(o="floor(result * 255. + 0.5)");let a="";for(let i=0;i<s.length;i++){const l=s[i];a+=`
          if(offset == ${i}) {
            result = values[${r$t[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?TE():kE(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${s.length});

        flatIndex = idiv(flatIndex, ${s.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${r.texture2D}(A, uv);
          ${a}
        }
        ${r.output} = vec4(${o}, 0., 0., 0.);
      }
    `}}class o$t{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=Lr();this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length);let r="",o="result";n&&(o="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let i=0;i<=1;i++){const l=a*2+i;r+=`
          localCoords = coords;
          if(localCoords[2] + ${i} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${i};
          if (localCoords[1] + ${a} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${a};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${s.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?TE():kE(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${r}

          ${s.output} = ${o};
        }
    `}}function a$t(t){const e=Lr(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return W3t(t,n)}function i$t(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return q3t(t,e)}function l$t(t){const e=new Uint16Array([0,1,2,2,1,3]);return X3t(t,e)}function C2(t,e,n,s,r,o){Z3t(e,n);const a=Y3t(t),i=t.TEXTURE_2D;return _t(t,()=>t.bindTexture(i,a)),_t(t,()=>t.texParameteri(i,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),_t(t,()=>t.texParameteri(i,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),_t(t,()=>t.texParameteri(i,t.TEXTURE_MIN_FILTER,t.NEAREST)),_t(t,()=>t.texParameteri(i,t.TEXTURE_MAG_FILTER,t.NEAREST)),Be().getNumber("WEBGL_VERSION")===1?_t(t,()=>t.texImage2D(i,0,s,e,n,0,r,o,null)):_t(t,()=>t.texStorage2D(i,1,s,e,n)),_t(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:a,texShape:[n,e]}}function HG(t){return t.internalFormatFloat}function u$t(t,e,n,s){const[r,o]=x2(e,n);return C2(t,r,o,HG(s),s.textureFormatFloat,t.FLOAT)}function WG(t){return t.internalFormatHalfFloat}function c$t(t,e,n,s){const[r,o]=x2(e,n);return C2(t,r,o,WG(s),s.textureFormatFloat,s.textureTypeHalfFloat)}function UG(t){return t.downloadTextureFormat}function d$t(t,e,n,s){const[r,o]=x2(e,n);return C2(t,r,o,UG(s),t.RGBA,t.UNSIGNED_BYTE)}function GG(t){return t.internalFormatPackedFloat}function f$t(t,e,n,s){const[r,o]=hm(e,n);return C2(t,r,o,GG(s),t.RGBA,t.FLOAT)}function jG(t){return t.internalFormatPackedHalfFloat}function h$t(t,e,n,s){const[r,o]=hm(e,n);return C2(t,r,o,jG(s),t.RGBA,s.textureTypeHalfFloat)}function p$t(t,e,n){return _t(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),WD(t,e,"clipSpacePos",n,3,20,0)&&WD(t,e,"uv",n,2,20,12)}function m$t(t,e,n,s,r,o){_t(t,()=>t.bindTexture(t.TEXTURE_2D,e));let a,i,l;r instanceof Uint8Array?(a=new Uint8Array(n*s*4),i=t.UNSIGNED_BYTE,l=t.RGBA):(a=new Float32Array(n*s*4),i=t.FLOAT,l=o.internalFormatPackedFloat),a.set(r),Be().getNumber("WEBGL_VERSION")===2?_t(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,s,t.RGBA,i,a)):_t(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,s,0,t.RGBA,i,a)),_t(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function g$t(t,e,n){_t(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?Be().getNumber("WEBGL_VERSION")===2?_t(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):_t(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):Be().getNumber("WEBGL_VERSION")===2?_t(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):_t(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),_t(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function v$t(t,e,n,s){const r=t.createBuffer();_t(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,r));const i=4*4*e*n;return _t(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,i,t.STREAM_READ)),_t(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),_t(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),r}function y$t(t,e,n){const s=t,r=new Float32Array(n);return s.bindBuffer(s.PIXEL_PACK_BUFFER,e),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,r),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),r}function b$t(t,e,n,s){const[r,o]=x2(e,n),a=4,i=new Uint8Array(M3t(e*n,a));return _t(t,()=>t.readPixels(0,0,r,o,s.downloadTextureFormat,t.UNSIGNED_BYTE,i)),new Float32Array(i.buffer)}function w$t(t,e,n,s,r,o,a,i){const l=t,u=new Float32Array(P3t(o,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function _$t(t,e,n){const s=new Float32Array(e*n*4);return _t(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,s)),s}class E${constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=Be().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,R3t(n,e)):this.gl=si(n),e=this.gl,Be().getNumber("WEBGL_VERSION")===2){const o=e;this.createVertexArray=()=>_t(o,()=>o.createVertexArray()),this.bindVertexArray=a=>_t(o,()=>o.bindVertexArray(a)),this.deleteVertexArray=a=>_t(o,()=>o.deleteVertexArray(a)),this.getVertexArray=()=>_t(o,()=>o.getParameter(o.VERTEX_ARRAY_BINDING))}else if(e!=null){const o=e.getExtension("OES_vertex_array_object");if(o==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>_t(e,()=>o.createVertexArrayOES()),this.bindVertexArray=a=>_t(e,()=>o.bindVertexArrayOES(a)),this.deleteVertexArray=a=>_t(e,()=>o.deleteVertexArrayOES(a)),this.getVertexArray=()=>_t(e,()=>e.getParameter(o.VERTEX_ARRAY_BINDING_OES))}let s="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Be().getNumber("WEBGL_VERSION")===1){const o="OES_texture_float",a="OES_texture_half_float";if(this.textureFloatExtension=Cv(this.gl,o),ma(this.gl,a))this.textureHalfFloatExtension=Cv(this.gl,a);else if(Be().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(s),ma(this.gl,r))this.colorBufferHalfFloatExtension=Cv(this.gl,r);else if(Be().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(s="EXT_color_buffer_float",ma(this.gl,s))this.colorBufferFloatExtension=this.gl.getExtension(s);else if(ma(this.gl,r))this.colorBufferHalfFloatExtension=this.gl.getExtension(r);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=i$t(this.gl),this.indexBuffer=l$t(this.gl),this.framebuffer=J3t(this.gl),this.textureConfig=CE(this.gl,this.textureHalfFloatExtension)}get debug(){return Be().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;_t(e,()=>e.finish()),_t(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),_t(e,()=>e.deleteFramebuffer(this.framebuffer)),_t(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),_t(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),_t(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),u$t(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),c$t(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),d$t(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),g$t(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,s,r){this.throwIfDisposed(),m$t(this.gl,e,n,s,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),h$t(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),f$t(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(UD(this.gl,this.framebuffer),this.outputTexture=null),_t(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,s){return this.downloadMatrixDriver(e,()=>b$t(this.gl,n,s,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,s,r,o,a){return w$t(this.gl,e,n,s,r,o,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return y$t(this.gl,e,n)}createBufferFromTexture(e,n,s){this.bindTextureToFrameBuffer(e);const r=v$t(this.gl,n,s,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,s;if(Be().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,o=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),s=()=>{const a=r.clientWaitSync(o,0,0);return a===r.ALREADY_SIGNALED||a===r.CONDITION_SATISFIED},n=o}else Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),s=()=>this.isQueryAvailable(n,Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):s=()=>!0;return{query:n,isFencePassed:s}}downloadMatrixFromPackedTexture(e,n,s){return this.downloadMatrixDriver(e,()=>_$t(this.gl,n,s))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=a$t(n));const s=j3t(n);_t(n,()=>n.attachShader(s,this.vertexShader)),_t(n,()=>n.attachShader(s,e)),K3t(n,s);let r;return r=Object.assign(s,{vao:this.createVertexArray()}),this.bindVertexArray(r.vao),_t(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),console.assert(p$t(n,r,this.vertexBuffer),"gpgpu_util.bindVertexProgramAttributeStreams not fully successful."),this.debug&&C$(n,r),this.setProgram(r),r}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(_t(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&(this.bindVertexArray(this.program.vao),this.debug&&C$(this.gl,this.program)),_t(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,s=!0){return this.throwIfDisposed(),s?e4t(this.gl,e,n):t4t(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),_t(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,s){this.throwIfDisposed(),this.throwIfNoProgram(),n4t(this.gl,e,n,s)}setOutputMatrixTexture(e,n,s){this.setOutputMatrixTextureDriver(e,s,n)}setOutputPackedMatrixTexture(e,n,s){this.throwIfDisposed();const[r,o]=hm(n,s);this.setOutputMatrixTextureDriver(e,r,o)}setOutputMatrixWriteRegion(e,n,s,r){this.setOutputMatrixWriteRegionDriver(s,e,r,n)}setOutputPackedMatrixWriteRegion(e,n,s,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&C$(this.gl,this.program),kv(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}_t(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),_t(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Cv(this.gl,Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const s=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=s.createQuery();return s.beginQuery(r.TIME_ELAPSED_EXT,o),o}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,s=this.getQueryTimerExtensionWebGL2();n.endQuery(s.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await ax(()=>this.disposed||this.isQueryAvailable(e,Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const s=this.gl;return s.getQueryParameter(e,s.QUERY_RESULT)/1e6}else{const s=this.getQueryTimerExtensionWebGL1();return s.getQueryObjectEXT(e,s.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const s=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=s.getQueryParameter(e,s.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}else{const s=this.getQueryTimerExtensionWebGL1(),r=s.getQueryObjectEXT(e,s.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=$$t(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:s}=this.itemsToPoll[n];s()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let s;"setTimeoutCustom"in Be().platform&&(s=Be().platform.setTimeoutCustom.bind(Be().platform)),ax(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,s)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),k$(this.gl,e,this.framebuffer),this.debug&&kv(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(k$(this.gl,this.outputTexture,this.framebuffer),this.debug&&kv(this.gl)):UD(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const s=n();return this.unbindTextureToFrameBuffer(),s}setOutputMatrixTextureDriver(e,n,s){this.throwIfDisposed();const r=this.gl;k$(r,e,this.framebuffer),this.debug&&kv(r),this.outputTexture=e,_t(r,()=>r.viewport(0,0,n,s)),_t(r,()=>r.scissor(0,0,n,s))}setOutputMatrixWriteRegionDriver(e,n,s,r){this.throwIfDisposed(),_t(this.gl,()=>this.gl.scissor(e,n,s,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function $$t(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}const{addImpl:x$t,bincountImpl:KG,bincountReduceImpl:S$t,castImpl:C$t,ceilImpl:k$t,concatImpl:T$t,equalImpl:N$t,expImpl:E$t,expm1Impl:I$t,floorImpl:A$t,gatherNdImpl:O$t,gatherV2Impl:R$t,greaterImpl:D$t,greaterEqualImpl:F$t,lessImpl:M$t,lessEqualImpl:P$t,linSpaceImpl:L$t,logImpl:z$t,maxImpl:B$t,maximumImpl:V$t,minimumImpl:H$t,multiplyImpl:W$t,negImpl:U$t,notEqualImpl:G$t,prodImpl:j$t,raggedGatherImpl:K$t,raggedRangeImpl:q$t,raggedTensorToTensorImpl:X$t,rangeImpl:Y$t,rsqrtImpl:Z$t,scatterImpl:J$t,sigmoidImpl:Q$t,simpleAbsImpl:qG,sliceImpl:e6t,sparseFillEmptyRowsImpl:t6t,sparseReshapeImpl:n6t,sparseSegmentReductionImpl:XG,sqrtImpl:s6t,stridedSliceImpl:r6t,stringNGramsImpl:o6t,stringSplitImpl:a6t,stringToHashBucketFastImpl:i6t,subImpl:l6t,tileImpl:u6t,topKImpl:c6t,transposeImpl:EE,uniqueImpl:d6t}=gvt;function YG(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Er(t,e){return e===1?[t]:YG(t,e)}function f6t(t,e){if(t===1)return"rc";let n="";for(let s=0;s<t;s++)n+=e[s],s<t-1&&(n+=",");return n}class h6t{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=zr(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Er("rc",this.rank),s=jn(this.rank),r=this.getOutOfBoundsCondition(n),o=this.getSetup(n),a=this.getOutput(n);this.userCode=`
        void main() {
          ${s} rc = getOutputCoords();

          if(${r}) {
            setOutput(vec4(0));
          } else {
            ${o}

            setOutput(vec4(${a}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let s=0;s<=1;s++)for(let r=0;r<=1;r++){let o=`${s===0?"r":"rp1"}, ${r===0?"c":"cp1"}`;for(let a=2;a<this.rank;a++)o=`${e[e.length-1-a]},`+o;n.push(o)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let s=this.rank-2;s<this.rank;s++)n+=`${e[s]} >= ${this.enableShapeUniforms?`outShape[${s}]`:this.outputShape[s]}`,s<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),s=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${s};
      bool rEdge = rp1 >= ${r};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}class ZG{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length);let s="";for(let r=0;r<4;r++){let o="thisRC = rc;";r%2===1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),s+=`
        ${o}
        ${r>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${r}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${r>0?"}":""}
      `}this.userCode=`
      ${p6t(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?TE():kE(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${s}

        setOutput(result);
      }
    `}}function p6t(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?p4t(["r","c","d"],"inputShape"):hf(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}class m6t{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,n,s){const r=XD(n,s),o=YD(e,r,s);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const a=qD(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,s);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const l=this.freeTextures[o].shift();return this.usedTextures[o].push(l),l}let i;return r===Qs.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Qs.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Qs.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Qs.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Qs.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(i),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),i}releaseTexture(e,n,s,r){if(this.freeTextures==null)return;const o=XD(s,r),a=YD(n,o,r);a in this.freeTextures||(this.freeTextures[a]=[]);const i=qD(n,o,this.gpgpu.gl,this.gpgpu.textureConfig,r),l=Be().get("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;const u=this.usedTextures[a],c=u.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(c,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function g6t(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function qD(t,e,n,s,r){const o=v6t(e,s);let a;if(r){const[l,u]=hm(t[0],t[1]);a=l*u}else{const[l,u]=x2(t[0],t[1]);a=l*u}const i=g6t(n,o);return a*i}function v6t(t,e){switch(t){case Qs.PACKED_2X2_FLOAT32:return GG(e);case Qs.PACKED_2X2_FLOAT16:return jG(e);case Qs.UNPACKED_FLOAT32:return HG(e);case Qs.UNPACKED_FLOAT16:return WG(e);case Qs.PACKED_4X1_UNSIGNED_BYTE:return UG(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function y6t(t){return Be().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Qs.PACKED_2X2_FLOAT32:Qs.UNPACKED_FLOAT32:t?Qs.PACKED_2X2_FLOAT16:Qs.UNPACKED_FLOAT16}function XD(t,e){if(t===zo.UPLOAD)return Qs.PACKED_2X2_FLOAT32;if(t===zo.RENDER||t==null)return y6t(e);if(t===zo.DOWNLOAD||t===zo.PIXELS)return Qs.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function YD(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}class Ni{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Ia="if (isnan(x)) return x;",b6t="return x;",ZD="return abs(x);",w6t="return (x >= 0.0) ? x : (exp(x) - 1.0);",_6t=Ia+`
  return (x < 0.0) ? 0.0 : x;
`,$6t=Ia+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,bu="return x;",x6t="return 1.0 / (1.0 + exp(-1.0 * x));";const S6t="return x;",C6t=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,k6t=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,T6t=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,N6t="return 1.0 / (1.0 + exp(-1.0 * x));";class Nu{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}class E6t{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length);const n=e.length,s=Er("rc",n),r=jn(n),o=f6t(n,s),a=s.slice(-2),i=n<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`
      void main() {
        ${r} rc = getOutputCoords();
        vec4 packedInput = getA(${o});

        setOutput(getChannel(packedInput, ${i}));
      }
    `}}const I6t=d3,A6t=1e-7,O6t=1e-4,Ev={};function R6t(t){return t in Ev||(Ev[t]={}),Ev[t]}const D6t=Be().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),F6t=600;function M6t(){return Be().global.screen==null?1024:Be().global.screen.height*Be().global.screen.width*window.devicePixelRatio*F6t/1024/1024}class Q3 extends Tw{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Be().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof E$)n=e;else{const s=si(Be().getNumber("WEBGL_VERSION"),e);n=new E$(s)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const s=si(Be().getNumber("WEBGL_VERSION"));n=new E$(s),this.binaryCache=R6t(Be().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new m6t(this.gpgpu),this.numMBBeforeWarning=M6t(),this.texData=new Pk(this,Ma())}nextDataId(){return Q3.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,s,r,o,a){const i=this.makeTensorInfo(n,s),l=this.texData.get(i.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[r,o]},l.texShape=[r,o];const u=Tv(n),c=new KD(u,!1,a),d=this.runWebGLProgram(c,[i],s,[[r,o]]);return d.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(i),d.dataId}write(e,n,s){if((Be().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Be().getBool("DEBUG"))&&this.checkNumericalProblems(e),s==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:n,dtype:s,values:e,usage:zo.UPLOAD,refCount:1}),r}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,s,r,o){if(Be().getBool("DEBUG")&&this.checkNumericalProblems(n),r==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:s,dtype:r,values:n,usage:zo.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:s,dtype:r,complexTensorInfos:o,slice:a,shape:i,isPacked:l}=n;if(a!=null){let f;l?f=new Nu(i,bu):f=new Ni(i,bu);const h=this.runWebGLProgram(f,[{dataId:e,shape:i,dtype:r}],r),p=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),p}if(s!=null)return this.convertAndCacheOnCPU(e);if(r==="string")return s;const u=this.activeTimers!=null;let c;u&&(c=Ys());let d;if(r==="complex64"){const f=this.readSync(o.real.dataId),h=this.readSync(o.imag.dataId);d=Rl(f,h)}else d=this.getValuesFromTexture(e);return u&&(this.downloadWaitMs+=Ys()-c),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const p=this.pendingRead.get(e);return new Promise(m=>p.push(m))}const n=this.texData.get(e),{values:s,shape:r,slice:o,dtype:a,complexTensorInfos:i,isPacked:l}=n;if(o!=null){let p;l?p=new Nu(r,bu):p=new Ni(r,bu);const m=this.runWebGLProgram(p,[{dataId:e,shape:r,dtype:a}],a),g=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),g}if(s!=null)return this.convertAndCacheOnCPU(e);if(Be().getBool("DEBUG")&&!Be().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Be().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(a!=="complex64"&&Be().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const p=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(p.texture.texture,...Sv(r))}this.pendingRead.set(e,[]),a!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(a==="complex64"){const p=await Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)]),m=p[0],g=p[1];d=Rl(m,g)}else if(u==null)d=this.getValuesFromTexture(e);else{const p=Ge(r);d=this.gpgpu.downloadFloat32MatrixFromBuffer(u,p)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){const p=this.gpgpu.gl;_t(p,()=>p.deleteBuffer(u))}const f=this.convertAndCacheOnCPU(e,d),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach(p=>p(f)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Ma().removeDataId(e,this),this.pendingDeletes--),f}readToGPU(e,n={}){const s=this.texData.get(e),{values:r,shape:o,slice:a,dtype:i,isPacked:l,texture:u}=s;if(i==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(a!=null){let h;l?h=new Nu(o,bu):h=new Ni(o,bu);const p=this.runWebGLProgram(h,[{dataId:e,shape:o,dtype:i}],i),m=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),m}if(u==null)throw r!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,n.customTexShape),d=Ma().makeTensorFromTensorInfo(c),f=this.texData.get(c.dataId);return Object.assign({tensorRef:d},f.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const s=n.map(r=>Nl(r));return tn(e.shape,e.dtype,s)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return tn(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const s=e[n];if(!V3t(s))throw Be().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${s} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${s} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:s,isPacked:r}=this.texData.get(e),o=Ge(n);if(Be().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const f=this.decode(e),h=this.texData.get(f.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...Sv(n)).subarray(0,o);return this.disposeIntermediateTensorInfo(f),p}const a=Be().getBool("WEBGL_PACK")&&r===!0,i=a?Tv(n):n,l=a?new s$t(i):new n$t(i),u=this.runWebGLProgram(l,[{shape:i,dtype:s,dataId:e}],"float32"),c=this.texData.get(u.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(u),d}timerAvailable(){return Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,s=[];let r=!1;this.programTimersStack==null?(this.programTimersStack=s,r=!0):this.activeTimers.push(s),this.activeTimers=s,e();const o=Tl(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),a=Tl(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,r&&(this.programTimersStack=null);const i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(o);i.kernelMs=vB(l),i.getExtraProfileInfo=()=>l.map((u,c)=>({name:a[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else i.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,i})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ys(),endMs:null}}endTimer(e){return Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Ys(),e)}async getQueryTime(e){if(Be().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:s}=this.texData.get(e);return s!=null&&(this.disposeData(s.real.dataId,n),this.disposeData(s.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:s,texShape:r,usage:o,isPacked:a,slice:i}=this.texData.get(e),l=i&&i.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(r,s),this.textureManager.releaseTexture(n,r,o,a)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=D6t){return Be().getBool("WEBGL_CPU_FORWARD")&&e.every(s=>this.texData.get(s.dataId).texture==null&&Ge(s.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){Fo("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return I6t(e.shape,n)}packedUnaryOp(e,n,s){const r=new Nu(e.shape,n),o=this.compileAndRun(r,[e],s);return Ma().makeTensorFromTensorInfo(o)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const r=qG(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,r)}if(Be().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ZD,e.dtype);const n=new Ni(e.shape,ZD),s=this.compileAndRun(n,[e]);return Ma().makeTensorFromTensorInfo(s)}makeTensorInfo(e,n,s){let r;if(n==="string"&&s!=null&&s.length>0&&ki(s[0])){const o=s.map(a=>Oi(a));r=this.write(o,e,n)}else r=this.write(s,e,n);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:n}}makeOutput(e,n,s){return Ma().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,s),this)}unpackTensor(e){const n=new E6t(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new h6t(e.shape),s=!0;return this.runWebGLProgram(n,[e],e.dtype,null,s)}packedReshape(e,n){const s=[Mh(e.shape),...Ph(e.shape)],r={dtype:e.dtype,shape:s,dataId:e.dataId},o=[Mh(n),...Ph(n)],a=new ZG(o,s),i=!0,l=[s],u=this.runWebGLProgram(a,[r],e.dtype,l,i);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(e,n){const s=this.texData.get(e),{isPacked:r,shape:o,dtype:a}=s;if(n!=null){const f=Ge(o),h=n[0]*n[1]*4;q(f<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const i=Tv(o);let l;r?l=new t$t(i):l=new e$t(i);const u=!0,c=[n??Sv(i)],d=this.runWebGLProgram(l,[{shape:i,dtype:a,dataId:e}],a,c,u,n);return{dtype:a,shape:o,dataId:d.dataId}}runWebGLProgram(e,n,s,r,o=!1,a){const i=this.makeTensorInfo(e.outputShape,s),l=this.texData.get(i.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===lg.DENSE){const y=a??Sv(e.outputShape);l.texShape=y.map(w=>w*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),Ge(i.shape)===0)return l.values=zs(i.dtype,0),i;const u=[],c=n.map(y=>{if(y.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let w=this.texData.get(y.dataId);if(w.texture==null){if(!e.packedInputs&&Ge(y.shape)<=Be().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:y.shape,texData:null,isUniform:!0,uniformValues:w.values};e.packedInputs&&(w.isPacked=!0,w.shape=y.shape)}if(this.uploadToGPU(y.dataId),!!w.isPacked!=!!e.packedInputs)y=w.isPacked?this.unpackTensor(y):this.packTensor(y),u.push(y),w=this.texData.get(y.dataId);else if(w.isPacked&&!$b(w.shape,y.shape)){const b=y,_=y.shape;y.shape=w.shape,y=this.packedReshape(y,_),u.push(y),w=this.texData.get(y.dataId),b.shape=_}return{shape:y.shape,texData:w,isUniform:!1}});this.uploadToGPU(i.dataId);const d={shape:i.shape,texData:l,isUniform:!1},f=Q4t(e,c,d),h=this.getAndSaveBinary(f,()=>Z4t(this.gpgpu,e,c,d)),p=this.activeTimers!=null;let m;p&&(m=this.startTimer()),Be().get("ENGINE_COMPILE_ONLY")||J4t(this.gpgpu,h,c,d,r),u.forEach(y=>this.disposeIntermediateTensorInfo(y)),p&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const g=Be().get("WEBGL_FLUSH_THRESHOLD");if(g>0){const y=Ys();y-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=y)}if(!Be().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&o===!1){const y=this.unpackTensor(i);return this.disposeIntermediateTensorInfo(i),y}return i}compileAndRun(e,n,s,r,o=!1){return s=s||n[0].dtype,this.runWebGLProgram(e,n,s,r,o)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Be().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Le(()=>{if(!Be().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Be().getBool("DEBUG");Be().set("DEBUG",!1);const n=this.abs(Pt(1e-8)).dataSync()[0];if(Be().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?A6t:O6t}uploadToGPU(e){const n=this.texData.get(e),{shape:s,dtype:r,values:o,texture:a,usage:i,isPacked:l}=n;if(a!=null)return;const u=this.activeTimers!=null;let c;u&&(c=Ys());let d=n.texShape;if(d==null&&(d=o4t(s,l),n.texShape=d),o!=null){const f=Tv(s);let h,p=d[1],m=d[0];const g=o instanceof Uint8Array||o instanceof Uint8ClampedArray;(l||!g)&&([p,m]=hm(d[0],d[1])),l?h=new o$t(f,g):h=new KD(f,g);const y=g?[m,p]:d,w=this.makeTensorInfo(y,r),b=this.texData.get(w.dataId);g?b.usage=zo.PIXELS:b.usage=zo.UPLOAD,b.texShape=y,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),p,m,o);const _=[[m,p]],$=!0,x=this.runWebGLProgram(h,[w],r,_,$),k=this.texData.get(x.dataId);n.texShape=k.texShape,n.isPacked=k.isPacked,n.usage=k.usage,Be().get("ENGINE_COMPILE_ONLY")?this.disposeData(x.dataId):(n.texture=k.texture,n.values=null,this.texData.delete(x.dataId)),this.disposeIntermediateTensorInfo(w),u&&(this.uploadWaitMs+=Ys()-c)}else{const f=this.acquireTexture(d,i,r,l);n.texture=f}}convertAndCacheOnCPU(e,n){const s=this.texData.get(e),{dtype:r}=s;return n!=null&&(s.values=P6t(n,r)),s.values}acquireTexture(e,n,s,r){if(this.numBytesInGPU+=this.computeBytes(e,s),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${o} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,r)}computeBytes(e,n){return e[0]*e[1]*Gy(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const s=new Promise(r=>{try{this.checkCompletion_(n),r(!0)}catch(o){throw o}});e.push(s)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await gT(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(MG(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:n,customUniformLocations:s,infLoc:r,nanLoc:o,inShapesLocations:a,inTexShapesLocations:i,outShapeLocation:l,outShapeStridesLocation:u,outTexShapeLocation:c}=VG(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=n,e.customUniformLocations=s,e.infLoc=r,e.nanLoc=o,e.inShapesLocations=a,e.inTexShapesLocations=i,e.outShapeLocation=l,e.outShapeStridesLocation=u,e.outTexShapeLocation=c}}createTensorFromTexture(e,n,s){const{texture:r,height:o,width:a,channels:i}=e,l=Ma().backend;if(!l.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=l.writeTexture(r,n,s,o,a,i);return Ma().makeTensorFromDataId(u,n,s,l)}}Q3.nextDataId=0;function P6t(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let s=0;s<n.length;++s)n[s]=Math.round(t[s]);return n}else throw new Error(`Unknown dtype ${e}`)}const L6t="4.1.0";Kk()&&r8("webgl",()=>new Q3,2);const IE=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class Lh{constructor(e,n,s){this.variableNames=["A","B"],this.outputShape=Yt(n,s),this.enableShapeUniforms=zr(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}const k2=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class T2{constructor(e,n,s,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Yt(n,s);const o=this.outputShape.length;this.enableShapeUniforms=zr(o);let a="";if(r)if(o===0||Ge(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          ${jn(o)} coords = getOutputCoords();
        `,o===1)this.enableShapeUniforms?a+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:a+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Er("coords",o);this.enableShapeUniforms?a+=`
            bool nextRowOutOfBounds =
              (${l[o-2]} + 1) >= outShape[${o} - 2];
            bool nextColOutOfBounds =
              (${l[o-1]} + 1) >= outShape[${o} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:a+=`
            bool nextRowOutOfBounds =
              (${l[o-2]} + 1) >= ${this.outputShape[o-2]};
            bool nextColOutOfBounds =
              (${l[o-1]} + 1) >= ${this.outputShape[o-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${a}

        setOutput(result);
      }
    `}}function Co(t){const{inputs:e,backend:n}=t,{x:s}=e;return n.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const z6t={kernelName:xp,backendName:"webgl",kernelFunc:Co};function yc(t){const{inputs:e,backend:n}=t,{real:s,imag:r}=e,o=n.makeTensorInfo(s.shape,"complex64"),a=n.texData.get(o.dataId),i=Co({inputs:{x:s},backend:n}),l=Co({inputs:{x:r},backend:n});return a.complexTensorInfos={real:i,imag:l},o}const B6t={kernelName:Mw,backendName:"webgl",kernelFunc:yc};const JG="return (a < 0.) ? b * a : a;",QG=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function V6t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{alpha:o}=s,a=n.makeTensorInfo([],"float32",ql(o,"float32")),i=Be().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new T2(QG,r.shape,a.shape):new Lh(JG,r.shape,a.shape),l=n.runWebGLProgram(i,[r,a],"float32");return n.disposeIntermediateTensorInfo(a),l}const H6t={kernelName:l1,backendName:"webgl",kernelFunc:V6t};const ej="return (a < 0.) ? b * a : a;",tj=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function W6t(t){const{inputs:e,backend:n}=t,{x:s,alpha:r}=e,o=Be().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new T2(tj,s.shape,r.shape):new Lh(ej,s.shape,r.shape);return n.runWebGLProgram(o,[s,r],"float32")}const U6t={kernelName:T1,backendName:"webgl",kernelFunc:W6t};const ym="if (isnan(x)) return x;";function xn({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:s}){return({inputs:r,backend:o})=>{const{x:a}=r,i=o,l=s||a.dtype;if(i.shouldExecuteOnCPU([a])&&n!=null){const d=i.texData.get(a.dataId),f=n(d.values,l);return i.makeTensorInfo(a.shape,l,f)}const u=Be().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let c;return u?c=new Nu(a.shape,e):c=new Ni(a.shape,t),i.runWebGLProgram(c,[a],l)}}function fr({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:s=!1,cpuKernelImpl:r,dtype:o}){return({inputs:a,backend:i})=>{const{a:l,b:u}=a,c=i;if(s&&l.dtype==="complex64"){const p=c.texData.get(l.dataId),m=c.texData.get(u.dataId),[g,y]=[[p.complexTensorInfos.real,m.complexTensorInfos.real],[p.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(b=>{const[_,$]=b,x={dataId:_.dataId,dtype:_.dtype,shape:l.shape},k={dataId:$.dataId,dtype:$.dtype,shape:u.shape},C=new Lh(t,l.shape,u.shape);return c.runWebGLProgram(C,[x,k],Yr(_.dtype,$.dtype))}),w=yc({inputs:{real:g,imag:y},backend:c});return c.disposeIntermediateTensorInfo(g),c.disposeIntermediateTensorInfo(y),w}const d=o||Yr(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&r!=null){const p=c.texData.get(l.dataId).values,m=c.texData.get(u.dataId).values,g=l.dtype==="string"?Md(p):p,y=l.dtype==="string"?Md(m):m,[w,b]=r(l.shape,u.shape,g,y,d),_=c.makeTensorInfo(b,d),$=c.texData.get(_.dataId);return $.values=w,_}const f=Be().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let h;return f?h=new T2(e,l.shape,u.shape,n):h=new Lh(t,l.shape,u.shape),c.runWebGLProgram(h,[l,u],d)}}function ug(t,e=!1){if(t==="linear")return e?S6t:b6t;if(t==="relu")return e?k6t:_6t;if(t==="elu")return e?C6t:w6t;if(t==="relu6")return e?T6t:$6t;if(t==="prelu")return e?tj:ej;if(t==="leakyrelu")return e?QG:JG;if(t==="sigmoid")return e?N6t:x6t;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}class nj{constructor(e,n,s,r=!1,o=!1,a=!1,i=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=s,this.enableShapeUniforms=zr(this.outputShape.length);const c=r?e[1]:e[2],d=Math.ceil(c/2),f=r?"i * 2, rc.y":"rc.y, i * 2",h=o?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let g="",y="";i&&(l?g=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${i}
        }`:u?g=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${i}
        }`:g=`vec4 activation(vec4 x) {
          ${i}
        }`,y="result = activation(result);");const w=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let b="rc.x",_="rc.x";e[0]<n[0]?b=`int(min(float(rc.x), ${e[0]-1}.))`:n[0]<e[0]&&(_=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`
      ${g}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${d}; i++) {
          int batchA = ${b};
          int batchB = ${_};
          vec4 a = getMatrixA(batchA, ${f});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${m[0]});
          result += (${p[1]} * ${m[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${w}

        ${y}

        setOutput(result);
      }
    `}}const JD={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class QD{constructor(e,n,s){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Yt(n,s),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}const e9="return a * b;";function AE(t){const{inputs:e,backend:n}=t,{a:s,b:r}=e,o=Yr(s.dtype,r.dtype);if(s.dtype==="complex64"){const i=n.texData.get(s.dataId),l=n.texData.get(r.dataId),u=new QD(JD.REAL,s.shape,r.shape),c=new QD(JD.IMAG,s.shape,r.shape),d=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:s.shape},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:s.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:r.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:r.shape}],f=n.runWebGLProgram(u,d,"float32"),h=n.runWebGLProgram(c,d,"float32"),p=yc({inputs:{real:f,imag:h},backend:n});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),p}if(n.shouldExecuteOnCPU([s,r])){const i=n.texData.get(s.dataId),l=n.texData.get(r.dataId),[u,c]=W$t(s.shape,r.shape,i.values,l.values,o),d=n.makeTensorInfo(c,o),f=n.texData.get(d.dataId);return f.values=u,d}let a;return Be().getBool("WEBGL_PACK_BINARY_OPERATIONS")?a=new T2(e9,s.shape,r.shape):a=new Lh(e9,s.shape,r.shape),n.runWebGLProgram(a,[s,r],o)}const G6t={kernelName:Op,backendName:"webgl",kernelFunc:AE};function j6t(t,e,n){const s=[Mh(t.shape),...Ph(t.shape)],r={dtype:t.dtype,shape:s,dataId:t.dataId},o=[Mh(e),...Ph(e)],a=new ZG(o,s),i=!0,l=[s],u=n.runWebGLProgram(a,[r],t.dtype,l,i);return{dataId:u.dataId,shape:e,dtype:u.dtype}}function bt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{shape:o}=s,a=n,i=Ge(r.shape),l=zk(o,i),u=Ge(l);q(i===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${r.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`);const c=a.texData.get(r.dataId);return c.isPacked&&!$b(r.shape,l)&&!(c.texture!==null&&$b(c.shape,l))?j6t(r,l,a):(a.incRef(r.dataId),{dataId:r.dataId,shape:l,dtype:r.dtype})}const K6t={kernelName:E1,backendName:"webgl",kernelFunc:bt};class t9{constructor(e,n){this.variableNames=["x"];const{windowSize:s,batchSize:r,inSize:o,outSize:a}=e;this.outputShape=[r,a];const i=Math.floor(s/4)*4,l=s%4;let u="sumValue += dot(values, ones);";if(n!=null){const d=1/n;u=`sumValue += dot(values * ${Nd(d)?d.toPrecision(2):d}, ones);`}let c="";o%s>0&&(c=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        float sumValue = 0.0;

        for (int i = 0; i < ${i}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${i};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}class q6t{constructor(e,n){this.variableNames=["x"];const{windowSize:s,batchSize:r,inSize:o,outSize:a}=e;this.outputShape=[r,a];let i="0.0",l="";n==="prod"?i="1.0":n==="min"?(i="1.0 / 1e-20",l="min"):n==="max"&&(i="-1.0 / 1e-20",l="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const c=Math.floor(s/4)*4,d=s%4;let f=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(i="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(i="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let p="";o%s>0&&(p=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${i};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        vec4 minMaxValue = vec4(${i});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${f}
        }

        int inIdx = inOffset + ${c};
        if (${d===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${d===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${d===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${f}
        }
        setOutput(${u});
      }
    `}}function X6t(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],s=k3(n);e.push({inSize:n,windowSize:s,outSize:Math.ceil(n/s)})}return e}function mf(t,e,n,s){const r=X6t(t.shape);let o=t;for(let a=0;a<r.length;a++){const{inSize:i,windowSize:l,outSize:u}=r[a];let c,d;n==="mean"?c=a===0?new t9({windowSize:l,inSize:i,batchSize:t.shape[0],outSize:u},i):new t9({windowSize:l,inSize:i,batchSize:t.shape[0],outSize:u}):c=new q6t({windowSize:l,inSize:i,batchSize:t.shape[0],outSize:u},n),d=o,o=s.runWebGLProgram(c,[o],e),d.dataId!==t.dataId&&s.disposeIntermediateTensorInfo(d)}return o}class Y6t{constructor(e,n){this.variableNames=["A"];const s=new Array(e.length);for(let a=0;a<s.length;a++)s[a]=e[n[a]];this.outputShape=s,this.rank=s.length;const r=jn(this.rank),o=Z6t(n);this.userCode=`
    void main() {
      ${r} resRC = getOutputCoords();
      setOutput(getA(${o}));
    }
    `}}function Z6t(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],s=new Array(e);for(let r=0;r<t.length;r++)s[t[r]]=n[r];return s.join()}class J6t{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const s=new Array(e.length);for(let c=0;c<s.length;c++)s[c]=e[n[c]];if(this.outputShape=s,this.rank=s.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=jn(this.rank),o=YG("rc",this.rank),a=new Array(this.rank);for(let c=0;c<n.length;c++)a[n[c]]=o[c];const i=`vec2(${a.slice(-2).join()})`,l=`++${o[this.rank-1]} < ${s[this.rank-1]}`,u=`getChannel(getA(${a.join()}), ${i})`;this.userCode=`
    void main() {
      ${r} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${o[this.rank-1]};
      if(++${o[this.rank-2]} < ${s[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}function e4(t,e,n){const s=Be().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new J6t(t.shape,e):new Y6t(t.shape,e);return n.runWebGLProgram(s,[t],t.dtype)}function Q6t(t,e,n,s){const r=e,o=t.shape.length,a=un(r,t.shape);let i=a;const l=hs(i,o),u=l!=null;let c=t;u&&(c=e4(t,l,s),i=bs(i.length,o)),cr("sum",i,o);const[d,f]=js(c.shape,i);let h=d;n&&(h=ys(d,a));const p=Ge(f),g=Ge(t.shape)/p,y=bt({inputs:{x:c},attrs:{shape:[g,p]},backend:s}),w=D_(t.dtype),b=mf(y,w,"sum",s),_=bt({inputs:{x:b},attrs:{shape:h},backend:s});return s.disposeIntermediateTensorInfo(y),s.disposeIntermediateTensorInfo(b),u&&s.disposeIntermediateTensorInfo(c),_}function t4(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s;return Q6t(r,o,a,n)}const ext={kernelName:F1,backendName:"webgl",kernelFunc:t4};function Fr(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{perm:o}=s,a=n,i=r.shape.length,l=new Array(i);for(let c=0;c<l.length;c++)l[c]=r.shape[o[c]];let u;if(a.shouldExecuteOnCPU([r])){const d=a.texData.get(r.dataId).values,f=EE(d,r.shape,r.dtype,o,l);u=a.makeTensorInfo(l,r.dtype);const h=a.texData.get(u.dataId);h.values=f}else u=e4(r,o,a);return u}const txt={kernelName:ld,backendName:"webgl",kernelFunc:Fr};const sj=1e3;function xb({a:t,b:e,transposeA:n,transposeB:s,backend:r,bias:o=null,preluActivationWeights:a=null,leakyreluAlpha:i=0,activation:l=null}){const u=t.shape.length,c=e.shape.length,d=n?t.shape[u-2]:t.shape[u-1],f=s?e.shape[c-1]:e.shape[c-2],h=n?t.shape[u-1]:t.shape[u-2],p=s?e.shape[c-2]:e.shape[c-1],m=t.shape.slice(0,-2),g=e.shape.slice(0,-2),y=Ge(m),w=Ge(g),_=Yt(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([h,p]);q(d===f,()=>`Error in matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${s} must match.`);const $=n?[y,d,h]:[y,h,d],x=s?[w,p,f]:[w,f,p],k=bt({inputs:{x:t},backend:r,attrs:{shape:$}}),C=bt({inputs:{x:e},backend:r,attrs:{shape:x}}),T=[k,C],N=Math.max(y,w),M=n?k.shape[1]:k.shape[2],R=o!=null,D=a!=null,z=l==="leakyrelu",B=l!=null?ug(l,!0):null,V=R||D||z||B!=null;let O;if((h===1||p===1)&&M>sj&&V===!1){let L=k,G=C;n&&(L=Fr({inputs:{x:k},backend:r,attrs:{perm:[0,2,1]}}),T.push(L)),s&&(G=Fr({inputs:{x:C},backend:r,attrs:{perm:[0,2,1]}}),T.push(G));const Z=p!==1,j=p===1;let J=L;Z&&(J=bt({inputs:{x:L},backend:r,attrs:{shape:[N,M,1]}}),T.push(J));const fe=p===1?2:1;let X=G;j&&(X=bt({inputs:{x:G},backend:r,attrs:{shape:[N,1,M]}}),T.push(X));const oe=AE({inputs:{a:J,b:X},backend:r});O=t4({inputs:{x:oe},backend:r,attrs:{axis:fe,keepDims:!0}}),T.push(oe)}else{const L=Yr(t.dtype,e.dtype),G=new nj($,x,[N,h,p],n,s,R,B,D,z),Z=[k,C];if(o!=null&&Z.push(o),D&&Z.push(a),z){const j=r.makeTensorInfo([],"float32",ql(i,"float32"));Z.push(j),T.push(j)}O=r.runWebGLProgram(G,Z,L)}const F=bt({inputs:{x:O},backend:r,attrs:{shape:_}});T.push(O);for(const L of T)r.disposeIntermediateTensorInfo(L);return F}function nxt(t){const{inputs:e,backend:n,attrs:s}=t,{a:r,b:o,bias:a,preluActivationWeights:i}=e,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=s;return xb({a:r,b:o,transposeA:l,transposeB:u,backend:n,bias:a,preluActivationWeights:i,leakyreluAlpha:d,activation:c})}const sxt={kernelName:Y0,backendName:"webgl",kernelFunc:nxt};const n9="return abs(x);";function rxt(t){const{inputs:e,backend:n}=t,{x:s}=e;if(n.shouldExecuteOnCPU([s])&&s.dtype!=="complex64"){const o=n.texData.get(s.dataId),a=qG(o.values);return n.makeTensorInfo(s.shape,s.dtype,a)}let r;return Be().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new Nu(s.shape,n9):r=new Ni(s.shape,n9),n.runWebGLProgram(r,[s],s.dtype)}const oxt={kernelName:Vg,backendName:"webgl",kernelFunc:rxt};const axt=Ia+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,ixt=xn({opSnippet:axt}),lxt={kernelName:sp,backendName:"webgl",kernelFunc:ixt};const uxt=Ia+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,cxt=xn({opSnippet:uxt}),dxt={kernelName:rp,backendName:"webgl",kernelFunc:cxt};const s9="return a + b;",fxt=fr({opSnippet:s9,packedOpSnippet:s9,supportsComplex:!0,cpuKernelImpl:x$t}),hxt={kernelName:nf,backendName:"webgl",kernelFunc:fxt};class pxt{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((o,a)=>`T${a}`);const s=[];this.variableNames.forEach(o=>{s.push(`float v${o} = get${o}AtOutCoords();`)});const r=this.variableNames.map(o=>`v${o}`).join(" + ");this.userCode=`
      void main() {
        ${s.join(`
        `)}

        float result = ${r};
        setOutput(result);
      }
    `}}class mxt{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((o,a)=>`T${a}`);const s=[];this.variableNames.forEach(o=>{s.push(`vec4 v${o} = get${o}AtOutCoords();`)});const r=this.variableNames.map(o=>`v${o}`).join(" + ");this.userCode=`
      void main() {
        ${s.join(`
        `)}

        vec4 result = ${r};
        setOutput(result);
      }
    `}}function py(t){const{inputs:e,backend:n}=t,s=e;if(s.length===1)return Co({inputs:{x:s[0]},backend:n});if(s.length>Be().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(s.length/2),u=py({inputs:s.slice(0,l),backend:n}),c=py({inputs:s.slice(l),backend:n});return py({inputs:[u,c],backend:n})}const r=s.map(l=>l.dtype).reduce((l,u)=>Yr(l,u)),o=s.map(l=>l.shape),i=Be().getBool("WEBGL_PACK")?new mxt(s[0].shape,o):new pxt(s[0].shape,o);return n.runWebGLProgram(i,s,r)}const gxt={kernelName:Hg,backendName:"webgl",kernelFunc:py};function vxt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s,i=r.shape.length,l=un(o,r.shape);let u=l;const c=hs(u,i);let d=r;c!=null&&(d=Fr({inputs:{x:r},backend:n,attrs:{perm:c}}),u=bs(u.length,i)),cr("all",u,i);const[f,h]=js(d.shape,u),p=Ge(h),m=bt({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),g=mf(m,m.dtype,"all",n);let y;if(a){const w=ys(f,l);y=bt({inputs:{x:g},backend:n,attrs:{shape:w}})}else y=bt({inputs:{x:g},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(d),y}const yxt={kernelName:Iw,backendName:"webgl",kernelFunc:vxt};function bxt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s,i=r.shape.length,l=un(o,r.shape);let u=l;const c=hs(u,i);let d=r;c!=null&&(d=Fr({inputs:{x:r},backend:n,attrs:{perm:c}}),u=bs(u.length,i)),cr("any",u,i);const[f,h]=js(d.shape,u),p=Ge(h),m=bt({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),g=mf(m,m.dtype,"any",n);let y;if(a){const w=ys(f,l);y=bt({inputs:{x:g},backend:n,attrs:{shape:w}})}else y=bt({inputs:{x:g},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(d),y}const wxt={kernelName:Aw,backendName:"webgl",kernelFunc:bxt};class _xt{constructor(e,n,s){this.variableNames=["A"];const{windowSize:r,batchSize:o,outSize:a}=e;s||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];const i=n==="max"?">":"<",l=s?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${r}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${i} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}class $xt{constructor(e,n,s,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,q(e.length>2,()=>`Packed arg${s.charAt(0).toUpperCase()+s.slice(1)} supports only inputs with rank above 2.`);const o=e[e.length-1],a=Math.ceil(o/n);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");const i=this.outputShape,l=i.length,u=jn(l),c=Er("coords",l);let d,f;if(a===1){f=l+1;const C=jn(f);d=`
        ${C} sourceLocR = ${C}(${c.join()}, 0);
        ++${c[l-1]};
        ${C} sourceLocG = ${C}(${c.join()}, 0);
        ++${c[l-2]};
        ${C} sourceLocA = ${C}(${c.join()}, 0);
        --${c[l-1]};
        ${C} sourceLocB = ${C}(${c.join()}, 0);
        --${c[l-2]};`}else f=l,d=`
        ${u} sourceLocR = coords;
        ++${c[l-1]};
        ${u} sourceLocG = coords;
        ++${c[l-2]};
        ${u} sourceLocA = coords;
        --${c[l-1]};
        ${u} sourceLocB = coords;
        --${c[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,f),p="."+h[f-1],m=h.map(C=>"int "+C),g=Er("sourceLocR",f-1).concat("inIdx.r"),y=Er("sourceLocG",f-1).concat("inIdx.g"),w=Er("sourceLocB",f-1).concat("inIdx.b"),b=Er("sourceLocA",f-1).concat("inIdx.a"),_=s==="max"?"greaterThan":"lessThan",$=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${w.join()}),
                             getBestIndicesAChannel(${b.join()})));`,x=`vec4(
            getAChannel(${g.join()}),
            hasNextCol ? getAChannel(${y.join()}) : 0.,
            hasNextRow ? getAChannel(${w.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,k=r?"":`
      float getBestIndicesAChannel(${m.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${m.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${k}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${c[l-1]} < ${i[l-1]-1};
        bool hasNextRow = ${c[l-2]} < ${i[l-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${x};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${$}
          vec4 candidate = ${x};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${_}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}function rj(t,e,n,s=null){let r=e.shape[0],o=e.shape[1];s!=null&&(r=s.shape[0],o=s.shape[1]);const a=k3(o),i={windowSize:a,inSize:o,batchSize:r,outSize:Math.ceil(o/a)},l=new _xt(i,n,s==null),u=[e];s!=null&&u.push(s);const c=t.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;const d=rj(t,e,n,c);return t.disposeIntermediateTensorInfo(c),d}function oj(t,e,n,s=null){const r=s!=null?s.shape:e.shape,o=r[r.length-1],a=k3(o),i=new $xt(r,a,n,s==null),l=s==null?[e]:[e,s],u=t.runWebGLProgram(i,l,"int32");if(u.shape.length===e.shape.length){const c=oj(t,e,n,u);return t.disposeIntermediateTensorInfo(u),c}return u}function aj(t,e,n,s){const r=[n];if(cr("arg"+s.charAt(0).toUpperCase()+s.slice(1),r,e.shape.length),!Be().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const o=[],a=t.texData.get(e.dataId),i=a!==null&&a.isPacked;let l=e;i&&(l=t.unpackTensor(e),o.push(l));const[u,c]=js(l.shape,r),d=Ge(c),f=bt({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});o.push(f);const h=rj(t,f,s);o.push(h);const p=bt({inputs:{x:h},backend:t,attrs:{shape:u}});return o.forEach(m=>t.disposeIntermediateTensorInfo(m)),p}return oj(t,e,s)}function xxt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o}=s;let a=un(o,r.shape);const i=hs(a,r.shape.length);let l=r;const u=[];i!=null&&(l=Fr({inputs:{x:r},backend:n,attrs:{perm:i}}),u.push(l),a=bs(a.length,l.shape.length)),cr("argMax",[a[0]],l.shape.length);const c=aj(n,l,a[0],"max");return u.forEach(d=>n.disposeIntermediateTensorInfo(d)),c}const Sxt={kernelName:Wg,backendName:"webgl",kernelFunc:xxt};function Cxt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o}=s;let a=un(o,r.shape);const i=hs(a,r.shape.length);let l=r;const u=[];i!=null&&(l=Fr({inputs:{x:r},backend:n,attrs:{perm:i}}),u.push(l),a=bs(a.length,l.shape.length)),cr("argMin",[a[0]],l.shape.length);const c=aj(n,l,a[0],"min");return u.forEach(d=>n.disposeIntermediateTensorInfo(d)),c}const kxt={kernelName:Ug,backendName:"webgl",kernelFunc:Cxt};const Txt=Ia+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Nxt=xn({opSnippet:Txt}),Ext={kernelName:op,backendName:"webgl",kernelFunc:Nxt};const Ixt=Ia+"return log(x + sqrt(x * x + 1.0));",Axt=xn({opSnippet:Ixt}),Oxt={kernelName:ap,backendName:"webgl",kernelFunc:Axt};const Rxt=Ia+`
  return atan(x);
`,Dxt=xn({opSnippet:Rxt}),Fxt={kernelName:ip,backendName:"webgl",kernelFunc:Dxt};const Mxt=IE+`
  return atan(a, b);
`,Pxt=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+k2+`
  return result;
`,Lxt=fr({opSnippet:Mxt,packedOpSnippet:Pxt}),zxt={kernelName:up,backendName:"webgl",kernelFunc:Lxt};const Bxt=Ia+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,Vxt=xn({opSnippet:Bxt}),Hxt={kernelName:lp,backendName:"webgl",kernelFunc:Vxt};class cg{constructor(e,n,s,r=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&s)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,i=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const m=n==="avg",g=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,y=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let w="0.0";if(m||(w="-1.0 / 1e-20"),s){const C=">=";this.userCode=`
        const ivec2 strides = ivec2(${i}, ${l});
        const ivec2 pads = ivec2(${h}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${C} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${r?o?g:y:`wR * ${f} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const b="max";let _=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(_="avgValue / count");const $=Math.floor(a/4)*4,x=a%4,k=`
      if (${m}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${b}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${l});
      const ivec2 pads = ivec2(${h}, ${p});
      const float initializationValue = ${w};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${w});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${$}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${k}
          }

          int xC = xCCorner + ${$};
          if (${x===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${k}
          } else if (${x===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${k}
          } else if (${x===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${k}
          }
        }
        setOutput(${_});
      }
    `}}class OE{constructor(e,n,s,r=!1,o=!1){if(this.variableNames=["x"],n==="avg"&&s)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,i=e.strideDepth,l=e.strideHeight,u=e.strideWidth,c=e.dilationDepth,d=e.dilationHeight,f=e.dilationWidth,h=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,g=e.padInfo.front,y=e.padInfo.top,w=e.padInfo.left;this.outputShape=e.outShape;const b=n==="avg";let _="0.0";if(b||(_="-1.0 / 1e-20"),s){const N=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${i}, ${l}, ${u});
        const ivec3 pads = ivec3(${g}, ${y}, ${w});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${m};
                  wC += ${f}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${N} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${r?o?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${m} +
                      wR * ${m} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const $="max";let x=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(x="avgValue / count");const k=Math.floor(a/4)*4,C=a%4,T=`
      if (${b}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${$}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${i}, ${l}, ${u});
      const ivec3 pads = ivec3(${g}, ${y}, ${w});
      const float initializationValue = ${_};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${_});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${k}; wC += 4) {
              int xC = xCCorner + wC * ${f};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                getValue(batch, xD, xR, xC + 3 * ${f}, ch)
              );

              ${T}
            }

            int xC = xCCorner + ${k};
            if (${C===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${C===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${C===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                initializationValue
              );

              ${T}
            }
          }
          setOutput(${x});
        }
      }
    `}}function Wxt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;S2(r,"avgPool");const{filterSize:o,strides:a,pad:i,dimRoundingMode:l}=s,u=1;q(ur(a,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=Na(r.shape,o,a,u,i,l);if(c.filterWidth===1&&c.filterHeight===1&&hn(c.inShape,c.outShape))return Co({inputs:{x:r},backend:n});const d=new cg(c,"avg",!1);return n.runWebGLProgram(d,[r],"float32")}const Uxt={kernelName:Gg,backendName:"webgl",kernelFunc:Wxt};function Gxt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{filterSize:o,strides:a,pad:i,dimRoundingMode:l,dataFormat:u}=s,c=[1,1,1],d=Xl(r.shape,o,a,c,i,l,u),f=new OE(d,"avg",!1);return n.runWebGLProgram(f,[r],"float32")}const jxt={kernelName:jg,backendName:"webgl",kernelFunc:Gxt};class Kxt{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,s=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=l-1-e.padInfo.top,d=u-1-e.padInfo.left,f=1/(n*s);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${d});
      const float avgMultiplier = float(${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${i}) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class qxt{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,s=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=d-1-e.padInfo.front,m=f-1-e.padInfo.top,g=h-1-e.padInfo.left,y=1/(n*s*r);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${m}, ${g});
      const float avgMultiplier = float(${y});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${o}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${i}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function Xxt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:o}=e,a=o,{filterSize:i,strides:l,pad:u,dimRoundingMode:c}=s,d=[1,1,1],f=Xl(a.shape,i,l,d,u,c),h=new qxt(f);return n.runWebGLProgram(h,[r],a.dtype)}const Yxt={kernelName:Rw,backendName:"webgl",kernelFunc:Xxt};function Zxt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:o}=e,a=o;S2([r,o],"avgPoolGrad");const{filterSize:i,strides:l,pad:u}=s,c=Na(a.shape,i,l,1,u),d=new Kxt(c);return n.runWebGLProgram(d,[r],a.dtype)}const Jxt={kernelName:Ow,backendName:"webgl",kernelFunc:Zxt};function Qxt(t){const{inputs:e,backend:n,attrs:s}=t,{a:r,b:o}=e,{transposeA:a,transposeB:i}=s;return xb({a:r,b:o,transposeA:a,transposeB:i,backend:n})}const eSt={kernelName:Kg,backendName:"webgl",kernelFunc:Qxt};class tSt{constructor(e,n,s,r,o,a){this.outputShape=[],this.variableNames=["x","mean","variance"],Yt(e,n),Yt(e,s);let i="0.0";r!=null&&(Yt(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let l="1.0";o!=null&&(Yt(e,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${i};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${a}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}class nSt{constructor(e,n,s,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Yt(e,n),Yt(e,s);let i="vec4(0.0)";r!=null&&(Yt(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let l="vec4(1.0)";o!=null&&(Yt(e,o),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${i};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${a}));

        setOutput((x - mean) * inv + offset);
      }
    `}}const sSt=({inputs:t,backend:e,attrs:n})=>{const{x:s,mean:r,variance:o,offset:a,scale:i}=t;q(r.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),q(a==null||r.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),q(i==null||r.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=[s,r,o];let c=null;a!=null&&(c=a.shape,u.push(a));let d=null;i!=null&&(d=i.shape,u.push(i));const f=Be().getBool("WEBGL_PACK_NORMALIZATION")?new nSt(s.shape,r.shape,o.shape,c,d,l):new tSt(s.shape,r.shape,o.shape,c,d,l);return e.runWebGLProgram(f,u,u[0].dtype)},rSt={kernelName:o1,backendName:"webgl",kernelFunc:sSt};class oSt{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=jn(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const s=aSt(this.rank);let r;const o=e.map((a,i)=>`sourceLoc.${Zx[i]} = start[${i}] + coords.${Zx[i]};`);r=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${o.join(`
`)}
      `,this.userCode=`
      void main() {
        ${r}
        setOutput(getSource(${s}));
      }
    `}}const Zx=["x","y","z","w","u","v"];function aSt(t){if(t===1)return"sourceLoc";if(t<=6)return Zx.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}class iSt{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=jn(this.rank),s=Er("coords",this.rank),r=Er("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":`vec2(${r.slice(-2).join()})`,a=`getChannel(getSource(${r.join()}), ${o})`,i=`
      result.x = ${a};
      if (++${s[this.rank-1]} < ${e[this.rank-1]}) {
        ++${r[this.rank-1]};
        result.y = ${a};
        --${r[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${s[this.rank-1]};
      if (++${s[this.rank-2]} < ${e[this.rank-2]}) {
        ++${r[this.rank-2]};
        result.z = ${a};
        if (++${s[this.rank-1]} < ${e[this.rank-1]}) {
          ++${r[this.rank-1]};
          result.w = ${a};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((c,d)=>`start[${d}]`).join()});`:e.map((c,d)=>`${r[d]} = ${s[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${i}
        ${l}
        setOutput(result);
      }
    `}}function lSt(t,e,n,s){const r=s.texData.get(t.dataId),o=s.makeTensorInfo(n,t.dtype),a=s.texData.get(o.dataId);Object.assign(a,r),a.refCount=1,a.shape=n,a.dtype=t.dtype;let i=d8(e,Mt(t.shape));r.slice&&(i+=r.slice.flatOffset),a.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||t.dataId};const l=s.dataRefCount.get(a.slice.origDataId)||1;return s.dataRefCount.set(a.slice.origDataId,l+1),o}function bm(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{begin:o,size:a}=s,[i,l]=L_(r,o,a);if(l8(r,i,l),Ge(l)===0)return n.makeTensorInfo(l,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||r.dtype==="string"){const d=n.texData.get(r.dataId),f=e6t(d.values,i,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,f)}const{isPacked:u}=n.texData.get(r.dataId),c=c8(r.shape,i,l);if(u||!c){const d=Be().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new iSt(l):new oSt(l),f=[i];return n.runWebGLProgram(d,[r],r.dtype,f)}return n.uploadToGPU(r.dataId),lSt(r,i,l,n)}const uSt={kernelName:D1,backendName:"webgl",kernelFunc:bm};const cSt=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockShape:o,crops:a}=s;q(r.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const i=o.reduce((w,b)=>w*b),l=l2(r.shape,o,i),u=u2(l.length,o.length),c=c2(r.shape,o,i),d=wT(a,o.length),f=_T(c,a,o.length),h=[],p=bt({inputs:{x:r},backend:n,attrs:{shape:l}}),m=Fr({inputs:{x:p},backend:n,attrs:{perm:u}}),g=bt({inputs:{x:m},backend:n,attrs:{shape:c}}),y=bm({inputs:{x:g},backend:n,attrs:{begin:d,size:f}});return h.push(p),h.push(m),h.push(g),h.forEach(w=>n.disposeIntermediateTensorInfo(w)),y},dSt={kernelName:qg,backendName:"webgl",kernelFunc:cSt};function fSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,weights:o}=e,{size:a}=s,i=n.readSync(r.dataId),l=n.readSync(o.dataId),u=KG(i,l,o.dtype,o.shape,a);return n.makeTensorInfo([a],o.dtype,u)}const hSt={kernelName:Dw,backendName:"webgl",kernelFunc:fSt};function pSt(t){const{inputs:e,backend:n}=t,{s0:s,s1:r}=e,o=n.readSync(s.dataId),a=n.readSync(r.dataId),i=Yt(Array.from(o),Array.from(a));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}const mSt={kernelName:Fw,backendName:"webgl",kernelFunc:pSt};const gSt="return float(a != b);",ij=fr({opSnippet:gSt,cpuKernelImpl:G$t,dtype:"bool"}),vSt={kernelName:$1,backendName:"webgl",kernelFunc:ij};function N2(t){const{inputs:e,backend:n}=t,{input:s}=e,r=n.texData.get(s.dataId);return Co({inputs:{x:r.complexTensorInfos.real},backend:n})}const ySt={kernelName:p_,backendName:"webgl",kernelFunc:N2};const bSt="return float(int(x));";function wSt(t,e){const n=new Ni(t.shape,bSt),s=e.runWebGLProgram(n,[t],"int32");return{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}function Jx(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{dtype:o}=s;if(o==="complex64"){if(r.dtype==="complex64")return Co({inputs:{x:r},backend:n});const a=xs(r.shape),i=Jx({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),l=yc({inputs:{real:i,imag:a},backend:n});return a.dispose(),n.disposeIntermediateTensorInfo(i),l}if(r.dtype==="complex64"){const a=N2({inputs:{input:r},backend:n}),i=Jx({inputs:{x:a},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(a),i}if(!Bk(r.dtype,o)){const a=Co({inputs:{x:r},backend:n});return{dataId:a.dataId,shape:a.shape,dtype:o}}if(n.shouldExecuteOnCPU([r])){const a=n.texData.get(r.dataId).values,[i,l,u]=C$t(a,r.shape,r.dtype,o);return n.makeTensorInfo(i,l,u)}if(o==="int32")return wSt(r,n);if(o==="bool"){const a=n.makeTensorInfo([],"bool",zs("bool",1)),l=ij({inputs:{a:r,b:a},backend:n});return n.disposeIntermediateTensorInfo(a),l}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${o}`)}const _St={kernelName:cp,backendName:"webgl",kernelFunc:Jx};const r9="return ceil(x);",$St=xn({opSnippet:r9,packedOpSnippet:r9,cpuKernelImpl:k$t}),xSt={kernelName:dp,backendName:"webgl",kernelFunc:$St};class SSt{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}class CSt{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}function kSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{clipValueMin:o,clipValueMax:a}=s;let i;Be().getBool("WEBGL_PACK_CLIP")?i=new CSt(r.shape):i=new SSt(r.shape);const l=[[o],[a]];return n.runWebGLProgram(i,[r],r.dtype,l)}const TSt={kernelName:fp,backendName:"webgl",kernelFunc:kSt};class NSt{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}function o9(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function ESt(t){const{inputs:e,backend:n}=t,{x:s}=e,r=n.texData.get(s.dataId),o=new NSt(s.shape),a=[o9(s,r.complexTensorInfos.real),o9(s,r.complexTensorInfos.imag)];return n.runWebGLProgram(o,a,a[0].dtype)}const ISt={kernelName:Xg,backendName:"webgl",kernelFunc:ESt};class ASt{constructor(e){this.outputShape=[],this.outputShape=Di(e,1),this.variableNames=e.map((a,i)=>`T${i}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let a=1;a<n.length;a++)n[a]=n[a-1]+e[a][1];const s=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let a=1;a<n.length;a++){const i=n[a-1];s.push(`else if (yC < ${n[a]}) setOutput(getT${a}(yR, yC-${i}));`)}const r=n.length,o=n[n.length-1];s.push(`else setOutput(getT${r}(yR, yC-${o}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${s.join(`
        `)}
      }
    `}}class OSt{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Di(e,n);const s=this.outputShape,r=s.length,o=jn(r),a=Er("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((m,g)=>`T${g}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let m=1;m<l.length;m++)l[m]=l[m-1]+e[m][n];const u=i[n],c=i.slice(-2),d=i.join();let f=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${d}), vec2(${c.join()}));
        }`;for(let m=1;m<l.length;m++){const g=l[m-1];f+=`
        if (${u} < ${l[m]}  && ${u} >= ${l[m-1]}) {
          return getChannel(
            getT${m}(${Iv(i,u,g)}),
            vec2(${Iv(c,u,g)}));
        }`}const h=l.length,p=l[l.length-1];f+=`
        return getChannel(
          getT${h}(${Iv(i,u,p)}),
          vec2(${Iv(c,u,p)}));`,this.userCode=`
      float getValue(${i.map(m=>"int "+m)}) {
        ${f}
      }

      void main() {
        ${o} coords = getOutputCoords();
        vec4 result = vec4(getValue(${a}), 0., 0., 0.);

        ${a[r-1]} = ${a[r-1]} + 1;
        if (${a[r-1]} < ${s[r-1]}) {
          result.g = getValue(${a});
        }

        ${a[r-2]} = ${a[r-2]} + 1;
        if (${a[r-2]} < ${s[r-2]}) {
          result.a = getValue(${a});
        }

        ${a[r-1]} = ${a[r-1]} - 1;
        if (${a[r-2]} < ${s[r-2]} &&
            ${a[r-1]} < ${s[r-1]}) {
          result.b = getValue(${a});
        }
        setOutput(result);
      }
    `}}function Iv(t,e,n){const s=t.indexOf(e);return t.map((o,a)=>a===s?`${o} - ${n}`:o).join()}function n4(t){const{inputs:e,backend:n}=t,{input:s}=e,r=n.texData.get(s.dataId);return Co({inputs:{x:r.complexTensorInfos.imag},backend:n})}const RSt={kernelName:e_,backendName:"webgl",kernelFunc:n4};function Ym(t,e,n){const s=t[0].dtype;if(s==="complex64"){const h=t.map(w=>N2({inputs:{input:w},backend:n})),p=t.map(w=>n4({inputs:{input:w},backend:n})),m=Ym(h,e,n),g=Ym(p,e,n),y=yc({inputs:{real:m,imag:g},backend:n});return h.forEach(w=>n.disposeIntermediateTensorInfo(w)),p.forEach(w=>n.disposeIntermediateTensorInfo(w)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),y}let r=n.shouldExecuteOnCPU(t);if(s==="string"&&(r=!0),r){const h=t.map(_=>{const x=[-1,Ge(_.shape.slice(e))];return bt({inputs:{x:_},backend:n,attrs:{shape:x}})}),p=h.map(_=>({vals:n.readSync(_.dataId),shape:_.shape})),m=Di(h.map(_=>_.shape),1),g=h[0].shape[0]===1,y=T$t(p,m,s,g),w=Di(t.map(_=>_.shape),e),b=n.makeTensorInfo(w,s,y);return h.forEach(_=>n.disposeIntermediateTensorInfo(_)),b}const o=t.filter(h=>Ge(h.shape)>0),a=Be().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&o[0].shape.length>1;if(o.length===1){const h=a?new Ni(t[0].shape,bu):new Nu(t[0].shape,bu);return n.runWebGLProgram(h,t,s)}const i=Be().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(o.length>i){const h=[];for(let m=0;m<o.length;m+=i){const g=o.slice(m,m+i);h.push(Ym(g,e,n))}const p=Ym(h,e,n);for(const m of h)n.disposeIntermediateTensorInfo(m);return p}if(a){const h=new OSt(o.map(p=>p.shape),e);return n.runWebGLProgram(h,o,s)}const{tensors2D:l,outShape:u}=DSt(o,e,n),c=new ASt(l.map(h=>h.shape)),d=n.runWebGLProgram(c,l,s);l.forEach(h=>n.disposeIntermediateTensorInfo(h));const f=bt({inputs:{x:d},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(d),f}function DSt(t,e,n){const s=Di(t.map(o=>o.shape),e);return{tensors2D:t.map(o=>bt({inputs:{x:o},attrs:{shape:[-1,Ge(o.shape.slice(e))]},backend:n})),outShape:s}}function lj(t){const{inputs:e,backend:n,attrs:s}=t,{axis:r}=s,o=un(r,e[0].shape)[0],a=e.map(u=>u.shape);vT(a,o);const i=Di(e.map(u=>u.shape),o);if(Ge(i)===0)return n.makeTensorInfo(i,e[0].dtype,[]);const l=e.filter(u=>Ge(u.shape)>0);return l.length===1?Co({inputs:{x:l[0]},backend:n}):Ym(l,o,n)}const FSt={kernelName:Yg,backendName:"webgl",kernelFunc:lj};class uj{constructor(e,n=!1,s=null,r=!1,o=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,i=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,f=e.filterHeight,h=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4,g=e.dataFormat==="channelsLast",y=g?1:2,w=g?2:3,b=g?3:1;let _="",$="";s&&(r?_=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:o?_=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:_=`
          float activation(float x) {
            ${s}
          }
        `,$="result = activation(result);");const x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${_}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${a}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${b}];

        ivec2 xRCCorner =
            ivec2(coords[${y}], coords[${w}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${f}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${g}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${m===1}) {

              if (${g}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${m===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${g}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${m===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${g}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${x}
        ${$}
        setOutput(result);
      }
    `}}class MSt{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,s=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterDepth,f=e.filterHeight,h=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${o}, ${a}, ${i});
      const ivec3 pads = ivec3(${n}, ${s}, ${r});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${f}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${m===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${m===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${m===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class cj{constructor(e,n=!1,s=null,r=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=zr(this.outputShape.length);const a=e.padInfo.left,i=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=c;let f=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<c;g++)f+=`
           vec4 xTexelC${g*2};
           int xTexelC${g*2}Ready;
           vec4 xTexelC${g*2+1};
           int xTexelC${g*2+1}Ready;
           vec4 xC${g};`;f+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let g=0;g<c;g++)f+=`
           xTexelC${g*2} = vec4(0.0);
           xTexelC${g*2}Ready = 0;
           xTexelC${g*2+1} = vec4(0.0);
           xTexelC${g*2+1}Ready = 0;
           xC${g} = vec4(0.0);`;f+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let g=0;g<(d+1)/2;g++){const y=g*2;if(f+=`
           xC = xCCorner + ${y*l};
           `,i===1){if(y<c&&(a%2===1?(f+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                   xTexelC${y} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${y}.zw = vec2(0.0);
                   }
                   xTexelC${y}Ready = 1;
                 }
               `,l===1&&y>0?f+=`
                 xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                 `:f+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                   } else {
                     xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                   }
                   `):f+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                   xTexelC${y} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${y}.zw = vec2(0.0);
                   }
                   xTexelC${y}Ready = 1;
                 }

                 xC${y} = xTexelC${y};
                 `,y+1<c)){const w=a%2===0?Nw(l):l;l%2===0&&a%2===1||l%2!==0&&a%2!==1?(f+=`
                   xCOffset = xC + imod(pads[1], 2) + ${w};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                     xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${y+1}.zw = vec2(0.0);
                     }
                     xTexelC${y+1}Ready = 1;
                   }
                   `,l>1?f+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                     } else {
                      xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                     }
                     `:f+=`
                     xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                     `):w===1?f+=`
                     xC${y+1} = xTexelC${y};
                     `:f+=`
                     xCOffset = xC + ${w};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                       xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${y+1}.zw = vec2(0.0);
                       }
                       xTexelC${y+1}Ready = 1;
                     }

                     xC${y+1} = xTexelC${y+1};
                     `}}else y<c&&(a%2===1?(f+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                   xTexelC${y} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${y}.zw = vec2(0.0);
                   }
                   xTexelC${y}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                   xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${y+1}.zw = vec2(0.0);
                   }
                   xTexelC${y+1}Ready = 1;
                 }

                 xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
               `,y+1<c&&(f+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                 `)):(f+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                   xTexelC${y} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${y}.zw = vec2(0.0);
                   }
                   xTexelC${y}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                   xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${y+1}.zw = vec2(0.);
                   }
                   xTexelC${y+1}Ready = 1;
                 }

                 xC${y} = vec4(
                   xTexelC${y}.xy, xTexelC${y+1}.xy);
               `,y+1<c&&(f+=`
                   xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                 `)));y<c&&(f+=`
             wTexel = getW(r, ${y}, d1, d2);
             dotProd += xC${y}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${y}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,y+1<c&&(f+=`
               wTexel = getW(r, ${y+1}, d1, d2);
               dotProd += xC${y+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${y+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}f+=`
     }
   `,f+=`
     }
   `,f+=`
     }
   `;let h="",p="";s&&(r?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${s}
         }`:o?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${s}
         }`:h=`vec4 activation(vec4 x) {
           ${s}
         }`,p="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${f}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${m}
         ${p}
         setOutput(result);
       }
     `}}class PSt{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=zr(this.outputShape.length);const{dataFormat:s}=n,r=Lr(),o=s==="channelsLast",a=o?1:2,i=o?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let u="";for(let c=0;c<=1;c++)for(let d=0;d<=1;d++)u+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${c};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${a}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${i}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${o}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${r.output} = result;
      }
    `}}function Sb(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function dj({x:t,filter:e,convInfo:n,backend:s,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:a=0,activation:i=null}){const l=t.shape,u=s.texData.get(t.dataId),c=n.inChannels,d=l[0]*l[1]*l[2],f=n.outChannels,h=n.dataFormat==="channelsLast",p=!1,m=!1;let g;const y=[];if(o!=null){const _=Sb(o.shape,h);_!=null&&(o=bt({inputs:{x:o},backend:s,attrs:{shape:_}}),y.push(o))}if(r!=null){const _=Sb(r.shape,h);_!=null&&(r=bt({inputs:{x:r},backend:s,attrs:{shape:_}}),y.push(r))}if(!((d===1||f===1)&&c>sj)&&u.isPacked&&h&&u.texture!=null&&l[2]%2!==0&&hn(u.shape.slice(-3),l.slice(-3))){const _=l[0]*l[1]*(l[2]+1),$={dataId:t.dataId,shape:[1,_,n.inChannels],dtype:t.dtype},x=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,q($b(u.shape,$.shape),()=>`packed reshape ${u.shape} to ${$.shape} isn't free`);const k=bt({inputs:{x:e},backend:s,attrs:{shape:[1,n.inChannels,n.outChannels]}});y.push(k);const C=xb({a:$,b:k,backend:s,transposeA:p,transposeB:m,bias:r,activation:i,preluActivationWeights:o,leakyreluAlpha:a}),T=s.texData.get(C.dataId);q(T.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=x,T.shape=n.outShape,g=Co({inputs:{x:C},backend:s}),g.shape=n.outShape,y.push(C)}else{const _=n.outHeight*n.outWidth,$=bt({inputs:{x:t},backend:s,attrs:{shape:h?[n.batchSize,_,n.inChannels]:[n.batchSize,n.inChannels,_]}}),x=bt({inputs:{x:e},backend:s,attrs:{shape:[1,n.inChannels,n.outChannels]}}),k=xb({a:h?$:x,b:h?x:$,transposeA:!h,transposeB:m,backend:s,bias:r,activation:i,preluActivationWeights:o,leakyreluAlpha:a});g=bt({inputs:{x:k},backend:s,attrs:{shape:n.outShape}}),y.push($),y.push(x),y.push(k)}for(const _ of y)s.disposeIntermediateTensorInfo(_);return g}function fj({x:t,filter:e,convInfo:n,backend:s,bias:r=null,preluActivationWeights:o=null,leakyreluAlpha:a=0,activation:i=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:d,outHeight:f,dataFormat:h}=n,p=h==="channelsLast",m=l*u*c,g=f*d,y=[n.batchSize,m,g],w=!0,b=!1,_=[];if(o!=null){const F=Sb(o.shape,p);F!=null&&(o=bt({inputs:{x:o},backend:s,attrs:{shape:F}}),_.push(o))}if(r!=null){const F=Sb(r.shape,p);F!=null&&(r=bt({inputs:{x:r},backend:s,attrs:{shape:F}}),_.push(r))}const $=bt({inputs:{x:e},backend:s,attrs:{shape:[1,m,Ge(e.shape)/m]}});_.push($);const x=new PSt(y,n),k=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],C=s.runWebGLProgram(x,[t],"float32",k),T=bt({inputs:{x:C},backend:s,attrs:{shape:y}});_.push(C),_.push(T);const N=r!=null,M=o!=null,R=i==="leakyrelu",D=i?ug(i,!0):null,z=new nj(p?T.shape:$.shape,p?$.shape:T.shape,p?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],w,b,N,D,M,R),B=p?[T,$]:[$,T];if(r&&B.push(r),M&&B.push(o),R){const F=s.makeTensorInfo([],"float32",ql(a,"float32"));B.push(F),_.push(F)}const V=s.runWebGLProgram(z,B,"float32"),O=bt({inputs:{x:V},backend:s,attrs:{shape:n.outShape}});_.push(V);for(const F of _)s.disposeIntermediateTensorInfo(F);return O}function LSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o}=e,{strides:a,pad:i,dataFormat:l,dilations:u,dimRoundingMode:c}=s,d=Yl(l),f=Gs(r.shape,o.shape,a,u,i,c,!1,d);let h;if(f.filterHeight===1&&f.filterWidth===1&&f.dilationHeight===1&&f.dilationWidth===1&&f.strideHeight===1&&f.strideWidth===1&&(f.padInfo.type==="SAME"||f.padInfo.type==="VALID"))h=dj({x:r,filter:o,convInfo:f,backend:n});else if(f.strideWidth<=2&&d==="channelsLast"&&Be().getBool("WEBGL_EXP_CONV")){const m=new cj(f),g=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];h=n.runWebGLProgram(m,[r,o],"float32",g)}else if(Be().getBool("WEBGL_CONV_IM2COL"))h=fj({x:r,filter:o,convInfo:f,backend:n});else{const m=new uj(f);h=n.runWebGLProgram(m,[r,o],"float32")}const p=bt({inputs:{x:h},backend:n,attrs:{shape:f.outShape}});return n.disposeIntermediateTensorInfo(h),p}const zSt={kernelName:Zg,backendName:"webgl",kernelFunc:LSt};class BSt{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,s=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${s} - ${o};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              if (${a}) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class VSt{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,s=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dataFormat==="channelsLast",i=n-1-e.padInfo.top,l=s-1-e.padInfo.left,u=a?1:2,c=a?2:3,d=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${s}; wC++) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${s} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${a}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class HSt{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,s=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,a=e.padInfo.top,i=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${o};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${s} - ${a};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${r} - ${i};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class WSt{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,s=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,l=n-1-e.padInfo.front,u=s-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${o}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${s}; wR++) {
            float dyR = float(dyRCorner + wR) / ${a}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${s} - 1 - wR;

            for (int wC = 0; wC < ${r}; wC++) {
              float dyC = float(dyCCorner + wC) / ${i}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${r} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function USt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:o}=e,{strides:a,pad:i,dataFormat:l,dimRoundingMode:u,filterShape:c}=s,d=Yl(l),f=Gs(r.shape,c,a,1,i,u,!1,d),h=new BSt(f);return n.runWebGLProgram(h,[r,o],"float32")}const GSt={kernelName:Pw,backendName:"webgl",kernelFunc:USt};function jSt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:o}=e,{inputShape:a,strides:i,pad:l,dataFormat:u,dimRoundingMode:c}=s,d=Yl(u),f=Gs(a,o.shape,i,1,l,c,!1,d),h=new VSt(f);return n.runWebGLProgram(h,[r,o],"float32")}const KSt={kernelName:Jg,backendName:"webgl",kernelFunc:jSt};function qSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o}=e,{strides:a,pad:i,dilations:l}=s,u=hc(r.shape,o.shape,a,l,i),c=new MSt(u);return n.runWebGLProgram(c,[r,o],"float32")}const XSt={kernelName:Qg,backendName:"webgl",kernelFunc:qSt};function YSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:o}=e,{strides:a,pad:i,filterShape:l}=s,u=hc(r.shape,l,a,1,i),c=new HSt(u);return n.runWebGLProgram(c,[r,o],"float32")}const ZSt={kernelName:Lw,backendName:"webgl",kernelFunc:YSt};function JSt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:o}=e,{pad:a,strides:i,inputShape:l}=s,u=hc(l,o.shape,i,1,a),c=new WSt(u);return n.runWebGLProgram(c,[r,o],"float32")}const QSt={kernelName:zw,backendName:"webgl",kernelFunc:JSt};const eCt=ym+`
  return cos(x);
`,tCt=xn({opSnippet:eCt}),nCt={kernelName:hp,backendName:"webgl",kernelFunc:tCt};const sCt=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,rCt=xn({opSnippet:sCt}),oCt={kernelName:pp,backendName:"webgl",kernelFunc:rCt};class aCt{constructor(e,n,s,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,i,l,u]=e,[c]=n,[d,f]=s;this.outputShape=[c,d,f,u];const h=r==="bilinear"?1:0,[p,m]=[`${i-1}.0`,`${l-1}.0`],[g,y,w]=d>1?[`${(i-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[b,_,$]=f>1?[`${(l-1)/(f-1)}`,"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`
      const float height_ratio = float(${g});
      const float width_ratio = float(${b});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${a}) {
          return;
        }

        float height_scale = ${y};
        float width_scale = ${_};

        float in_y = ${w};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${o}));
          return;
        }
        float in_x = ${$};
        if( in_x < 0.0 || in_x > ${m} ) {
          setOutput(float(${o}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}const iCt=t=>{const{inputs:e,backend:n,attrs:s}=t,{image:r,boxes:o,boxInd:a}=e,{cropSize:i,method:l,extrapolationValue:u}=s,c=new aCt(r.shape,o.shape,i,l,u);return n.runWebGLProgram(c,[r,o,a],"float32")},lCt={kernelName:Vw,backendName:"webgl",kernelFunc:iCt};var dg;(function(t){t.Prod="*",t.Sum="+"})(dg||(dg={}));class a9{constructor(e,n,s,r){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,a=this.op===dg.Prod?"1.0":"0.0",i=s?a:`getX(${i9(o,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",c="";s?(u=r?`end != ${l-1}`:"end != 0",c=r?"end + 1":"end - 1"):(u=r?`end + pow2 < ${l}`:"end >= pow2",c=r?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${jn(o)} coords = getOutputCoords();
        int end = ${l9(o,"coords",this.op)};
        float val = ${i};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${l9(o,"coords",this.op)} = idx;
          val ${this.op}= getX(${i9(o,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function i9(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function l9(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function hj(t,e,n,s,r,o){const a=e.shape.length,i=hs([s],a);let l=e;i!=null&&(l=Fr({inputs:{x:e},backend:n,attrs:{perm:i}}));const u=bs(1,a)[0];if(u!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${s}`);const c=l.shape[u];let d=Co({inputs:{x:l},backend:n});for(let f=0;f<=Math.ceil(Math.log2(c))-1;f++){const h=new a9(t,l.shape,!1,o),p=[[f]],m=d;d=n.runWebGLProgram(h,[d],d.dtype,p),n.disposeIntermediateTensorInfo(m)}if(r){const f=new a9(t,l.shape,r,o),h=d;d=n.runWebGLProgram(f,[d],d.dtype),n.disposeIntermediateTensorInfo(h)}if(i!=null){const f=pc(i),h=Fr({inputs:{x:d},backend:n,attrs:{perm:f}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),h}return d}function uCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,exclusive:a,reverse:i}=s;return hj(dg.Prod,r,n,o,a,i)}const cCt={kernelName:Bw,backendName:"webgl",kernelFunc:uCt};function dCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,exclusive:a,reverse:i}=s;return hj(dg.Sum,r,n,o,a,i)}const fCt={kernelName:e1,backendName:"webgl",kernelFunc:dCt};function hCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,weights:o}=e,{size:a,binaryOutput:i}=s;if(r.shape.length===1){const l=n.readSync(r.dataId),u=n.readSync(o.dataId),c=KG(l,u,o.dtype,o.shape,a);return n.makeTensorInfo([a],o.dtype,c)}else if(r.shape.length===2){const l=n.bufferSync(r),u=n.bufferSync(o),c=S$t(l,u,a,i);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const pCt={kernelName:Hw,backendName:"webgl",kernelFunc:hCt};class mCt{constructor(e,n,s){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=s,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}function gCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockSize:o,dataFormat:a}=s,i=r.shape[0],l=a==="NHWC"?r.shape[1]:r.shape[2],u=a==="NHWC"?r.shape[2]:r.shape[3],c=a==="NHWC"?r.shape[3]:r.shape[1],d=l*o,f=u*o,h=c/(o*o),p=a==="NHWC"?[i,d,f,h]:[i,h,d,f],m=new mCt(p,o,a);return n.runWebGLProgram(m,[r],r.dtype)}const vCt={kernelName:Ww,backendName:"webgl",kernelFunc:gCt};class pj{constructor(e,n=!1,s=null,r=!1,o=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=zr(this.outputShape.length);const a=e.filterHeight,i=e.filterWidth,l=e.outChannels/e.inChannels;let u="",c="";s&&(r?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:o?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:u=`
          float activation(float x) {
            ${s}
          }
        `,c="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${a}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${i}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${c}
        setOutput(result);
      }
    `}}class mj{constructor(e,n=!1,s=null,r=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=zr(this.outputShape.length);const a=e.outChannels/e.inChannels,i=e.padInfo.left,l=e.strideWidth,u=e.dilationWidth,c=e.filterHeight,d=e.filterWidth,f=d;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let y=0;y<d;y++)h+=`
          vec4 xTexelC${y*2};
          int xTexelC${y*2}Ready;
          vec4 xTexelC${y*2+1};
          int xTexelC${y*2+1}Ready;
          vec4 xC${y};`;h+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let y=0;y<d;y++)h+=`
          xTexelC${y*2} = vec4(0.0);
          xTexelC${y*2}Ready = 0;
          xTexelC${y*2+1} = vec4(0.0);
          xTexelC${y*2+1}Ready = 0;
          xC${y} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let y=0;y<(f+1)/2;y++){const w=y*2;if(h+=`
          xC = xCCorner + ${w*u};
          `,l===1){if(w<d&&(i%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w}Ready == 0) {
                  xTexelC${w} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${w}.zw = vec2(0.0);
                  }
                  xTexelC${w}Ready = 1;
                }
              `,u===1&&w>0?h+=`
                xC${w} = vec4(xTexelC${w-2}.zw, xTexelC${w}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${w} = vec4(previous.zw, xTexelC${w}.xy);
                  } else {
                    xC${w} = vec4(0.0, 0.0, xTexelC${w}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${w}Ready == 0) {
                  xTexelC${w} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${w}.zw = vec2(0.0);
                  }
                  xTexelC${w}Ready = 1;
                }

                xC${w} = xTexelC${w};
                `,w+1<d)){const b=i%2===0?Nw(u):u;u%2===0&&i%2===1||u%2!==0&&i%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${b};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                    xTexelC${w+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${w+1}.zw = vec2(0.0);
                    }
                    xTexelC${w+1}Ready = 1;
                  }
                  `,u>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${w+1} = vec4(previous.zw, xTexelC${w+1}.xy);
                    } else {
                     xC${w+1} = vec4(0.0, 0.0, xTexelC${w+1}.xy);
                    }
                    `:h+=`
                    xC${w+1} = vec4(xTexelC${w}.zw, xTexelC${w+1}.xy);
                    `):b===1?h+=`
                    xC${w+1} = xTexelC${w};
                    `:h+=`
                    xCOffset = xC + ${b};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                      xTexelC${w+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${w+1}.zw = vec2(0.0);
                      }
                      xTexelC${w+1}Ready = 1;
                    }

                    xC${w+1} = xTexelC${w+1};
                    `}}else w<d&&(i%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w}Ready == 0) {
                  xTexelC${w} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${w}.zw = vec2(0.0);
                  }
                  xTexelC${w}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${w+1}Ready == 0) {
                  xTexelC${w+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${w+1}.zw = vec2(0.0);
                  }
                  xTexelC${w+1}Ready = 1;
                }

                xC${w} = vec4(xTexelC${w}.zw, xTexelC${w+1}.zw);
              `,w+1<d&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${w+1} = vec4(xTexelC${w+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${w}Ready == 0) {
                  xTexelC${w} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${w}.zw = vec2(0.0);
                  }
                  xTexelC${w}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${w+1}Ready == 0) {
                  xTexelC${w+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${w+1}.zw = vec2(0.);
                  }
                  xTexelC${w+1}Ready = 1;
                }

                xC${w} = vec4(
                  xTexelC${w}.xy, xTexelC${w+1}.xy);
              `,w+1<d&&(h+=`
                  xC${w+1} = vec4(xTexelC${w}.zw, xTexelC${w+1}.zw);
                `)));w<d&&(h+=`
            wTexel = getW(r, ${w}, d1, q);
            dotProd += xC${w} * vec4(wTexel.xz, wTexel.xz);
          `,w+1<d&&(h+=`
              wTexel = getW(r, ${w+1}, d1, q);
              dotProd += xC${w+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let p="",m="";s&&(r?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:o?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:p=`vec4 activation(vec4 x) {
          ${s}
        }`,m="result = activation(result);");const g=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${a};
        int q = d2 - d1 * ${a};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${g}
        ${m}
        setOutput(result);
      }
    `}}function yCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o}=e,{strides:a,pad:i,dilations:l,dimRoundingMode:u}=s;let c=l;c==null&&(c=[1,1]),q(ur(a,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`);const d=Gs(r.shape,o.shape,a,c,i,u,!0);let f;Be().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?f=new mj(d):f=new pj(d);const h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(f,[r,o],"float32",h)}const bCt={kernelName:t1,backendName:"webgl",kernelFunc:yCt};class wCt{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,s=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${a} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${s} - ${o};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class _Ct{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,s=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=n-1-e.padInfo.top,i=s-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${s}; wC++) {
            float dyC = float(dyCCorner + wC) / ${o}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${s} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function $Ct(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:o}=e,{strides:a,dilations:i,pad:l,dimRoundingMode:u,filterShape:c}=s,d=Gs(r.shape,c,a,i,l,u,!0),f=new wCt(d);return n.runWebGLProgram(f,[r,o],"float32")}const xCt={kernelName:Uw,backendName:"webgl",kernelFunc:$Ct};function SCt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:o}=e,{strides:a,dilations:i,pad:l,dimRoundingMode:u,inputShape:c}=s,d=Gs(c,o.shape,a,i,l,u,!0),f=new _Ct(d);return n.runWebGLProgram(f,[r,o],"float32")}const CCt={kernelName:Gw,backendName:"webgl",kernelFunc:SCt};class kCt{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}function TCt(t){const{inputs:e,backend:n}=t,{x:s}=e,r=[...s.shape,...s.shape],o=Ge(s.shape),a=bt({inputs:{x:s},backend:n,attrs:{shape:[o]}}),i=new kCt(o),l=n.runWebGLProgram(i,[a],a.dtype),u=bt({inputs:{x:l},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),u}const NCt={kernelName:jw,backendName:"webgl",kernelFunc:TCt};class ECt{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:s,padInfo:r,strideHeight:o,strideWidth:a,filterHeight:i,filterWidth:l,dilationHeight:u,dilationWidth:c}=e,{top:d,left:f}=r;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${a});
      const ivec2 pads = ivec2(${d}, ${f});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${i}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${s}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}function ICt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o}=e,{strides:a,pad:i,dilations:l}=s,u=G1(r.shape,o.shape,a,i,"NHWC",l);let c;const d=new ECt(u);c=n.runWebGLProgram(d,[r,o],"float32");const f=bt({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),f}const ACt={kernelName:n1,backendName:"webgl",kernelFunc:ICt};function OCt(t){const{inputs:e,backend:n,attrs:s}=t,{equation:r}=s,o=e,{allDims:a,summedDims:i,idDims:l}=ET(r,o.length);AT(a.length,l,o);const{path:u,steps:c}=OT(i,l),d=c.length;let f=null,h=a.length;const p=[];for(let m=0;m<d;++m){for(const g of c[m]){const{permutationIndices:y,expandDims:w}=IT(h,l[g]);let b;RT(y)?b=o[g]:(b=Fr({inputs:{x:o[g]},backend:n,attrs:{perm:y}}),p.push(b));const _=b.shape.slice();for(let $=0;$<w.length;++$)_.splice(w[$],0,1);hn(b.shape,_)||(b=bt({inputs:{x:b},backend:n,attrs:{shape:_}}),p.push(b)),f===null?f=b:(f=AE({inputs:{a:b,b:f},backend:n}),p.push(f))}m<d-1&&(u[m]>=0&&(f=t4({inputs:{x:f},backend:n,attrs:{axis:u[m]-(a.length-h),keepDims:!1}}),p.push(f)),h--)}for(const m of p)m!==f&&n.disposeIntermediateTensorInfo(m);return f}const RCt={kernelName:Kw,backendName:"webgl",kernelFunc:OCt};const DCt="return (x >= 0.0) ? x : (exp(x) - 1.0);",FCt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,MCt=xn({opSnippet:DCt,packedOpSnippet:FCt}),PCt={kernelName:gp,backendName:"webgl",kernelFunc:MCt};const LCt="return (b >= 1.0) ? a : a * (b + 1.0);",zCt=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,BCt=t=>{const{inputs:e,backend:n}=t,{dy:s,y:r}=e,o=Be().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new T2(zCt,s.shape,r.shape):new Lh(LCt,s.shape,r.shape);return n.runWebGLProgram(o,[s,r],s.dtype)},VCt={kernelName:qw,backendName:"webgl",kernelFunc:BCt};const HCt=`
  return vec4(equal(a, b));
`,WCt="return float(a == b);",UCt=fr({opSnippet:WCt,packedOpSnippet:HCt,dtype:"bool",cpuKernelImpl:N$t}),GCt={kernelName:s1,backendName:"webgl",kernelFunc:UCt};const jCt=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${$T};
  float a1 = ${xT};
  float a2 = ${ST};
  float a3 = ${CT};
  float a4 = ${kT};
  float a5 = ${TT};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,KCt=xn({opSnippet:jCt}),qCt={kernelName:vp,backendName:"webgl",kernelFunc:KCt};const XCt=ym+`
  return exp(x);
`,YCt=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,gj=xn({opSnippet:XCt,packedOpSnippet:YCt,cpuKernelImpl:E$t,dtype:"float32"}),ZCt={kernelName:yp,backendName:"webgl",kernelFunc:gj};function Qx(t){const{inputs:e,attrs:n,backend:s}=t,{dim:r}=n,{input:o}=e,a=o.shape.length,i=o.shape.slice();let l=r;return r<0&&(q(-(a+1)<=r,()=>`Axis must be in the interval [${-(a+1)}, ${a}]`),l=a+r+1),i.splice(l,0,1),bt({inputs:{x:o},backend:s,attrs:{shape:i}})}const JCt={kernelName:r1,backendName:"webgl",kernelFunc:Qx};const u9="return exp(x) - 1.0;",QCt=xn({opSnippet:u9,packedOpSnippet:u9,cpuKernelImpl:I$t}),ekt={kernelName:bp,backendName:"webgl",kernelFunc:QCt};class c9{constructor(e,n,s){this.variableNames=["real","imag"];const r=n[1];this.outputShape=n;const o=s?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=s?`${r}.0`:"1.0";let i;if(e==="real")i="return real * expR - imag * expI;";else if(e==="imag")i="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${o};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${i}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${r});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${r}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${a};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}function vj(t,e,n){const s=n.texData.get(t.dataId),r=Ge(t.shape),o=t.shape[t.shape.length-1],a=r/o,i=bt({inputs:{x:t},backend:n,attrs:{shape:[a,o]}}),l=i.shape,u=new c9("real",l,e),c=new c9("imag",l,e),d=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:l},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:l}],f=n.runWebGLProgram(u,d,"float32"),h=n.runWebGLProgram(c,d,"float32"),p=yc({inputs:{real:f,imag:h},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h);const m=bt({inputs:{x:p},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(p),m}function tkt(t){const{inputs:e,backend:n}=t,{input:s}=e;return vj(s,!1,n)}const nkt={kernelName:Xw,backendName:"webgl",kernelFunc:tkt};class skt{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}function E2(t){const{backend:e,attrs:n}=t,{shape:s,value:r}=n;let{dtype:o}=n;if(o=o||np(r),o==="string"){const a=gs(o,Ge(s));return a.fill(r),e.makeTensorInfo(s,o,a)}else{const a=new skt(s,r),i=[[r]];return e.runWebGLProgram(a,[],o,i)}}const rkt={kernelName:Yw,backendName:"webgl",kernelFunc:E2};class okt{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const akt={kernelName:Zw,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,s=e,r=new okt(n.shape);return s.runWebGLProgram(r,[n],n.dtype)}};const d9="return floor(x);",ikt=xn({opSnippet:d9,packedOpSnippet:d9,cpuKernelImpl:A$t}),lkt={kernelName:wp,backendName:"webgl",kernelFunc:ikt};const ukt=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,ckt=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,dkt=fr({opSnippet:ukt,packedOpSnippet:ckt,dtype:"int32"}),fkt={kernelName:_p,backendName:"webgl",kernelFunc:dkt};class hkt{constructor(e){this.variableNames=["A"];const n=Lr(),[s,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${s}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}class pkt{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=Lr(),[s,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${r}.0, ${s}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}const mkt={kernelName:Yy,backendName:"webgl",kernelFunc:gkt};let Sf,I$=Be().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function gkt(t){const{inputs:e,backend:n,attrs:s}=t;let{pixels:r}=e;const{numChannels:o}=s,a=typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement,i=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,[l,u]=a?[r.videoWidth,r.videoHeight]:[r.width,r.height],c=[u,l],d=[u,l,o];if(i||a){const m=Be().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Sf==null||m!==I$)&&(I$=m,Sf=document.createElement("canvas").getContext("2d",{willReadFrequently:I$})),Sf.canvas.width=l,Sf.canvas.height=u,Sf.drawImage(r,0,0,l,u),r=Sf.canvas}const f=n.makeTensorInfo(c,"int32");n.texData.get(f.dataId).usage=zo.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),r);const h=Be().getBool("WEBGL_PACK")?new pkt(d):new hkt(d),p=n.runWebGLProgram(h,[f],"int32");return n.disposeData(f.dataId),p}function vkt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o,bias:a,preluActivationWeights:i}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f,activation:h,leakyreluAlpha:p}=s,m=Yl(c),g=Gs(r.shape,o.shape,l,d,u,f,!1,m);let y;const w=[],b=a!=null,_=i!=null,$=h==="leakyrelu",x=()=>{const C=[r,o],T=(N,M)=>{if(M==="NCHW"&&N.shape.length===1&&N.shape[0]!==1){const R=bt({inputs:{x:N},backend:n,attrs:{shape:[N.shape[0],1,1]}});return w.push(R),R}return N};if(b&&C.push(T(a,c)),_&&C.push(T(i,c)),$){const N=n.makeTensorInfo([],"float32",ql(p,"float32"));C.push(N),w.push(N)}return C};if(g.filterHeight===1&&g.filterWidth===1&&g.dilationHeight===1&&g.dilationWidth===1&&g.strideHeight===1&&g.strideWidth===1&&(g.padInfo.type==="SAME"||g.padInfo.type==="VALID"))y=dj({x:r,filter:o,convInfo:g,backend:n,bias:a,activation:h,preluActivationWeights:i,leakyreluAlpha:p});else if(g.strideWidth<=2&&m==="channelsLast"&&Be().getBool("WEBGL_EXP_CONV")){const C=h?ug(h,!0):null,T=new cj(g,b,C,_,$),N=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],M=x();y=n.runWebGLProgram(T,M,"float32",N)}else if(Be().getBool("WEBGL_CONV_IM2COL"))y=fj({x:r,filter:o,convInfo:g,backend:n,bias:a,activation:h,preluActivationWeights:i,leakyreluAlpha:p});else{const C=h?ug(h,!1):null,T=new uj(g,b,C,_,$),N=x();y=n.runWebGLProgram(T,N,"float32")}const k=bt({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return w.push(y),w.forEach(C=>n.disposeIntermediateTensorInfo(C)),k}const ykt={kernelName:Z0,backendName:"webgl",kernelFunc:vkt};function bkt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:o,bias:a,preluActivationWeights:i}=e,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:f,leakyreluAlpha:h}=s,p=[];let m=c;m==null&&(m=[1,1]),q(ur(l,m),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`);const g=Gs(r.shape,o.shape,l,m,u,d,!0),y=Be().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,w=f?ug(f,y):null,b=[r,o],_=a!=null,$=i!=null,x=f==="leakyrelu";if(_&&b.push(a),$&&b.push(i),x){const N=n.makeTensorInfo([],"float32",ql(h,"float32"));b.push(N),p.push(N)}let k;y?k=new mj(g,_,w,$,x):k=new pj(g,_,w,$,x);const C=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],T=n.runWebGLProgram(k,b,"float32",C);return p.forEach(N=>n.disposeIntermediateTensorInfo(N)),T}const wkt={kernelName:J0,backendName:"webgl",kernelFunc:bkt};class _kt{constructor(e,n,s,r){this.sliceDim=e,this.strides=n,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=s;const o=jn(s.length);let a=`
    int index;`;for(let i=0;i<this.sliceDim;i++)a+=`
          index = round(getIndices(coords[0], ${i}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[i]};
          flattenIndex += index * ${this.strides[i]};`;this.userCode=`
         void main() {
          ${o} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${a}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}function $kt(t){const{inputs:e,backend:n}=t,{params:s,indices:r}=e,o=r.shape,a=o[o.length-1],i=Ge(s.shape),[l,u,c,d]=P_(s,r),f=bt({inputs:{x:r},backend:n,attrs:{shape:[u,a]}}),h=bt({inputs:{x:s},backend:n,attrs:{shape:[Ge(s.shape)/c,c]}});if(n.shouldExecuteOnCPU([s,r])||s.dtype==="string"){const y=n.readSync(r.dataId),w=n.bufferSync(s),b=O$t(y,w,s.dtype,u,a,c,d,s.shape,i);return n.makeTensorInfo(l,s.dtype,b.values)}const p=new _kt(a,d,[u,c],s.shape),m=n.runWebGLProgram(p,[h,f],h.dtype),g=bt({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}const xkt={kernelName:Jw,backendName:"webgl",kernelFunc:$kt};class Skt{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const s=jn(this.rank),r=Ckt(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${r}));
      }
    `}}function Ckt(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[];for(let r=0;r<t.length;r++)r===2?s.push("index"):s.push(`${n[r]}`);return s.join()}function yj(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,indices:o}=e,{axis:a,batchDims:i}=s,l=un(a,r.shape)[0];if(Be().get("DEBUG")){const w=n.readSync(o.dataId),b=r.shape[l];for(let _=0;_<w.length;++_){const $=w[_];q($<=b-1&&$>=0,()=>`GatherV2: the index value ${$} is not in [0, ${b-1}]`)}}const u=FT(r,o,l,i),c=Ge(o.shape),d=[],f=bt({inputs:{x:r},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=bt({inputs:{x:o},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});d.push(f),d.push(h);const p=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([r,o])||r.dtype==="string"){const w=n.bufferSync(h),b=n.bufferSync(f),_=R$t(b,w,p);return d.forEach($=>n.disposeIntermediateTensorInfo($)),n.makeTensorInfo(u.outputShape,_.dtype,_.values)}const m=new Skt(f.shape,p),g=n.runWebGLProgram(m,[f,h],f.dtype);d.push(g);const y=bt({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return d.forEach(w=>n.disposeIntermediateTensorInfo(w)),y}const kkt={kernelName:a1,backendName:"webgl",kernelFunc:yj};const Tkt="return float(a > b);",Nkt=`
  return vec4(greaterThan(a, b));
`,Ekt=fr({opSnippet:Tkt,packedOpSnippet:Nkt,cpuKernelImpl:D$t,dtype:"bool"}),Ikt={kernelName:i1,backendName:"webgl",kernelFunc:Ekt};const Akt="return float(a >= b);",Okt=`
  return vec4(greaterThanEqual(a, b));
`,Rkt=fr({opSnippet:Akt,packedOpSnippet:Okt,dtype:"bool",cpuKernelImpl:F$t}),Dkt={kernelName:$p,backendName:"webgl",kernelFunc:Rkt};function Fkt(t){const{inputs:e,backend:n}=t,{input:s}=e;return vj(s,!0,n)}const Mkt={kernelName:Qw,backendName:"webgl",kernelFunc:Fkt};const Pkt="return float(!isnan(x) && !isinf(x));",Lkt=xn({opSnippet:Pkt,dtype:"bool"}),zkt={kernelName:Sp,backendName:"webgl",kernelFunc:Lkt};const Bkt="return float(isinf(x));",Vkt=xn({opSnippet:Bkt,dtype:"bool"}),Hkt={kernelName:Cp,backendName:"webgl",kernelFunc:Vkt};const Wkt="return float(isnan(x));",Ukt=xn({opSnippet:Wkt,dtype:"bool"}),Gkt={kernelName:kp,backendName:"webgl",kernelFunc:Ukt};const jkt="return float(a < b);",Kkt=`
  return vec4(lessThan(a, b));
`,qkt=fr({opSnippet:jkt,packedOpSnippet:Kkt,cpuKernelImpl:M$t,dtype:"bool"}),Xkt={kernelName:u1,backendName:"webgl",kernelFunc:qkt};const Ykt="return float(a <= b);",Zkt=`
  return vec4(lessThanEqual(a, b));
`,Jkt=fr({opSnippet:Ykt,packedOpSnippet:Zkt,cpuKernelImpl:P$t,dtype:"bool"}),Qkt={kernelName:c1,backendName:"webgl",kernelFunc:Jkt};function e8t(t){const{backend:e,attrs:n}=t,{start:s,stop:r,num:o}=n,a=L$t(s,r,o);return e.makeTensorInfo([a.length],"float32",a)}const t8t={kernelName:t_,backendName:"webgl",kernelFunc:e8t};const n8t=ym+`
  return x < 0.0 ? 0./0. : log(x);
`,s8t=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,r8t=xn({opSnippet:n8t,packedOpSnippet:s8t,cpuKernelImpl:z$t}),o8t={kernelName:Tp,backendName:"webgl",kernelFunc:r8t};const a8t=ym+`
  return log(1.0 + x);
`,i8t=xn({opSnippet:a8t}),l8t={kernelName:Np,backendName:"webgl",kernelFunc:i8t};const u8t="return float(a >= 1.0 && b >= 1.0);",c8t=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,d8t=fr({opSnippet:u8t,packedOpSnippet:c8t,dtype:"bool"}),f8t={kernelName:d1,backendName:"webgl",kernelFunc:d8t};const h8t="return float(!(x >= 1.0));",p8t=xn({opSnippet:h8t}),m8t={kernelName:f1,backendName:"webgl",kernelFunc:p8t};const g8t="return float(a >= 1.0 || b >= 1.0);",v8t=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,y8t=fr({opSnippet:g8t,packedOpSnippet:v8t,dtype:"bool"}),b8t={kernelName:h1,backendName:"webgl",kernelFunc:y8t};class w8t{constructor(e,n,s,r,o){this.variableNames=["x"],this.outputShape=[];const a=n,i=e[3]-1;this.outputShape=e;let l;const u=`float(${s}) + float(${r}) * sum`;o===.5?l=`inversesqrt(${u})`:o===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${o}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${a}; j <= ${a}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${i}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}class _8t{constructor(e,n,s,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=n,i=e[3]-1;this.outputShape=e;let l;const u=`float(${s}) + float(${r}) * sum`;o===.5?l=`inversesqrt(${u})`:o===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${o}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${a};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${a}; j <= ${a}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${i}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}const $8t=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{depthRadius:o,bias:a,alpha:i,beta:l}=s,u=Be().getBool("WEBGL_PACK_NORMALIZATION")?new _8t(r.shape,o,a,i,l):new w8t(r.shape,o,a,i,l);return n.runWebGLProgram(u,[r],r.dtype)},x8t={kernelName:p1,backendName:"webgl",kernelFunc:$8t};class S8t{constructor(e,n,s,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=s,this.alpha=r,this.beta=o,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${r}) * norm + float(${s});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${r})
                * float(${o})
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${o});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}const C8t=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r,y:o,dy:a}=e,{depthRadius:i,bias:l,alpha:u,beta:c}=s,d=new S8t(r.shape,i,l,u,c);return n.runWebGLProgram(d,[r,o,a],r.dtype)},k8t={kernelName:n_,backendName:"webgl",kernelFunc:C8t};function T8t(t,e,n,s){const r=Ge(e),a=Ge(t.shape)/r,i=bt({inputs:{x:t},attrs:{shape:[a,r]},backend:s}),l=mf(i,t.dtype,"max",s),u=bt({inputs:{x:l},attrs:{shape:n},backend:s});return s.disposeIntermediateTensorInfo(i),s.disposeIntermediateTensorInfo(l),u}function bj(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{reductionIndices:o,keepDims:a}=s,i=r.shape.length,l=un(o,r.shape);let u=l;const c=hs(u,i),d=c!=null,f=n.shouldExecuteOnCPU([r]);let h=r;if(d){if(f){const b=n.texData.get(h.dataId).values,_=new Array(i);for(let k=0;k<_.length;k++)_[k]=r.shape[c[k]];const $=EE(b,r.shape,r.dtype,c,_);h=n.makeTensorInfo(_,r.dtype);const x=n.texData.get(h.dataId);x.values=$}else h=e4(r,c,n);u=bs(u.length,i)}cr("max",u,i);const[p,m]=js(h.shape,u);let g=p;a&&(g=ys(p,l));let y;if(f){const b=n.texData.get(h.dataId).values,_=B$t(b,Ge(m),g,r.dtype);y=n.makeTensorInfo(g,r.dtype);const $=n.texData.get(y.dataId);$.values=_}else y=T8t(h,m,g,n);return d&&n.disposeIntermediateTensorInfo(h),y}const N8t={kernelName:m1,backendName:"webgl",kernelFunc:bj};const E8t=IE+`
  return max(a, b);
`,I8t=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+k2+`
  return result;
`,A8t=fr({opSnippet:E8t,packedOpSnippet:I8t,cpuKernelImpl:V$t}),O8t={kernelName:Ep,backendName:"webgl",kernelFunc:A8t};function R8t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;S2(r,"maxPool");const{filterSize:o,strides:a,pad:i,dimRoundingMode:l}=s,u=1;q(ur(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=Na(r.shape,o,a,u,i,l);if(c.filterWidth===1&&c.filterHeight===1&&hn(c.inShape,c.outShape))return Co({inputs:{x:r},backend:n});const d=new cg(c,"max",!1);return n.runWebGLProgram(d,[r],r.dtype)}const D8t={kernelName:g1,backendName:"webgl",kernelFunc:R8t};function F8t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{filterSize:o,strides:a,pad:i,dataFormat:l,dimRoundingMode:u}=s,c=[1,1,1],d=Xl(r.shape,o,a,c,i,u,l),f=new OE(d,"max",!1);return n.runWebGLProgram(f,[r],r.dtype)}const M8t={kernelName:v1,backendName:"webgl",kernelFunc:F8t};class P8t{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,s=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,a=e.effectiveFilterWidth,i=o-1-e.padInfo.top,l=a-1-e.padInfo.left,u=o*a-1;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${o};
          wR += ${r}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${a}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${a} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class L8t{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,s=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,i=e.dilationWidth,l=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,d=l-1-e.padInfo.front,f=u-1-e.padInfo.top,h=c-1-e.padInfo.left,p=l*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${f}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${o}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${a}) {
            float dyR = float(dyRCorner + wR) / ${s}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${i}) {
              float dyC = float(dyCCorner + wC) / ${r}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}function z8t(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:o}=e,a=o,{filterSize:i,strides:l,pad:u,dimRoundingMode:c}=s,d=[1,1,1],f=Xl(a.shape,i,l,d,u,c),h=new OE(f,"max",!0),p=n.runWebGLProgram(h,[a],a.dtype),m=new L8t(f),g=n.runWebGLProgram(m,[r,p],a.dtype);return n.disposeIntermediateTensorInfo(p),g}const B8t={kernelName:r_,backendName:"webgl",kernelFunc:z8t};function V8t(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:o,output:a}=e,i=o;S2([o,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=s,f=Na(i.shape,l,u,1,c,d),h=!0,p=new cg(f,"max",h),m=n.runWebGLProgram(p,[i],i.dtype),g=new P8t(f),y=n.runWebGLProgram(g,[r,m],i.dtype);return n.disposeIntermediateTensorInfo(m),y}const H8t={kernelName:s_,backendName:"webgl",kernelFunc:V8t};function W8t(t,e,n,s){let r=new cg(n,"max",!1);const o=s.runWebGLProgram(r,[t],"float32");r=new cg(n,"max",!0,!0,e);const a=s.runWebGLProgram(r,[t],"float32");return[o,a]}const U8t={kernelName:o_,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:s}=t,{filterSize:r,strides:o,pad:a,includeBatchInIndex:i}=e,l=n;q(s.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${s.shape.length}.`);const u=[1,1];q(ur(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Na(s.shape,r,o,u,a),[d,f]=W8t(s,i,c,l);return[d,f]}};function G8t(t,e,n,s){const r=Ge(e),a=Ge(t.shape)/r,i=bt({inputs:{x:t},attrs:{shape:[a,r]},backend:s}),l=mf(i,"float32","mean",s),u=bt({inputs:{x:l},attrs:{shape:n},backend:s});return s.disposeIntermediateTensorInfo(i),s.disposeIntermediateTensorInfo(l),u}const j8t={kernelName:y1,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:s}=t,{keepDims:r,axis:o}=e,a=n,i=s.shape.length,l=un(o,s.shape);let u=l;const c=hs(u,i),d=c!=null,f=a.shouldExecuteOnCPU([s]),h=[];let p=s;if(d){if(f){const _=a.texData.get(p.dataId).values,$=new Array(i);for(let C=0;C<$.length;C++)$[C]=s.shape[c[C]];const x=EE(_,s.shape,s.dtype,c,$);p=a.makeTensorInfo($,s.dtype);const k=a.texData.get(p.dataId);k.values=x}else p=e4(s,c,a);h.push(p),u=bs(u.length,i)}cr("sum",u,i);const[m,g]=js(p.shape,u);let y=m;r&&(y=ys(m,l));const w=G8t(p,g,y,a);for(const b of h)a.disposeIntermediateTensorInfo(b);return w}};function K8t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s,i=r.shape.length,l=un(o,r.shape);let u=l;const c=hs(u,i);let d=r;c!=null&&(d=Fr({inputs:{x:r},backend:n,attrs:{perm:c}}),u=bs(u.length,r.shape.length)),cr("min",u,i);const[f,h]=js(d.shape,u),p=Ge(h),m=bt({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),g=mf(m,m.dtype,"min",n);let y;if(a){const w=ys(f,l);y=bt({inputs:{x:g},backend:n,attrs:{shape:w}})}else y=bt({inputs:{x:g},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),c!=null&&n.disposeIntermediateTensorInfo(d),y}const q8t={kernelName:b1,backendName:"webgl",kernelFunc:K8t};const X8t=IE+`
  return min(a, b);
`,Y8t=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+k2+`
  return result;
`,Z8t=fr({opSnippet:X8t,packedOpSnippet:Y8t,cpuKernelImpl:H$t}),J8t={kernelName:Ip,backendName:"webgl",kernelFunc:Z8t};class Q8t{constructor(e,n,s){this.variableNames=["x"],this.outputShape=n.map((c,d)=>c[0]+e[d]+c[1]);const r=e.length,o=jn(r),a=n.map(c=>c[0]).join(","),i=n.map((c,d)=>c[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),u=s==="reflect"?0:1;if(r===1){this.userCode=`
        int start = ${a};
        int end = ${i};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${o} start = ${o}(${a});
      ${o} end = ${o}(${i});

      void main() {
        ${o} outC = getOutputCoords();
        for (int i = 0; i < ${r}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${o} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}class eTt{constructor(e,n,s){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,m)=>p[0]+e[m]+p[1]);const r=e.length,o=jn(r),a=n.map(p=>p[0]).join(","),i=n.map((p,m)=>p[0]+e[m]).join(","),l=Er("rc",r),u=Er("source",r),c=`${l[r-1]} < ${this.outputShape[r-1]}`,d=r===1?"source":`vec2(${u.slice(-2).join()})`,f=s==="reflect"?0:1;let h="";if(r===1){const p=`
        ${o} source = rc;
        if (source < start) {
          source = start * 2 - source - ${f};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${f};
        }
        source -= start;
      `;h=`
        ${o} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${d});
        ${l[r-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${d});
        }
      `}else{const p=`
        ${o} source = rc;
        ${o} lt = ${o}(lessThan(source, start));
        ${o} gte = ${o}(greaterThanEqual(source, end));
        ${o} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${f}) +
                gte * ((end - 1) * 2 - source + ${f});
        source -= start;
      `;h=`
        ${o} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${d});
        ${l[r-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${d});
        }
        rc = outputLoc;
        ${l[r-2]} += 1;
        if(${l[r-2]} < ${this.outputShape[r-2]}) {
          ${p}
          result[2] = getChannel(getX(${u.join()}), ${d});
          ${l[r-1]} += 1;
          if(${c}) {
            ${p}
            result[3] = getChannel(getX(${u.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${o} start = ${o}(${a});
      const ${o} end = ${o}(${i});

      void main() {
        ${o} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}const tTt=({inputs:t,backend:e,attrs:n})=>{const{x:s}=t,{paddings:r,mode:o}=n,a=Be().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new eTt(s.shape,r,o):new Q8t(s.shape,r,o);return e.runWebGLProgram(a,[s],s.dtype)},nTt={kernelName:w1,backendName:"webgl",kernelFunc:tTt};const sTt=`if (b == 0.0) return NAN;
  return mod(a, b);`,rTt=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+k2+`
  return result;
`,oTt=fr({opSnippet:sTt,packedOpSnippet:rTt}),aTt={kernelName:Ap,backendName:"webgl",kernelFunc:oTt};class iTt{constructor(e,n,s){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,s],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}const lTt=`
if (a == b) {
  return 1.0;
};
return a / b;`,uTt=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,wj=fr({opSnippet:lTt,packedOpSnippet:uTt,checkOutOfBounds:!0}),cTt={kernelName:mp,backendName:"webgl",kernelFunc:wj};const f9="return a - b;",_j=fr({opSnippet:f9,packedOpSnippet:f9,supportsComplex:!0,cpuKernelImpl:l6t}),dTt={kernelName:Kp,backendName:"webgl",kernelFunc:_j};function $j(t){const{inputs:e,backend:n,attrs:s}=t,{logits:r}=e,{dim:o}=s,a=un([o],r.shape),i=bj({inputs:{x:r},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),l=ys(i.shape,a),u=bt({inputs:{x:i},backend:n,attrs:{shape:l}}),c=_j({inputs:{a:r,b:u},backend:n}),d=gj({inputs:{x:c},backend:n}),f=t4({inputs:{x:d},backend:n,attrs:{axis:a,keepDims:!1}}),h=bt({inputs:{x:f},backend:n,attrs:{shape:l}}),p=wj({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(h),p}const fTt={kernelName:L1,backendName:"webgl",kernelFunc:$j};function hTt(t){const{inputs:e,backend:n,attrs:s}=t,{logits:r}=e,{numSamples:o,seed:a,normalized:i}=s,l=i?r:$j({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new iTt(u,c,o),f=[[a]],h=n.runWebGLProgram(d,[l],"int32",f);return i||n.disposeIntermediateTensorInfo(l),h}const pTt={kernelName:a_,backendName:"webgl",kernelFunc:hTt};const mTt=Ia+`
  return -x;
`,gTt=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function vTt(t){const{inputs:e,backend:n}=t,{x:s}=e;if(n.shouldExecuteOnCPU([s])){const o=n.texData.get(s.dataId),[a,i]=U$t(o.values,s.shape,s.dtype);return n.makeTensorInfo(i,s.dtype,a)}let r;return Be().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new Nu(s.shape,gTt):r=new Ni(s.shape,mTt),n.runWebGLProgram(r,[s],s.dtype)}const yTt={kernelName:_1,backendName:"webgl",kernelFunc:vTt};const bTt=v3;function wTt(t){Fo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:o}=e,{maxOutputSize:a,iouThreshold:i,scoreThreshold:l}=s,u=n.readSync(r.dataId),c=n.readSync(o.dataId),{selectedIndices:d}=bTt(u,c,a,i,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const _Tt={kernelName:i_,backendName:"webgl",kernelFunc:wTt};const $Tt=y3;function xTt(t){Fo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:o}=e,{maxOutputSize:a,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:u}=s,c=n.readSync(r.dataId),d=n.readSync(o.dataId),{selectedIndices:f,validOutputs:h}=$Tt(c,d,a,i,l,u);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const STt={kernelName:l_,backendName:"webgl",kernelFunc:xTt};const CTt=b3;function kTt(t){Fo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:o}=e,{maxOutputSize:a,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=s,c=n.readSync(r.dataId),d=n.readSync(o.dataId),f=a,h=i,p=l,m=u,{selectedIndices:g,selectedScores:y}=CTt(c,d,f,h,p,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}const TTt={kernelName:u_,backendName:"webgl",kernelFunc:kTt};class NTt{constructor(e,n,s,r){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${r}), float(${s}),
                      float(index == coords.y)));
      }
    `}}const ETt=t=>{const{inputs:e,backend:n,attrs:s}=t,{indices:r}=e,{dtype:o,depth:a,onValue:i,offValue:l}=s,u=Ge(r.shape),c=new NTt(u,a,i,l),d=bt({inputs:{x:r},backend:n,attrs:{shape:[u]}}),f=n.runWebGLProgram(c,[d],o);n.disposeIntermediateTensorInfo(d);const h=[...r.shape,a],p=bt({inputs:{x:f},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),p},ITt={kernelName:S1,backendName:"webgl",kernelFunc:ETt};function Cb(t){const{inputs:e,backend:n}=t,{x:s}=e;if(s.dtype==="complex64"){const r=N2({inputs:{input:s},backend:n}),o=Cb({inputs:{x:r},backend:n}),a=n4({inputs:{input:s},backend:n}),i=Cb({inputs:{x:a},backend:n}),l=yc({inputs:{real:o,imag:i},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),l}else return E2({attrs:{shape:s.shape,dtype:s.dtype,value:s.dtype==="string"?"":0},backend:n})}const ATt={kernelName:V1,backendName:"webgl",kernelFunc:Cb};function xj(t){const{inputs:e,backend:n}=t,{x:s}=e;if(s.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(s.dtype==="complex64"){const r=N2({inputs:{input:s},backend:n}),o=xj({inputs:{x:r},backend:n}),a=n4({inputs:{input:s},backend:n}),i=Cb({inputs:{x:a},backend:n}),l=yc({inputs:{real:o,imag:i},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),l}else return E2({attrs:{shape:s.shape,dtype:s.dtype,value:1},backend:n})}const OTt={kernelName:x1,backendName:"webgl",kernelFunc:xj};function RTt(t){const{inputs:e,backend:n,attrs:s}=t,{axis:r}=s;if(e.length===1)return Qx({inputs:{input:e[0]},backend:n,attrs:{dim:r}});const o=e[0].shape,a=e[0].dtype;e.forEach(c=>{lr(o,c.shape,"All tensors passed to stack must have matching shapes"),q(a===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],l=e.map(c=>{const d=Qx({inputs:{input:c},backend:n,attrs:{dim:r}});return i.push(d),d}),u=lj({inputs:l,backend:n,attrs:{axis:r}});return i.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const DTt={kernelName:C1,backendName:"webgl",kernelFunc:RTt};class FTt{constructor(e,n,s){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,c)=>u[0]+e[c]+u[1]);const r=e.length,o=jn(r),a=n.map(u=>u[0]).join(","),i=n.map((u,c)=>u[0]+e[c]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);if(r===1){this.userCode=`
        int start = ${a};
        int end = ${i};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${o} start = ${o}(${a});
      ${o} end = ${o}(${i});

      void main() {
        ${o} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${o} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}class MTt{constructor(e,n,s){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((m,g)=>m[0]+e[g]+m[1]);const r=e.length,o=jn(r),a=n.map(m=>m[0]).join(","),i=n.map((m,g)=>m[0]+e[g]).join(","),l=Er("rc",r),u=Er("source",r),c=`${l[r-1]} < ${this.outputShape[r-1]}`,d=r===1?"source":`vec2(${u.slice(-2).join()})`,f=[`${o} rc = outputLoc;`,`${l[r-1]} += 1;
       if(${c}) {
      `,r===1?"":`}
       rc = outputLoc;
       ${l[r-2]} += 1;
       if(${l[r-2]} < ${this.outputShape[r-2]}) {`,r===1?"":`  ${l[r-1]} += 1;
         if(${c}) {`],h=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let m=0,g=r===1?2:4;m<g;m++)p+=`
        ${f[m]}
        if (${h}) {
          result[${m}] = float(value);
        } else {
          ${o} source = rc - start;
          result[${m}] = getChannel(getX(${u.join()}), ${d});
        }
      `;p+=r===1?"} ":"}}",this.userCode=`
      const ${o} start = ${o}(${a});
      const ${o} end = ${o}(${i});

      void main() {
        ${o} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}const Sj=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{paddings:o,constantValue:a}=s;if(Ge(r.shape)===0){const u=o.map((c,d)=>c[0]+r.shape[d]+c[1]);return E2({backend:n,attrs:{shape:u,value:a,dtype:r.dtype}})}const i=Be().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new MTt(r.shape,o,a):new FTt(r.shape,o,a),l=[[a]];return n.runWebGLProgram(i,[r],r.dtype,l)},PTt={kernelName:k1,backendName:"webgl",kernelFunc:Sj};const LTt=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,zTt=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+k2+`
  return result;
`,BTt=fr({opSnippet:LTt,packedOpSnippet:zTt}),VTt={kernelName:Rp,backendName:"webgl",kernelFunc:BTt};function HTt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:o,keepDims:a}=s,i=r.shape.length,l=[],u=un(o,r.shape);let c=u;const d=hs(c,i);let f=r;d!=null&&(f=Fr({inputs:{x:r},backend:n,attrs:{perm:d}}),c=bs(c.length,i),l.push(f)),cr("prod",c,i);let h;if(n.shouldExecuteOnCPU([f])){const p=n.texData.get(f.dataId).values,{outVals:m,outShape:g,outDtype:y}=j$t(f.shape,f.dtype,p,c);h=n.makeTensorInfo(g,y,m)}else{const[p,m]=js(f.shape,c),g=Ge(m),y=bt({inputs:{x:f},backend:n,attrs:{shape:[-1,g]}}),w=D_(r.dtype),b=mf(y,w,"prod",n);h=bt({inputs:{x:b},backend:n,attrs:{shape:p}}),l.push(y),l.push(b)}if(a){l.push(h);const p=ys(h.shape,u);h=bt({inputs:{x:h},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),h}const WTt={kernelName:N1,backendName:"webgl",kernelFunc:HTt};function UTt(t){const{inputs:e,backend:n,attrs:s}=t,{paramsNestedSplits:r,paramsDenseValues:o,indices:a}=e,{outputRaggedRank:i}=s,l=r.map(y=>n.readSync(y.dataId)),u=r.map(y=>y.shape),c=n.readSync(o.dataId),d=n.readSync(a.dataId),[f,h,p]=K$t(l,u,c,o.shape,o.dtype,d,a.shape,i),m=f.map(y=>n.makeTensorInfo([y.length],"int32",y)),g=n.makeTensorInfo(p,o.dtype,h);return m.concat([g])}const GTt={kernelName:c_,backendName:"webgl",kernelFunc:UTt};function jTt(t){const{inputs:e,backend:n}=t,{starts:s,limits:r,deltas:o}=e,a=n.readSync(s.dataId),i=n.readSync(r.dataId),l=n.readSync(o.dataId),[u,c]=q$t(a,s.shape,s.dtype,i,r.shape,l,o.shape),d=n.makeTensorInfo([u.length],"int32",u),f=n.makeTensorInfo([c.length],s.dtype,c);return[d,f]}const KTt={kernelName:d_,backendName:"webgl",kernelFunc:jTt};function qTt(t){const{inputs:e,backend:n,attrs:s}=t,{shape:r,values:o,defaultValue:a,rowPartitionTensors:i}=e,{rowPartitionTypes:l}=s,u=n.readSync(r.dataId),c=n.readSync(o.dataId),d=n.readSync(a.dataId),f=i.map(g=>n.readSync(g.dataId)),h=i.map(g=>g.shape),[p,m]=X$t(u,r.shape,c,o.shape,o.dtype,d,a.shape,f,h,l);return n.makeTensorInfo(p,o.dtype,m)}const XTt={kernelName:f_,backendName:"webgl",kernelFunc:qTt};const Cj=t=>{const{backend:e,attrs:n}=t,{start:s,stop:r,step:o,dtype:a}=n,i=Y$t(s,r,o,a);return e.makeTensorInfo([i.length],a,i)},YTt={kernelName:h_,backendName:"webgl",kernelFunc:Cj};const ZTt="return 1.0 / x;",JTt=xn({opSnippet:ZTt}),QTt={kernelName:Dp,backendName:"webgl",kernelFunc:JTt};const eNt=Ia+`
  return (x < 0.0) ? 0.0 : x;
`,tNt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,nNt=xn({opSnippet:eNt,packedOpSnippet:tNt}),sNt={kernelName:Fp,backendName:"webgl",kernelFunc:nNt};const rNt=Ia+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,oNt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,aNt=xn({opSnippet:rNt,packedOpSnippet:oNt}),iNt={kernelName:Mp,backendName:"webgl",kernelFunc:aNt};class lNt{constructor(e,n,s,r,o){this.variableNames=["A"],this.outputShape=[];const[a,i,l,u]=e;this.outputShape=[a,n,s,u];const c=[r&&n>1?i-1:i,r&&s>1?l-1:l],d=[r&&n>1?n-1:n,r&&s>1?s-1:s];let f;o?f="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/d[0]},
          ${c[1]/d[1]});
      const vec2 inputShapeRC = vec2(${i}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}class uNt{constructor(e,n,s,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,i,l,u]=e;this.outputShape=[a,n,s,u];const c=[r&&n>1?i-1:i,r&&s>1?l-1:l],d=[r&&n>1?n-1:n,r&&s>1?s-1:s];let f;o?f="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/d[0]},
          ${c[1]/d[1]},
          ${c[1]/d[1]});
      const vec3 inputShapeRC = vec3(${i}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${s-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}function cNt(t){const{inputs:e,backend:n,attrs:s}=t,{images:r}=e,{alignCorners:o,halfPixelCenters:a,size:i}=s,[l,u]=i,c=Be().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new uNt(r.shape,l,u,o,a):new lNt(r.shape,l,u,o,a);return n.runWebGLProgram(c,[r],"float32")}const dNt={kernelName:A1,backendName:"webgl",kernelFunc:cNt};class fNt{constructor(e,n,s){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,r,o]=n,[,a,i]=e,l=[s&&a>1?r-1:r,s&&i>1?o-1:o],u=[s&&a>1?a-1:a,s&&i>1?i-1:i],c=l[0]/u[0],d=l[1]/u[1],f=1/c,h=1/d,p=Math.ceil(f)*2+2,m=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${d});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${i}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function hNt(t){const{inputs:e,backend:n,attrs:s}=t,{images:r,dy:o}=e,{alignCorners:a}=s,i=new fNt(o.shape,r.shape,a);return n.runWebGLProgram(i,[o],o.dtype)}const pNt={kernelName:g_,backendName:"webgl",kernelFunc:hNt};class mNt{constructor(e,n,s,r,o){this.variableNames=["A"],this.outputShape=[];const[a,i,l,u]=e;this.outputShape=[a,n,s,u];const c=[r&&n>1?i-1:i,r&&s>1?l-1:l],d=[r&&n>1?n-1:n,r&&s>1?s-1:s],f=r?"0.5":"0.0";let h;o?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/d[0]},
          ${c[1]/d[1]});
      const vec2 inputShapeRC = vec2(${i}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}class gNt{constructor(e,n,s,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,i,l,u]=e;this.outputShape=[a,n,s,u];const c=[r&&n>1?i-1:i,r&&s>1?l-1:l],d=[r&&n>1?n-1:n,r&&s>1?s-1:s],f=r?"0.5":"0.0";let h;o?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/d[0]},
          ${c[1]/d[1]},
          ${c[1]/d[1]});
      const vec3 inputShapeRC = vec3(${i}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${s-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}function vNt(t){const{inputs:e,backend:n,attrs:s}=t,{images:r}=e,{alignCorners:o,halfPixelCenters:a,size:i}=s,[l,u]=i,c=Be().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new gNt(r.shape,l,u,o,a):new mNt(r.shape,l,u,o,a);return n.runWebGLProgram(c,[r],r.dtype)}const yNt={kernelName:I1,backendName:"webgl",kernelFunc:vNt};class bNt{constructor(e,n,s){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,r,o]=n,[,a,i]=e,l=[s&&a>1?r-1:r,s&&i>1?o-1:o],u=[s&&a>1?a-1:a,s&&i>1?i-1:i],c=l[0]/u[0],d=l[1]/u[1],f=1/c,h=1/d,p=Math.ceil(f)*2+2,m=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${d});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${h});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${a}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${i}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${r}) - 1),
                ${s} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${o}) - 1),
                ${s} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}function wNt(t){const{inputs:e,backend:n,attrs:s}=t,{images:r,dy:o}=e,{alignCorners:a}=s,i=new bNt(o.shape,r.shape,a);return n.runWebGLProgram(i,[o],o.dtype)}const _Nt={kernelName:m_,backendName:"webgl",kernelFunc:wNt};class $Nt{constructor(e,n){this.variableNames=["x"];const s=e.length;if(s>4)throw new Error(`WebGL backend: Reverse of rank-${s} tensor is not yet supported`);if(this.outputShape=e,s===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const r=i=>n.indexOf(i)!==-1&&e[i]!==1?`${e[i]} - coords[${i}] - 1`:`coords[${i}]`,o=e.map((i,l)=>r(l)).join(","),a=jn(s);this.userCode=`
      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}class xNt{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const s=e.length;if(s>4)throw new Error(`WebGL backend: Reverse of rank-${s} tensor is not yet supported`);this.outputShape=e;const r=Er("rc",s),o=`${r[s-1]} + 1 < ${this.outputShape[s-1]}`,a=`${r[s-2]} + 1 < ${this.outputShape[s-2]}`,i=jn(s);s===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${o}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${i} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(r.slice())};
          if(${o}){
            result.g = ${u(r.slice())};
          }
          if(${a}) {
            result.b = ${c(r.slice())};
            if(${o}) {
              result.a = ${d(r.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return f(p)}function u(p){return p[s-1]="("+p[s-1]+" + 1)",f(p)}function c(p){return p[s-2]="("+p[s-2]+" + 1)",f(p)}function d(p){return p[s-1]="("+p[s-1]+" + 1)",p[s-2]="("+p[s-2]+" + 1)",f(p)}function f(p){const m=e.map((w,b)=>h(b,p)),g=m.join(","),y=m.slice(-2).join(",");return`getChannel(getX(${g}), vec2(${y}))`}function h(p,m){return n.indexOf(p)!==-1&&e[p]!==1?`${e[p]} - ${m[p]} - 1`:`${m[p]}`}}}function SNt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{dims:o}=s,a=r.shape.length,i=un(o,r.shape);if(a===0)return Co({inputs:{x:r},backend:n});const l=Be().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xNt(r.shape,i):new $Nt(r.shape,i);return n.runWebGLProgram(l,[r],r.dtype)}const CNt={kernelName:O1,backendName:"webgl",kernelFunc:SNt};class kNt{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const s=e[1],r=e[2];this.outputShape=e;let o="";typeof n=="number"?o=`float outputValue = ${n.toFixed(2)};`:o=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${o}
          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${s}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}const TNt={kernelName:O_,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:s}=t,{radians:r,fillValue:o,center:a}=e,i=n,l=new kNt(s.shape,o),[u,c]=bT(a,s.shape[1],s.shape[2]),d=[[u,c,Math.sin(r),Math.cos(r)]];return i.runWebGLProgram(l,[s],s.dtype,d)}};const NNt=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,ENt=xn({opSnippet:NNt}),INt={kernelName:Pp,backendName:"webgl",kernelFunc:ENt};const ANt="return inversesqrt(x);",ONt=xn({opSnippet:ANt,cpuKernelImpl:Z$t}),RNt={kernelName:Lp,backendName:"webgl",kernelFunc:ONt};class kj{constructor(e,n,s,r,o,a,i=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const l=jn(o.length),u=jn(a.length);let c="";s===1?c="i":s===2&&(c="i, j");const d=`getIndices(${c})`;let f="";r===1?f="i":r===2&&(f="i, coords[1]");const h=`getUpdates(${f})`,p=n>1?"strides[j]":"strides";this.userCode=`
        ${l} strides = ${l}(${o});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${p};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${h};
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `}}function DNt(t){const{inputs:e,backend:n,attrs:s}=t,{indices:r,updates:o}=e,{shape:a}=s,{sliceRank:i,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=Jp(o,r,a),f=[d/u,u];if(d===0)return n.makeTensorInfo(a,r.dtype);const h=bt({inputs:{x:r},backend:n,attrs:{shape:[l,i]}}),p=bt({inputs:{x:o},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0])),g=new kj(l,i,h.shape.length,p.shape.length,c,f),y=n.runWebGLProgram(g,[p,h,m],p.dtype),w=bt({inputs:{x:y},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),w}const FNt={kernelName:v_,backendName:"webgl",kernelFunc:DNt};class MNt{constructor(e,n,s,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,s];const o="while (left < right) {",a=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,i=Be().getNumber("WEBGL_VERSION")===2?o:a,l=r==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${i}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}function PNt(t){const{inputs:e,backend:n,attrs:s}=t,{sortedSequence:r,values:o}=e,{side:a}=s,i=new MNt(r.shape[0],r.shape[1],o.shape[1],a),l=[[r.shape[1]]];return n.runWebGLProgram(i,[r,o],"int32",l)}const LNt={kernelName:y_,backendName:"webgl",kernelFunc:PNt};class zNt{constructor(e,n,s){this.variableNames=["c","a","b"],this.outputShape=n;let r,o;if(s>4)throw Error(`Where for rank ${s} is not yet supported`);if(s===1)o="resRC",r="resRC";else{const i=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let c=0;c<n.length;c++)u.push(`${i[c]}`),c<e&&l.push(`${i[c]}`);r=l.join(),o=u.join()}const a=jn(s);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        float cVal = getC(${r});
        if (cVal >= 1.0) {
          setOutput(getA(${o}));
        } else {
          setOutput(getB(${o}));
        }
      }
    `}}function BNt(t){const{inputs:e,backend:n}=t,{condition:s,t:r,e:o}=e,a=new zNt(s.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(a,[s,r,o],Yr(r.dtype,o.dtype))}const VNt={kernelName:R1,backendName:"webgl",kernelFunc:BNt};const HNt=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${T3};
  float scale = ${N3};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,WNt=xn({opSnippet:HNt}),UNt={kernelName:zp,backendName:"webgl",kernelFunc:WNt};const GNt=ym+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,jNt=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,KNt=xn({opSnippet:GNt,packedOpSnippet:jNt,cpuKernelImpl:Q$t}),qNt={kernelName:Wp,backendName:"webgl",kernelFunc:KNt};const XNt=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,YNt=xn({opSnippet:XNt}),ZNt={kernelName:Hp,backendName:"webgl",kernelFunc:YNt};const JNt=ym+`
  return sin(x);
`,QNt=xn({opSnippet:JNt}),eEt={kernelName:Bp,backendName:"webgl",kernelFunc:QNt};const tEt=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,nEt=xn({opSnippet:tEt}),sEt={kernelName:Vp,backendName:"webgl",kernelFunc:nEt};const rEt=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,oEt=xn({opSnippet:rEt}),aEt={kernelName:Up,backendName:"webgl",kernelFunc:oEt};const iEt=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockShape:o,paddings:a}=s;q(r.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const i=o.reduce((y,w)=>y*w),l=[[0,0]];l.push(...a);for(let y=1+o.length;y<r.shape.length;++y)l.push([0,0]);const u=[],c=Sj({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),d=l2(c.shape,o,i,!1),f=u2(d.length,o.length,!1),h=c2(c.shape,o,i,!1),p=bt({inputs:{x:c},backend:n,attrs:{shape:d}}),m=Fr({inputs:{x:p},backend:n,attrs:{perm:f}}),g=bt({inputs:{x:m},backend:n,attrs:{shape:h}});return u.push(c),u.push(p),u.push(m),u.forEach(y=>n.disposeIntermediateTensorInfo(y)),g},lEt={kernelName:M1,backendName:"webgl",kernelFunc:iEt};function uEt(t){const{inputs:e,backend:n}=t,{indices:s,values:r,denseShape:o,defaultValue:a}=e;if(o.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${o.shape}`);if(s.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${s.shape}`);if(r.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${r.shape}`);if(a.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${a.shape}`);const i=n.readSync(s.dataId),l=n.readSync(r.dataId),u=n.readSync(o.dataId),c=n.readSync(a.dataId)[0],[d,f,h,p,m]=t6t(i,s.shape,s.dtype,l,r.dtype,u,c);return[n.makeTensorInfo(f,s.dtype,d),n.makeTensorInfo([f[0]],r.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(g=>Number(g)))),n.makeTensorInfo([m.length],s.dtype,new Int32Array(m))]}const cEt={kernelName:b_,backendName:"webgl",kernelFunc:uEt};function dEt(t){const{inputs:e,backend:n}=t,{inputIndices:s,inputShape:r,newShape:o}=e;if(s.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${s.shape}`);if(r.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const a=Array.from(n.readSync(r.dataId)),i=n.readSync(s.dataId),l=Array.from(n.readSync(o.dataId)),[u,c,d]=n6t(i,s.shape,s.dtype,a,l);return[n.makeTensorInfo(c,s.dtype,u),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}const fEt={kernelName:w_,backendName:"webgl",kernelFunc:dEt};function hEt(t){const{inputs:e,backend:n}=t,{data:s,indices:r,segmentIds:o}=e;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${r.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${o.shape}`);const a=n.readSync(s.dataId),i=n.readSync(r.dataId),l=n.readSync(o.dataId),[u,c]=XG(a,s.shape,s.dtype,i,l,!0);return n.makeTensorInfo(c,s.dtype,u)}const pEt={kernelName:__,backendName:"webgl",kernelFunc:hEt};function mEt(t){const{inputs:e,backend:n}=t,{data:s,indices:r,segmentIds:o}=e;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${r.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${o.shape}`);const a=n.readSync(s.dataId),i=n.readSync(r.dataId),l=n.readSync(o.dataId),[u,c]=XG(a,s.shape,s.dtype,i,l);return n.makeTensorInfo(c,s.dtype,u)}const gEt={kernelName:$_,backendName:"webgl",kernelFunc:mEt};function vEt(t){const{inputs:e,backend:n,attrs:s}=t,{sparseIndices:r,sparseValues:o,defaultValue:a}=e,{outputShape:i}=s,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:f}=Jp(o,r,i),h=!1;if(o.dtype==="string"){const y=n.bufferSync(r),w=n.bufferSync(o),b=Nl(n.readSync(a.dataId)[0]),_=J$t(y,w,i,f,c,u,l,d,b,h);return n.makeTensorInfo(i,_.dtype,_.values)}const p=new kj(u,l,r.shape.length,o.shape.length,d,[f,1],h),m=n.runWebGLProgram(p,[o,r,a],o.dtype),g=bt({inputs:{x:m},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(m),g}const yEt={kernelName:x_,backendName:"webgl",kernelFunc:vEt};function bEt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{numOrSizeSplits:o,axis:a}=s,i=un(a,r.shape)[0],l=DT(r,o,i),u=r.shape.length,c=new Array(u).fill(0),d=r.shape.slice();return l.map(f=>{const h=[...d];h[i]=f;const p=bm({inputs:{x:r},backend:n,attrs:{begin:c,size:h}});return c[i]+=f,p})}const wEt={kernelName:P1,backendName:"webgl",kernelFunc:bEt};const h9="return sqrt(x);",_Et=xn({opSnippet:h9,packedOpSnippet:h9,cpuKernelImpl:s6t}),$Et={kernelName:Gp,backendName:"webgl",kernelFunc:_Et};const xEt="return x * x;",SEt=xn({opSnippet:xEt}),CEt={kernelName:S_,backendName:"webgl",kernelFunc:SEt};const p9="return (a - b) * (a - b);",kEt=fr({opSnippet:p9,packedOpSnippet:p9}),TEt={kernelName:jp,backendName:"webgl",kernelFunc:kEt};function NEt({inputs:t,attrs:e,backend:n}){const{x:s}=t,r=Ia+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,o=new Ni(s.shape,r);return n.runWebGLProgram(o,[s],s.dtype)}const EEt={kernelName:Zp,backendName:"webgl",kernelFunc:NEt};class IEt{constructor(e,n,s){this.variableNames=["x"],this.outputShape=s;const r=s.length,o=jn(s.length),a=jn(s.length);let i="";if(r===1)i="coords * strides + begin";else{let l=0;i=s.map((u,c)=>(l++,s.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${l-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${o} begin = ${o}(${e});
      ${o} strides = ${o}(${n});

      void main() {
        ${a} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}function AEt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{begin:o,end:a,strides:i,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:f}=s,{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:w,end:b,strides:_}=f8(r.shape,o,a,i,l,u,c,d,f);let $;if(m)$=bt({inputs:{x:r},backend:n,attrs:{shape:p}});else if(g||y){q(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const k=u8(w,b,_),C=bm({inputs:{x:r},backend:n,attrs:{begin:w,size:k}});$=bt({inputs:{x:C},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(C)}else if(n.shouldExecuteOnCPU([r])){const C=n.readSync(r.dataId),T=tn(r.shape,r.dtype,C),N=r6t(h,T,_,w);$=n.makeTensorInfo(p,r.dtype,N.values)}else{const C=new IEt(w,_,h);$=n.runWebGLProgram(C,[r],r.dtype)}const x=bt({inputs:{x:$},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo($),x}const OEt={kernelName:C_,backendName:"webgl",kernelFunc:AEt};function REt(t){const{inputs:e,backend:n,attrs:s}=t,{separator:r,nGramWidths:o,leftPad:a,rightPad:i,padWidth:l,preserveShortSequences:u}=s,{data:c,dataSplits:d}=e,f=n.readSync(c.dataId),h=n.readSync(d.dataId),[p,m]=o6t(f,h,r,o,a,i,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}const DEt={kernelName:k_,backendName:"webgl",kernelFunc:REt};function FEt(t){const{inputs:e,backend:n,attrs:s}=t,{skipEmpty:r}=s,{input:o,delimiter:a}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(a.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const i=n.readSync(o.dataId),l=n.readSync(a.dataId)[0],[u,c,d]=a6t(i,l,r),f=c.length;return[n.makeTensorInfo([f,2],"int32",u),n.makeTensorInfo([f],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const MEt={kernelName:T_,backendName:"webgl",kernelFunc:FEt};function PEt(t){const{inputs:e,backend:n,attrs:s}=t,{numBuckets:r}=s,{input:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(o.dataId),i=i6t(a,r);return n.makeTensorInfo(o.shape,"int32",i)}const LEt={kernelName:N_,backendName:"webgl",kernelFunc:PEt};const zEt="return tan(x);",BEt=xn({opSnippet:zEt}),VEt={kernelName:qp,backendName:"webgl",kernelFunc:BEt};const HEt=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,WEt=xn({opSnippet:HEt}),UEt={kernelName:Xp,backendName:"webgl",kernelFunc:WEt};class GEt{constructor(e,n){this.variableNames=["A"];const s=new Array(e.length);for(let a=0;a<s.length;a++)s[a]=e[a]*n[a];this.outputShape=s,this.rank=s.length;const r=jn(this.rank),o=jEt(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        setOutput(getA(${o}));
      }
    `}}function jEt(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],s=[];for(let r=0;r<t.length;r++)s.push(`imod(${n[r]}, ${t[r]})`);return s.join()}function Tj(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{reps:o}=s;if(r.dtype==="string"||r.shape.length>5){const l=n.readSync(r.dataId),u=r.dtype==="string"?l.map(f=>Nl(f)):l,c=tn(r.shape,r.dtype,u),d=u6t(c,o);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const a=new GEt(r.shape,o);return n.runWebGLProgram(a,[r],r.dtype)}const KEt={kernelName:Yp,backendName:"webgl",kernelFunc:Tj};class qEt{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class XEt{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}function Ec(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function m9(t){let e=1;for(;e<t;)e*=2;return e}function YEt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{k:o,sorted:a}=s,i=Be().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Be().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=r.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([r])||c<i||o>l){const N=n.readSync(r.dataId),[M,R]=c6t(N,u,r.dtype,o,a);return[n.makeTensorInfo(M.shape,M.dtype,M.values),n.makeTensorInfo(R.shape,R.dtype,R.values)]}if(o===0)return u[u.length-1]=0,[n.makeTensorInfo(u,r.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(c===1)return[r,E2({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const d=n.texData.get(r.dataId),f=d!==null&&d.isPacked,h=f?n.unpackTensor(r):r,m=Ge(u)/c,g=bt({inputs:{x:h},attrs:{shape:[m,c]},backend:n});f&&Ec(n,h);const y=m9(o),w=m9(c);let b=null;const _=()=>b===null?[g,g]:[g,b],$=(N,M,R)=>{const D=_(),z=new qEt(R),V=[[c],[b===null?1:0],[Number.NEGATIVE_INFINITY],[N],[M]],O=b;b=n.runWebGLProgram(z,D,"int32",V),Ec(n,O)};for(let N=1;N<y;N*=2){const M=N*2;for(let R=N;R>=1;R/=2)$(M,R,[m,w])}for(let N=w;N>y;N/=2){const M=_(),R=new XEt([m,N/2]),z=[[c],[b===null?1:0],[y]],B=b;b=n.runWebGLProgram(R,M,"int32",z),Ec(n,B);const V=y/2,O=V*2;for(let F=V;F>=1;F/=2)$(O,F,b.shape)}let x=b;b=bm({inputs:{x:b},backend:n,attrs:{begin:0,size:[m,o]}}),Ec(n,x);let k=yj({inputs:{x:g,indices:b},backend:n,attrs:{axis:1,batchDims:1}});Ec(n,g);const C=u.slice(0,-1);C.push(o),x=b,b=bt({inputs:{x:b},attrs:{shape:C},backend:n}),Ec(n,x);const T=k;return k=bt({inputs:{x:k},attrs:{shape:C},backend:n}),Ec(n,T),[k,b]}const ZEt={kernelName:E_,backendName:"webgl",kernelFunc:YEt};class JEt{constructor(e,n,s,r,o,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const i=s==="nearest"?1:2;let l;switch(r){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${o});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${o});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${i} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}function QEt(t){const{inputs:e,backend:n,attrs:s}=t,{image:r,transforms:o}=e,{interpolation:a,fillMode:i,fillValue:l,outputShape:u}=s,[c,d,f,h]=r.shape,[p,m]=u??[d,f],g=[c,p,m,h],y=new JEt(d,f,a,i,l,g);return n.runWebGLProgram(y,[r,o],"float32")}const eIt={kernelName:I_,backendName:"webgl",kernelFunc:QEt};function tIt(t){const{inputs:e,attrs:n,backend:s}=t,{axis:r}=n,{x:o}=e;S2(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=s.readSync(o.dataId),{outputValues:i,outputShape:l,indices:u}=d6t(a,r,o.shape,o.dtype);return[s.makeTensorInfo(l,o.dtype,i),s.makeTensorInfo([u.length],"int32",u)]}const nIt={kernelName:A_,backendName:"webgl",kernelFunc:tIt};function sIt(t){const{inputs:e,backend:n,attrs:s}=t,{value:r}=e;let{axis:o}=s;o<0&&(o+=r.shape.length);const a=r,i=a.shape.length,l=r.shape[o],u=new Array(i-1);let c=0;for(let m=0;m<i;m++)m!==o&&(u[c++]=a.shape[m]);const d=[],f=new Array(i).fill(0),h=a.shape.slice();h[o]=1;const p=new Array(l);for(let m=0;m<p.length;m++){f[o]=m;const g=bm({inputs:{x:a},backend:n,attrs:{begin:f,size:h}}),y=bt({inputs:{x:g},backend:n,attrs:{shape:u}});p[m]=y,d.push(g)}return d.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const rIt={kernelName:z1,backendName:"webgl",kernelFunc:sIt};class oIt{constructor(e,n){this.variableNames=["x","segmentIds"];const s=e.windowSize,r=e.batchSize,o=e.inSize,a=e.numSegments,i=a*Math.ceil(o/s);this.outputShape=[r,i];const l="0.0",u="sumValue",c=Math.floor(s/4)*4,d=s%4,f=`
        sumValue += dot(values, segFilter);
    `;let h="";o%s>0&&(h=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return initializationValue;
        }
      `);let p="";o%s>0&&(p=`
        if (inIdx < 0 || inIdx >= ${o}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${a})) * float(${s}));
        int currentSeg = int(mod(float(outIdx), float(${a})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${f}
        }

        int inIdx = inOffset + ${c};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${f}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${f}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${f}
        }
        setOutput(${u});
      }
    `}}function aIt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,segmentIds:o}=e,{numSegments:a}=s,i=r.shape.length,l=[];let u=0;const c=hs([u],i);let d=r;c!=null&&(d=Fr({inputs:{x:r},backend:n,attrs:{perm:c}}),l.push(d),u=bs(1,i)[0]);const f=qH(d.shape,u,a),h=Ge([d.shape[u]]),p=bt({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});l.push(p);const m=D_(r.dtype),g=(_,$,x,k,C)=>{const T=_.shape[0],N=_.shape[1],M=KH(N,C),R={windowSize:M,inSize:N,batchSize:T,numSegments:C},D=new oIt(R,$),z=n.compileAndRun(D,[_,x],k);if(l.push(z),z.shape[1]===C)return z;const B=Cj({backend:n,attrs:{start:0,stop:C,step:1,dtype:"float32"}}),V=Tj({inputs:{x:B},backend:n,attrs:{reps:[N/M]}});return l.push(B),l.push(V),g(z,$,V,k,C)},y=g(p,"unsortedSegmentSum",o,m,a),w=bt({inputs:{x:y},backend:n,attrs:{shape:f}});let b=w;if(c!=null){l.push(w);const _=pc(c);b=Fr({inputs:{x:b},backend:n,attrs:{perm:_}})}return l.forEach(_=>n.disposeIntermediateTensorInfo(_)),b}const iIt={kernelName:B1,backendName:"webgl",kernelFunc:aIt};const lIt=[sxt,oxt,lxt,dxt,hxt,gxt,yxt,wxt,Sxt,kxt,Ext,Oxt,Fxt,zxt,Hxt,Uxt,jxt,Yxt,Jxt,eSt,rSt,dSt,hSt,mSt,_St,xSt,TSt,B6t,ISt,FSt,zSt,GSt,KSt,XSt,ZSt,QSt,nCt,oCt,lCt,cCt,fCt,pCt,vCt,bCt,xCt,CCt,NCt,ACt,RCt,PCt,VCt,GCt,qCt,ZCt,JCt,ekt,nkt,rkt,akt,lkt,fkt,mkt,ykt,wkt,xkt,kkt,Ikt,Dkt,z6t,Mkt,RSt,zkt,Hkt,Gkt,H6t,Xkt,Qkt,t8t,o8t,l8t,f8t,m8t,b8t,x8t,k8t,N8t,O8t,D8t,M8t,B8t,H8t,U8t,j8t,q8t,J8t,nTt,aTt,pTt,G6t,yTt,_Tt,STt,TTt,vSt,ITt,OTt,DTt,PTt,VTt,U6t,WTt,GTt,KTt,XTt,YTt,ySt,cTt,QTt,sNt,iNt,K6t,dNt,pNt,yNt,_Nt,CNt,TNt,INt,RNt,FNt,LNt,VNt,UNt,qNt,ZNt,eEt,sEt,uSt,fTt,aEt,lEt,cEt,fEt,pEt,gEt,yEt,wEt,$Et,CEt,TEt,EEt,OEt,DEt,MEt,LEt,dTt,ext,VEt,UEt,KEt,ZEt,eIt,txt,nIt,rIt,iIt,ATt];for(const t of lIt)R_(t);const uIt="4.1.0";const cIt={"tfjs-core":yV,"tfjs-backend-cpu":vvt,"tfjs-backend-webgl":L6t,"tfjs-data":NU,"tfjs-layers":V3,"tfjs-converter":fU,tfjs:uIt},dIt=Object.freeze(Object.defineProperty({__proto__:null,data:u2t,version:cIt,AdadeltaOptimizer:w3,AdagradOptimizer:_3,AdamOptimizer:$3,AdamaxOptimizer:x3,MomentumOptimizer:S3,Optimizer:eu,OptimizerConstructors:pu,RMSPropOptimizer:C3,SGDOptimizer:i2,Tensor:$n,TensorBuffer:Ds,Variable:eg,get Rank(){return cx},sumOutType:D_,upcastType:Yr,get Reduction(){return Tr},customGrad:Hi,grad:wit,grads:_it,valueAndGrad:$it,valueAndGrads:xit,variableGrads:NV,Environment:xB,env:Be,get ENV(){return Hk},nextFrame:gT,KernelBackend:Tw,DataStorage:Pk,abs:$s,acos:m8,acosh:g8,add:st,addN:bV,all:B_,any:sg,argMax:Od,argMin:v8,asin:y8,asinh:b8,atan:w8,atan2:_8,atanh:$8,avgPool:j1,avgPool3d:S8,basicLSTMCell:wV,batchToSpaceND:K1,batchNorm:Qp,batchNorm2d:C8,batchNorm3d:k8,batchNorm4d:T8,bincount:N8,broadcastArgs:_V,broadcastTo:cd,buffer:tn,cast:ht,ceil:E8,clipByValue:Zr,clone:Ri,complex:Il,concat:vs,concat1d:I8,concat2d:A8,concat3d:O8,concat4d:R8,conv1d:V_,conv2d:Al,conv2dTranspose:H_,conv3d:F8,conv3dTranspose:M8,cos:q1,cosh:W_,cumprod:rg,cumsum:U_,denseBincount:ob,depthToSpace:P8,depthwiseConv2d:em,diag:xV,dilation2d:L8,div:It,divNoNan:z8,dot:B8,einsum:SV,elu:tm,equal:_o,erf:V8,euclideanNorm:W8,exp:$o,expandDims:hr,expm1:U8,eye:G_,fill:of,floor:sm,floorDiv:z_,gather:rm,greater:Pr,greaterEqual:Zl,imag:U1,isFinite:G8,isInf:j8,isNaN:K8,leakyRelu:X1,less:j_,lessEqual:mc,linspace:TV,localResponseNormalization:q8,log:xo,log1p:Y1,logSigmoid:X8,logSoftmax:q_,logSumExp:X_,logicalAnd:Ta,logicalNot:Z1,logicalOr:Y_,logicalXor:Y8,lowerBound:EV,matMul:ln,max:Go,maxPool:J1,maxPool3d:Z8,maxPoolWithArgmax:IV,maximum:Zi,mean:us,meshgrid:AV,min:kh,minimum:om,mirrorPad:J8,mod:Q8,moments:Q1,mul:Te,multiRNNCell:OV,multinomial:RV,neg:Jn,notEqual:Dd,oneHot:Sh,ones:po,onesLike:So,outerProduct:DV,pad:Jl,pad1d:FV,pad2d:MV,pad3d:PV,pad4d:LV,pool:eT,pow:Ol,prelu:t2,print:e8,prod:tT,raggedGather:zV,raggedRange:BV,raggedTensorToTensor:VV,rand:HV,randomGamma:YV,randomNormal:J_,randomStandardNormal:ZV,randomUniform:am,range:Fd,real:Ch,reciprocal:sT,relu:li,relu6:Q_,reshape:Ne,reverse:Xo,reverse1d:JV,reverse2d:QV,reverse3d:eH,reverse4d:tH,round:e3,rsqrt:t3,scalar:Pt,selu:n3,separableConv2d:s3,setdiff1dAsync:nH,sigmoid:qa,sign:rT,sin:r3,sinh:o3,slice:mn,slice1d:n2,slice2d:a3,slice3d:s2,slice4d:Th,softmax:r2,softplus:af,spaceToBatchND:e2,fft:o2,ifft:Nh,irfft:i3,rfft:a2,split:Kr,sqrt:ar,square:Dn,squaredDifference:l3,squeeze:gc,stack:Jr,step:uf,stridedSlice:oT,sub:$t,sum:kt,tan:aT,tanh:Rd,tensor:yo,tensor1d:vr,tensor2d:Mu,tensor3d:o8,tensor4d:sH,tensor5d:rH,tensor6d:oH,tile:Lo,topk:iT,truncatedNormal:u3,unique:lT,unsortedSegmentSum:c3,unstack:Yo,upperBound:aH,variable:uT,where:wr,whereAsync:cT,zeros:xs,zerosLike:yn,op:be,OP_SCOPE_SUFFIX:qk,booleanMaskAsync:iH,transpose:dn,norm:nm,movingAverage:lH,scatterND:uH,searchSorted:Z_,sparseToDense:cH,gatherND:dH,dropout:dT,enclosingPowerOfTwo:fT,cosineWindow:f3,inTopKAsync:fH,image:Ti,linalg:mT,losses:xH,spectral:_H,fused:gH,signal:$H,sparse:SH,string:CH,train:Dc,enableProdMode:Hrt,enableDebugMode:Wrt,disableDeprecationWarnings:Urt,deprecationWarn:Grt,disposeVariables:jrt,engine:Ma,memory:sb,profile:Krt,tidy:Le,dispose:Xt,keep:As,time:qrt,setBackend:Xrt,ready:Yrt,getBackend:Zrt,removeBackend:Jrt,findBackend:Qrt,findBackendFactory:eot,registerBackend:r8,backend:rV,setPlatform:tot,getKernel:Zy,getGradient:ix,getKernelsForBackend:Jy,registerKernel:R_,registerGradient:TB,unregisterKernel:$st,unregisterGradient:xst,copyRegisteredKernels:Sst,Abs:Vg,Acos:sp,Acosh:rp,Add:nf,AddN:Hg,All:Iw,Any:Aw,ArgMax:Wg,ArgMin:Ug,Asin:op,Asinh:ap,Atan:ip,Atanh:lp,Atan2:up,AvgPool:Gg,AvgPoolGrad:Ow,AvgPool3D:jg,AvgPool3DGrad:Rw,BatchMatMul:Kg,BatchToSpaceND:qg,Bincount:Dw,BroadcastTo:CB,BroadcastArgs:Fw,Cast:cp,Ceil:dp,ClipByValue:fp,Complex:Mw,ComplexAbs:Xg,Concat:Yg,Conv2D:Zg,Conv2DBackpropFilter:Pw,Conv2DBackpropInput:Jg,Conv3D:Qg,Conv3DBackpropFilterV2:Lw,Conv3DBackpropInputV2:zw,Cos:hp,Cosh:pp,Cumprod:Bw,Cumsum:e1,CropAndResize:Vw,DenseBincount:Hw,DepthToSpace:Ww,DepthwiseConv2dNative:t1,DepthwiseConv2dNativeBackpropFilter:Uw,DepthwiseConv2dNativeBackpropInput:Gw,Diag:jw,Dilation2D:n1,Dilation2DBackpropInput:qy,Dilation2DBackpropFilter:Xy,RealDiv:mp,Einsum:Kw,Elu:gp,EluGrad:qw,Erf:vp,Equal:s1,Exp:yp,ExpandDims:r1,Expm1:bp,FFT:Xw,Fill:Yw,FlipLeftRight:Zw,Floor:wp,FloorDiv:_p,FusedBatchNorm:o1,GatherV2:a1,GatherNd:Jw,Greater:i1,GreaterEqual:$p,Identity:xp,IFFT:Qw,Imag:e_,IsFinite:Sp,IsInf:Cp,IsNan:kp,LeakyRelu:l1,Less:u1,LessEqual:c1,LinSpace:t_,Log:Tp,Log1p:Np,LogicalAnd:d1,LogicalNot:f1,LogicalOr:h1,LogicalXor:vst,LogSoftmax:kB,LowerBound:yst,LRN:p1,LRNGrad:n_,Max:m1,Maximum:Ep,MaxPool:g1,MaxPoolGrad:s_,MaxPool3D:v1,MaxPool3DGrad:r_,MaxPoolWithArgmax:o_,Mean:y1,Min:b1,Minimum:Ip,MirrorPad:w1,Mod:Ap,Multinomial:a_,Multiply:Op,Neg:_1,NotEqual:$1,NonMaxSuppressionV3:i_,NonMaxSuppressionV4:l_,NonMaxSuppressionV5:u_,OnesLike:x1,OneHot:S1,Pack:C1,PadV2:k1,Pool:bst,Pow:Rp,Prelu:T1,Prod:N1,RaggedGather:c_,RaggedRange:d_,RaggedTensorToTensor:f_,Range:h_,Real:p_,Reciprocal:Dp,Relu:Fp,Reshape:E1,ResizeNearestNeighbor:I1,ResizeNearestNeighborGrad:m_,ResizeBilinear:A1,ResizeBilinearGrad:g_,Relu6:Mp,Reverse:O1,Round:Pp,Rsqrt:Lp,ScatterNd:v_,SearchSorted:y_,Select:R1,Selu:zp,Slice:D1,Sin:Bp,Sinh:Vp,Sign:Hp,Sigmoid:Wp,Softplus:Up,Sqrt:Gp,Sum:F1,SpaceToBatchND:M1,SplitV:P1,Softmax:L1,SparseFillEmptyRows:b_,SparseReshape:w_,SparseSegmentMean:__,SparseSegmentSum:$_,SparseToDense:x_,SquaredDifference:jp,Square:S_,StridedSlice:C_,StringNGrams:k_,StringSplit:T_,StringToHashBucketFast:N_,Sub:Kp,Tan:qp,Tanh:Xp,Tile:Yp,TopK:E_,Transform:I_,Transpose:ld,Unique:A_,Unpack:z1,UnsortedSegmentSum:B1,UpperBound:wst,ZerosLike:V1,Step:Zp,FromPixels:Yy,RotateWithOffset:O_,_FusedMatMul:Y0,FusedConv2D:Z0,FusedDepthwiseConv2D:J0,version_core:yV,browser:got,io:s8,math:lot,serialization:xot,test_util:Rot,util:Ast,backend_util:YH,broadcast_util:uot,tensor_util:Wst,slice_util:mV,gather_util:vot,scatter_util:yot,device_util:qst,kernel_impls:Jct,CallbackList:hW,CustomCallback:mW,History:pW,Callback:aU,callbacks:J0t,EarlyStopping:iU,InputSpec:Ss,SymbolicTensor:Ga,LayersModel:yl,input:EW,loadLayersModel:jpt,model:Xpt,registerCallbackConstructor:Zpt,sequential:Ypt,RNN:ci,Sequential:Ld,LayerVariable:uW,version_layers:V3,constraints:Hht,initializers:rpt,layers:E0t,metrics:G0t,models:j0t,regularizers:Y0t,GraphModel:dE,loadGraphModel:S1t,loadGraphModelSync:C1t,deregisterOp:tgt,registerOp:egt,version_converter:fU},Symbol.toStringTag,{value:"Module"})),RE=Mg(dIt);const fIt=1e-7,hIt=1e-4;class pIt{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Nj{refCount(e){return Ao("refCount")}incRef(e){return Ao("incRef")}timerAvailable(){return!0}time(e){return Ao("time")}read(e){return Ao("read")}readSync(e){return Ao("readSync")}readToGPU(e,n){return Ao("readToGPU")}numDataIds(){return Ao("numDataIds")}disposeData(e,n){return Ao("disposeData")}write(e,n,s){return Ao("write")}move(e,n,s,r,o){return Ao("move")}memory(){return Ao("memory")}floatPrecision(){return Ao("floatPrecision")}epsilon(){return this.floatPrecision()===32?fIt:hIt}dispose(){return Ao("dispose")}}function Ao(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function Ej(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,kb(t,e,n)}function mIt(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,s=0;for(;n>0;)s=Math.random()*n|0,n--,kb(t,n,s),kb(e,n,s)}function fg(t,e,n){return Math.max(t,Math.min(e,n))}function gIt(t){return t%2===0?t:t+1}function kb(t,e,n){const s=t[e];t[e]=t[n],t[n]=s}function vIt(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function yIt(t,e){const n=Math.random();return e*n+(1-n)*t}function bIt(t,e){let n=0;for(let s=0;s<t.length;s++){const r=Number(t[s])-Number(e[s]);n+=r*r}return n}function le(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Br(t,e,n=""){le(Ui(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function gf(t){le(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Vd(t,e=[],n=!1){if(e==null&&(e=[]),Array.isArray(t)||pr(t)&&!n)for(let s=0;s<t.length;++s)Vd(t[s],e,n);else e.push(t);return e}function Qn(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function wIt(t){return t.length===0}function Ui(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function zh(t){return t%1===0}function _It(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function $It(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function xIt(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return Ej(e),e}function g0(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function SIt(t,e=r=>0,n,s=setTimeout){return new Promise((r,o)=>{let a=0;const i=()=>{if(t()){r();return}a++;const l=e(a);if(n!=null&&a>=n){o();return}s(i,l)};i()})}function CIt(t,e){let n=1,s=-1;for(let o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(t[o]===-1){if(s!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${s} and dim ${o}`);s=o}else if(t[o]<0)throw Error(`Shapes can not be < 0. Found ${t[o]} at dim ${o}`);if(s===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const r=t.slice();return r[s]=e/n,r}function I2(t,e){const n=e.length;return t=t==null?e.map((s,r)=>r):[].concat(t),le(t.every(s=>s>=-n&&s<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),le(t.every(s=>zh(s)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(s=>s<0?n+s:s)}function Ij(t,e){const n=[],s=[],r=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||r?null:I2(e,t).sort();let a=0;for(let i=0;i<t.length;++i){if(o!=null){if(o[a]===i&&t[i]!==1)throw new Error(`Can't squeeze axis ${i} since its dim '${t[i]}' is not 1`);(o[a]==null||o[a]>i)&&t[i]===1&&(n.push(t[i]),s.push(i)),o[a]<=i&&a++}t[i]!==1&&(n.push(t[i]),s.push(i))}return{newShape:n,keptDims:s}}function Aj(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else throw new Error(`Unknown data type ${t}`);return n}function Oj(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function Rj(t,e){for(let n=0;n<t.length;n++){const s=t[n];if(isNaN(s)||!isFinite(s))throw Error(`A tensor of type ${e} being uploaded contains ${s}.`)}}function Dj(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function kIt(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function pr(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function eS(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function Fj(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Eu(t){return typeof t=="string"||t instanceof String}function Mj(t){return typeof t=="boolean"}function Pj(t){return typeof t=="number"}function s4(t){return Array.isArray(t)?s4(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":Pj(t)?"float32":Eu(t)?"string":Mj(t)?"bool":"float32"}function sc(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Tb(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function wm(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let s=e-3;s>=0;--s)n[s]=n[s+1]*t[s+1];return n}function Lj(t,e,n,s=!1){const r=new Array;if(e.length===1){const o=e[0]*(s?2:1);for(let a=0;a<o;a++)r[a]=n[t+a]}else{const o=e[0],a=e.slice(1),i=a.reduce((l,u)=>l*u)*(s?2:1);for(let l=0;l<o;l++)r[l]=Lj(t+l*i,a,n,s)}return r}function hd(t,e,n=!1){if(t.length===0)return e[0];const s=t.reduce((r,o)=>r*o)*(n?2:1);if(s===0)return[];if(s!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return Lj(0,t,e,n)}function DE(t,e){const n=r4(t,e);for(let s=0;s<n.length;s++)n[s]=1;return n}function r4(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function TIt(t,e){const n=t.reduce((s,r)=>s*r,1);if(e==null||e==="float32")return hd(t,new Float32Array(n));if(e==="int32")return hd(t,new Int32Array(n));if(e==="bool")return hd(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function FE(t){t.forEach(e=>{le(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function NIt(t,e,n){if(e===0)return 0;if(e===1)return t[0];let s=t[t.length-1];for(let r=0;r<t.length-1;++r)s+=n[r]*t[r];return s}function EIt(t,e,n){if(e===0)return[];if(e===1)return[t];const s=new Array(e);for(let r=0;r<s.length-1;++r)s[r]=Math.floor(t/n[r]),t-=s[r]*n[r];return s[s.length-1]=t,s}function Hd(t){return t&&t.then&&typeof t.then=="function"}const g9="tfjsflags";class zj{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=IIt,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(en().getBool("IS_TEST")||en().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,s){if(this.flagRegistry[e]={evaluationFn:n,setHook:s},this.urlFlags[e]!=null){const r=this.urlFlags[e];en().getBool("IS_TEST")||en().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${r}.`),this.set(e,r)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Hd(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);g9 in e&&e[g9].split(",").forEach(s=>{const[r,o]=s.split(":");this.urlFlags[r]=OIt(r,o)})}}function IIt(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...s)=>(AIt(e,s[0],s[1]),s.join("="))),e}function AIt(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function OIt(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}function en(){return ME}let ME=null;function RIt(t){ME=t}let A$;function Bj(){if(A$==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");A$=t}return A$}function DIt(){const t=Bj();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function PE(t,e){const n=DIt();if(n.has(t))return n.get(t);{const s=e();return n.set(t,s),n.get(t)}}const Vj="Abs",Hj="Acos",Wj="Acosh",LE="Add",Uj="AddN",Gj="All",jj="Any",Kj="ArgMax",qj="ArgMin",Xj="Asin",Yj="Asinh",Zj="Atan",Jj="Atanh",Qj="Atan2",eK="AvgPool",FIt="AvgPoolGrad",tK="AvgPool3D",MIt="AvgPool3DGrad",nK="BatchMatMul",sK="BatchToSpaceND",rK="Bincount",PIt="BroadcastTo",oK="BroadcastArgs",zE="Cast",aK="Ceil",iK="ClipByValue",lK="Complex",uK="ComplexAbs",cK="Concat",dK="Conv2D",fK="Conv2DBackpropFilter",hK="Conv2DBackpropInput",pK="Conv3D",LIt="Conv3DBackpropFilterV2",mK="Conv3DBackpropInputV2",gK="Cos",vK="Cosh",yK="Cumprod",bK="Cumsum",wK="CropAndResize",_K="DenseBincount",$K="DepthToSpace",xK="DepthwiseConv2dNative",SK="DepthwiseConv2dNativeBackpropFilter",CK="DepthwiseConv2dNativeBackpropInput",kK="Diag",TK="Dilation2D",zIt="Dilation2DBackpropInput",BIt="Dilation2DBackpropFilter",NK="RealDiv",EK="Einsum",IK="Elu",VIt="EluGrad",AK="Erf",OK="Equal",RK="Exp",DK="ExpandDims",FK="Expm1",MK="FFT",PK="Fill",LK="FlipLeftRight",zK="Floor",BK="FloorDiv",VK="FusedBatchNorm",HK="GatherV2",WK="GatherNd",UK="Greater",GK="GreaterEqual",BE="Identity",jK="IFFT",KK="Imag",qK="IsFinite",XK="IsInf",YK="IsNan",ZK="LeakyRelu",JK="Less",QK="LessEqual",eq="LinSpace",tq="Log",nq="Log1p",sq="LogicalAnd",rq="LogicalNot",oq="LogicalOr",HIt="LogicalXor",WIt="LogSoftmax",UIt="LowerBound",aq="LRN",GIt="LRNGrad",iq="Max",lq="Maximum",uq="MaxPool",jIt="MaxPoolGrad",cq="MaxPool3D",KIt="MaxPool3DGrad",dq="MaxPoolWithArgmax",fq="Mean",hq="Min",pq="Minimum",mq="MirrorPad",gq="Mod",vq="Multinomial",yq="Multiply",bq="Neg",wq="NotEqual",_q="NonMaxSuppressionV3",$q="NonMaxSuppressionV4",xq="NonMaxSuppressionV5",Sq="OnesLike",Cq="OneHot",kq="Pack",Tq="PadV2",qIt="Pool",Nq="Pow",Eq="Prelu",Iq="Prod",Aq="RaggedGather",Oq="RaggedTensorToTensor",Rq="Range",Dq="Real",Fq="Reciprocal",Mq="Relu",Pq="Reshape",Lq="ResizeNearestNeighbor",XIt="ResizeNearestNeighborGrad",zq="ResizeBilinear",YIt="ResizeBilinearGrad",Bq="Relu6",Vq="Reverse",Hq="Round",Wq="Rsqrt",Uq="ScatterNd",Gq="SearchSorted",jq="Select",Kq="Selu",qq="Slice",Xq="Sin",Yq="Sinh",Zq="Sign",Jq="Sigmoid",Qq="Softplus",eX="Sqrt",tX="Sum",nX="SpaceToBatchND",sX="SplitV",rX="Softmax",oX="SparseFillEmptyRows",aX="SparseReshape",iX="SparseSegmentMean",lX="SparseSegmentSum",uX="SparseToDense",cX="SquaredDifference",ZIt="Square",dX="StridedSlice",fX="StringNGrams",hX="StringSplit",pX="StringToHashBucketFast",mX="Sub",gX="Tan",vX="Tanh",VE="Tile",yX="TopK",bX="Transform",my="Transpose",wX="Unique",_X="Unpack",$X="UnsortedSegmentSum",JIt="UpperBound",xX="ZerosLike",SX="Step",tS="FromPixels",CX="RotateWithOffset",nS="_FusedMatMul",sS="FusedConv2D",rS="FusedDepthwiseConv2D";function _u(...t){en().getBool("IS_TEST")||en().getBool("PROD")||console.warn(...t)}function QIt(...t){en().getBool("IS_TEST")||en().getBool("PROD")||console.log(...t)}const Bh=PE("kernelRegistry",()=>new Map),hg=PE("gradRegistry",()=>new Map);function Nb(t,e){const n=HE(t,e);return Bh.get(n)}function oS(t){return hg.get(t)}function Eb(t){const e=Bh.entries(),n=[];for(;;){const{done:s,value:r}=e.next();if(s)break;const[o,a]=r,[i]=o.split("_");i===t&&n.push(a)}return n}function kX(t){const{kernelName:e,backendName:n}=t,s=HE(e,n);Bh.has(s)&&_u(`The kernel '${e}' for backend '${n}' is already registered`),Bh.set(s,t)}function e5t(t){const{kernelName:e}=t;hg.has(e)&&en().getBool("DEBUG")&&_u(`Overriding the gradient for '${e}'`),hg.set(e,t)}function t5t(t,e){const n=HE(t,e);if(!Bh.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);Bh.delete(n)}function n5t(t){if(!hg.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);hg.delete(t)}function s5t(t,e){Eb(t).forEach(s=>{const r=Object.assign({},s,{backendName:e});kX(r)})}function HE(t,e){return`${e}_${t}`}const Uc=Qy||OB;function A2(t){return Uc.fromString(t,!0,16)}const TX=A2("c3a5c85c97cb3127"),Fc=A2("b492b66fbe98f273"),Cr=A2("9ae16a3b2f90404f");function aS(t){return t.xor(t.shru(47))}function NX(t,e,n){const s=t.slice(e,e+n);return Uc.fromBytes(Array.from(s),!0,!0)}function Hn(t,e){return NX(t,e,8)}function v9(t,e){return NX(t,e,4)}function Vs(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function zu(t,e,n=A2("9ddfea08eb382d69")){let s=t.xor(e).mul(n);s=s.xor(s.shru(47));let r=e.xor(s).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function r5t(t,e,n,s,r,o){r=r.add(t),o=Vs(o.add(r).add(s),21);const a=r;return r=r.add(e),r=r.add(n),o=o.add(Vs(r,44)),[r.add(s),o.add(a)]}function Av(t,e,n,s){return r5t(Hn(t,e),Hn(t,e+8),Hn(t,e+16),Hn(t,e+24),n,s)}function o5t(t,e=t.length){if(e>=8){const n=Cr.add(e*2),s=Hn(t,0).add(Cr),r=Hn(t,e-8),o=Vs(r,37).mul(n).add(s),a=Vs(s,25).add(r).mul(n);return zu(o,a,n)}if(e>=4){const n=Cr.add(e*2),s=v9(t,0);return zu(s.shl(3).add(e),v9(t,e-4),n)}if(e>0){const n=t[0],s=t[e>>1],r=t[e-1],o=n+(s<<8),a=e+(r<<2);return aS(Cr.mul(o).xor(TX.mul(a))).mul(Cr)}return Cr}function a5t(t,e=t.length){const n=Cr.add(e*2),s=Hn(t,0).mul(Fc),r=Hn(t,8),o=Hn(t,e-8).mul(n),a=Hn(t,e-16).mul(Cr);return zu(Vs(s.add(r),43).add(Vs(o,30)).add(a),s.add(Vs(r.add(Cr),18)).add(o),n)}function i5t(t,e=t.length){const n=Cr.add(e*2),s=Hn(t,0).mul(Cr),r=Hn(t,8),o=Hn(t,e-8).mul(n),a=Hn(t,e-16).mul(Cr),i=Vs(s.add(r),43).add(Vs(o,30)).add(a),l=zu(i,s.add(Vs(r.add(Cr),18)).add(o),n),u=Hn(t,16).mul(n),c=Hn(t,24),d=i.add(Hn(t,e-32)).mul(n),f=l.add(Hn(t,e-24)).mul(n);return zu(Vs(u.add(c),43).add(Vs(d,30)).add(f),u.add(Vs(c.add(s),18)).add(d),n)}function l5t(t,e=t.length){const n=Uc.fromNumber(81,!0);if(e<=32)return e<=16?o5t(t,e):a5t(t,e);if(e<=64)return i5t(t,e);let s=n,r=n.mul(Fc).add(113),o=aS(r.mul(Cr).add(113)).mul(Cr),a=[Uc.UZERO,Uc.UZERO],i=[Uc.UZERO,Uc.UZERO];s=s.mul(Cr).add(Hn(t,0));let l=0;const u=(e-1>>6)*64,c=u+(e-1&63)-63;do s=Vs(s.add(r).add(a[0]).add(Hn(t,l+8)),37).mul(Fc),r=Vs(r.add(a[1]).add(Hn(t,l+48)),42).mul(Fc),s=s.xor(i[1]),r=r.add(a[0]).add(Hn(t,l+40)),o=Vs(o.add(i[0]),33).mul(Fc),a=Av(t,l,a[1].mul(Fc),s.add(i[0])),i=Av(t,l+32,o.add(i[1]),r.add(Hn(t,l+16))),[o,s]=[s,o],l+=64;while(l!==u);const d=Fc.add(o.and(255).shl(1));return l=c,i[0]=i[0].add(e-1&63),a[0]=a[0].add(i[0]),i[0]=i[0].add(a[0]),s=Vs(s.add(r).add(a[0]).add(Hn(t,l+8)),37).mul(d),r=Vs(r.add(a[1]).add(Hn(t,l+48)),42).mul(d),s=s.xor(i[1].mul(9)),r=r.add(a[0].mul(9).add(Hn(t,l+40))),o=Vs(o.add(i[0]),33).mul(d),a=Av(t,l,a[1].mul(d),s.add(i[0])),i=Av(t,l+32,o.add(i[1]),r.add(Hn(t,l+16))),[o,s]=[s,o],zu(zu(a[0],i[0],d).add(aS(r).mul(TX)).add(o),zu(a[1],i[1],d).add(s),d)}function u5t(t,e){return e==="string"?O2(t):o4([t],e)}function c5t(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function o4(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Vd(t)),en().getBool("DEBUG")&&Rj(t,e),c5t(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let s=0;s<n.length;++s)Math.round(t[s])!==0&&(n[s]=1);return n}else throw new Error(`Unknown data type ${e}`)}function pg(){return en().platform.now()}function d5t(t,e){return en().platform.fetch(t,e)}function O2(t,e="utf-8"){return e=e||"utf-8",en().platform.encode(t,e)}function Ib(t,e="utf-8"){return e=e||"utf-8",en().platform.decode(t,e)}const f5t=Object.freeze(Object.defineProperty({__proto__:null,createScalarValue:u5t,toTypedArray:o4,now:pg,fetch:d5t,encodeString:O2,decodeString:Ib,shuffle:Ej,shuffleCombo:mIt,clamp:fg,nearestLargerEven:gIt,swap:kb,sum:vIt,randUniform:yIt,distSquared:bIt,assert:le,assertShapesMatch:Br,assertNonNull:gf,flatten:Vd,sizeFromShape:Qn,isScalarShape:wIt,arraysEqual:Ui,isInt:zh,tanh:_It,sizeToSquarishShape:$It,createShuffledIndices:xIt,rightPad:g0,repeatedTry:SIt,inferFromImplicitShape:CIt,parseAxisParam:I2,squeezeShape:Ij,getTypedArrayFromDType:Aj,getArrayFromDType:Oj,checkConversionForErrors:Rj,isValidDtype:Dj,hasEncodingLoss:kIt,isTypedArray:pr,bytesPerElement:eS,bytesFromStringArray:Fj,isString:Eu,isBoolean:Mj,isNumber:Pj,inferDtype:s4,isFunction:sc,nearestDivisor:Tb,computeStrides:wm,toNestedArray:hd,makeOnesTypedArray:DE,makeZerosTypedArray:r4,makeZerosNestedTypedArray:TIt,assertNonNegativeIntegerDimensions:FE,locToIndex:NIt,indexToLoc:EIt,isPromise:Hd,hexToLong:A2,fingerPrint64:l5t},Symbol.toStringTag,{value:"Module"}));class h5t{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new m5t)}profileKernel(e,n,s){let r;const o=()=>{r=s()};let a;const i=pg();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();for(const u of r)u.dataSync();a=Promise.resolve({kernelMs:pg()-i})}if(en().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<r.length;u++){const c=r[u];c.data().then(d=>{p5t(d,c.dtype,e)})}return{kernelName:e,outputs:r,inputs:n,timeMs:a.then(u=>u.kernelMs),extraInfo:a.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:s,timeMs:r,inputs:o,extraInfo:a}=e;s.forEach(i=>{Promise.all([i.data(),r,a]).then(l=>{this.logger.logKernelProfile(n,i,l[0],l[1],o,l[2])})})}}function p5t(t,e,n){if(e!=="float32")return!1;for(let s=0;s<t.length;s++){const r=t[s];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${n}'`),!0}return!1}class m5t{logKernelProfile(e,n,s,r,o,a){const i=typeof r=="number"?g0(`${r}ms`,9):r.error,l=g0(e,25),u=n.rank,c=n.size,d=g0(n.shape.toString(),14);let f="";for(const h in o){const p=o[h];if(p!=null){const m=p.shape||n.shape,g=m.length;f+=`${h}: ${g}D ${g>0?m:""} `}}console.log(`%c${l}	%c${i}	%c${u}D ${d}	%c${c}	%c${f}	%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function g5t(t,e,n){const s={},r={};for(let l=0;l<e.length;l++)s[e[l].id]=!0;for(let l=0;l<t.length;l++){const u=t[l],c=u.inputs;for(const d in c){const f=c[d];let h=!1;for(let p=0;p<e.length;p++)if(s[f.id]){u.outputs.forEach(m=>s[m.id]=!0),h=!0,r[u.id]=!0;break}if(h)break}}const o={};o[n.id]=!0;const a={};for(let l=t.length-1;l>=0;l--){const u=t[l],c=u.inputs;for(let d=0;d<u.outputs.length;d++)if(o[u.outputs[d].id]){for(const f in c)o[c[f].id]=!0,a[u.id]=!0;break}}const i=[];for(let l=0;l<t.length;l++){const u=t[l];if(r[u.id]&&a[u.id]){const c={};for(const f in u.inputs){const h=u.inputs[f];s[h.id]&&(c[f]=h)}const d=Object.assign({},u);d.inputs=c,d.outputs=u.outputs,i.push(d)}}return i}function v5t(t,e,n,s){for(let r=e.length-1;r>=0;r--){const o=e[r],a=[];if(o.outputs.forEach(l=>{const u=t[l.id];u!=null?a.push(u):a.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const i=o.gradient(a);for(const l in o.inputs){if(!(l in i))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(i)}.`);const u=n(()=>i[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=o.inputs[l];if(!Ui(u.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=u;else{const d=t[c.id];t[c.id]=s(d,u),d.dispose()}}}}const y9=20,zm=3,O$=7;function y5t(t,e,n,s){const r=wm(e),o=b5t(t,e,n,r),a=e.length,i=gy(t,e,n,r,o),l=["Tensor"];return s&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${a}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(i.map(u=>"    "+u).join(`
`)),l.join(`
`)}function b5t(t,e,n,s){const r=Qn(e),o=s[s.length-1],a=new Array(o).fill(0),i=e.length,l=n==="complex64"?Jm(t):t;if(i>1)for(let u=0;u<r/o;u++){const c=u*o;for(let d=0;d<o;d++)a[d]=Math.max(a[d],Zm(l[c+d],0,n).length)}return a}function Zm(t,e,n){let s;return Array.isArray(t)?s=`${parseFloat(t[0].toFixed(O$))} + ${parseFloat(t[1].toFixed(O$))}j`:Eu(t)?s=`'${t}'`:n==="bool"?s=EX(t):s=parseFloat(t.toFixed(O$)).toString(),g0(s,e)}function EX(t){return t===0?"false":"true"}function gy(t,e,n,s,r,o=!0){const a=n==="complex64"?2:1,i=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=Jm(t);return[Zm(m[0],0,n)]}return n==="bool"?[EX(t[0])]:[t[0].toString()]}if(l===1){if(i>y9){const g=zm*a;let y=Array.from(t.slice(0,g)),w=Array.from(t.slice((i-zm)*a,i*a));return n==="complex64"&&(y=Jm(y),w=Jm(w)),["["+y.map((b,_)=>Zm(b,r[_],n)).join(", ")+", ..., "+w.map((b,_)=>Zm(b,r[i-zm+_],n)).join(", ")+"]"]}return["["+(n==="complex64"?Jm(t):Array.from(t)).map((g,y)=>Zm(g,r[y],n)).join(", ")+"]"]}const u=e.slice(1),c=s.slice(1),d=s[0]*a,f=[];if(i>y9){for(let m=0;m<zm;m++){const g=m*d,y=g+d;f.push(...gy(t.slice(g,y),u,n,c,r,!1))}f.push("...");for(let m=i-zm;m<i;m++){const g=m*d,y=g+d;f.push(...gy(t.slice(g,y),u,n,c,r,m===i-1))}}else for(let m=0;m<i;m++){const g=m*d,y=g+d;f.push(...gy(t.slice(g,y),u,n,c,r,m===i-1))}const h=l===2?",":"";f[0]="["+f[0]+h;for(let m=1;m<f.length-1;m++)f[m]=" "+f[m]+h;let p=`,
`;for(let m=2;m<l;m++)p+=`
`;return f[f.length-1]=" "+f[f.length-1]+"]"+(o?"":p),f}function Jm(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}class Ab{constructor(e,n,s){if(this.dtype=n,this.shape=e.slice(),this.size=Qn(e),s!=null){const r=s.length;le(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=s||Oj(n,this.size),this.strides=wm(e)}set(e,...n){n.length===0&&(n=[0]),le(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const s=this.locToIndex(n);this.values[s]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const r of e){if(r<0||r>=this.shape[n]){const o=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let s=e[e.length-1];for(let r=0;r<e.length-1;++r)s+=this.strides[r]*e[r];return this.values[s]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let s=0;s<e.length-1;++s)n+=this.strides[s]*e[s];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let s=0;s<n.length-1;++s)n[s]=Math.floor(e/this.strides[s]),e-=n[s]*this.strides[s];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Ba().makeTensor(this.values,this.shape,this.dtype)}}let Ba=null,Of=null;function w5t(t){Ba=t}function _5t(t){Of=t}class os{constructor(e,n,s,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Qn(e),this.strides=wm(e),this.dataId=s,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Of.buffer(this.shape,this.dtype,e)}bufferSync(){return Of.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return hd(this.shape,e,this.dtype==="complex64")}arraySync(){return hd(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Ba().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(s=>Ib(s))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Ba().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Ba().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>Ib(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Ba().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(Ba().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Of.print(this,e)}clone(){return this.throwIfDisposed(),Of.clone(this)}toString(e=!1){const n=this.dataSync();return y5t(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Of.cast(this,e)}variable(e=!0,n,s){return this.throwIfDisposed(),Ba().makeVariable(this,e,n,s)}}Object.defineProperty(os,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function $5t(){return PE("Tensor",()=>os)}$5t();class mg extends os{constructor(e,n,s,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=n,this.name=s}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Ui(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Ba().disposeTensor(this),this.dataId=e.dataId,Ba().incRef(this,null)}dispose(){Ba().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(mg,Symbol.hasInstance,{value:t=>t instanceof os&&t.assign!=null&&t.assign instanceof Function});var iS;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(iS||(iS={}));var lS;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(lS||(lS={}));var uS;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(uS||(uS={}));var cS;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(cS||(cS={}));var dS;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(dS||(dS={}));const x5t={float32:cS,int32:lS,bool:uS,complex64:dS};function a4(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return x5t[t][e]}function S5t(t){return a4(t,"int32")}function fs(t,e){if(t.dtype===e.dtype)return[t,e];const n=a4(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function IX(t,e){le(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function C5t(t,e){return e.some(n=>n.id===t.id)}function WE(t){const e=[];return AX(t,e,new Set),e}function AX(t,e,n){if(t==null)return;if(t instanceof os){e.push(t);return}if(!k5t(t))return;const s=t;for(const r in s){const o=s[r];n.has(o)||(n.add(o),AX(o,e,n))}}function k5t(t){return Array.isArray(t)||typeof t=="object"}const T5t=Object.freeze(Object.defineProperty({__proto__:null,makeTypesMatch:fs,assertTypesMatch:IX,isTensorInList:C5t,getTensorsInContainer:WE},Symbol.toStringTag,{value:"Module"}));function R$(t){return t.kernelName!=null}class b9{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Vh{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new b9}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const s=e[n];if(await this.initializeBackend(s).success){await this.setBackend(s);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,s=1){return e in this.registryFactory?(_u(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:s},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:s}=this.initializeBackend(e);if(!(s?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new h5t(this.backendInstance),!0}setupRegisteredKernels(){Eb(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){Eb(e).forEach(s=>{s.disposeFunc!=null&&s.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const s=n.factory();if(s&&!(s instanceof Nj)&&typeof s.then=="function"){const r=++this.pendingBackendInitId,o=s.then(a=>r<this.pendingBackendInitId?!1:(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>(r<this.pendingBackendInitId||(this.pendingBackendInit=null,_u(`Initialization of backend ${e} failed`),_u(a.stack||a.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=s,{success:!0,asyncInit:!1}}catch(s){return _u(`Initialization of backend ${e} failed`),_u(s.stack||s.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const s=e[n],{success:r,asyncInit:o}=this.initializeBackend(s);if(o||r)return{name:s,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const s=this.state.tensorInfo.get(n),r=s.backend,o=this.readSync(n),a=r.refCount(n);r.disposeData(n,!0),s.backend=e,e.move(n,o,s.shape,s.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let s=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");s=e}let r;return this.scopedRun(()=>this.startScope(s),()=>this.endScope(r),()=>(r=n(),r instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r))}scopedRun(e,n,s){e();try{const r=s();return n(),r}catch(r){throw n(),r}}nextTensorId(){return Vh.nextTensorId++}nextVariableId(){return Vh.nextVariableId++}clone(e){const n=ke.runKernel(BE,{x:e}),s={x:e},r=a=>({x:()=>{const i="float32",l={x:a},u={dtype:i};return ke.runKernel(zE,l,u)}}),o=[];return this.addTapeNode(this.state.activeScope.name,s,[n],r,o,{}),n}runKernel(e,n,s){if(this.backendName==null&&this.backend,!(Nb(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:s})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,s){const r=this.backend.numDataIds();let o=0;s.forEach(l=>{o+=l.dtype==="complex64"?3:1});const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-n-o-a;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let n,s=[];const r=this.isTapeOn(),o=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let i;this.backendName==null&&this.backend;let l;const u=R$(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(R$(e)){const{kernelName:p,inputs:m,attrs:g}=e;this.backendName==null&&this.backend;const y=Nb(p,this.backendName);le(y!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),i=()=>{const w=this.backend.numDataIds();l=y.kernelFunc({inputs:m,attrs:g,backend:this.backend});const b=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,w,b);const _=b.map($=>$.rank!=null?$:this.makeTensorFromTensorInfo($));if(r){const $=this.getTensorsForGradient(p,m,_);s=this.saveTensorsForBackwardMode($)}return _}}else{const{forwardFunc:p}=e,m=g=>{!r||(s=g.map(y=>this.keep(this.clone(y))))};i=()=>{const g=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,m));const y=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,g,y),y}}const{inputs:c,attrs:d}=e,f=R$(e)?null:e.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=i():(h=this.profiler.profileKernel(u,c,()=>i()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),r&&this.addTapeNode(u,c,n,f,s,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(p=>c[p]!=null?c[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(s=>this.keep(this.clone(s)))}getTensorsForGradient(e,n,s){const r=oS(e);if(r!=null){const o=r.inputsToSave||[],a=r.outputsToSave||[];let i;r.saveAllInputs?(le(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),i=Object.keys(n).map(u=>n[u])):i=o.map(u=>n[u]);const l=s.filter((u,c)=>a[c]);return i.concat(l)}return[]}makeTensor(e,n,s,r){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");s=s||"float32",r=r||this.backend;let o=e;s==="string"&&Eu(e[0])&&(o=e.map(l=>O2(l)));const a=r.write(o,n,s),i=new os(n,s,a,this.nextTensorId());if(this.trackTensor(i,r),s==="string"){const l=this.state.tensorInfo.get(a),u=Fj(o);this.state.numBytes+=u-l.bytes,l.bytes=u}return i}makeTensorFromDataId(e,n,s,r){s=s||"float32";const o={dataId:e,shape:n,dtype:s};return this.makeTensorFromTensorInfo(o,r)}makeTensorFromTensorInfo(e,n){const{dataId:s,shape:r,dtype:o}=e,a=new os(r,o,s,this.nextTensorId());return this.trackTensor(a,n),a}makeVariable(e,n=!0,s,r){s=s||this.nextVariableId().toString(),r!=null&&r!==e.dtype&&(e=e.cast(r));const o=new mg(e,n,s,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let s=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(s=e.size*eS(e.dtype)),this.state.numBytes+=s,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:s})),e instanceof mg||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const s=e.size*eS(e.dtype);this.state.numBytes-=s}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,s=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(r=>r.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-s;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,s,r,o,a){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:s,saved:o},l=oS(e);l!=null&&(r=l.gradFunc),r!=null&&(i.gradient=u=>(u=u.map((c,d)=>{if(c==null){const f=s[d],h=r4(f.size,f.dtype);return this.makeTensor(h,f.shape,f.dtype)}return c}),r(u.length>1?u:u[0],o,a))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=WE(e),s=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const a=this.state.activeScope.track[o];!a.kept&&!s.has(a.id)&&a.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===r.id&&this.track(o)})}gradients(e,n,s,r=!1){if(le(n.length>0,()=>"gradients() received an empty list of xs."),s!=null&&s.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${s.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));le(o instanceof os,()=>"The result y returned by f() must be a tensor.");const a=g5t(this.state.activeTape,n,o);if(!r&&a.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const i={};i[o.id]=s??N5t(o.shape),v5t(i,a,u=>this.tidy(u),E5t);const l=n.map(u=>i[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:l}})}customGrad(e){return le(sc(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{le(n.every(i=>i instanceof os),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let s;const r={};n.forEach((i,l)=>{r[l]=i});const o=(i,l)=>(s=e(...n,l),le(s.value instanceof os,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),le(sc(s.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),s.value),a=(i,l)=>{const u=s.gradFunc(i,l),c=Array.isArray(u)?u:[u];le(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),le(c.every(f=>f instanceof os),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return c.forEach((f,h)=>{d[h]=()=>f}),d};return this.runKernelFunc({forwardFunc:o,backwardsFunc:a,inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=pg(),s=await this.backend.time(e);return s.wallMs=pg()-n,s}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new b9;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Vh.nextTensorId=0;Vh.nextVariableId=0;function N5t(t){const e=DE(Qn(t),"float32");return ke.makeTensor(e,t,"float32")}function OX(){const t=Bj();if(t._tfengine==null){const e=new zj(t);t._tfengine=new Vh(e)}return RIt(t._tfengine.ENV),w5t(()=>t._tfengine),t._tfengine}const ke=OX();function E5t(t,e){const n={a:t,b:e};return ke.runKernel(LE,n)}function I5t(){return typeof navigator<"u"&&navigator!=null}let fS;function A5t(t){fS=t}function O5t(t){if(fS!==void 0)return fS;if(t||I5t()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function RX(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const R5t=Object.freeze(Object.defineProperty({__proto__:null,mockIsMobile:A5t,isMobile:O5t,isBrowser:RX},Symbol.toStringTag,{value:"Module"}));const ko=en();ko.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});ko.registerFlag("IS_BROWSER",()=>RX());ko.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");ko.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));ko.registerFlag("PROD",()=>!1);ko.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>ko.getBool("DEBUG"));ko.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);ko.registerFlag("IS_TEST",()=>!1);ko.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);ko.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);ko.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);ko.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);ko.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function Gi(t,e){let n=t;if(pr(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];const s=[];for(;Array.isArray(n)||pr(n)&&e!=="string";)s.push(n.length),n=n[0];return Array.isArray(t)&&en().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&DX(t,s,[]),s}function DX(t,e,n){if(n=n||[],!Array.isArray(t)&&!pr(t)){le(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}le(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),le(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const s=e.slice(1);for(let r=0;r<t.length;++r)DX(t[r],s,n.concat(r))}function w9(t,e,n,s){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${s}' must be ${t} tensor, but got ${e} tensor`)}}function ne(t,e,n,s="numeric"){if(t instanceof os)return w9(s,t.dtype,e,n),t;let r=s4(t);if(r!=="string"&&["bool","int32","float32"].indexOf(s)>=0&&(r=s),w9(s,r,e,n),t==null||!pr(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const o=Gi(t,r);!pr(t)&&!Array.isArray(t)&&(t=[t]);const i=r!=="string"?o4(t,r):Vd(t,[],!0);return ke.makeTensor(i,o,r)}function gg(t,e,n,s="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((o,a)=>ne(o,`${e}[${a}]`,n,s))}const UE="__op";function Ce(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const s=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+UE;const r=(...o)=>{ke.startScope(n);try{const a=s(...o);return Hd(a)&&console.error("Cannot return a Promise inside of tidy."),ke.endScope(a),a}catch(a){throw ke.endScope(null),a}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}function D5t(t,e){const n=ne(t,"real","complex"),s=ne(e,"imag","complex");Br(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);const r={real:n,imag:s};return ke.runKernel(lK,r)}const Dl=Ce({complex_:D5t});function bc(t,e,n,s){if(s==null&&(s=s4(t)),s==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!pr(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){FE(e);const r=Qn(e),o=Qn(n);le(r===o,()=>`Based on the provided shape, [${e}], the tensor should have ${r} values but has ${o}`);for(let a=0;a<n.length;++a){const i=n[a],l=a===n.length-1?i!==Qn(e.slice(a)):!0;le(n[a]===e[a]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!pr(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=s!=="string"?o4(t,s):Vd(t,[],!0),ke.makeTensor(t,e,s)}function Za(t,e,n){const s=Gi(t,n);return bc(t,e,s,n)}const hS={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};const Ob=4;async function F5t(t,e){const n=[],s=[],r=Array.isArray(t)?t.map(a=>a.name):Object.keys(t);for(let a=0;a<r.length;++a){const i=r[a],l=Array.isArray(t)?t[a].tensor:t[i];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${i}': ${l.dtype}`);const u={name:i,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async d=>{const f=await l.bytes(),h=f.reduce((g,y)=>g+y.length,0)+Ob*f.length,p=new Uint8Array(h);let m=0;for(let g=0;g<f.length;g++){const y=f[g],w=new Uint8Array(new Uint32Array([y.length]).buffer);p.set(w,m),m+=Ob,p.set(y,m),m+=y.length}d(p)});s.push(c)}else s.push(l.data());e!=null&&(u.group=e),n.push(u)}const o=await Promise.all(s);return{data:M5t(o),specs:n}}function FX(t,e){const n={};let s,r=0;for(const o of e){const a=o.name,i=o.dtype,l=o.shape,u=Qn(l);let c;if("quantization"in o){const d=o.quantization;if(d.dtype==="uint8"||d.dtype==="uint16"){if(!("min"in d&&"scale"in d))throw new Error(`Weight ${o.name} with quantization ${d.dtype} doesn't have corresponding metadata min and scale.`)}else if(d.dtype==="float16"){if(i!=="float32")throw new Error(`Weight ${o.name} is quantized with ${d.dtype} which only supports weights of type float32 not ${i}.`)}else throw new Error(`Weight ${o.name} has unknown quantization dtype ${d.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const f=hS[d.dtype],h=t.slice(r,r+u*f),p=d.dtype==="uint8"?new Uint8Array(h):new Uint16Array(h);if(i==="float32")if(d.dtype==="uint8"||d.dtype==="uint16"){c=new Float32Array(p.length);for(let m=0;m<p.length;m++){const g=p[m];c[m]=g*d.scale+d.min}}else if(d.dtype==="float16")s===void 0&&(s=H5t()),c=s(p);else throw new Error(`Unsupported quantization type ${d.dtype} for weight type float32.`);else if(i==="int32"){if(d.dtype!=="uint8"&&d.dtype!=="uint16")throw new Error(`Unsupported quantization type ${d.dtype} for weight type int32.`);c=new Int32Array(p.length);for(let m=0;m<p.length;m++){const g=p[m];c[m]=Math.round(g*d.scale+d.min)}}else throw new Error(`Unsupported dtype in weight '${a}': ${i}`);r+=u*f}else if(i==="string"){const d=Qn(o.shape);c=[];for(let f=0;f<d;f++){const h=new Uint32Array(t.slice(r,r+Ob))[0];r+=Ob;const p=new Uint8Array(t.slice(r,r+h));c.push(p),r+=h}}else{const d=hS[i],f=t.slice(r,r+u*d);if(i==="float32")c=new Float32Array(f);else if(i==="int32")c=new Int32Array(f);else if(i==="bool")c=new Uint8Array(f);else if(i==="complex64"){c=new Float32Array(f);const h=new Float32Array(c.length/2),p=new Float32Array(c.length/2);for(let y=0;y<h.length;y++)h[y]=c[y*2],p[y]=c[y*2+1];const m=Za(h,l,"float32"),g=Za(p,l,"float32");n[a]=Dl(m,g),m.dispose(),g.dispose()}else throw new Error(`Unsupported dtype in weight '${a}': ${i}`);r+=u*d}i!=="complex64"&&(n[a]=Za(c,l,i))}return n}function M5t(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(o=>{if(e+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const s=new Uint8Array(e);let r=0;return n.forEach(o=>{s.set(new Uint8Array(o.buffer),r),r+=o.byteLength}),s.buffer}const GE=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function _9(t){return GE?Buffer.byteLength(t):new Blob([t]).size}function P5t(t){if(GE)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let s=0,r=e.length;s<r;s++)n+=String.fromCharCode(e[s]);return btoa(n)}function L5t(t){if(GE){const s=Buffer.from(t,"base64");return s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;++s)n.set([e.charCodeAt(s)],s);return n.buffer}function jE(t){if(t.length===1)return t[0];let e=0;t.forEach(r=>{e+=r.byteLength});const n=new Uint8Array(e);let s=0;return t.forEach(r=>{n.set(new Uint8Array(r),s),s+=r.byteLength}),n.buffer}function $9(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function MX(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function PX(t,e,n){const s={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(s.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");s.weightSpecs=e,s.weightData=n}return t.signature!=null&&(s.signature=t.signature),t.userDefinedMetadata!=null&&(s.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(s.modelInitializer=t.modelInitializer),s}async function KE(t,e){let n,s;return t.weightsManifest!=null&&([n,s]=await e(t.weightsManifest)),PX(t,n,s)}function R2(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:_9(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:_9(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function LX(t){const e=[];for(const n of t)e.push(...n.weights);return e}function z5t(){const t=n=>{let s=n<<13,r=0;for(;(s&8388608)===0;)r-=8388608,s<<=1;return s&=-8388609,r+=947912704,s|r},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function B5t(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function V5t(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function H5t(){const t=z5t(),e=B5t(),n=V5t();return s=>{const r=new ArrayBuffer(4*s.length),o=new Uint32Array(r);for(let a=0;a<s.length;a++){const i=s[a],l=t[n[i>>10]+(i&1023)]+e[i>>10];o[a]=l}return new Float32Array(r)}}class ls{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return ls.instance==null&&(ls.instance=new ls),ls.instance}static registerSaveRouter(e){ls.getInstance().saveRouters.push(e)}static registerLoadRouter(e){ls.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return ls.getHandlers(e,"save")}static getLoadHandlers(e,n){return ls.getHandlers(e,"load",n)}static getHandlers(e,n,s){const r=[];return(n==="load"?ls.getInstance().loadRouters:ls.getInstance().saveRouters).forEach(a=>{const i=a(e,s);i!==null&&r.push(i)}),r}}const W5t=t=>ls.registerSaveRouter(t),U5t=t=>ls.registerLoadRouter(t),G5t=t=>ls.getSaveHandlers(t),j5t=(t,e)=>ls.getLoadHandlers(t,e);const pS="tensorflowjs",mS=1,ed="models_store",Iu="model_info_store";function zX(){if(!en().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function gS(t){const e=t.result;e.createObjectStore(ed,{keyPath:"modelPath"}),e.createObjectStore(Iu,{keyPath:"modelPath"})}class Wd{constructor(e){if(this.indexedDB=zX(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((s,r)=>{const o=this.indexedDB.open(pS,mS);o.onupgradeneeded=()=>gS(o),o.onsuccess=()=>{const a=o.result;if(n==null){const i=a.transaction(ed,"readonly"),u=i.objectStore(ed).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return a.close(),r(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));s(u.result.modelArtifacts)},u.onerror=c=>(a.close(),r(u.error)),i.oncomplete=()=>a.close()}else{const i=R2(n),l=a.transaction(Iu,"readwrite");let u=l.objectStore(Iu);const c=u.put({modelPath:this.modelPath,modelArtifactsInfo:i});let d;c.onsuccess=()=>{d=a.transaction(ed,"readwrite");const h=d.objectStore(ed).put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:i});h.onsuccess=()=>s({modelArtifactsInfo:i}),h.onerror=p=>{u=l.objectStore(Iu);const m=u.delete(this.modelPath);m.onsuccess=()=>(a.close(),r(h.error)),m.onerror=g=>(a.close(),r(h.error))}},c.onerror=f=>(a.close(),r(c.error)),l.oncomplete=()=>{d==null?a.close():d.oncomplete=()=>a.close()}}},o.onerror=a=>r(o.error)})}}Wd.URL_SCHEME="indexeddb://";const BX=t=>en().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Wd.URL_SCHEME)?K5t(t.slice(Wd.URL_SCHEME.length)):null;ls.registerSaveRouter(BX);ls.registerLoadRouter(BX);function K5t(t){return new Wd(t)}function q5t(t){return t.startsWith(Wd.URL_SCHEME)?t.slice(Wd.URL_SCHEME.length):t}class X5t{constructor(){this.indexedDB=zX()}async listModels(){return new Promise((e,n)=>{const s=this.indexedDB.open(pS,mS);s.onupgradeneeded=()=>gS(s),s.onsuccess=()=>{const r=s.result,o=r.transaction(Iu,"readonly"),i=o.objectStore(Iu).getAll();i.onsuccess=()=>{const l={};for(const u of i.result)l[u.modelPath]=u.modelArtifactsInfo;e(l)},i.onerror=l=>(r.close(),n(i.error)),o.oncomplete=()=>r.close()},s.onerror=r=>n(s.error)})}async removeModel(e){return e=q5t(e),new Promise((n,s)=>{const r=this.indexedDB.open(pS,mS);r.onupgradeneeded=()=>gS(r),r.onsuccess=()=>{const o=r.result,a=o.transaction(Iu,"readwrite"),i=a.objectStore(Iu),l=i.get(e);let u;l.onsuccess=()=>{if(l.result==null)return o.close(),s(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=i.delete(e),d=()=>{u=o.transaction(ed,"readwrite");const h=u.objectStore(ed).delete(e);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=p=>s(l.error)};c.onsuccess=d,c.onerror=f=>(d(),o.close(),s(l.error))}},l.onerror=c=>(o.close(),s(l.error)),a.oncomplete=()=>{u==null?o.close():u.oncomplete=()=>o.close()}},r.onerror=o=>s(r.error)})}}const ml="/",Rf="tensorflowjs_models",VX="info",Y5t="model_topology",Z5t="weight_specs",J5t="weight_data",Q5t="model_metadata";function HX(t){return{info:[Rf,t,VX].join(ml),topology:[Rf,t,Y5t].join(ml),weightSpecs:[Rf,t,Z5t].join(ml),weightData:[Rf,t,J5t].join(ml),modelMetadata:[Rf,t,Q5t].join(ml)}}function WX(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function eAt(t){const e=t.split(ml);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(ml)}function tAt(t){return t.startsWith(Ud.URL_SCHEME)?t.slice(Ud.URL_SCHEME.length):t}class Ud{constructor(e){if(!en().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=HX(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),s=JSON.stringify(e.weightSpecs),r=R2(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,s),this.LS.setItem(this.keys.weightData,P5t(e.weightData));const o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:r}}catch{throw WX(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},s=JSON.parse(this.LS.getItem(this.keys.topology));if(s==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=s;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(r==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const i=JSON.parse(o);n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,i.signature!=null&&(n.signature=i.signature),i.userDefinedMetadata!=null&&(n.userDefinedMetadata=i.userDefinedMetadata),i.modelInitializer!=null&&(n.modelInitializer=i.modelInitializer),i.trainingConfig!=null&&(n.trainingConfig=i.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=L5t(a),n}}Ud.URL_SCHEME="localstorage://";const UX=t=>en().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Ud.URL_SCHEME)?nAt(t.slice(Ud.URL_SCHEME.length)):null;ls.registerSaveRouter(UX);ls.registerLoadRouter(UX);function nAt(t){return new Ud(t)}class sAt{constructor(){le(en().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),le(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Rf+ml,s=ml+VX;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);if(o.startsWith(n)&&o.endsWith(s)){const a=eAt(o);e[a]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){e=tAt(e);const n=HX(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const s=JSON.parse(this.LS.getItem(n.info));return WX(n),s}}const Qf="://";class xr{constructor(){this.managers={}}static getInstance(){return xr.instance==null&&(xr.instance=new xr),xr.instance}static registerManager(e,n){le(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Qf)&&(e=e.slice(0,e.indexOf(Qf))),le(e.length>0,()=>"scheme must not be an empty string.");const s=xr.getInstance();le(s.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),s.managers[e]=n}static getManager(e){const n=xr.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(xr.getInstance().managers)}}function vy(t){if(t.indexOf(Qf)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${xr.getSchemes().join(",")}`);return{scheme:t.split(Qf)[0],path:t.split(Qf)[1]}}async function GX(t,e,n=!1){le(t!==e,()=>`Old path and new path are the same: '${t}'`);const s=ls.getLoadHandlers(t);le(s.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),le(s.length<2,()=>`Copying failed because more than one (${s.length}) load handlers for source URL ${t}.`);const r=s[0],o=ls.getSaveHandlers(e);le(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),le(o.length<2,()=>`Copying failed because more than one (${s.length}) save handlers for destination URL ${e}.`);const a=o[0],i=vy(t).scheme,l=vy(t).path,u=i===vy(t).scheme,c=await r.load();n&&u&&await xr.getManager(i).removeModel(l);const d=await a.save(c);return n&&!u&&await xr.getManager(i).removeModel(l),d.modelArtifactsInfo}async function rAt(){const t=xr.getSchemes(),e={};for(const n of t){const s=await xr.getManager(n).listModels();for(const r in s){const o=n+Qf+r;e[o]=s[r]}}return e}async function oAt(t){const e=vy(t);return xr.getManager(e.scheme).removeModel(e.path)}async function aAt(t,e){return GX(t,e,!1)}async function iAt(t,e){return GX(t,e,!0)}class lAt{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(!window||!en().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",s=>{if(s.source===window&&s.data.name===this.messageName){s.stopPropagation();const r=this.functionRefs[s.data.index];r(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}}if(en().get("IS_BROWSER")){en().setPlatform("browser",new lAt);try{xr.registerManager(Ud.URL_SCHEME,new sAt)}catch{}try{xr.registerManager(Wd.URL_SCHEME,new X5t)}catch{}}const uAt={importFetch:()=>require("node-fetch")};let D$;class cAt{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return en().global.fetch!=null?en().global.fetch(e,n):(D$==null&&(D$=uAt.importFetch()),D$(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}}en().get("IS_NODE")&&!en().get("IS_BROWSER")&&en().setPlatform("node",new cAt);function ji(t,e="float32",n){return e=e||"float32",FE(t),new Ab(t,e,n)}function dAt(t,e){const n=ne(t,"x","cast");if(!Dj(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const s={x:n},r={dtype:e};return ke.runKernel(zE,s,r)}const es=Ce({cast_:dAt});function fAt(t){const n={x:ne(t,"x","clone","string_or_numeric")};return ke.runKernel(BE,n)}const bl=Ce({clone_:fAt});function qE(t,e=!1){console.log(t.toString(e))}OX();const hAt={buffer:ji,cast:es,clone:bl,print:qE};_5t(hAt);const pAt="model",mAt=".json",gAt=".weights.bin";function x9(t){return new Promise(e=>setTimeout(e)).then(t)}class Gd{constructor(e){if(!en().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Gd.URL_SCHEME)&&(e=e.slice(Gd.URL_SCHEME.length)),(e==null||e.length===0)&&(e=pAt),this.modelJsonFileName=e+mAt,this.weightDataFileName=e+gAt}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r=MX(e,s),o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=o,await x9(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const i=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;i.download=this.weightDataFileName,i.href=n,await x9(()=>i.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:R2(e)}}}}Gd.URL_SCHEME="downloads://";class vAt{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const s=new FileReader;s.onload=r=>{const o=JSON.parse(r.target.result),a=o.modelTopology;if(a==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:a});return}const l=KE(o,u=>this.loadWeights(u));e(l)},s.onerror=r=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),s.readAsText(this.jsonFile)})}loadWeights(e){const n=[],s=[];for(const a of e)n.push(...a.weights),s.push(...a.paths);const r=this.checkManifestAndWeightFiles(e),o=s.map(a=>this.loadWeightsFile(a,r[a]));return Promise.all(o).then(a=>[n,jE(a)])}loadWeightsFile(e,n){return new Promise((s,r)=>{const o=new FileReader;o.onload=a=>{const i=a.target.result;s(i)},o.onerror=a=>r(`Failed to weights data from file of path '${e}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],s=this.weightsFiles.map(o=>$9(o.name)),r={};for(const o of e)o.paths.forEach(a=>{const i=$9(a);if(n.indexOf(i)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(n.push(i),s.indexOf(i)===-1)throw new Error(`Weight file with basename '${i}' is not provided.`);r[a]=this.weightsFiles[s.indexOf(i)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}const yAt=t=>en().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Gd.URL_SCHEME)?bAt(t.slice(Gd.URL_SCHEME.length)):null;ls.registerSaveRouter(yAt);function bAt(t="model"){return new Gd(t)}function wAt(t){return new vAt(t)}function S9(t,e,n,s){a(t),n=n??0,s=s??1,i(n,s);let r=0;const o=l=>(l.then(u=>{const c=n+ ++r/t.length*(s-n);return e(c),u}),l);function a(l){le(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function i(l,u){le(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),le(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),le(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(t.map(o))}async function jX(t,e){e==null&&(e={});const n=e.fetchFunc==null?en().platform.fetch:e.fetchFunc,s=t.map(d=>n(d,e.requestInit,{isBinary:!0})),r=0,o=.5,i=(e.onProgress==null?await Promise.all(s):await S9(s,e.onProgress,r,o)).map(d=>d.arrayBuffer()),l=.5,u=1;return e.onProgress==null?await Promise.all(i):await S9(i,e.onProgress,l,u)}async function _At(t,e="",n,s){return KX(a=>jX(a,{requestInit:s}))(t,e,n)}function KX(t){return async(e,n="",s)=>{const r=e.map(()=>!1),o={},a=s!=null?s.map(()=>!1):[],i=[];if(e.forEach((h,p)=>{let m=0;h.weights.forEach(g=>{const y="quantization"in g?g.quantization.dtype:g.dtype,w=hS[y]*Qn(g.shape),b=()=>{r[p]=!0,o[p]==null&&(o[p]=[]),o[p].push({manifestEntry:g,groupOffset:m,sizeBytes:w})};s!=null?s.forEach((_,$)=>{_===g.name&&(b(),a[$]=!0)}):b(),i.push(g.name),m+=w})}),!a.every(h=>h)){const h=s.filter((p,m)=>!a[m]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${i.join(", ")}.`)}const l=r.reduce((h,p,m)=>(p&&h.push(m),h),[]),u=[];l.forEach(h=>{e[h].paths.forEach(p=>{const m=n+(n.endsWith("/")?"":"/")+p;u.push(m)})});const c=await t(u),d={};let f=0;return l.forEach(h=>{const p=e[h].paths.length;let m=0;for(let _=0;_<p;_++)m+=c[f+_].byteLength;const g=new ArrayBuffer(m),y=new Uint8Array(g);let w=0;for(let _=0;_<p;_++){const $=new Uint8Array(c[f+_]);y.set($,w),w+=$.byteLength}o[h].forEach(_=>{const $=g.slice(_.groupOffset,_.groupOffset+_.sizeBytes),x=FX($,[_.manifestEntry]);for(const k in x)d[k]=x[k]}),f+=p}),d}}const $At="application/octet-stream",xAt="application/json";class XE{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(le(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=en().platform.fetch,le(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&le(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const s=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=MX(e,s);n.body.append("model.json",new Blob([JSON.stringify(r)],{type:xAt}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:$At}),"model.weights.bin");const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:R2(e),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",new Error(a)}const s=n.modelTopology,r=n.weightsManifest;if(s==null&&r==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return KE(n,o=>this.loadWeights(o))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[s,r]=SAt(n),o=this.weightPathPrefix||s,a=LX(e),i=[],l=[];for(const c of e)for(const d of c.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(d)):i.push(o+d+r);this.weightUrlConverter&&i.push(...await Promise.all(l));const u=await jX(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[a,jE(u)]}}XE.URL_SCHEME_REGEX=/^https?:\/\//;function SAt(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),s=t.substring(0,e),r=n>e?t.substring(n):"";return[s+"/",r]}function vS(t){return t.match(XE.URL_SCHEME_REGEX)!=null}const qX=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(s=>vS(s)):n=vS(t),n)return YE(t,e)}return null};ls.registerSaveRouter(qX);ls.registerLoadRouter(qX);function YE(t,e){return new XE(t,e)}function CAt(t,e){return YE(t,e)}class F${constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class XX{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class kAt{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function TAt(t,e,n,s){const r=arguments;return new kAt(YX(...r))}function YX(t,e,n,s){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new F$(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new F$({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new F$({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:s}))}function NAt(t){return new XX(t)}function EAt(t){return new XX(t)}const ZE=Object.freeze(Object.defineProperty({__proto__:null,browserFiles:wAt,browserHTTPRequest:CAt,concatenateArrayBuffers:jE,decodeWeights:FX,encodeWeights:F5t,fromMemory:TAt,fromMemorySync:YX,getLoadHandlers:j5t,getModelArtifactsForJSON:KE,getModelArtifactsForJSONSync:PX,getModelArtifactsInfoForJSON:R2,getSaveHandlers:G5t,getWeightSpecs:LX,http:YE,isHTTPScheme:vS,loadWeights:_At,registerLoadRouter:U5t,registerSaveRouter:W5t,weightsLoaderFactory:KX,withSaveHandler:NAt,withSaveHandlerSync:EAt,copyModel:aAt,listModels:rAt,moveModel:iAt,removeModel:oAt},Symbol.toStringTag,{value:"Module"}));function IAt(t,e,n=!1,s=!1){let r=ne(t,"a","matMul"),o=ne(e,"b","matMul");[r,o]=fs(r,o);const a={a:r,b:o},i={transposeA:n,transposeB:s};return ke.runKernel(nK,a,i)}const Tn=Ce({matMul_:IAt});function AAt(t,e,n=1,s=0,r="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const a={indices:ne(t,"indices","oneHot","int32")},i={dtype:r,depth:e,onValue:n,offValue:s};return ke.runKernel(Cq,a,i)}const Rb=Ce({oneHot_:AAt});function OAt(){en().set("PROD",!0)}function RAt(){en().set("DEBUG",!0)}function DAt(){en().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function FAt(t){en().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function MAt(){ke.disposeVariables()}function PAt(){return ke}function LAt(){return ke.memory()}function zAt(t){return ke.profile(t)}function vn(t,e){return ke.tidy(t,e)}function qr(t){WE(t).forEach(n=>n.dispose())}function Ei(t){return ke.keep(t)}function BAt(t){return ke.time(t)}function VAt(t){return ke.setBackend(t)}function HAt(){return ke.ready()}function WAt(){return ke.backendName}function UAt(t){ke.removeBackend(t)}function GAt(t){return ke.findBackend(t)}function jAt(t){return ke.findBackendFactory(t)}function KAt(t,e,n=1){return ke.registerBackend(t,e,n)}function qAt(){return ke.backend}function XAt(t,e){en().setPlatform(t,e)}function YAt(t){const n={input:ne(t,"input","imag")};return ke.runKernel(KK,n)}const D2=Ce({imag_:YAt});function ZAt(t){const n={x:ne(t,"x","neg")};return ke.runKernel(bq,n)}const Pi=Ce({neg_:ZAt});function JAt(t){const n={input:ne(t,"input","real")};return ke.runKernel(Dq,n)}const Hh=Ce({real_:JAt});function QAt(t,e,n){const s=ne(t,"x","transpose");if(e==null&&(e=s.shape.map((a,i)=>i).reverse()),le(s.rank===e.length,()=>`Error in transpose: rank of input ${s.rank} must match length of perm ${e}.`),e.forEach(a=>{le(a>=0&&a<s.rank,()=>`All entries in 'perm' must be between 0 and ${s.rank-1} but got ${e}`)}),s.rank<=1)return s.clone();const r={x:s},o={perm:e};return s.dtype==="complex64"?vn(()=>{let a=Hh(s),i=D2(s);return a=ke.runKernel(my,{x:a},o),i=ke.runKernel(my,{x:i},o),n&&(i=Pi(i)),Dl(a,i)}):ke.runKernel(my,r,o)}const vg=Ce({transpose_:QAt});function eOt(t,e,n){const s=ne(t,"labels","confusionMatrix"),r=ne(e,"predictions","confusionMatrix");le(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),le(s.rank===1,()=>`Expected the rank of labels to be 1, but got ${s.rank}`),le(r.rank===1,()=>`Expected the rank of predictions to be 1, but got ${r.rank}`),le(s.shape[0]===r.shape[0],()=>`Mismatch in the number of examples: ${s.shape[0]} vs. ${r.shape[0]}. Labels and predictions should have the same number of elements.`),le(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const o=Rb(es(s,"int32"),n),a=Rb(es(r,"int32"),n),i=vg(o),l=Tn(i,a);return es(l,"int32")}const tOt=Ce({confusionMatrix_:eOt});const nOt=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:tOt},Symbol.toStringTag,{value:"Module"}));function ZX(t,e){const n=t.length,s=[];for(let r=0;r<n;r++){const o=n-1-r,a=t[o]||1;(e[e.length-1-r]||1)>1&&a===1&&s.unshift(o)}return s}function JE(t,e){const n=[];for(let s=0;s<e.length;s++){const r=t[t.length-s-1],o=e.length-s-1,a=e[o];(r==null||r===1&&a>1)&&n.unshift(o)}return n}function Ns(t,e){const n=[],s=Math.max(t.length,e.length);for(let r=0;r<s;r++){let o=t[t.length-r-1];o==null&&(o=1);let a=e[e.length-r-1];if(a==null&&(a=1),o===1)n.unshift(a);else if(a===1)n.unshift(o);else if(o!==a){const i=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(i)}else n.unshift(o)}return n}const sOt=Object.freeze(Object.defineProperty({__proto__:null,getBroadcastDims:ZX,getReductionAxes:JE,assertAndGetBroadcastShape:Ns},Symbol.toStringTag,{value:"Module"}));function QE(t,e,n){if(gf(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const s=Gi(t,n);if(s.length!==3&&s.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return bc(t,e,s,n)}let Ic;function JX(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,s=!1,r=!1,o=!1,a=!1,i=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)s=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else if(t.getContext!=null)a=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)i=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(Nb(tS,ke.backendName)!=null){const p={pixels:t},m={numChannels:e};return ke.runKernel(tS,p,m)}const[u,c]=r?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(a)d=t.getContext("2d").getImageData(0,0,u,c).data;else if(s||n)d=t.data;else if(o||r||i){if(Ic==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Ic=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Ic=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Ic.canvas.width=u,Ic.canvas.height=c,Ic.drawImage(t,0,0,u,c),d=Ic.getImageData(0,0,u,c).data}let f;if(e===4)f=new Int32Array(d);else{const p=u*c;f=new Int32Array(p*e);for(let m=0;m<p;m++)for(let g=0;g<e;++g)f[m*e+g]=d[m*4+g]}return QE(f,[c,u,e],"int32")}function rOt(t){return t!=null&&t.data instanceof Uint8Array}function oOt(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function aOt(t){return t!=null&&t.width!==0&&t.height!==0}function iOt(t){return oOt()&&!(t instanceof ImageBitmap)&&aOt(t)&&!rOt(t)}async function lOt(t,e=3){let n=null;if(en().getBool("WRAP_TO_IMAGEBITMAP")&&iOt(t)){let s;try{s=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{s=null}s!=null&&s.width===t.width&&s.height===t.height?n=s:n=t}else n=t;return JX(n,e)}async function uOt(t,e){let n=ne(t,"img","toPixels");if(!(t instanceof os)){const u=n;n=es(u,"int32"),u.dispose()}if(n.rank!==2&&n.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[s,r]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2];if(o>4||o===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${o}`);if(n.dtype!=="float32"&&n.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const a=await n.data(),i=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(r*s*4);for(let u=0;u<s*r;++u){const c=[0,0,0,255];for(let f=0;f<o;f++){const h=a[u*o+f];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);o===1?(c[0]=h*i,c[1]=h*i,c[2]=h*i):c[f]=h*i}const d=u*4;l[d+0]=Math.round(c[0]),l[d+1]=Math.round(c[1]),l[d+2]=Math.round(c[2]),l[d+3]=Math.round(c[3])}if(e!=null){e.width=r,e.height=s;const u=e.getContext("2d"),c=new ImageData(l,r,s);u.putImageData(c,0,0)}return n!==t&&n.dispose(),l}const QX=Ce({fromPixels_:JX}),cOt=Object.freeze(Object.defineProperty({__proto__:null,fromPixelsAsync:lOt,toPixels:uOt,fromPixels:QX},Symbol.toStringTag,{value:"Module"}));function eY(t,e){const n=t.shape.length,s=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(s<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${s}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[s-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[s-1]} vs. ${n}`);if(Qn(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const r=e.shape,o=r[r.length-1];let a=1;for(let d=0;d<r.length-1;++d)a*=r[d];const i=t.shape,l=r.slice();l.pop();let u=1;for(let d=o;d<n;++d)u*=i[d],l.push(i[d]);const c=[...wm(t.shape).map(d=>d/u),1].slice(0,o);return[l,a,u,c]}const dOt=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:eY},Symbol.toStringTag,{value:"Module"}));function eI(t,e,n){const s=e.rank>1?e.shape[e.rank-1]:1,r=e.rank>1?e.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${s}, and batchDim: ${r}.`;if(n.rank<r)throw new Error(o+` update.rank < ${r}. `);if(t.length<s+(n.rank-r))throw new Error(o+` Output shape length < ${s+(n.rank-r)}`);if(n.rank!==r+t.length-s)throw new Error(o+` update.rank != ${r+t.length-s}`);for(let a=0;a<r;++a)if(n.shape[a]!==e.shape[a])throw new Error(o+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${e.shape[a]}).`);for(let a=0;a<n.rank-r;++a)if(n.shape[a+r]!==t[a+s])throw new Error(o+` updates.shape[${a+r}] (${n.shape[a+r]}) != shape[${a+r}] (${t[a+r]})`)}function tI(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}eI(n,e,t)}function tY(t,e,n){const s=e.shape.length,r=s>1?e.shape[s-1]:1,o=n.length;let a=1;for(let d=r;d<o;++d)a*=n[d];const i=r<1?1:r,l=Qn(e.shape)/i,u=[...wm(n.slice(0,r)),1],c=Qn(n);return{sliceRank:r,numUpdates:l,sliceSize:a,strides:u,outputSize:c}}const fOt=Object.freeze(Object.defineProperty({__proto__:null,validateUpdateShape:eI,validateInput:tI,calculateShapes:tY},Symbol.toStringTag,{value:"Module"}));const yS=-2,hOt=-1;function pOt(t,e,n){const s=t.shape.length;le(s===e.length,()=>`Error in slice${s}D: Length of begin ${e} must match the rank of the array (${s}).`),le(s===n.length,()=>`Error in slice${s}D: Length of size ${n} must match the rank of the array (${s}).`);for(let r=0;r<s;++r)le(e[r]+n[r]<=t.shape[r],()=>`Error in slice${s}D: begin[${r}] + size[${r}] (${e[r]+n[r]}) would overflow input.shape[${r}] (${t.shape[r]})`)}function mOt(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function gOt(t,e,n){const s=[];for(let r=0;r<t.length;r++)s[r]=Math.ceil((e[r]-t[r])/n[r]);return s}function nY(t,e,n,s){const r=[...t];for(let o=r.length;o<s.length;o++)r.push(1);for(let o=0;o<n;o++)o===0?r[e]=1:(r.splice(e,0,1),r.pop());return r}function sY(t,e,n){return n<=t?n:n-(e-1)}function rY(t,e){const n=[];for(let s=0;s<t;s++)n.push(e+s);return n}function vOt(t,e,n,s,r,o,a,i,l){const u=t.length;let c=new Array(u),d=new Array(u),f=new Array(u);if(e.length&&n>0){const h=e[0],p=n+1;c=oY(a,h,p,s,t),d=aY(i,h,p,r,t),f=nY(o,h,p,t)}else for(let h=0;h<u;h++)c[h]=lY(a,s,o,t,h,l),d[h]=uY(i,r,o,t,h,l),f[h]=iY(o,h,l);return{begin:c,end:d,strides:f}}function oY(t,e,n,s,r){const o=[...r],a=rY(n,e);for(let i=0;i<o.length;i++)if(a.indexOf(i)>-1)o[i]=0;else{const l=sY(e,n,i);let u=s[l];t&1<<l&&(u=0),o[i]=u}return o}function aY(t,e,n,s,r){const o=[...r],a=rY(n,e);for(let i=0;i<o.length;i++)if(a.indexOf(i)>-1)o[i]=Number.MAX_SAFE_INTEGER;else{const l=sY(e,n,i);let u=s[l];t&1<<l&&(u=Number.MAX_SAFE_INTEGER),o[i]=u}for(let i=0;i<o.length;i++){const l=r[i];o[i]<0&&(o[i]+=l),o[i]=fg(0,o[i],r[i])}return o}function iY(t,e,n){let s=t[e];return(n&1<<e||s==null)&&(s=1),s}function lY(t,e,n,s,r,o){let a=e[r];const i=n[r]||1;(t&1<<r||o&1<<r||a==null)&&(i>0?a=Number.MIN_SAFE_INTEGER:a=Number.MAX_SAFE_INTEGER);const l=s[r];return a<0&&(a+=l),a=fg(0,a,l-1),a}function uY(t,e,n,s,r,o){let a=e[r];const i=n[r]||1;(t&1<<r||o&1<<r||a==null)&&(i>0?a=Number.MAX_SAFE_INTEGER:a=Number.MIN_SAFE_INTEGER);const l=s[r];return a<0&&(a+=l),i>0?a=fg(0,a,l):a=fg(-1,a,l-1),a}function yOt(t,e,n){let s=n.length;for(let r=0;r<n.length;r++)if(n[r]>1){s=r;break}for(let r=s+1;r<n.length;r++)if(e[r]>0||n[r]!==t[r])return!1;return!0}function bOt(t,e){let n=t.length>0?t[t.length-1]:1;for(let s=0;s<t.length-1;s++)n+=t[s]*e[s];return n}function wOt(t,e,n){let s;const r=t.shape.length;typeof e=="number"?s=[e,...new Array(r-1).fill(0)]:e.length<r?s=e.concat(new Array(r-e.length).fill(0)):s=e.slice(),s.forEach(a=>{le(a!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(r).fill(-1):typeof n=="number"?o=[n,...new Array(r-1).fill(-1)]:n.length<r?o=n.concat(new Array(r-n.length).fill(-1)):o=n,o=o.map((a,i)=>a>=0?a:(le(a===-1,()=>`Negative size values should be exactly -1 but got ${a} for the slice() size at index ${i}.`),t.shape[i]-s[i])),[s,o]}function _Ot(t,e,n,s,r,o,a,i,l){let u;if(s==null?(u=new Array(e.length),u.fill(1)):u=s,a!=null&&(a&a-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:u.slice(),beginMask:r,endMask:o,ellipsisMask:a,newAxisMask:i,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)c&&(1<<b&i)!==0&&d.numAddAxisAfterEllipsis++,1<<b&a&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const f={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};$Ot(d,f);let h=!0,p=!0,m=!0;const g=[],y=[];for(let b=0;b<t.length;++b){if(f.strides[b]===0)throw Error(`strides[${b}] must be non-zero`);const _=!!(f.shrinkAxisMask&1<<b),$=t[b];if($===-1){g.push(_?1:-1);continue}const x=[f.beginMask&1<<b,f.endMask&1<<b],k=[f.strides[b]>0?0:-1,f.strides[b]>0?$:$-1];if(_&&f.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&f.strides[b]===1;const C=!!(f.beginMask&1<<b&&f.endMask&1<<b);if(f.beginValid&&f.endValid){if(_){const R=f.begin[b]<0?$+f.begin[b]:f.begin[b];if(f.begin[b]=R,f.end[b]=f.begin[b]+1,R<0||R>=$)throw Error(`slice index ${f.begin[b]} of dimension ${b} out of bounds.`)}else f.begin[b]=C9(f.begin[b],0,f.strides[b],$,x,k),f.end[b]=C9(f.end[b],1,f.strides[b],$,x,k);const M=f.strides[b]===1&&f.begin[b]===0&&f.end[b]===$;h=h&&M,p=p&&(b===0&&f.strides[b]===1||M)}else h=h&&f.strides[b]===1&&C,p=p&&(b===0&&f.strides[b]===1||C);let T,N=!1;if(f.beginValid&&f.endValid?(T=f.end[b]-f.begin[b],N=!0):_?(T=1,N=!0):C&&$>=0&&(f.strides[b]<0?T=-$:T=$,N=!0),N){let M;T===0||T<0!=f.strides[b]<0?M=0:M=Math.trunc(T/f.strides[b])+(T%f.strides[b]!==0?1:0),g.push(M)}else g.push(-1)}for(let b=0;b<f.finalShapeGatherIndices.length;++b){const _=f.finalShapeGatherIndices[b];_>=0?y.push(g[_]):_===yS&&y.push(1)}return{finalShapeSparse:y.filter((b,_)=>f.finalShapeGatherIndices[_]!==yS),finalShape:y,isIdentity:h,sliceDim0:p,isSimpleSlice:m,begin:f.begin,end:f.end,strides:f.strides}}function $Ot(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let s=0;s<t.dims;s++)if(1<<s&t.ellipsisMask){const r=Math.min(e.dims-(t.dims-s)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<r;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=s}else if(1<<s&t.newAxisMask)e.finalShapeGatherIndices.push(yS),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[s]),t.end!=null&&(e.end[n]=t.end[s]),e.strides[n]=t.strides[s],t.beginMask&1<<s&&(e.beginMask|=1<<n),t.endMask&1<<s&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<s?(e.finalShapeGatherIndices.push(hOt),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(s)),e.inputShapeGatherIndicesSparse[n]=s,n++}}function C9(t,e,n,s,r,o){if(r[e])return n>0?o[e]:o[e+1&1];{const a=t<0?s+t:t;return a<o[0]?o[0]:a>o[1]?o[1]:a}}const cY=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:pOt,maskToAxes:mOt,computeOutShape:gOt,stridesWithElidedDims:nY,getNormalizedAxes:vOt,startIndicesWithElidedDims:oY,stopIndicesWithElidedDims:aY,stridesForAxis:iY,startForAxis:lY,stopForAxis:uY,isSliceContinous:yOt,computeFlatOffset:bOt,parseSliceParams:wOt,sliceInfo:_Ot},Symbol.toStringTag,{value:"Module"}));class dY{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class $u{constructor(){this.classNameMap={}}static getMap(){return $u.instance==null&&($u.instance=new $u),$u.instance}static register(e){$u.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function wc(t){le(t.className!=null,()=>"Class being registered does not have the static className property defined."),le(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),le(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),$u.register(t)}const xOt=Object.freeze(Object.defineProperty({__proto__:null,Serializable:dY,SerializationMap:$u,registerClass:wc},Symbol.toStringTag,{value:"Module"}));const SOt=.001,fY=.1;function COt(t,e,n){return n==null&&(n=nI()),bS(t,e,(s,r)=>sI(s,r,n))}function nI(){return ke.backend.floatPrecision()===32?SOt:fY}function bS(t,e,n){let s=!0;if((pr(t)||pr(e))&&(s=!1),pr(t)&&pr(e)&&(s=!0),s){const a=t.constructor.name,i=e.constructor.name;if(a!==i)throw new Error(`Arrays are of different type. Actual: ${a}. Expected: ${i}`)}if(Array.isArray(t)&&Array.isArray(e)){const a=Gi(t),i=Gi(e);if(!Ui(a,i))throw new Error(`Arrays have different shapes. Actual: [${a}]. Expected: [${i}]`)}const r=pr(t)?t:Vd(t),o=pr(e)?e:Vd(e);if(r.length!==o.length)throw new Error(`Arrays have different lengths actual: ${r.length} vs expected: ${o.length}.
Actual:   ${r}.
Expected: ${o}.`);for(let a=0;a<o.length;++a){const i=r[a],l=o[a];if(!n(i,l))throw new Error(`Arrays differ: actual[${a}] = ${i}, expected[${a}] = ${l}.
Actual:   ${r}.
Expected: ${o}.`)}typeof expect<"u"&&expect().nothing()}function kOt(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function TOt(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return Eu(t)||Eu(t[0])||Eu(e)||Eu(e[0])?bS(t,n,(s,r)=>s==r):bS(t,e,(s,r)=>sI(s,r,0))}function NOt(t,e,n){if(n==null&&(n=nI()),!sI(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function sI(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function EOt(t,e,n){for(let s=0;s<t.length;s++)if(t[s]<e||t[s]>n)throw new Error(`Value out of range:${t[s]} low: ${e}, high: ${n}`)}function IOt(t,e){const n=new Float32Array(t),s=new Float32Array(e);if(n.length!==s.length)throw new Error(`Expected ArrayBuffer to be of length ${s.length}, but it was ${n.length}`);for(let r=0;r<s.length;r++)if(n[r]!==s[r])throw new Error(`Expected ArrayBuffer value at ${r} to be ${s[r]} but got ${n[r]} instead`)}function hY(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?hY(n):t[e]=O2(n)}return t}function AOt(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",s=>n(e)),e.load()})}async function OOt(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const ROt=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:fY,expectArraysClose:COt,testEpsilon:nI,expectPromiseToFail:kOt,expectArraysEqual:TOt,expectNumbersClose:NOt,expectValuesInRange:EOt,expectArrayBuffersEqual:IOt,encodeStrings:hY,createVideoElement:AOt,play:OOt},Symbol.toStringTag,{value:"Module"}));const DOt="3.21.0";function FOt(t,e){let n=ne(t,"a","add"),s=ne(e,"b","add");[n,s]=fs(n,s);const r={a:n,b:s};return ke.runKernel(LE,r)}const Wt=Ce({add_:FOt});function MOt(t,e){let n=ne(t,"a","floorDiv"),s=ne(e,"b","floorDiv");[n,s]=fs(n,s);const r={a:n,b:s};return ke.runKernel(BK,r)}const rI=Ce({floorDiv_:MOt});function POt(t,e){let n=ne(t,"a","div"),s=ne(e,"b","div");if([n,s]=fs(n,s),n.dtype==="int32"&&s.dtype==="int32")return rI(n,s);const r={a:n,b:s},o={};return ke.runKernel(NK,r,o)}const In=Ce({div_:POt});function LOt(t,e){let n=ne(t,"a","mul"),s=ne(e,"b","mul");[n,s]=fs(n,s);const r={a:n,b:s};return ke.runKernel(yq,r)}const gt=Ce({mul_:LOt});function zOt(t){const e=ne(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return ke.runKernel(uK,n)}else{const n={x:e};return ke.runKernel(Vj,n)}}const co=Ce({abs_:zOt});function BOt(t){const n={x:ne(t,"x","acos")};return ke.runKernel(Hj,n)}const pY=Ce({acos_:BOt});function VOt(t){const n={x:ne(t,"x","acosh")};return ke.runKernel(Wj,n)}const mY=Ce({acosh_:VOt});function HOt(t){le(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),le(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((r,o)=>ne(r,`tensors${o}`,"addN")),n=e[0];e.forEach(r=>{if(r.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(r=>{if(!Ui(r.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const s=e;return ke.runKernel(Uj,s)}const gY=Ce({addN_:HOt});function WOt(t,e=null,n=!1){const r={x:ne(t,"x","all","bool")},o={axis:e,keepDims:n};return ke.runKernel(Gj,r,o)}const vY=Ce({all_:WOt});function UOt(t,e=null,n=!1){const r={x:ne(t,"x","any","bool")},o={axis:e,keepDims:n};return ke.runKernel(jj,r,o)}const yY=Ce({any_:UOt});function GOt(t,e=0){const s={x:ne(t,"x","argMax")},r={axis:e};return ke.runKernel(Kj,s,r)}const oI=Ce({argMax_:GOt});function jOt(t,e=0){const s={x:ne(t,"x","argMin")},r={axis:e};return ke.runKernel(qj,s,r)}const bY=Ce({argMin_:jOt});function KOt(t){const n={x:ne(t,"x","asin")};return ke.runKernel(Xj,n)}const wY=Ce({asin_:KOt});function qOt(t){const n={x:ne(t,"x","asinh")};return ke.runKernel(Yj,n)}const _Y=Ce({asinh_:qOt});function XOt(t){const n={x:ne(t,"x","atan")};return ke.runKernel(Zj,n)}const $Y=Ce({atan_:XOt});function YOt(t,e){let n=ne(t,"a","atan2"),s=ne(e,"b","atan2");[n,s]=fs(n,s);const r={a:n,b:s};return ke.runKernel(Qj,r)}const xY=Ce({atan2_:YOt});function ZOt(t){const n={x:ne(t,"x","atanh")};return ke.runKernel(Jj,n)}const SY=Ce({atanh_:ZOt});function JOt(t,e,n,s,r="NHWC",o){const a=t[3],i=[...e,a],l=TY(r);return F2(t,i,n,o,s,null,null,l)}function CY(t,e,n,s,r,o,a="channelsLast"){const[i,l]=Db(e);let u;if(a==="channelsLast")u=[i,l,t[3],t[3]];else if(a==="channelsFirst")u=[i,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return F2(t,u,n,s,r,o,!1,a)}function QOt(t,e,n,s,r,o,a="NDHWC"){const[i,l,u]=wS(e);let c,d;if(a==="NDHWC")d="channelsLast",c=[i,l,u,t[4],t[4]];else if(a==="NCDHW")d="channelsFirst",c=[i,l,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${a}`);return kY(t,c,n,s,r,!1,d,o)}function F2(t,e,n,s,r,o,a=!1,i="channelsLast"){let[l,u,c,d]=[-1,-1,-1,-1];if(i==="channelsLast")[l,u,c,d]=t;else if(i==="channelsFirst")[l,d,u,c]=t;else throw new Error(`Unknown dataFormat ${i}`);const[f,h,,p]=e,[m,g]=Db(n),[y,w]=Db(s),b=eh(f,y),_=eh(h,w),{padInfo:$,outHeight:x,outWidth:k}=nRt(r,u,c,m,g,b,_,o,i),C=a?p*d:p;let T;return i==="channelsFirst"?T=[l,C,x,k]:i==="channelsLast"&&(T=[l,x,k,C]),{batchSize:l,dataFormat:i,inHeight:u,inWidth:c,inChannels:d,outHeight:x,outWidth:k,outChannels:C,padInfo:$,strideHeight:m,strideWidth:g,filterHeight:f,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:_,dilationHeight:y,dilationWidth:w,inShape:t,outShape:T,filterShape:e}}function kY(t,e,n,s,r,o=!1,a="channelsLast",i){let[l,u,c,d,f]=[-1,-1,-1,-1,-1];if(a==="channelsLast")[l,u,c,d,f]=t;else if(a==="channelsFirst")[l,f,u,c,d]=t;else throw new Error(`Unknown dataFormat ${a}`);const[h,p,m,,g]=e,[y,w,b]=wS(n),[_,$,x]=wS(s),k=eh(h,_),C=eh(p,$),T=eh(m,x),{padInfo:N,outDepth:M,outHeight:R,outWidth:D}=sRt(r,u,c,d,y,w,b,k,C,T,i),z=o?g*f:g;let B;return a==="channelsFirst"?B=[l,z,M,R,D]:a==="channelsLast"&&(B=[l,M,R,D,z]),{batchSize:l,dataFormat:a,inDepth:u,inHeight:c,inWidth:d,inChannels:f,outDepth:M,outHeight:R,outWidth:D,outChannels:z,padInfo:N,strideDepth:y,strideHeight:w,strideWidth:b,filterDepth:h,filterHeight:p,filterWidth:m,effectiveFilterDepth:k,effectiveFilterHeight:C,effectiveFilterWidth:T,dilationDepth:_,dilationHeight:$,dilationWidth:x,inShape:t,outShape:B,filterShape:e}}function eRt(t,e,n,s,r){s==null&&(s=aI(t,e,n));const o=t[0],a=t[1],i=pd((o-e+2*s)/n+1,r),l=pd((a-e+2*s)/n+1,r);return[i,l]}function tRt(t,e,n,s,r,o){r==null&&(r=aI(t,e,s));const a=t[0],i=t[1],l=t[2],u=pd((a-e+2*r)/s+1,o),c=pd((i-e+2*r)/s+1,o),d=pd((l-e+2*r)/s+1,o);return[u,c,d,n]}function aI(t,e,n,s=1){const r=eh(e,s);return Math.floor((t[0]*(n-1)-n+r)/2)}function Db(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function wS(t){return typeof t=="number"?[t,t,t]:t}function eh(t,e){return e<=1?t:t+(t-1)*(e-1)}function nRt(t,e,n,s,r,o,a,i,l){let u,c,d;if(typeof t=="number"){u={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const h=eRt([e,n],o,s,t,i);c=h[0],d=h[1]}else if(t==="same"){c=Math.ceil(e/s),d=Math.ceil(n/r);const f=Math.max(0,(c-1)*s+o-e),h=Math.max(0,(d-1)*r+a-n),p=Math.floor(f/2),m=f-p,g=Math.floor(h/2),y=h-g;u={top:p,bottom:m,left:g,right:y,type:"SAME"}}else if(t==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/s),d=Math.ceil((n-a+1)/r);else if(typeof t=="object"){const f=l==="channelsLast"?t[1][0]:t[2][0],h=l==="channelsLast"?t[1][1]:t[2][1],p=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];u={top:f,bottom:h,left:p,right:m,type:f===0&&h===0&&p===0&&m===0?"VALID":"EXPLICIT"},c=pd((e-o+f+h)/s+1,i),d=pd((n-a+p+m)/r+1,i)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:u,outHeight:c,outWidth:d}}function sRt(t,e,n,s,r,o,a,i,l,u,c){let d,f,h,p;if(typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const g=tRt([e,n,s,1],i,1,r,t,c);f=g[0],h=g[1],p=g[2]}else if(t==="same"){f=Math.ceil(e/r),h=Math.ceil(n/o),p=Math.ceil(s/a);const m=(f-1)*r+i-e,g=(h-1)*o+l-n,y=(p-1)*a+u-s,w=Math.floor(m/2),b=m-w,_=Math.floor(g/2),$=g-_,x=Math.floor(y/2),k=y-x;d={top:_,bottom:$,left:x,right:k,front:w,back:b,type:"SAME"}}else if(t==="valid")d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-i+1)/r),h=Math.ceil((n-l+1)/o),p=Math.ceil((s-u+1)/a);else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:f,outHeight:h,outWidth:p}}function pd(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function yg(t){const[e,n,s]=Db(t);return e===1&&n===1&&s===1}function nu(t,e){return yg(t)||yg(e)}function TY(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Aa(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")le(zh(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(s=>{s.forEach(r=>{le(zh(r),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${r}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}function rRt(t,e){const s={x:ne(t,"x","reshape","string_or_numeric")},r={shape:e};return ke.runKernel(Pq,s,r)}const Ze=Ce({reshape_:rRt});function oRt(t,e,n,s,r){const o=ne(t,"x","avgPool","float32"),a=1;le(nu(n,a),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`);let i=o,l=!1;o.rank===3&&(l=!0,i=Ze(o,[1,o.shape[0],o.shape[1],o.shape[2]])),le(i.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`),Aa("avgPool",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r};let d=ke.runKernel(eK,u,c);return d=es(d,o.dtype),l?Ze(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const iI=Ce({avgPool_:oRt});function aRt(t,e,n,s,r,o="NDHWC"){const a=ne(t,"x","avgPool3d","float32");let i=a,l=!1;a.rank===4&&(l=!0,i=Ze(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),le(i.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`),le(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),Aa("avgPool3d",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r,dataFormat:o};let d=ke.runKernel(tK,u,c);return d=es(d,i.dtype),l?Ze(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const NY=Ce({avgPool3d_:aRt});function iRt(t,e=0){le(t.length>=1,()=>"Pass at least one tensor to concat");const n=gg(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return bl(n[0]);const s=n,r={axis:e};return ke.runKernel(cK,s,r)}const sr=Ce({concat_:iRt});function lRt(t){const n={x:ne(t,"x","sigmoid","float32")};return ke.runKernel(Jq,n)}const Bu=Ce({sigmoid_:lRt});function uRt(t,e,n){const s=ne(t,"x","slice","string_or_numeric");if(s.rank===0)throw new Error("Slicing scalar is not possible");const r={x:s},o={begin:e,size:n};return ke.runKernel(qq,r,o)}const Mn=Ce({slice_:uRt});function cRt(t){const n={x:ne(t,"x","tanh","float32")};return ke.runKernel(vX,n)}const Fb=Ce({tanh_:cRt});function dRt(t,e,n,s,r,o){const a=ne(t,"forgetBias","basicLSTMCell"),i=ne(e,"lstmKernel","basicLSTMCell"),l=ne(n,"lstmBias","basicLSTMCell"),u=ne(s,"data","basicLSTMCell"),c=ne(r,"c","basicLSTMCell"),d=ne(o,"h","basicLSTMCell"),f=sr([u,d],1),h=Tn(f,i),p=Wt(h,l),m=p.shape[0],g=p.shape[1]/4,y=[m,g],w=Mn(p,[0,0],y),b=Mn(p,[0,g],y),_=Mn(p,[0,g*2],y),$=Mn(p,[0,g*3],y),x=Wt(gt(Bu(w),Fb(b)),gt(c,Bu(Wt(a,_)))),k=gt(Fb(x),Bu($));return[x,k]}const EY=Ce({basicLSTMCell_:dRt});function fRt(t,e,n){const s=ne(t,"x","batchToSpaceND"),r=e.reduce((i,l)=>i*l);le(s.rank>=1+e.length,()=>`input rank is ${s.rank} but should be > than blockShape.length ${e.length}`),le(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),le(s.shape[0]%r===0,()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${r}`);const o={x:s},a={blockShape:e,crops:n};return ke.runKernel(sK,o,a)}const lI=Ce({batchToSpaceND_:fRt});function hRt(t){let e;return t.rank===0||t.rank===1?e=Ze(t,[1,1,1,t.size]):t.rank===2?e=Ze(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Ze(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function pRt(t,e,n,s,r,o){o==null&&(o=.001);const a=ne(t,"x","batchNorm"),i=ne(e,"mean","batchNorm"),l=ne(n,"variance","batchNorm");let u;r!=null&&(u=ne(r,"scale","batchNorm"));let c;s!=null&&(c=ne(s,"offset","batchNorm")),le(i.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),le(c==null||i.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),le(u==null||i.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const f={x:hRt(a),scale:u,offset:c,mean:i,variance:l},h={varianceEpsilon:o},p=ke.runKernel(VK,f,h);return Ze(p,a.shape)}const M2=Ce({batchNorm_:pRt});function mRt(t,e,n,s,r,o){const a=ne(t,"x","batchNorm"),i=ne(e,"mean","batchNorm"),l=ne(n,"variance","batchNorm");let u;r!=null&&(u=ne(r,"scale","batchNorm"));let c;return s!=null&&(c=ne(s,"offset","batchNorm")),le(a.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`),le(i.rank===2||i.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${i.rank}.`),le(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&le(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&le(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),M2(a,i,l,c,u,o)}const IY=Ce({batchNorm2d_:mRt});function gRt(t,e,n,s,r,o){const a=ne(t,"x","batchNorm"),i=ne(e,"mean","batchNorm"),l=ne(n,"variance","batchNorm");let u;r!=null&&(u=ne(r,"scale","batchNorm"));let c;return s!=null&&(c=ne(s,"offset","batchNorm")),le(a.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`),le(i.rank===3||i.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${i.rank}.`),le(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&le(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&le(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),M2(a,i,l,c,u,o)}const AY=Ce({batchNorm3d_:gRt});function vRt(t,e,n,s,r,o){const a=ne(t,"x","batchNorm"),i=ne(e,"mean","batchNorm"),l=ne(n,"variance","batchNorm");let u;r!=null&&(u=ne(r,"scale","batchNorm"));let c;return s!=null&&(c=ne(s,"offset","batchNorm")),le(a.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`),le(i.rank===4||i.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${i.rank}.`),le(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&le(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&le(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),M2(a,i,l,c,u,o)}const OY=Ce({batchNorm4d_:vRt});function yRt(t,e,n){const s=ne(t,"x","bincount"),r=ne(e,"weights","bincount");le(s.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${s.dtype}`),le(n>=0,()=>`size must be non-negative, but got ${n}.`),le(r.size===s.size||r.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${s.shape}, weights shape: ${r.shape}.`);const o={x:s,weights:r},a={size:n};return ke.runKernel(rK,o,a)}const uI=Ce({bincount_:yRt});function bRt(t,e){const n=ne(t,"s0","broadcastArgs","int32"),s=ne(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(s.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${s.rank}`);const r={s0:n,s1:s};return ke.runKernel(oK,r)}const RY=Ce({broadcastArgs_:bRt});function wRt(t,e){let n=ne(t,"broadcastTo","x");const s=n.shape;if(e.some(u=>!(u>0)||u%1!==0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const u=n.shape.slice();for(;u.length<e.length;)u.unshift(1);n=Ze(n,u)}const r=n.shape,o=Array.from(e);for(let u=e.length-1;u>=0;u--)if(r[u]===e[u])o[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${e}].`);if(o.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return bl(n);const i={x:n},l={reps:o};return ke.runKernel(VE,i,l)}const v0=Ce({broadcastTo_:wRt});function _Rt(t){const n={x:ne(t,"x","ceil","float32")};return ke.runKernel(aK,n)}const DY=Ce({ceil_:_Rt});function _m(t,e,n){const s={shape:t,value:e,dtype:n};return ke.runKernel(PK,{},s)}function $Rt(t,e,n){const s=ne(t,"x","clipByValue");if(le(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return _m(s.shape,e,s.dtype);const r={x:s},o={clipValueMin:e,clipValueMax:n};return ke.runKernel(iK,r,o)}const FY=Ce({clipByValue_:$Rt});function xRt(t){return sr(t,0)}const MY=Ce({concat1d_:xRt});function SRt(t,e){return sr(t,e)}const PY=Ce({concat2d_:SRt});function CRt(t,e){return sr(t,e)}const LY=Ce({concat3d_:CRt});function kRt(t,e){return sr(t,e)}const zY=Ce({concat4d_:kRt});function TRt(t,e,n,s,r="NHWC",o=[1,1],a){const i=ne(t,"x","conv2d","float32"),l=ne(e,"filter","conv2d","float32");let u=i,c=!1;i.rank===3&&(c=!0,u=Ze(i,[1,i.shape[0],i.shape[1],i.shape[2]])),le(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),le(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),Aa("conv2d",s,a);const d=r==="NHWC"?u.shape[3]:u.shape[1];le(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),le(nu(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const f={x:u,filter:l},h={strides:n,pad:s,dataFormat:r,dilations:o,dimRoundingMode:a},p=ke.runKernel(dK,f,h);return c?Ze(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const P2=Ce({conv2d_:TRt});function NRt(t,e,n,s,r="NWC",o=1,a){const i=ne(t,"x","conv1d"),l=ne(e,"filter","conv1d");let u=i,c=!1;i.rank===2&&(c=!0,u=Ze(i,[1,i.shape[0],i.shape[1]])),le(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),le(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),Aa("conv1d",s,a),le(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),le(nu(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),le(r==="NWC",()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);const d=Ze(l,[1,l.shape[0],l.shape[1],l.shape[2]]),f=Ze(u,[u.shape[0],1,u.shape[1],u.shape[2]]),g=P2(f,d,[1,n],s,"NHWC",[1,o],a);return c?Ze(g,[g.shape[2],g.shape[3]]):Ze(g,[g.shape[0],g.shape[2],g.shape[3]])}const BY=Ce({conv1d_:NRt});function ERt(t,e,n,s,r,o="NHWC",a){le(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,l=e,u=!1;e.rank===3&&(u=!0,l=Ze(e,[1,e.shape[0],e.shape[1],e.shape[2]]),i=[1,t[0],t[1],t[2]]),le(i.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`),le(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),le(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=o==="NHWC"?i[3]:i[1],d=o==="NHWC"?l.shape[3]:l.shape[1];le(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),le(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),Aa("conv2dDerInput",r,a);const f={dy:l,filter:n},h={strides:s,pad:r,dataFormat:o,dimRoundingMode:a,inputShape:i},p=ke.runKernel(hK,f,h);return u?Ze(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const VY=Ce({conv2DBackpropInput_:ERt});function IRt(t,e,n,s,r,o){const a=ne(t,"x","conv2dTranspose"),i=ne(e,"filter","conv2dTranspose");return VY(n,a,i,s,r,"NHWC",o)}const HY=Ce({conv2dTranspose_:IRt});function ARt(t,e,n,s,r="NDHWC",o=[1,1,1]){const a=ne(t,"x","conv3d"),i=ne(e,"filter","conv3d");let l=a,u=!1;a.rank===4&&(u=!0,l=Ze(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),le(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),le(i.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`),le(l.shape[4]===i.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${i.shape[3]}.`),le(nu(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),le(r==="NDHWC",()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`);const c={x:l,filter:i},d={strides:n,pad:s,dataFormat:r,dilations:o},f=ke.runKernel(pK,c,d);return u?Ze(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const WY=Ce({conv3d_:ARt});function ORt(t,e,n,s,r){le(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,a=e,i=!1;e.rank===4&&(i=!0,a=Ze(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);const l=o[4],u=a.shape[4];le(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),le(a.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`),le(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),le(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),le(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:a,filter:n},d={pad:r,strides:s,inputShape:o},f=ke.runKernel(mK,c,d);return i?Ze(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const RRt=Ce({conv3DBackpropInput_:ORt});function DRt(t,e,n,s,r){const o=ne(t,"x","conv3dTranspose"),a=ne(e,"filter","conv3dTranspose");return RRt(n,o,a,s,r)}const UY=Ce({conv3dTranspose_:DRt});function FRt(t){const n={x:ne(t,"x","cos","float32")};return ke.runKernel(gK,n)}const GY=Ce({cos_:FRt});function MRt(t){const n={x:ne(t,"x","cosh","float32")};return ke.runKernel(vK,n)}const jY=Ce({cosh_:MRt});function PRt(t,e=0,n=!1,s=!1){const o={x:ne(t,"x","cumprod")},a={axis:e,exclusive:n,reverse:s};return ke.runKernel(yK,o,a)}const KY=Ce({cumprod_:PRt});function LRt(t,e=0,n=!1,s=!1){const o={x:ne(t,"x","cumsum")},a={axis:e,exclusive:n,reverse:s};return ke.runKernel(bK,o,a)}const qY=Ce({cumsum_:LRt});function zRt(t,e,n,s=!1){const r=ne(t,"x","denseBincount"),o=ne(e,"weights","denseBincount");le(r.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),le(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),le(n>=0,()=>`size must be non-negative, but got ${n}.`),le(o.size===r.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${o.shape}.`);const a={x:r,weights:o},i={size:n,binaryOutput:s};return ke.runKernel(_K,a,i)}const XY=Ce({denseBincount_:zRt});function BRt(t,e,n="NHWC"){const s=ne(t,"x","depthToSpace","float32"),r=n==="NHWC"?s.shape[1]:s.shape[2],o=n==="NHWC"?s.shape[2]:s.shape[3],a=n==="NHWC"?s.shape[3]:s.shape[1];le(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),le(r*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${r} and ${e}  for depthToSpace with input shape
    ${s.shape}`),le(o*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${e} for depthToSpace with input shape
        ${s.shape}`),le(a%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${a} for depthToSpace with input shape ${s.shape}`);const i={x:s},l={blockSize:e,dataFormat:n};return ke.runKernel($K,i,l)}const YY=Ce({depthToSpace_:BRt});function VRt(t,e,n,s,r="NHWC",o=[1,1],a){const i=ne(t,"x","depthwiseConv2d","float32"),l=ne(e,"filter","depthwiseConv2d","float32");let u=i,c=!1;i.rank===3&&(c=!0,u=Ze(i,[1,i.shape[0],i.shape[1],i.shape[2]])),le(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),le(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=r==="NHWC"?u.shape[3]:u.shape[1];le(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),Aa("depthwiseConv2d",s,a);const f={x:u,filter:l},h={strides:n,pad:s,dataFormat:r,dilations:o,dimRoundingMode:a},p=ke.runKernel(xK,f,h);return c?Ze(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const i4=Ce({depthwiseConv2d_:VRt});function HRt(t){const n={x:ne(t,"x","diag")};return ke.runKernel(kK,n)}const ZY=Ce({diag_:HRt});function WRt(t,e,n,s,r=[1,1],o="NHWC"){const a=ne(t,"x","dilation2d"),i=ne(e,"filter","dilation2d");le(a.rank===3||a.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`),le(i.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`),le(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let l=a,u=!1;a.rank===3&&(l=Ze(a,[1,a.shape[0],a.shape[1],a.shape[2]]),u=!0);const c={x:l,filter:i},d={strides:n,pad:s,dilations:r},f=ke.runKernel(TK,c,d);return u?Ze(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const JY=Ce({dilation2d_:WRt});function URt(t,e){let n=ne(t,"a","equal","string_or_numeric"),s=ne(e,"b","equal","string_or_numeric");[n,s]=fs(n,s),Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(OK,r)}const cI=Ce({equal_:URt});function GRt(t,e,n){const s=ne(e,"a","where"),r=ne(n,"b","where"),o=ne(t,"condition","where","bool"),a=Ns(Ns(o.shape,s.shape),r.shape),i=v0(o,a),l=v0(s,a),u=v0(r,a),c={condition:i,t:l,e:u};return ke.runKernel(jq,c)}const jd=Ce({where_:GRt});function jRt(t){const n={x:ne(t,"x","zerosLike")};return ke.runKernel(xX,n)}const bo=Ce({zerosLike_:jRt});function KRt(t,e){let n=ne(t,"a","div"),s=ne(e,"b","div");[n,s]=fs(n,s);const r=In(n,s),o=bo(r),a=cI(s,o);return jd(a,o,r)}const QY=Ce({divNoNan_:KRt});function qRt(t,e){const n=ne(t,"t1","dot"),s=ne(e,"t2","dot");le((n.rank===1||n.rank===2)&&(s.rank===1||s.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${s.rank}.`);const r=n.rank===1?n.size:n.shape[1],o=s.rank===1?s.size:s.shape[0];if(le(r===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${o}.`),n.rank===1&&s.rank===1){const a=Ze(n,[1,-1]),i=Ze(s,[-1,1]),l=Tn(a,i);return Ze(l,[])}else if(n.rank===1&&s.rank===2){const a=Ze(n,[1,-1]),i=Ze(s,[s.shape[0],s.shape[1]]),l=Tn(a,i);return Ze(l,[l.size])}else if(n.rank===2&&s.rank===1){const a=Ze(s,[-1,1]),i=Tn(n,a);return Ze(i,[i.size])}else{const a=Ze(s,[s.shape[0],s.shape[1]]);return Tn(n,a)}}const eZ=Ce({dot_:qRt});function XRt(t,...e){const n=e.map((r,o)=>ne(r,`tensors${o}`,"einsum")),s={equation:t};return ke.runKernel(EK,n,s)}const tZ=Ce({einsum_:XRt});function YRt(t){const n={x:ne(t,"x","elu","float32")};return ke.runKernel(IK,n)}const dI=Ce({elu_:YRt});function ZRt(t){let e=ne(t,"x","erf");le(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=es(e,"float32"));const n={x:e};return ke.runKernel(AK,n)}const nZ=Ce({erf_:ZRt});function fI(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function sZ(t,e,n){const s=t.length+e.length,r=[];let o=0,a=0;for(let i=0;i<s;i++)n.indexOf(i)===-1?r.push(t[o++]):r.push(e[a++]);return r}function JRt(t,e){const n=[],s=t.length;for(let o=0;o<s;o++)e.indexOf(o)===-1&&n.push(t[o]);const r=e.map(o=>t[o]);return[n,r]}function L2(t,e){const n=e.map(s=>1);return sZ(t,n,e)}function QRt(t,e,n){le(fI(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function eDt(t,e){if(fI(t,e))return null;const n=[];for(let s=0;s<e;++s)t.indexOf(s)===-1&&n.push(s);return t.forEach(s=>n.push(s)),n}function tDt(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function nDt(t,e){const n=[];for(let s=e-t;s<e;++s)n.push(s);return n}function sDt(t,e=null,n=!1){const r={x:ne(t,"x","max")},o={reductionIndices:e,keepDims:n};return ke.runKernel(iq,r,o)}const md=Ce({max_:sDt});function rDt(t,e=null,n=!1){const r={x:ne(t,"x","min")},o={axis:e,keepDims:n};return ke.runKernel(hq,r,o)}const Mb=Ce({min_:rDt});function oDt(t,e){let n=ne(t,"base","pow"),s=ne(e,"exp","pow");[n,s]=fs(n,s);const r={a:n,b:s};return ke.runKernel(Nq,r)}const Wh=Ce({pow_:oDt});function an(t,e){if((pr(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&pr(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return bc(t,[],[],e)}function aDt(t){const n={x:ne(t,"x","sqrt","float32")};return ke.runKernel(eX,n)}const Ki=Ce({sqrt_:aDt});function iDt(t){const e=ne(t,"x","square"),n={};return ke.runKernel("Square",{x:e},n)}const ba=Ce({square_:iDt});function lDt(t,e=null,n=!1){let s=ne(t,"x","sum");s.dtype==="bool"&&(s=es(s,"int32"));const r={x:s},o={axis:e,keepDims:n};return ke.runKernel(tX,r,o)}const Wn=Ce({sum_:lDt});function uDt(t,e="euclidean",n=null,s=!1){t=ne(t,"x","norm");const r=rZ(t,e,n);let o=r.shape;if(s){const a=I2(n,t.shape);o=L2(r.shape,a)}return Ze(r,o)}function rZ(t,e,n=null){if(t.rank===0)return co(t);if(t.rank!==1&&n===null)return rZ(Ze(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Wn(co(t),n);if(e===1/0)return md(co(t),n);if(e===-1/0)return Mb(co(t),n);if(e==="euclidean"||e===2)return Ki(Wn(Wh(co(t),an(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return md(Wn(co(t),n[0]),n[1]-1);if(e===1/0)return md(Wn(co(t),n[1]),n[0]);if(e===-1/0)return Mb(Wn(co(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Ki(Wn(ba(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const z2=Ce({norm_:uDt});function cDt(t,e=null,n=!1){return z2(t,"euclidean",e,n)}const oZ=Ce({euclideanNorm_:cDt});function dDt(t){const n={x:ne(t,"x","exp")};return ke.runKernel(RK,n)}const rc=Ce({exp_:dDt});function fDt(t,e=0){const n=ne(t,"x","expandDims","string_or_numeric");le(e<=n.rank,()=>"Axis must be <= rank of the tensor");const s={input:n},r={dim:e};return ke.runKernel(DK,s,r)}const Va=Ce({expandDims_:fDt});function hDt(t){const n={x:ne(t,"x","expm1")};return ke.runKernel(FK,n)}const aZ=Ce({expm1_:hDt});function pDt(t,e){const n=ne(t,"x","tile","string_or_numeric");le(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const s={x:n},r={reps:e};return ke.runKernel(VE,s,r)}const th=Ce({tile_:pDt});function mDt(t,e,n,s="float32"){e==null&&(e=t);const r=ji([t,e],s),o=t<=e?t:e;for(let i=0;i<o;++i)r.set(1,i,i);const a=Ze(r.toTensor(),[t,e]);if(n==null)return a;if(n.length===1)return th(Va(a,0),[n[0],1,1]);if(n.length===2)return th(Va(Va(a,0),0),[n[0],n[1],1,1]);if(n.length===3)return th(Va(Va(Va(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const hI=Ce({eye_:mDt});function gDt(t){const n={x:ne(t,"x","floor","float32")};return ke.runKernel(zK,n)}const pI=Ce({floor_:gDt});function vDt(t,e,n=0,s=0){const r=ne(t,"x","gather"),o=ne(e,"indices","gather","int32"),a={x:r,indices:o},i={axis:n,batchDims:s};return ke.runKernel(HK,a,i)}const mI=Ce({gather_:vDt});function yDt(t,e){let n=ne(t,"a","greater","string_or_numeric"),s=ne(e,"b","greater","string_or_numeric");[n,s]=fs(n,s),Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(UK,r)}const B2=Ce({greater_:yDt});function bDt(t,e){let n=ne(t,"a","greaterEqual","string_or_numeric"),s=ne(e,"b","greaterEqual","string_or_numeric");[n,s]=fs(n,s),Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(GK,r)}const gI=Ce({greaterEqual_:bDt});function wDt(t){const n={x:ne(t,"x","isFinite")};return ke.runKernel(qK,n)}const iZ=Ce({isFinite_:wDt});function _Dt(t){const n={x:ne(t,"x","isInf")};return ke.runKernel(XK,n)}const lZ=Ce({isInf_:_Dt});function $Dt(t){const n={x:ne(t,"x","isNaN")};return ke.runKernel(YK,n)}const uZ=Ce({isNaN_:$Dt});function xDt(t,e=.2){const s={x:ne(t,"x","leakyRelu")},r={alpha:e};return ke.runKernel(ZK,s,r)}const vI=Ce({leakyRelu_:xDt});function SDt(t,e){let n=ne(t,"a","less","string_or_numeric"),s=ne(e,"b","less","string_or_numeric");[n,s]=fs(n,s),Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(JK,r)}const cZ=Ce({less_:SDt});function CDt(t,e){let n=ne(t,"a","lessEqual","string_or_numeric"),s=ne(e,"b","lessEqual","string_or_numeric");[n,s]=fs(n,s),Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(QK,r)}const l4=Ce({lessEqual_:CDt});function dZ(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const s={start:t,stop:e,num:n};return ke.runKernel(eq,{},s)}function kDt(t,e=5,n=1,s=1,r=.5){const o=ne(t,"x","localResponseNormalization");le(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),le(zh(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let a=o,i=!1;o.rank===3&&(i=!0,a=Ze(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:a},u={depthRadius:e,bias:n,alpha:s,beta:r},c=ke.runKernel(aq,l,u);return i?Ze(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const fZ=Ce({localResponseNormalization_:kDt});function TDt(t){const n={x:ne(t,"x","log","float32")};return ke.runKernel(tq,n)}const Uh=Ce({log_:TDt});function NDt(t){const n={x:ne(t,"x","log1p")};return ke.runKernel(nq,n)}const yI=Ce({log1p_:NDt});function EDt(t){return le(sc(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const s=ne(e,"x","tf.grad","string_or_numeric"),r=n!=null?ne(n,"dy","tf.grad"):null;return ke.tidy(()=>{const{value:o,grads:a}=ke.gradients(()=>t(s),[s],r);return r!=null&&Br(o.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),u4(a),a[0]})}}function IDt(t){return le(sc(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{le(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const s=gg(e,"args","tf.grads","string_or_numeric"),r=n!=null?ne(n,"dy","tf.grads"):null;return ke.tidy(()=>{const{value:o,grads:a}=ke.gradients(()=>t(...s),s,r);return r!=null&&Br(o.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),u4(a),a})}}function ADt(t){return le(sc(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{le(e instanceof os,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),le(n==null||n instanceof os,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:s,value:r}=ke.gradients(()=>t(e),[e],n);return u4(s),{grad:s[0],value:r}}}function ODt(t){return le(sc(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{le(Array.isArray(e)&&e.every(r=>r instanceof os),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),le(n==null||n instanceof os,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const s=ke.gradients(()=>t(...e),e,n);return n!=null&&Br(s.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),u4(s.grads),s}}function hZ(t,e){le(sc(t),()=>"The f passed in variableGrads(f) must be a function"),le(e==null||Array.isArray(e)&&e.every(u=>u instanceof mg),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const u in ke.registeredVariables)e.push(ke.registeredVariables[u])}const s=n?e.filter(u=>!u.trainable):null,r=e.length;e=e.filter(u=>u.trainable),le(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);const o=!0,{value:a,grads:i}=ke.gradients(t,e,null,o);le(i.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),le(a.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`);const l={};return e.forEach((u,c)=>{i[c]!=null&&(l[u.name]=i[c])}),s!=null&&s.forEach(u=>l[u.name]=null),{value:a,grads:l}}function qi(t){return ke.customGrad(t)}function u4(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function RDt(t){const n={x:ne(t,"x","softplus")};return ke.runKernel(Qq,n)}const bI=Ce({softplus_:RDt});function DDt(t){const e=ne(t,"x","logSigmoid");return qi(s=>({value:Pi(bI(Pi(s))),gradFunc:a=>gt(a,Bu(Pi(s)))}))(e)}const pZ=Ce({logSigmoid_:DDt});function FDt(t,e){let n=ne(t,"a","sub"),s=ne(e,"b","sub");[n,s]=fs(n,s);const r={a:n,b:s};return ke.runKernel(mX,r)}const rn=Ce({sub_:FDt});function MDt(t,e=-1){const n=ne(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return qi((r,o)=>{const i=md(r,e,!0),l=rn(r,i),u=rn(es(l,"float32"),Uh(Wn(rc(l),e,!0)));return o([u]),{value:u,gradFunc:(d,f)=>{const[h]=f,p=!0,m=rc(h);return rn(d,gt(Wn(d,e,p),m))}}})(n)}const mZ=Ce({logSoftmax_:MDt});function PDt(t,e=null,n=!1){const s=ne(t,"x","logSumExp"),r=I2(e,s.shape),o=md(s,r,!0),a=rn(s,o),i=rc(a),l=Wn(i,r),u=Uh(l),c=Wt(Ze(o,u.shape),u);if(n){const d=L2(c.shape,r);return Ze(c,d)}return c}const wI=Ce({logSumExp_:PDt});function LDt(t,e){const n=ne(t,"a","logicalAnd","bool"),s=ne(e,"b","logicalAnd","bool");Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(sq,r)}const bg=Ce({logicalAnd_:LDt});function zDt(t){const n={x:ne(t,"x","logicalNot","bool")};return ke.runKernel(rq,n)}const _I=Ce({logicalNot_:zDt});function BDt(t,e){const n=ne(t,"a","logicalOr","bool"),s=ne(e,"b","logicalOr","bool");Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(oq,r)}const $I=Ce({logicalOr_:BDt});function VDt(t,e){const n=ne(t,"a","logicalXor","bool"),s=ne(e,"b","logicalXor","bool");return Ns(n.shape,s.shape),bg($I(t,e),_I(bg(t,e)))}const gZ=Ce({logicalXor_:VDt});const Ov=2147483648;function HDt(t,e,n="left"){const s=ne(t,"sortedSequence","searchSorted"),r=ne(e,"values","searchSorted"),o=s.shape[s.shape.length-1],a=r.shape[r.shape.length-1],i=Ze(s,[-1,o]),l=Ze(r,[-1,a]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Qn(l.shape)>=Ov)throw new Error(`values tensor size must less than ${Ov}`);if(i.shape[1]>=Ov)throw new Error(`trailing dim_size must less than ${Ov} for int32 output type, was ${i.shape[1]}`);const u={sortedSequence:i,values:l},c={side:n};return ke.runKernel(Gq,u,c)}const c4=Ce({searchSorted_:HDt});function vZ(t,e){return c4(t,e,"left")}function WDt(t,e,n,s,r){const o=ne(t,"x","maxPool"),a=1;let i=o,l=!1;o.rank===3&&(l=!0,i=Ze(o,[1,o.shape[0],o.shape[1],o.shape[2]])),le(i.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`),le(nu(n,a),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),Aa("maxPool",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r},d=ke.runKernel(uq,u,c);return l?Ze(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const xI=Ce({maxPool_:WDt});function UDt(t,e=[1,1,1],n,s,r,o="NDHWC"){const a=ne(t,"x","maxPool3d");let i=a,l=!1;a.rank===4&&(l=!0,i=Ze(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),le(i.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`),le(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),Aa("maxPool3d",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r,dataFormat:o},d=ke.runKernel(cq,u,c);return l?Ze(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const yZ=Ce({maxPool3d_:UDt});function GDt(t,e,n,s,r=!1){const a={x:ne(t,"x","maxPoolWithArgmax")},i={filterSize:e,strides:n,pad:s,includeBatchInIndex:r},l=ke.runKernel(dq,a,i);return{result:l[0],indexes:l[1]}}const bZ=Ce({maxPoolWithArgmax_:GDt});function jDt(t,e){let n=ne(t,"a","maximum"),s=ne(e,"b","maximum");[n,s]=fs(n,s),n.dtype==="bool"&&(n=es(n,"int32"),s=es(s,"int32")),Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(lq,r)}const SI=Ce({maximum_:jDt});function KDt(t,e=null,n=!1){const r={x:ne(t,"x","mean")},o={axis:e,keepDims:n};return ke.runKernel(fq,r,o)}const wg=Ce({mean_:KDt});function Kd(t,e="float32"){if(e==="complex64"){const s=Kd(t,"float32"),r=Kd(t,"float32");return Dl(s,r)}const n=r4(Qn(t),e);return ke.makeTensor(n,t,e)}function Au(t,e="float32"){if(e==="complex64"){const s=Au(t,"float32"),r=Kd(t,"float32");return Dl(s,r)}const n=DE(Qn(t),e);return ke.makeTensor(n,t,e)}function wZ(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let s=ne(t,"x","meshgrid",t instanceof os?t.dtype:"float32");if(e===void 0)return[s];let r=ne(e,"y","meshgrid",e instanceof os?e.dtype:"float32");const o=Qn(s.shape),a=Qn(r.shape);return n==="xy"?(s=Ze(s,[1,-1]),r=Ze(r,[-1,1]),[Tn(Au([a,1],s.dtype),s),Tn(r,Au([1,o],r.dtype))]):(s=Ze(s,[-1,1]),r=Ze(r,[1,-1]),[Tn(s,Au([1,a],s.dtype)),Tn(Au([o,1],r.dtype),r)])}function qDt(t,e){let n=ne(t,"a","minimum"),s=ne(e,"b","minimum");[n,s]=fs(n,s),n.dtype==="bool"&&(n=es(n,"int32"),s=es(s,"int32")),Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(pq,r)}const CI=Ce({minimum_:qDt});function XDt(t,e,n){le(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const s=ne(t,"x","mirrorPad");if(s.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");le(e.length===s.rank,()=>`Padding doesn't match input. Must be ${s.rank}. Got ${e.length}.`);const r=n==="reflect"?1:0;for(let i=0;i<s.rank;i++)le(e[i].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),le(e[i][0]>=0&&e[i][0]<=s.shape[i]-r&&e[i][1]>=0&&e[i][1]<=s.shape[i]-r,()=>`Padding in dimension ${i} cannot be greater than or equal to ${s.shape[i]-r} or less than 0 for input of shape ${s.shape}`);const o={paddings:e,mode:n},a={x:s};return ke.runKernel(mq,a,o)}const _Z=Ce({mirrorPad_:XDt});function YDt(t,e){let n=ne(t,"a","mod"),s=ne(e,"b","mod");[n,s]=fs(n,s);const r={a:n,b:s};return ke.runKernel(gq,r)}const $Z=Ce({mod_:YDt});function ZDt(t,e=null,n=!1){t=ne(t,"x","moments");const s=I2(e,t.shape),r=wg(t,s,n);let o=r.shape;n||(o=L2(r.shape,s));const a=ba(rn(es(t,"float32"),Ze(r,o))),i=wg(a,s,n);return{mean:r,variance:i}}const xZ=Ce({moments_:ZDt});function JDt(t,e,n,s){const r=ne(e,"data","multiRNNCell"),o=gg(n,"c","multiRNNCell"),a=gg(s,"h","multiRNNCell");let i=r;const l=[];for(let d=0;d<t.length;d++){const f=t[d](i,o[d],a[d]);l.push(f[0]),l.push(f[1]),i=f[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}const SZ=Ce({multiRNNCell_:JDt});function QDt(t,e,n,s=!1){const r=ne(t,"logits","multinomial"),o=r.size,a=r.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(a>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${a}`);n=n||Math.random();const l={logits:a===1?Ze(r,[1,-1]):r},u={numSamples:e,seed:n,normalized:s},c=ke.runKernel(vq,l,u);return a===1?Ze(c,[c.size]):c}const CZ=Ce({multinomial_:QDt});function e9t(t,e){let n=ne(t,"a","notEqual","string_or_numeric"),s=ne(e,"b","notEqual","string_or_numeric");[n,s]=fs(n,s),Ns(n.shape,s.shape);const r={a:n,b:s};return ke.runKernel(wq,r)}const kI=Ce({notEqual_:e9t});function t9t(t){const n={x:ne(t,"x","onesLike")};return ke.runKernel(Sq,n)}const kZ=Ce({onesLike_:t9t});function n9t(t,e){const n=ne(t,"v1","outerProduct"),s=ne(e,"v2","outerProduct");le(n.rank===1&&s.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${s.rank}.`);const r=Ze(n,[-1,1]),o=Ze(s,[1,-1]);return Tn(r,o)}const TZ=Ce({outerProduct_:n9t});function s9t(t,e,n=0){const s=ne(t,"x","pad");if(s.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:e,constantValue:n},o={x:s};return ke.runKernel(Tq,o,r)}const $m=Ce({pad_:s9t});function r9t(t,e,n=0){return le(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),$m(t,[e],n)}const NZ=Ce({pad1d_:r9t});function o9t(t,e,n=0){return le(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),$m(t,e,n)}const EZ=Ce({pad2d_:o9t});function a9t(t,e,n=0){return le(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),$m(t,e,n)}const TI=Ce({pad3d_:a9t});function i9t(t,e,n=0){return le(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),$m(t,e,n)}const IZ=Ce({pad4d_:i9t});function l9t(t,e,n){const s=ne(t,"x","spaceToBatchND");le(s.rank>=1+e.length,()=>`input rank ${s.rank} should be > than [blockShape] ${e.length}`),le(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),le(s.shape.reduce((a,i,l)=>l>0&&l<=e.length?a&&(i+n[l-1][0]+n[l-1][1])%e[l-1]===0:a,!0),()=>`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const r={x:s},o={blockShape:e,paddings:n};return ke.runKernel(nX,r,o)}const NI=Ce({spaceToBatchND_:l9t});function u9t(t,e,n,s,r,o,a){r==null&&(r=[1,1]),o==null&&(o=1),s===0&&(s="valid");const i=ne(t,"x","maxPool");let l=i,u=!1;i.rank===3&&(u=!0,l=Ze(i,[1,i.shape[0],i.shape[1],i.shape[2]])),le(nu(o,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${r}'`);const c=CY(l.shape,e,o,r,s),d=[c.dilationHeight,c.dilationWidth];let f;s==="same"?f=d9t([c.filterHeight,c.filterWidth],d):f=[[0,0],[0,0]];const h=d[0]===1&&d[1]===1,[p,m]=c9t([c.inHeight,c.inWidth],d,f),g=h?s:"valid",y=h?l:NI(l,d,p),b=(n==="avg"?()=>iI(y,e,o,g,a):()=>xI(y,e,o,g,a))(),_=h?b:lI(b,d,m);return u?Ze(_,[_.shape[1],_.shape[2],_.shape[3]]):_}function c9t(t,e,n){const s=n.map(c=>c[0]),r=n.map(c=>c[1]),o=t.concat(s,r),a=e.map((c,d)=>(c-o[d]%c)%c),i=r.map((c,d)=>c+a[d]),l=e.map((c,d)=>[s[d],i[d]]),u=e.map((c,d)=>[0,a[d]]);return[l,u]}function d9t(t,e){const s=t.map((a,i)=>a+(a-1)*(e[i]-1)).map(a=>a-1),r=s.map(a=>Math.floor(a/2)),o=s.map((a,i)=>a-r[i]);return s.map((a,i)=>[r[i],o[i]])}const AZ=Ce({pool_:u9t});function f9t(t,e){const n=ne(t,"x","prelu"),s=ne(e,"alpha","prelu"),r={x:n,alpha:s};return ke.runKernel(Eq,r)}const EI=Ce({prelu_:f9t});function h9t(t,e=null,n=!1){let s=ne(t,"x","prod");s.dtype==="bool"&&(s=es(s,"int32"));const r={x:s},o={axis:e,keepDims:n};return ke.runKernel(Iq,r,o)}const OZ=Ce({prod_:h9t});function p9t(t,e,n,s){const r=t.map((c,d)=>ne(c,`tensors${d}`,"raggedGather","int32")),o=ne(e,"paramsDenseValues","raggedGather"),a=ne(n,"indices","raggedGather","int32"),i={paramsNestedSplits:r,paramsDenseValues:o,indices:a},l={outputRaggedRank:s},u=ke.runKernel(Aq,i,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const RZ=Ce({raggedGather_:p9t});function m9t(t,e,n,s,r){const o=ne(t,"shape","raggedTensorToTensor","int32"),a=ne(e,"values","raggedTensorToTensor"),i=ne(n,"defaultValue","raggedTensorToTensor",a.dtype),l=s.map((d,f)=>ne(d,`tensors${f}`,"raggedTensorToTensor","int32")),u={shape:o,values:a,defaultValue:i,rowPartitionTensors:l},c={rowPartitionTypes:r};return ke.runKernel(Oq,u,c)}const DZ=Ce({raggedTensorToTensor_:m9t});function g9t(t,e,n){const s=Qn(t);let r=null;if(n==null||n==="float32")r=new Float32Array(s);else if(n==="int32")r=new Int32Array(s);else if(n==="bool")r=new Uint8Array(s);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<s;o++)r[o]=e();return ke.makeTensor(r,t,n)}const FZ=Ce({rand_:g9t});class II{constructor(e,n,s,r,o){this.mean=e,this.stdDev=n,this.dtype=s,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const a=o||Math.random();this.random=Ji.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let e,n,s=!1;for(;!s;){let r,o,a;do r=2*this.random()-1,o=2*this.random()-1,a=r*r+o*o;while(a>=1||a===0);const i=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*r*i,n=this.mean+this.stdDev*o*i,(!this.truncated||this.isValidTruncated(e))&&(s=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class v9t{constructor(e,n,s,r){this.alpha=e,this.beta=1/n,this.dtype=s;const o=r||Math.random();this.randu=Ji.alea(o.toString()),this.randn=new II(0,1,s,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,s,r,o,a;for(;;){do r=this.randn.nextValue(),a=1+this.c*r;while(a<=0);if(a*=a*a,e=r*r,n=1-.331*e*e,s=.5*e+this.d*(1-a+Math.log(a)),o=this.randu(),o<n||Math.log(o)<s)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class y9t{constructor(e=0,n=1,s,r){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=s,r==null&&(r=Math.random()),typeof r=="number"&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=Ji.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}function b9t(t,e,n=1,s="float32",r){if(n==null&&(n=1),s==null&&(s="float32"),s!=="float32"&&s!=="int32")throw new Error(`Unsupported data type ${s}`);const o=new v9t(e,n,s,r),a=ji(t,s);for(let i=0;i<a.values.length;i++)a.values[i]=o.nextValue();return a.toTensor()}const MZ=Ce({randomGamma_:b9t});function w9t(t,e=0,n=1,s,r){if(s!=null&&s==="bool")throw new Error(`Unsupported data type ${s}`);const o=new II(e,n,s,!1,r),a=ji(t,s);for(let i=0;i<a.values.length;i++)a.values[i]=o.nextValue();return a.toTensor()}const AI=Ce({randomNormal_:w9t});function _9t(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return AI(t,0,1,e,n)}const PZ=Ce({randomStandardNormal_:_9t});function $9t(t,e=0,n=1,s="float32",r){const o=ji(t,s),a=new y9t(e,n,null,r);for(let i=0;i<o.values.length;i++)o.values[i]=a.nextValue();return o.toTensor()}const OI=Ce({randomUniform_:$9t});function Gh(t,e,n=1,s="float32"){if(n===0)throw new Error("Cannot have a step of zero");const r={start:t,stop:e,step:n,dtype:s};return ke.runKernel(Rq,{},r)}function x9t(t){const n={x:ne(t,"x","reciprocal")};return ke.runKernel(Fq,n)}const LZ=Ce({reciprocal_:x9t});function S9t(t){const n={x:ne(t,"x","relu")};return ke.runKernel(Mq,n)}const V2=Ce({relu_:S9t});function C9t(t){const n={x:ne(t,"x","relu6")};return ke.runKernel(Bq,n)}const RI=Ce({relu6_:C9t});function k9t(t,e){const s={x:ne(t,"x","reverse")},r={dims:e};return ke.runKernel(Vq,s,r)}const oc=Ce({reverse_:k9t});function T9t(t){const e=ne(t,"x","reverse");return le(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),oc(e,0)}const zZ=Ce({reverse1d_:T9t});function N9t(t,e){const n=ne(t,"x","reverse");return le(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),oc(n,e)}const BZ=Ce({reverse2d_:N9t});function E9t(t,e){const n=ne(t,"x","reverse");return le(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),oc(n,e)}const VZ=Ce({reverse3d_:E9t});function I9t(t,e){const n=ne(t,"x","reverse");return le(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),oc(n,e)}const HZ=Ce({reverse4d_:I9t});function A9t(t){const n={x:ne(t,"x","round")};return ke.runKernel(Hq,n)}const DI=Ce({round_:A9t});function O9t(t){const n={x:ne(t,"x","rsqrt","float32")};return ke.runKernel(Wq,n)}const WZ=Ce({rsqrt_:O9t});function R9t(t){const n={x:ne(t,"x","selu")};return ke.runKernel(Kq,n)}const UZ=Ce({selu_:R9t});function D9t(t,e,n,s,r,o=[1,1],a="NHWC"){const i=ne(t,"x","separableConv2d"),l=ne(e,"depthwiseFilter","separableConv2d"),u=ne(n,"pointwiseFilter","separableConv2d");let c=i,d=!1;if(i.rank===3&&(d=!0,c=Ze(i,[1,i.shape[0],i.shape[1],i.shape[2]])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");le(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),le(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),le(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),le(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),le(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const f=l.shape[2],h=l.shape[3];le(u.shape[2]===f*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${f*h}, but got ${u.shape[2]}.`);const p=i4(c,l,s,r,a,o),g=P2(p,u,1,"valid",a);return d?Ze(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const GZ=Ce({separableConv2d_:D9t});async function F9t(t,e){const n=ne(t,"x","setdiff1d"),s=ne(e,"y","setdiff1d");le(n.dtype===s.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${s.dtype}).`),le(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),le(s.rank===1,()=>`y should be 1D tensor, but got y (${s.shape}).`);const r=await n.data(),o=await s.data(),a=new Set(o);let i=0;for(let c=0;c<r.length;c++)a.has(r[c])||i++;const l=new Ab([i],n.dtype),u=new Ab([i],"int32");for(let c=0,d=0;c<r.length;c++)a.has(r[c])||(l.values[d]=r[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]}const jZ=F9t;function M9t(t){const n={x:ne(t,"x","sign")};return ke.runKernel(Zq,n)}const KZ=Ce({sign_:M9t});function P9t(t){const n={x:ne(t,"x","sin","float32")};return ke.runKernel(Xq,n)}const qZ=Ce({sin_:P9t});function L9t(t){const n={x:ne(t,"x","sinh")};return ke.runKernel(Yq,n)}const XZ=Ce({sinh_:L9t});function z9t(t,e,n){const s=ne(t,"x","slice1d");return le(s.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${s.rank} tensor`),Mn(s,[e],[n])}const YZ=Ce({slice1d_:z9t});function B9t(t,e,n){const s=ne(t,"x","slice2d");return le(s.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${s.rank} tensor`),Mn(s,e,n)}const ZZ=Ce({slice2d_:B9t});function V9t(t,e,n){const s=ne(t,"x","slice3d");return le(s.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${s.rank} tensor`),Mn(s,e,n)}const JZ=Ce({slice3d_:V9t});function H9t(t,e,n){const s=ne(t,"x","slice4d");return le(s.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${s.rank} tensor`),Mn(s,e,n)}const QZ=Ce({slice4d_:H9t});function W9t(t,e=-1){const n=ne(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const s={logits:n},r={dim:e};return ke.runKernel(rX,s,r)}const eJ=Ce({softmax_:W9t});function U9t(t){le(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ke.runKernel(MK,e)}const d4=Ce({fft_:U9t});function G9t(t){le(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return ke.runKernel(jK,e)}const _g=Ce({ifft_:G9t});function j9t(t){const e=t.shape[t.shape.length-1],n=t.size/e;let s;if(e<=2){const r=Ze(t,[n,e]);s=_g(r)}else{const r=[n,2*(e-1)],o=Ze(Hh(t),[n,e]),a=Ze(D2(t),[n,e]),i=oc(Mn(o,[0,1],[n,e-2]),1),l=gt(oc(Mn(a,[0,1],[n,e-2]),1),an(-1)),u=sr([o,i],1),c=sr([a,l],1),d=Ze(Dl(u,c),[r[0],r[1]]);s=_g(d)}if(s=Hh(s),t.rank===3&&t.shape[0]!==0){const r=s,o=t.shape[0];s=Ze(s,[o,s.shape[0]/o,s.shape[1]]),r.dispose()}return s}const FI=Ce({irfft_:j9t});function K9t(t,e,n=0){const r={x:ne(t,"x","split")},o={numOrSizeSplits:e,axis:n};return ke.runKernel(sX,r,o)}const jh=Ce({split_:K9t});function q9t(t,e){le(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const s=t.size/n;let r;if(e!=null&&e<n){const p=t.shape.map(g=>0),m=t.shape.map(g=>g);m[t.shape.length-1]=e,r=Mn(t,p,m),n=e}else if(e!=null&&e>n){const p=t.shape.map(m=>m);p[t.shape.length-1]=e-n,r=sr([t,Kd(p)],t.shape.length-1),n=e}else r=t;const o=bo(r),a=Ze(Dl(r,o),[s,n]),i=d4(a),l=Math.floor(n/2)+1,u=Hh(i),c=D2(i),d=jh(u,[l,n-l],u.shape.length-1),f=jh(c,[l,n-l],c.shape.length-1),h=r.shape.slice();return h[r.shape.length-1]=l,Ze(Dl(d[0],f[0]),h)}const f4=Ce({rfft_:q9t});function X9t(t,e){let n=ne(t,"a","squaredDifference"),s=ne(e,"b","squaredDifference");[n,s]=fs(n,s),Ns(n.shape,s.shape);const r={a:n,b:s},o={};return ke.runKernel(cX,r,o)}const MI=Ce({squaredDifference_:X9t});function Y9t(t,e){const n=ne(t,"x","squeeze","string_or_numeric");return Ze(n,Ij(n.shape,e).newShape)}const H2=Ce({squeeze_:Y9t});function Z9t(t,e=0){const n=gg(t,"tensors","stack","string_or_numeric");le(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&le(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const s=n,r={axis:e};return ke.runKernel(kq,s,r)}const Xi=Ce({stack_:Z9t});function J9t(t,e=0){const s={x:ne(t,"x","step")},r={alpha:e};return ke.runKernel(SX,s,r)}const PI=Ce({step_:J9t});function Q9t(t,e,n,s,r=0,o=0,a=0,i=0,l=0){const c={x:ne(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:s,beginMask:r,endMask:o,ellipsisMask:a,newAxisMask:i,shrinkAxisMask:l};return ke.runKernel(dX,c,d)}const tJ=Ce({stridedSlice_:Q9t});function eFt(t){const n={x:ne(t,"x","tan","float32")};return ke.runKernel(gX,n)}const nJ=Ce({tan_:eFt});function ga(t,e){gf(t);const n=Gi(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return bc(t,null,n,e)}function gd(t,e,n){if(gf(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const s=Gi(t,n);if(s.length!==2&&s.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return bc(t,e,s,n)}function sJ(t,e,n){if(gf(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const s=Gi(t,n);if(s.length!==4&&s.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return bc(t,e,s,n)}function rJ(t,e,n){if(gf(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const s=Gi(t,n);if(s.length!==5&&s.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return bc(t,e,s,n)}function oJ(t,e,n){if(gf(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const s=Gi(t,n);if(s.length!==6&&s.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||s,bc(t,e,s,n)}function tFt(t,e=1,n=!0){const s=ne(t,"x","topk");if(s.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const r=s.shape[s.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${e}`);const o={x:s},a={k:e,sorted:n},[i,l]=ke.runKernel(yX,o,a);return{values:i,indices:l}}const aJ=Ce({topk_:tFt});function nFt(t,e=0,n=1,s,r){if(s!=null&&s==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new II(e,n,s,!0,r),a=ji(t,s);for(let i=0;i<a.values.length;i++)a.values[i]=o.nextValue();return a.toTensor()}const iJ=Ce({truncatedNormal_:nFt});function sFt(t,e=0){const n=ne(t,"x","unique","string_or_numeric");le(n.rank>0,()=>"The input tensor must be at least 1D");const s={x:n},r={axis:e},[o,a]=ke.runKernel(wX,s,r);return{values:o,indices:a}}const lJ=Ce({unique_:sFt});function rFt(t,e,n){const s=ne(t,"x","unsortedSegmentSum"),r=ne(e,"segmentIds","unsortedSegmentSum","int32");le(zh(n),()=>"numSegments must be of dtype int");const o={x:s,segmentIds:r},a={numSegments:n};return ke.runKernel($X,o,a)}const uJ=Ce({unsortedSegmentSum_:rFt});function oFt(t,e=0){const n=ne(t,"x","unstack","string_or_numeric");le(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const s={value:n},r={axis:e};return ke.runKernel(_X,s,r)}const _c=Ce({unstack_:oFt});function cJ(t,e){return c4(t,e,"right")}function dJ(t,e=!0,n,s){return ke.makeVariable(t,e,n,s)}function fJ(t,e){const n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(o);const s=ji(t,"int32"),r=ji([n.length,t.length],"int32");for(let o=0;o<n.length;o++){const a=s.indexToLoc(n[o]),i=o*t.length;r.values.set(a,i)}return r.toTensor()}async function aFt(t){const e=ne(t,"condition","whereAsync","bool"),n=await e.data(),s=fJ(e.shape,n);return t!==e&&e.dispose(),s}const LI=aFt;async function iFt(t,e,n){const s=ne(t,"tensor","boolMask"),r=ne(e,"mask","boolMask","bool"),o=n??0,a=r.rank,i=s.shape;le(a>0,()=>"mask cannot be scalar"),Br(i.slice(o,o+a),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+a;m++)l*=i[m];const u=i.slice(0,o).concat([l],i.slice(o+a)),c=Ze(s,u),d=Ze(r,[-1]),f=await LI(d),h=H2(f,[1]),p=mI(c,h,o);return t!==s&&s.dispose(),e!==r&&r.dispose(),h.dispose(),c.dispose(),d.dispose(),f.dispose(),p}const hJ=iFt;function lFt(t,e,n,s,r=!0){const o=ne(t,"v","movingAverage"),a=ne(e,"x","movingAverage"),i=ne(n,"decay","movingAverage");IX(o,a),le(Ui(o.shape,a.shape),()=>"Shape mismatch in v and x");const l=an(1),u=rn(l,i);let c=gt(rn(a,o),u);if(r){le(s!=null,()=>"When using zeroDebias: true, step is required.");const d=ne(s,"step","movingAverage");c=In(c,rn(l,Wh(i,d)))}return Wt(o,c)}const pJ=Ce({movingAverage_:lFt});function uFt(t,e,n){const s=ne(t,"indices","scatterND","int32"),r=ne(e,"updates","scatterND");tI(r,s,n);const o={indices:s,updates:r},a={shape:n};return ke.runKernel(Uq,o,a)}const mJ=Ce({scatterND_:uFt});function cFt(t,e,n,s){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const r=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const a=e.size;if(!(e.rank===0||e.rank===1&&a===r))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${r}]`);if(e.dtype!==s.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function dFt(t,e,n,s=0){const r=ne(t,"sparseIndices","sparseToDense","int32"),o=ne(e,"sparseValues","sparseToDense","string_or_numeric"),a=ne(s,"defaultValue","sparseToDense",o.dtype);cFt(r,o,n,a);const i={sparseIndices:r,sparseValues:o,defaultValue:a},l={outputShape:n};return ke.runKernel(uX,i,l)}const gJ=Ce({sparseToDense_:dFt});function fFt(t,e){const n=ne(e,"indices","gatherND","int32"),r={params:ne(t,"x","gatherND","string_or_numeric"),indices:n};return ke.runKernel(WK,r)}const vJ=Ce({gatherND_:fFt});function hFt(t,e){if(e==null)return t.shape.slice();if(Ui(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let s=0;s<t.shape.length;s++)e[s]==null&&t.shape[s]!=null?n.push(t.shape[s]):n.push(e[s]);return n}return e}function pFt(t,e,n,s){const r=ne(t,"x","dropout");if(le(r.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),le(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof os?r.clone():r;const o=hFt(r,n),a=1-e,i=In(pI(Wt(OI(o,0,1,"float32",s),a)),a);return gt(r,i)}const yJ=Ce({dropout_:pFt});function zI(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function h4(t,e,n){const s=1-t%2,r=new Float32Array(t);for(let o=0;o<t;++o){const a=2*Math.PI*o/(t+s-1);r[o]=e-n*Math.cos(a)}return ga(r,"float32")}async function mFt(t,e,n=1){const s=ne(t,"predictions","inTopK"),r=ne(e,"targets","inTopK");le(s.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${s.rank}`),le(s.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${s.rank} and targets rank ${r.rank}`),Br(s.shape.slice(0,s.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=s.shape[s.shape.length-1];le(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const a=await s.data(),i=await r.data(),[l,u]=[a.length/o,o],c=Aj("bool",l);for(let d=0;d<l;d++){const f=d*u,h=a.subarray(f,f+u),p=[];for(let m=0;m<h.length;m++)p.push({value:h[m],index:m});p.sort((m,g)=>g.value-m.value),c[d]=0;for(let m=0;m<n;m++)if(p[m].index===i[d]){c[d]=1;break}}return t!==s&&s.dispose(),e!==r&&r.dispose(),Za(c,r.shape,"bool")}const bJ=mFt;function gFt(t,e,n,s,r,o="NHWC",a){let i=t;t.rank===3&&(i=Ze(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Ze(e,[1,e.shape[0],e.shape[1],e.shape[2]])),le(i.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`),le(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),le(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=o==="NHWC"?i.shape[3]:i.shape[1],c=o==="NHWC"?l.shape[3]:l.shape[1];le(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),le(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),Aa("conv2dDerFilter",r,a);const d={x:i,dy:l},f={strides:s,pad:r,dataFormat:o,dimRoundingMode:a,filterShape:n};return ke.runKernel(fK,d,f)}const vFt=Ce({conv2DBackpropFilter_:gFt});function p4(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return gt(t,PI(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function m4(t,e){let n=e;const s=JE(t.shape,e.shape);return s.length>0&&(n=Wn(n,s)),Ze(n,t.shape)}function g4(t,e,n,s){if(e==="linear")return t;if(e==="relu")return V2(t);if(e==="elu")return dI(t);if(e==="relu6")return RI(t);if(e==="prelu")return EI(t,n);if(e==="leakyrelu")return vI(t,s);if(e==="sigmoid")return Bu(t);throw new Error(`Unknown fused activation ${e}.`)}const v4=(t,e)=>!(t>0)||e==="linear";function yFt({x:t,filter:e,strides:n,pad:s,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:a,bias:i,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",v4(ke.state.gradientDepth,l)===!1){le(r==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let x=P2(t,e,n,s,r,o,a);return i!=null&&(x=Wt(x,i)),g4(x,l,u,c)}const d=ne(t,"x","conv2d","float32"),f=ne(e,"filter","conv2d","float32");let h=d,p=!1;d.rank===3&&(p=!0,h=Ze(d,[1,d.shape[0],d.shape[1],d.shape[2]])),le(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),le(f.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${f.rank}.`),Aa("fused conv2d",s,a);const m=r==="NHWC"?h.shape[3]:h.shape[1];le(f.shape[2]===m,()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${f.shape[2]}.`),le(nu(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const g=F2(h.shape,f.shape,n,o,s,a);let y;i!=null&&(y=ne(i,"bias","fused conv2d"),[y]=fs(y,d),r==="NHWC"?Ns(g.outShape,y.shape):(le(y.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`),le(y.shape.length===0||y.shape[0]===g.outChannels||y.shape[0]===1,()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${g.outChannels})`)));let w;if(u!=null){const x=u.shape;if(le(x.length<=1||x.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${x.length}.`),x.length===1)le(x[0]===1||x[0]===g.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${x}) is not compatible with the number of output channels (${g.outChannels}).`);else if(x.length===3)try{Ns(x,g.outShape)}catch{const C=`Error in fused conv2d: PReLU activation weights (${x}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(C)}w=ne(u,"prelu weights","fused conv2d")}const b=(x,k)=>{le(r==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);const[C,T,N,M]=k,R=p4(x,N,l);le(yg(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const D=VY(T.shape,R,C,n,s),z=vFt(T,R,C.shape,n,s),B=[D,z];if(M!=null){const V=m4(M,R);B.push(V)}return B},_={x:h,filter:f,bias:y,preluActivationWeights:w},$={strides:n,pad:s,dataFormat:r,dilations:o,dimRoundingMode:a,activation:l,leakyreluAlpha:c};return i==null?qi((k,C,T)=>{let N=ke.runKernel(sS,_,$);return T([C,k,N]),p&&(N=Ze(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:b}})(h,f):qi((k,C,T,N)=>{let M=ke.runKernel(sS,_,$);return N([C,k,M,T]),p&&(M=Ze(M,[M.shape[1],M.shape[2],M.shape[3]])),{value:M,gradFunc:b}})(h,f,y)}const bFt=Ce({fusedConv2d_:yFt});function wFt(t,e,n,s,r,o=[1,1],a){let i=t;t.rank===3&&(i=Ze(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Ze(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:i,dy:l},c={strides:s,pad:r,dimRoundingMode:a,dilations:o,filterShape:n};return ke.runKernel(SK,u,c)}const _Ft=Ce({depthwiseConv2dNativeBackpropFilter_:wFt});function $Ft(t,e,n,s,r,o=[1,1],a){let i=e,l=!1;e.rank===3&&(l=!0,i=Ze(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:i,filter:n},c={strides:s,pad:r,dimRoundingMode:a,dilations:o,inputShape:t},d=ke.runKernel(CK,u,c);return l?Ze(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const xFt=Ce({depthwiseConv2dNativeBackpropInput_:$Ft});function SFt({x:t,filter:e,strides:n,pad:s,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:a,bias:i,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(v4(ke.state.gradientDepth,l)===!1){let $=i4(t,e,n,s,r,o,a);return i!=null&&($=Wt($,i)),g4($,l,u,c)}const d=ne(t,"x","depthwiseConv2d","float32"),f=ne(e,"filter","depthwiseConv2d","float32");let h=d,p=!1;d.rank===3&&(p=!0,h=Ze(d,[1,d.shape[0],d.shape[1],d.shape[2]])),le(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),le(f.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`),le(h.shape[3]===f.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`),o==null&&(o=[1,1]),le(nu(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),Aa("fused depthwiseConv2d",s,a);const m=F2(h.shape,f.shape,n,o,s,a,!0);let g;i!=null&&(g=ne(i,"bias","fused conv2d"),[g]=fs(g,d),Ns(m.outShape,g.shape));let y;u!=null&&(y=ne(u,"prelu weights","fused depthwiseConv2d"));const w=($,x)=>{le(yg(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[k,C,T,N]=x,M=p4($,T,l),R=xFt(C.shape,M,k,n,s,o,a),D=_Ft(C,M,k.shape,n,s,o,a);if(N!=null){const z=m4(g,M);return[R,D,z]}return[R,D]},b={x:h,filter:f,bias:g,preluActivationWeights:y},_={strides:n,pad:s,dataFormat:r,dilations:o,dimRoundingMode:a,activation:l,leakyreluAlpha:c};return i==null?qi((x,k,C)=>{let T=ke.runKernel(rS,b,_);return C([k,x,T]),p&&(T=Ze(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:w}})(h,f):qi((x,k,C,T)=>{let N=ke.runKernel(rS,b,_);return T([k,x,N,C]),p&&(N=Ze(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:w}})(h,f,g)}const CFt=Ce({fusedDepthwiseConv2d_:SFt});function kFt({a:t,b:e,transposeA:n=!1,transposeB:s=!1,bias:r,activation:o="linear",preluActivationWeights:a,leakyreluAlpha:i=.2}){if(v4(ke.state.gradientDepth,o)===!1){let M=Tn(t,e,n,s);return r!=null&&(M=Wt(M,r)),g4(M,o,a,i)}let l=ne(t,"a","fused matMul"),u=ne(e,"b","fused matMul");[l,u]=fs(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=s?u.shape[u.rank-1]:u.shape[u.rank-2],f=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=s?u.shape[u.rank-2]:u.shape[u.rank-1],p=l.shape.slice(0,-2),m=u.shape.slice(0,-2),g=Qn(p),y=Qn(m);le(c===d,()=>`Error in fused matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${s} must match.`);const b=Ns(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([f,h]),_=n?Ze(l,[g,c,f]):Ze(l,[g,f,c]),$=s?Ze(u,[y,h,d]):Ze(u,[y,d,h]);let x;r!=null&&(x=ne(r,"bias","fused matMul"),[x]=fs(x,l),Ns(b,x.shape));let k;a!=null&&(k=ne(a,"prelu weights","fused matMul"));const C=(M,R)=>{const[D,z,B,V]=R,O=p4(Ze(M,B.shape),B,o);let F,L;if(!n&&!s?(F=Tn(O,z,!1,!0),L=Tn(D,O,!0,!1)):!n&&s?(F=Tn(O,z,!1,!1),L=Tn(O,D,!0,!1)):n&&!s?(F=Tn(z,O,!1,!0),L=Tn(D,O,!1,!1)):(F=Tn(z,O,!0,!0),L=Tn(O,D,!0,!0)),r!=null){const G=m4(V,O);return[F,L,G]}else return[F,L]},T={a:_,b:$,bias:x,preluActivationWeights:k},N={transposeA:n,transposeB:s,activation:o,leakyreluAlpha:i};return r==null?qi((R,D,z)=>{const B=ke.runKernel(nS,T,N);return z([R,D,B]),{value:Ze(B,b),gradFunc:C}})(_,$):qi((R,D,z,B)=>{const V=ke.runKernel(nS,T,N);return B([R,D,V,z]),{value:Ze(V,b),gradFunc:C}})(_,$,x)}const TFt=Ce({fusedMatMul_:kFt});const wJ=Object.freeze(Object.defineProperty({__proto__:null,conv2d:bFt,depthwiseConv2d:CFt,matMul:TFt},Symbol.toStringTag,{value:"Module"}));function NFt(t){return h4(t,.54,.46)}const EFt=Ce({hammingWindow_:NFt});function IFt(t){return h4(t,.5,.5)}const _J=Ce({hannWindow_:IFt});function AFt(t,e,n,s=!1,r=0){let o=0;const a=[];for(;o+e<=t.size;)a.push(Mn(t,o,e)),o+=n;if(s)for(;o<t.size;){const i=o+e-t.size,l=sr([Mn(t,o,e-i),_m([i],r)]);a.push(l),o+=n}return a.length===0?gd([],[0,e]):Ze(sr(a),[a.length,e])}const $J=Ce({frame_:AFt});function OFt(t,e,n,s,r=_J){s==null&&(s=zI(e));const o=$J(t,e,n),a=gt(o,r(e));return f4(a,s)}const RFt=Ce({stft_:OFt});function DFt(t,e,n,s,r="bilinear",o=0){const a=ne(t,"image","cropAndResize"),i=ne(e,"boxes","cropAndResize","float32"),l=ne(n,"boxInd","cropAndResize","int32"),u=i.shape[0];le(a.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`),le(i.rank===2&&i.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${i.shape}.`),le(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${i.shape}.`),le(s.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${s.length}.`),le(s[0]>=1&&s[1]>=1,()=>`cropSize must be atleast [1,1], but was ${s}`),le(r==="bilinear"||r==="nearest",()=>`method must be bilinear or nearest, but was ${r}`);const c={image:a,boxes:i,boxInd:l},d={method:r,extrapolationValue:o,cropSize:s};return ke.runKernel(wK,c,d)}const FFt=Ce({cropAndResize_:DFt});function MFt(t){const e=ne(t,"image","flipLeftRight","float32");le(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return ke.runKernel(LK,n,{})}const PFt=Ce({flipLeftRight_:MFt});function LFt(t){const e=ne(t,"image","grayscaleToRGB"),n=e.rank-1,s=e.shape[n];le(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),le(s===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${s}.`);const r=new Array(e.rank);return r.fill(1,0,n),r[n]=3,th(e,r)}const zFt=Ce({grayscaleToRGB_:LFt});function BFt(t,e,n=0,s=.5){const r=ne(t,"image","rotateWithOffset","float32");le(r.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`);const o={image:r},a={radians:e,fillValue:n,center:s};return ke.runKernel(CX,o,a)}const VFt=Ce({rotateWithOffset_:BFt});function xm(t,e,n,s,r,o){s==null&&(s=.5),r==null&&(r=Number.NEGATIVE_INFINITY),o==null&&(o=0);const a=t.shape[0];return n=Math.min(n,a),le(0<=s&&s<=1,()=>`iouThreshold must be in [0, 1], but was '${s}'`),le(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),le(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),le(e.rank===1,()=>"scores must be a 1D tensor"),le(e.shape[0]===a,()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${e.shape[0]}`),le(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:s,scoreThreshold:r,softNmsSigma:o}}function HFt(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY){const o=ne(t,"boxes","nonMaxSuppression","float32"),a=ne(e,"scores","nonMaxSuppression","float32"),i=xm(o,a,n,s,r);n=i.maxOutputSize,s=i.iouThreshold,r=i.scoreThreshold;const l={maxOutputSize:n,iouThreshold:s,scoreThreshold:r};return ke.runKernel(_q,{boxes:o,scores:a},l)}const WFt=Ce({nonMaxSuppression_:HFt});function UFt(t,e,n){const s=GFt(t,e,n),r=s<0?-(s+1):s;t.splice(r,0,e)}function GFt(t,e,n){return KFt(t,e,n||jFt)}function jFt(t,e){return t>e?1:t<e?-1:0}function KFt(t,e,n){let s=0,r=t.length,o=0,a=!1;for(;s<r;){o=s+(r-s>>>1);const i=n(e,t[o]);i>0?s=o+1:(r=o,a=!i)}return a?s:-s-1}function xJ(t,e,n,s,r){return BI(t,e,n,s,r,0)}function SJ(t,e,n,s,r,o){return BI(t,e,n,s,r,0,!1,o,!0)}function CJ(t,e,n,s,r,o){return BI(t,e,n,s,r,o,!0)}function BI(t,e,n,s,r,o,a=!1,i=!1,l=!1){const u=[];for(let g=0;g<e.length;g++)e[g]>r&&u.push({score:e[g],boxIndex:g,suppressBeginIndex:0});u.sort(k9);const c=o>0?-.5/o:0,d=[],f=[];for(;d.length<n&&u.length>0;){const g=u.pop(),{score:y,boxIndex:w,suppressBeginIndex:b}=g;if(y<r)break;let _=!1;for(let $=d.length-1;$>=b;--$){const x=qFt(t,w,d[$]);if(x>=s){_=!0;break}if(g.score=g.score*XFt(s,c,x),g.score<=r)break}g.suppressBeginIndex=d.length,_||(g.score===y?(d.push(w),f.push(g.score)):g.score>r&&UFt(u,g,k9))}const h=d.length,p=n-h;i&&p>0&&(d.push(...new Array(p).fill(0)),f.push(...new Array(p).fill(0)));const m={selectedIndices:d};return a&&(m.selectedScores=f),l&&(m.validOutputs=h),m}function qFt(t,e,n){const s=t.subarray(e*4,e*4+4),r=t.subarray(n*4,n*4+4),o=Math.min(s[0],s[2]),a=Math.min(s[1],s[3]),i=Math.max(s[0],s[2]),l=Math.max(s[1],s[3]),u=Math.min(r[0],r[2]),c=Math.min(r[1],r[3]),d=Math.max(r[0],r[2]),f=Math.max(r[1],r[3]),h=(i-o)*(l-a),p=(d-u)*(f-c);if(h<=0||p<=0)return 0;const m=Math.max(o,u),g=Math.max(a,c),y=Math.min(i,d),w=Math.min(l,f),b=Math.max(y-m,0)*Math.max(w-g,0);return b/(h+p-b)}function XFt(t,e,n){const s=Math.exp(e*n*n);return n<=t?s:0}function k9(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}async function YFt(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY){const o=ne(t,"boxes","nonMaxSuppressionAsync"),a=ne(e,"scores","nonMaxSuppressionAsync"),i=xm(o,a,n,s,r);n=i.maxOutputSize,s=i.iouThreshold,r=i.scoreThreshold;const l=await Promise.all([o.data(),a.data()]),u=l[0],c=l[1],{selectedIndices:d}=xJ(u,c,n,s,r);return o!==t&&o.dispose(),a!==e&&a.dispose(),ga(d,"int32")}const ZFt=YFt;function JFt(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,o=0){const a=ne(t,"boxes","nonMaxSuppression"),i=ne(e,"scores","nonMaxSuppression"),l=xm(a,i,n,s,r,o);n=l.maxOutputSize,s=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const u={boxes:a,scores:i},c={maxOutputSize:n,iouThreshold:s,scoreThreshold:r,softNmsSigma:o},d=ke.runKernel(xq,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}const QFt=Ce({nonMaxSuppressionWithScore_:JFt});async function eMt(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,o=0){const a=ne(t,"boxes","nonMaxSuppressionAsync"),i=ne(e,"scores","nonMaxSuppressionAsync"),l=xm(a,i,n,s,r,o);n=l.maxOutputSize,s=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([a.data(),i.data()]),c=u[0],d=u[1],{selectedIndices:f,selectedScores:h}=CJ(c,d,n,s,r,o);return a!==t&&a.dispose(),i!==e&&i.dispose(),{selectedIndices:ga(f,"int32"),selectedScores:ga(h)}}const tMt=eMt;function nMt(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,o=!1){const a=ne(t,"boxes","nonMaxSuppression"),i=ne(e,"scores","nonMaxSuppression"),l=xm(a,i,n,s,r,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,f={boxes:a,scores:i},h={maxOutputSize:u,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:o},p=ke.runKernel($q,f,h);return{selectedIndices:p[0],validOutputs:p[1]}}const sMt=Ce({nonMaxSuppressionPadded_:nMt});async function rMt(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,o=!1){const a=ne(t,"boxes","nonMaxSuppressionAsync"),i=ne(e,"scores","nonMaxSuppressionAsync"),l=xm(a,i,n,s,r,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[f,h]=await Promise.all([a.data(),i.data()]),{selectedIndices:p,validOutputs:m}=SJ(f,h,u,c,d,o);return a!==t&&a.dispose(),i!==e&&i.dispose(),{selectedIndices:ga(p,"int32"),validOutputs:an(m,"int32")}}const oMt=rMt;function aMt(t,e,n=!1,s=!1){const r=ne(t,"images","resizeBilinear");le(r.rank===3||r.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),le(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),le(s===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=r,a=!1;r.rank===3&&(a=!0,o=Ze(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const i={images:o},l={alignCorners:n,halfPixelCenters:s,size:e},u=ke.runKernel(zq,i,l);return a?Ze(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const iMt=Ce({resizeBilinear_:aMt});function lMt(t,e,n=!1,s=!1){const r=ne(t,"images","resizeNearestNeighbor");le(r.rank===3||r.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),le(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),le(r.dtype==="float32"||r.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),le(s===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=r,a=!1;r.rank===3&&(a=!0,o=Ze(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const i={images:o},l={alignCorners:n,halfPixelCenters:s,size:e},u=ke.runKernel(Lq,i,l);return a?Ze(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const uMt=Ce({resizeNearestNeighbor_:lMt});function cMt(t,e="binary",n=!1,s=.5){const r=ne(t,"image","threshold"),o=.2989,a=.587,i=.114,l=r.shape[0]*r.shape[1];let u=gt(ga([s]),255),c,d,f,h;if(le(r.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),le(r.shape[2]===3||r.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),le(r.dtype==="int32"||r.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),le(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),r.shape[2]===3){[c,d,f]=jh(r,[1,1,1],-1);const g=gt(c,o),y=gt(d,a),w=gt(f,i);h=Wt(Wt(g,y),w)}else h=t;if(e==="otsu"){const g=uI(es(DI(h),"int32"),Za([]),256);u=dMt(g,l)}const p=n?l4(h,u):B2(h,u);return es(gt(p,255),"int32")}function dMt(t,e){let n=ga([-1]),s=ga([0]),r=ga([0]),o,a,i,l,u,c;for(let d=0;d<t.size-1;d++){o=Mn(t,0,d+1),a=Mn(t,d+1),u=In(Wn(o),e),c=In(Wn(a),e);const f=Wn(gt(o,Gh(0,o.size)));i=In(f,Wn(o));const h=_m(a.shape,o.size),p=Wt(Gh(0,a.size),h),m=gt(a,p);l=In(Wn(m),Wn(a));const g=rn(i,l),y=rn(i,l),w=gt(u,c);r=gt(gt(w,g),y);const b=B2(r,s);s=jd(b,r,s),n=jd(b,ga([d]),n)}return n}const fMt=Ce({threshold_:cMt});function hMt(t,e,n="nearest",s="constant",r=0,o){const a=ne(t,"image","transform","float32"),i=ne(e,"transforms","transform","float32");le(a.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`),le(i.rank===2&&(i.shape[0]===a.shape[0]||i.shape[0]===1)&&i.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),le(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const l={image:a,transforms:i},u={interpolation:n,fillMode:s,fillValue:r,outputShape:o};return ke.runKernel(bX,l,u)}const pMt=Ce({transform_:hMt});function mMt(t,e,n){le(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),le(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`);const s=ne(t,"a","bandPart");le(s.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${s.rank}.`);const r=s.shape,[o,a]=s.shape.slice(-2);if(!(e<=o))throw new Error(`bandPart(): numLower (${e}) must not be greater than the number of rows (${o}).`);if(!(n<=a))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`);e<0&&(e=o),n<0&&(n=a);const i=Ze(Gh(0,o,1,"int32"),[-1,1]),l=Gh(0,a,1,"int32"),u=rn(i,l),c=bg(l4(u,an(+e,"int32")),gI(u,an(-n,"int32"))),d=Kd([o,a],s.dtype);return Ze(Xi(_c(Ze(s,[-1,o,a])).map(f=>jd(c,f,d))),r)}const gMt=Ce({bandPart_:mMt});function vMt(t){let e;if(Array.isArray(t)){e=!1,le(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=t[0].shape[0];for(let o=1;o<t.length;++o)le(t[o].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[o].shape[0]} vs. ${r})`)}else e=!0,t=jh(t,t.shape[0],0).map(r=>H2(r,[0]));le(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],s=t;for(let r=0;r<t.length;++r)n.push(ke.tidy(()=>{let o=s[r];if(r>0)for(let a=0;a<r;++a){const i=gt(Wn(gt(n[a],o)),n[a]);o=rn(o,i)}return In(o,z2(o,"euclidean"))}));return e?Xi(n,0):n}const yMt=Ce({gramSchmidt_:vMt});function bMt(t,e=!1){if(le(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return T9(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,u)=>l*u),s=_c(Ze(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),r=[],o=[];s.forEach(l=>{const[u,c]=T9(l,e);r.push(u),o.push(c)});const a=Ze(Xi(r,0),t.shape),i=Ze(Xi(o,0),t.shape);return[a,i]}}function T9(t,e=!1){return ke.tidy(()=>{le(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],s=t.shape[1];let r=hI(n),o=bl(t);const a=gd([[1]],[1,1]);let i=bl(a);const l=n>=s?s:n;for(let u=0;u<l;++u){const c=o,d=i,f=r;[i,o,r]=ke.tidy(()=>{const h=Mn(o,[u,u],[n-u,1]),p=z2(h),m=Mn(o,[u,u],[1,1]),g=jd(B2(m,0),gd([[-1]]),gd([[1]])),y=rn(m,gt(g,p)),w=In(h,y);w.shape[0]===1?i=bl(a):i=sr([a,Mn(w,[1,0],[w.shape[0]-1,w.shape[1]])],0);const b=Pi(In(Tn(g,y),p)),_=Mn(o,[u,0],[n-u,s]),$=gt(b,i),x=vg(i);if(u===0)o=rn(_,Tn($,Tn(x,_)));else{const T=rn(_,Tn($,Tn(x,_)));o=sr([Mn(o,[0,0],[u,s]),T],0)}const k=vg($),C=Mn(r,[0,u],[n,r.shape[1]-u]);if(u===0)r=rn(C,Tn(Tn(C,i),k));else{const T=rn(C,Tn(Tn(C,i),k));r=sr([Mn(r,[0,0],[n,u]),T],1)}return[i,o,r]}),qr([c,d,f])}return!e&&n>s&&(r=Mn(r,[0,0],[n,s]),o=Mn(o,[0,0],[s,s])),[r,o]})}const wMt=Ce({qr_:bMt});var Ir;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Ir||(Ir={}));function _Mt(t,e,n=Ir.SUM_BY_NONZERO_WEIGHTS){const s=ne(t,"losses","computeWeightedLoss");let r=null;e!=null&&(r=ne(e,"weights","computeWeightedLoss"));const o=r==null?s:gt(s,r);if(n===Ir.NONE)return o;if(n===Ir.SUM)return Wn(o);if(n===Ir.MEAN){if(r==null)return wg(o);{const a=s.size/r.size,i=In(Wn(o),Wn(r));return a>1?In(i,an(a)):i}}if(n===Ir.SUM_BY_NONZERO_WEIGHTS){if(r==null)return In(Wn(o),an(s.size));{const a=gt(r,Au(s.shape)),i=es(Wn(kI(a,an(0))),"float32");return In(Wn(o),i)}}throw Error(`Unknown reduction: ${n}`)}const su=Ce({computeWeightedLoss_:_Mt});function $Mt(t,e,n,s=Ir.SUM_BY_NONZERO_WEIGHTS){const r=ne(t,"labels","absoluteDifference"),o=ne(e,"predictions","absoluteDifference");let a=null;n!=null&&(a=ne(n,"weights","absoluteDifference")),Br(r.shape,o.shape,"Error in absoluteDifference: ");const i=co(rn(r,o));return su(i,a,s)}const xMt=Ce({absoluteDifference_:$Mt});function SMt(t,e,n,s,r=Ir.SUM_BY_NONZERO_WEIGHTS){const o=ne(t,"labels","cosineDistance"),a=ne(e,"predictions","cosineDistance");let i=null;s!=null&&(i=ne(s,"weights","cosineDistance")),Br(o.shape,a.shape,"Error in cosineDistance: ");const l=an(1),u=rn(l,Wn(gt(o,a),n,!0));return su(u,i,r)}const CMt=Ce({cosineDistance_:SMt});function kMt(t,e,n,s=Ir.SUM_BY_NONZERO_WEIGHTS){let r=ne(t,"labels","hingeLoss");const o=ne(e,"predictions","hingeLoss");let a=null;n!=null&&(a=ne(n,"weights","hingeLoss")),Br(r.shape,o.shape,"Error in hingeLoss: ");const i=an(1);r=rn(gt(an(2),r),i);const l=V2(rn(i,gt(r,o)));return su(l,a,s)}const TMt=Ce({hingeLoss_:kMt});function NMt(t,e,n,s=1,r=Ir.SUM_BY_NONZERO_WEIGHTS){const o=ne(t,"labels","huberLoss"),a=ne(e,"predictions","huberLoss");let i=null;n!=null&&(i=ne(n,"weights","huberLoss")),Br(o.shape,a.shape,"Error in huberLoss: ");const l=an(s),u=co(rn(a,o)),c=CI(u,l),d=rn(u,c),f=Wt(gt(an(.5),ba(c)),gt(l,d));return su(f,i,r)}const EMt=Ce({huberLoss_:NMt});function IMt(t,e,n,s=1e-7,r=Ir.SUM_BY_NONZERO_WEIGHTS){const o=ne(t,"labels","logLoss"),a=ne(e,"predictions","logLoss");let i=null;n!=null&&(i=ne(n,"weights","logLoss")),Br(o.shape,a.shape,"Error in logLoss: ");const l=an(1),u=an(s),c=Pi(gt(o,Uh(Wt(a,u)))),d=gt(rn(l,o),Uh(Wt(rn(l,a),u))),f=rn(c,d);return su(f,i,r)}const AMt=Ce({logLoss_:IMt});function OMt(t,e,n,s=Ir.SUM_BY_NONZERO_WEIGHTS){const r=ne(t,"labels","meanSquaredError"),o=ne(e,"predictions","meanSquaredError");let a=null;n!=null&&(a=ne(n,"weights","meanSquaredError")),Br(r.shape,o.shape,"Error in meanSquaredError: ");const i=MI(r,o);return su(i,a,s)}const RMt=Ce({meanSquaredError_:OMt});function DMt(t,e){const n=ne(t,"labels","sigmoidCrossEntropyWithLogits"),s=ne(e,"logits","sigmoidCrossEntropyWithLogits");Br(n.shape,s.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=V2(s),o=gt(s,n),a=yI(rc(Pi(co(s))));return Wt(rn(r,o),a)}function FMt(t,e,n,s=0,r=Ir.SUM_BY_NONZERO_WEIGHTS){let o=ne(t,"multiClassLabels","sigmoidCrossEntropy");const a=ne(e,"logits","sigmoidCrossEntropy");let i=null;if(n!=null&&(i=ne(n,"weights","sigmoidCrossEntropy")),Br(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),s>0){const u=an(s),c=an(1),d=an(.5);o=Wt(gt(o,rn(c,u)),gt(d,u))}const l=DMt(o,a);return su(l,i,r)}const MMt=Ce({sigmoidCrossEntropy_:FMt});function PMt(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return qi((r,o,a)=>{const l=wI(o,[n],!0),u=rn(es(o,"float32"),l);a([r,u]);const c=Pi(gt(u,r));return{value:Wn(c,[n]),gradFunc:(h,p)=>{const[m,g]=p,y=L2(h.shape,[n]);return[gt(Ze(h,y),rn(es(m,"float32"),rc(g))),gt(Ze(h,y),rn(rc(g),es(m,"float32")))]}}})(t,e)}function LMt(t,e,n,s=0,r=Ir.SUM_BY_NONZERO_WEIGHTS){let o=ne(t,"onehotLabels","softmaxCrossEntropy");const a=ne(e,"logits","softmaxCrossEntropy");let i=null;if(n!=null&&(i=ne(n,"weights","softmaxCrossEntropy")),Br(o.shape,a.shape,"Error in softmaxCrossEntropy: "),s>0){const u=an(s),c=an(1),d=an(o.shape[1]);o=Wt(gt(o,rn(c,u)),In(u,d))}const l=PMt(o,a);return su(l,i,r)}const zMt=Ce({softmaxCrossEntropy_:LMt});function BMt(t,e,n,s){const r=ne(t,"indices","sparseFillEmptyRows","int32"),o=ne(e,"values","sparseFillEmptyRows"),a=ne(n,"denseShape","sparseFillEmptyRows","int32"),i=ne(s,"defaultValue","sparseFillEmptyRows",o.dtype);if(r.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${r.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(a.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${a.shape}`);if(i.rank!==0)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const l={indices:r,values:o,denseShape:a,defaultValue:i},u=ke.runKernel(oX,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const VMt=Ce({sparseFillEmptyRows_:BMt});function HMt(t,e,n){const s=ne(t,"inputIndices","sparseReshape","int32"),r=ne(e,"inputShape","sparseReshape","int32"),o=ne(n,"newShape","sparseReshape","int32");if(s.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${s.shape}`);if(r.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const a={inputIndices:s,inputShape:r,newShape:o},i=ke.runKernel(aX,a);return{outputIndices:i[0],outputShape:i[1]}}const WMt=Ce({sparseReshape_:HMt});function UMt(t,e,n){const s=ne(t,"data","sparseSegmentMean"),r=ne(e,"indices","sparseSegmentMean","int32"),o=ne(n,"segmentIds","sparseSegmentMean","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${r.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const a={data:s,indices:r,segmentIds:o};return ke.runKernel(iX,a)}const GMt=Ce({sparseSegmentMean_:UMt});function jMt(t,e,n){const s=ne(t,"data","sparseSegmentSum"),r=ne(e,"indices","sparseSegmentSum","int32"),o=ne(n,"segmentIds","sparseSegmentSum","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${r.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const a={data:s,indices:r,segmentIds:o};return ke.runKernel(lX,a)}const KMt=Ce({sparseSegmentSum_:jMt});function qMt(t,e,n,s,r,o,a,i){const l=ne(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=ne(e,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:s,leftPad:r,rightPad:o,padWidth:a,preserveShortSequences:i},d={data:l,dataSplits:u},f=ke.runKernel(fX,d,c);return{nGrams:f[0],nGramsSplits:f[1]}}const XMt=Ce({stringNGrams_:qMt});function YMt(t,e,n=!0){const s=ne(t,"input","stringSplit","string"),r=ne(e,"delimiter","stringSplit","string");if(s.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${s.shape}`);if(r.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const o={skipEmpty:n},a={input:s,delimiter:r},i=ke.runKernel(hX,a,o);return{indices:i[0],values:i[1],shape:i[2]}}const ZMt=Ce({stringSplit_:YMt});function JMt(t,e){const n=ne(t,"input","stringToHashBucketFast","string"),s={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return ke.runKernel(pX,r,s)}const QMt=Ce({stringToHashBucketFast_:JMt});const kJ={fft:d4,ifft:_g,rfft:f4,irfft:FI},TJ={hammingWindow:EFt,hannWindow:_J,frame:$J,stft:RFt},VI={flipLeftRight:PFt,grayscaleToRGB:zFt,resizeNearestNeighbor:uMt,resizeBilinear:iMt,rotateWithOffset:VFt,cropAndResize:FFt,nonMaxSuppression:WFt,nonMaxSuppressionAsync:ZFt,nonMaxSuppressionWithScore:QFt,nonMaxSuppressionWithScoreAsync:tMt,nonMaxSuppressionPadded:sMt,nonMaxSuppressionPaddedAsync:oMt,threshold:fMt,transform:pMt},NJ={bandPart:gMt,gramSchmidt:yMt,qr:wMt},EJ={absoluteDifference:xMt,computeWeightedLoss:su,cosineDistance:CMt,hingeLoss:TMt,huberLoss:EMt,logLoss:AMt,meanSquaredError:RMt,sigmoidCrossEntropy:MMt,softmaxCrossEntropy:zMt},IJ={sparseFillEmptyRows:VMt,sparseReshape:WMt,sparseSegmentMean:GMt,sparseSegmentSum:KMt},AJ={stringNGrams:XMt,stringSplit:ZMt,stringToHashBucketFast:QMt};class $c extends dY{minimize(e,n=!1,s){const{value:r,grads:o}=this.computeGradients(e,s);if(s!=null){const a=s.map(i=>({name:i.name,tensor:o[i.name]}));this.applyGradients(a)}else this.applyGradients(o);return qr(o),n?r:(r.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return hZ(e,n)}dispose(){this.iterations_!=null&&qr(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:an(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty($c,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});class y4 extends $c{constructor(e,n,s=null){super(),this.learningRate=e,this.rho=n,this.epsilon=s,this.accumulatedGrads=[],this.accumulatedUpdates=[],s==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=ke.registeredVariables[s],a=!1;this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${s}/accum_grad`,variable:vn(()=>bo(o).variable(a))}),this.accumulatedUpdates[r]==null&&(this.accumulatedUpdates[r]={originalName:`${s}/accum_var`,variable:vn(()=>bo(o).variable(a))});const i=Array.isArray(e)?e[r].tensor:e[s];if(i==null)return;const l=this.accumulatedGrads[r].variable,u=this.accumulatedUpdates[r].variable;vn(()=>{const c=Wt(gt(l,this.rho),gt(ba(i),1-this.rho)),d=gt(In(Ki(Wt(u,this.epsilon)),Ki(Wt(l,this.epsilon))),i),f=Wt(gt(u,this.rho),gt(ba(d),1-this.rho));l.assign(c),u.assign(f);const h=Wt(gt(d,-this.learningRate),o);o.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(qr(this.accumulatedGrads.map(e=>e.variable)),qr(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,s=!1;this.accumulatedGrads=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedUpdates=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}y4.className="Adadelta";wc(y4);class b4 extends $c{constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=ke.registeredVariables[s];this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${s}/accumulator`,variable:vn(()=>_m(o.shape,this.initialAccumulatorValue).variable(!1))});const a=Array.isArray(e)?e[r].tensor:e[s];if(a==null)return;const i=this.accumulatedGrads[r].variable;vn(()=>{const l=Wt(i,ba(a));i.assign(l);const u=Wt(gt(In(a,Ki(Wt(l,ke.backend.epsilon()))),-this.learningRate),o);o.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&qr(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(s=>({originalName:s.name,variable:s.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}b4.className="Adagrad";wc(b4);class w4 extends $c{constructor(e,n,s,r=null){super(),this.learningRate=e,this.beta1=n,this.beta2=s,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],vn(()=>{this.accBeta1=an(n).variable(),this.accBeta2=an(s).variable()}),r==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(s=>s.name):Object.keys(e);vn(()=>{const s=rn(1,this.accBeta1),r=rn(1,this.accBeta2);n.forEach((o,a)=>{const i=ke.registeredVariables[o],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${o}/m`,variable:vn(()=>bo(i).variable(l))}),this.accumulatedSecondMoment[a]==null&&(this.accumulatedSecondMoment[a]={originalName:`${o}/v`,variable:vn(()=>bo(i).variable(l))});const u=Array.isArray(e)?e[a].tensor:e[o];if(u==null)return;const c=this.accumulatedFirstMoment[a].variable,d=this.accumulatedSecondMoment[a].variable,f=Wt(gt(c,this.beta1),gt(u,1-this.beta1)),h=Wt(gt(d,this.beta2),gt(ba(u),1-this.beta2)),p=In(f,s),m=In(h,r);c.assign(f),d.assign(h);const g=Wt(gt(In(p,Wt(Ki(m),this.epsilon)),-this.learningRate),i);i.assign(g)}),this.accBeta1.assign(gt(this.accBeta1,this.beta1)),this.accBeta2.assign(gt(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&qr(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&qr(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),vn(()=>{this.accBeta1.assign(Wh(this.beta1,this.iterations_+1)),this.accBeta2.assign(Wh(this.beta2,this.iterations_+1))});const n=e.length/2,s=!1;this.accumulatedFirstMoment=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}w4.className="Adam";wc(w4);class _4 extends $c{constructor(e,n,s,r=null,o=0){super(),this.learningRate=e,this.beta1=n,this.beta2=s,this.epsilon=r,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],vn(()=>{this.iteration=an(0).variable(),this.accBeta1=an(n).variable()}),r==null&&(this.epsilon=ke.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(s=>s.name):Object.keys(e);vn(()=>{const s=rn(1,this.accBeta1),r=In(-this.learningRate,Wt(gt(this.iteration,this.decay),1));n.forEach((o,a)=>{const i=ke.registeredVariables[o],l=!1;this.accumulatedFirstMoment[a]==null&&(this.accumulatedFirstMoment[a]={originalName:`${o}/m`,variable:bo(i).variable(l)}),this.accumulatedWeightedInfNorm[a]==null&&(this.accumulatedWeightedInfNorm[a]={originalName:`${o}/v`,variable:bo(i).variable(l)});const u=Array.isArray(e)?e[a].tensor:e[o];if(u==null)return;const c=this.accumulatedFirstMoment[a].variable,d=this.accumulatedWeightedInfNorm[a].variable,f=Wt(gt(c,this.beta1),gt(u,1-this.beta1)),h=gt(d,this.beta2),p=co(u),m=SI(h,p);c.assign(f),d.assign(m);const g=Wt(gt(In(r,s),In(f,Wt(m,this.epsilon))),i);i.assign(g)}),this.iteration.assign(Wt(this.iteration,1)),this.accBeta1.assign(gt(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&qr(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&qr(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}_4.className="Adamax";wc(_4);class W2 extends $c{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=Array.isArray(e)?e[r].tensor:e[s];if(o==null)return;const a=ke.registeredVariables[s];vn(()=>{const i=Wt(gt(this.c,o),a);a.assign(i)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Ei(an(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}W2.className="SGD";wc(W2);class $4 extends W2{constructor(e,n,s=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=s,this.accumulations=[],this.m=an(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=ke.registeredVariables[s];this.accumulations[r]==null&&(this.accumulations[r]={originalName:`${s}/momentum`,variable:vn(()=>bo(o).variable(!1))});const a=this.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[s];i!=null&&vn(()=>{let l;const u=Wt(gt(this.m,a),i);this.useNesterov?l=Wt(gt(this.c,Wt(i,gt(u,this.m))),o):l=Wt(gt(this.c,u),o),a.assign(u),o.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&qr(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(s=>({originalName:s.name,variable:s.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}$4.className="Momentum";wc($4);class x4 extends $c{constructor(e,n=.9,s=0,r=null,o=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=s,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,r==null&&(this.epsilon=ke.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const o=ke.registeredVariables[s],a=!1;this.accumulatedMeanSquares[r]==null&&(this.accumulatedMeanSquares[r]={originalName:`${s}/rms`,variable:vn(()=>bo(o).variable(a))}),this.accumulatedMoments[r]==null&&(this.accumulatedMoments[r]={originalName:`${s}/momentum`,variable:vn(()=>bo(o).variable(a))}),this.accumulatedMeanGrads[r]==null&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${s}/mg`,variable:vn(()=>bo(o).variable(a))});const i=Array.isArray(e)?e[r].tensor:e[s];if(i==null)return;const l=this.accumulatedMeanSquares[r].variable,u=this.accumulatedMoments[r].variable;vn(()=>{const c=Wt(gt(l,this.decay),gt(ba(i),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[r].variable,f=Wt(gt(d,this.decay),gt(i,1-this.decay)),h=In(gt(i,this.learningRate),Ki(rn(c,Wt(ba(f),this.epsilon)))),p=Wt(gt(u,this.momentum),h);l.assign(c),d.assign(f),u.assign(p);const m=rn(o,p);o.assign(m)}else{const d=Wt(gt(l,this.decay),gt(ba(i),1-this.decay)),f=Wt(gt(u,this.momentum),In(gt(i,this.learningRate),Ki(Wt(d,this.epsilon))));l.assign(d),u.assign(f);const h=rn(o,f);o.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&qr(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&qr(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&qr(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,s=!1;this.accumulatedMeanSquares=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedMoments=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}x4.className="RMSProp";wc(x4);class gu{static sgd(e){return new W2(e)}static momentum(e,n,s=!1){return new $4(e,n,s)}static rmsprop(e,n=.9,s=0,r=null,o=!1){return new x4(e,n,s,r,o)}static adam(e=.001,n=.9,s=.999,r=null){return new w4(e,n,s,r)}static adadelta(e=.001,n=.95,s=null){return new y4(e,n,s)}static adamax(e=.002,n=.9,s=.999,r=null,o=0){return new _4(e,n,s,r,o)}static adagrad(e,n=.1){return new b4(e,n)}}const ePt={sgd:gu.sgd,momentum:gu.momentum,adadelta:gu.adadelta,adagrad:gu.adagrad,rmsprop:gu.rmsprop,adamax:gu.adamax,adam:gu.adam};const tPt=(()=>typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t())();function nPt(){return new Promise(t=>tPt(()=>t()))}function sPt(t,e){const n=t[0].length;t.forEach((r,o)=>{le(r.length===n,()=>`Error in concat${n}D: rank of tensors[${o}] must be the same as the rank of the rest (${n})`)}),le(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const s=t[0];t.forEach((r,o)=>{for(let a=0;a<n;a++)le(a===e||r[a]===s[a],()=>`Error in concat${n}D: Shape of tensors[${o}] (${r}) does not match the shape of the rest (${s}) along the non-concatenated axis ${o}.`)})}function rPt(t,e){const n=t[0].slice();for(let s=1;s<t.length;s++)n[e]+=t[s][e];return n}var yi;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(yi||(yi={}));function oPt(t,e,n){let s=new Array;if(n==null&&e==null)return s;if(e==null)for(;s.length<t+n.length;)s.push(-1);else s=e.slice();if(n==null)return s;if(t+n.length!==s.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${s.length}`);for(let r=1;r<n.length;++r){const o=n[r],a=s[s.length-n.length+r],i=s[a];if(o>=0)if(i>=0){if(i!==o)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${r+t}] = ${o} but shape[${r+t}] = ${i}`)}else s[a]=o}return s}function aPt(t){const e={FIRST_DIM_SIZE:yi.FIRST_DIM_SIZE,VALUE_ROWIDS:yi.VALUE_ROWIDS,ROW_LENGTHS:yi.ROW_LENGTHS,ROW_SPLITS:yi.ROW_SPLITS,ROW_LIMITS:yi.ROW_LIMITS,ROW_STARTS:yi.ROW_STARTS},n=[];for(const s of t)if(s in e)n.push(e[s]);else break;return n}function iPt(t){return t.length===0?0:t[0]===yi.FIRST_DIM_SIZE?t.length-1:t.length}function lPt(t,e){if(t==null||e==null)return;const n=t.length,s=e.length;if(n>=s)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${s})`);for(let r=0;r<Math.min(n,s-1);++r){const o=t[r],a=e[r+1];if(o>=0&&a>=0&&o!==1&&o!==a)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${r-t.length}] = ${o} but ragged tensor input.flatValues.shape[${r-t.length}] = ${a}`)}}const HI=30;function uPt(t){return t<=HI?t:Tb(t,Math.floor(Math.sqrt(t)))}function cPt(t,e,n){const s=n*(typeof t=="number"?t:t[0]),r=e*(typeof t=="number"?t:t[1]);return[s,r]}function dPt(t,e,n,s=!0){let r=[];if(s)r=r.concat(e.slice(0)),r.push(t[0]/n),r=r.concat(t.slice(1));else{r=r.concat(t[0]);const o=e.length;for(let a=0;a<o;++a)r=r.concat([t[a+1]/e[a],e[a]]);r=r.concat(t.slice(o+1))}return r}function fPt(t,e,n=!0){const s=[];if(n){s.push(e);for(let r=e+1;r<t;++r)r<=2*e?(s.push(r),s.push(r-(e+1))):s.push(r)}else{const r=[],o=[];for(let a=1;a<t;++a)a>=e*2+1||a%2===1?o.push(a):r.push(a);s.push(...r),s.push(0),s.push(...o)}return s}function hPt(t,e,n,s=!0){const r=[];s?r.push(t[0]/n):r.push(t[0]*n);for(let o=1;o<t.length;++o)o<=e.length?s?r.push(e[o-1]*t[o]):r.push(t[o]/e[o-1]):r.push(t[o]);return r}function pPt(t,e){const n=[0];for(let s=0;s<e;++s)n.push(t[s][0]);return n}function mPt(t,e,n){const s=t.slice(0,1);for(let r=0;r<n;++r)s.push(t[r+1]-e[r][0]-e[r][1]);return s}const gPt=1.7580993408473768,vPt=1.0507009873554805;const yPt=.3275911,bPt=.254829592,wPt=-.284496736,_Pt=1.421413741,$Pt=-1.453152027,xPt=1.061405429;function SPt(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let s=0;s<n.length;s+=2)n[s]=t[s/2],n[s+1]=e[s/2];return n}function CPt(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let s=0;s<t.length;s+=2)e[s/2]=t[s],n[s/2]=t[s+1];return{real:e,imag:n}}function kPt(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),s=new Float32Array(e);for(let r=0;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],s[Math.floor(r/4)]=t[r+1];return{real:n,imag:s}}function TPt(t){const e=Math.floor(t.length/4),n=new Float32Array(e),s=new Float32Array(e);for(let r=2;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],s[Math.floor(r/4)]=t[r+1];return{real:n,imag:s}}function NPt(t,e){const n=t[e*2],s=t[e*2+1];return{real:n,imag:s}}function EPt(t,e,n,s){t[s*2]=e,t[s*2+1]=n}function IPt(t,e){const n=new Float32Array(t/2),s=new Float32Array(t/2);for(let r=0;r<Math.ceil(t/2);r++){const o=(e?2:-2)*Math.PI*(r/t);n[r]=Math.cos(o),s[r]=Math.sin(o)}return{real:n,imag:s}}function APt(t,e,n){const s=(n?2:-2)*Math.PI*(t/e),r=Math.cos(s),o=Math.sin(s);return{real:r,imag:o}}const M$="->",OPt=/->/g,N9=",",E9="...";function RPt(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(OPt,"").length)/M$.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${M$}").`);const[s,r]=t.split(M$);le(s.indexOf(E9)===-1,()=>`The ellipsis notation ("${E9}") is not supported yet.`);const o=s.split(N9),a=o.length;if(e!==a)throw new Error(`Expected ${a} input tensors, received ${e}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let f=0;f<r.length;++f){const h=r[f];if(!o.some(p=>p.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);i.indexOf(h)===-1&&i.push(h)}for(let f=0;f<s.length;++f){const h=s[f];i.indexOf(h)===-1&&h!==N9&&i.push(h)}const l=new Array(o.length);for(let f=0;f<a;++f){if(new Set(o[f].split("")).size!==o[f].length)throw new Error(`Found duplicate axes in input component ${o[f]}. Support for duplicate axes in input is not implemented yet.`);l[f]=[];for(let h=0;h<o[f].length;++h)l[f].push(i.indexOf(o[f][h]))}const u=i.length,c=r.length,d=[];for(let f=c;f<u;++f)d.push(f);return{allDims:i,summedDims:d,idDims:l}}function DPt(t,e){let n=new Array(t);n.fill(-1);for(let r=0;r<e.length;++r)n[e[r]]=r;const s=[];for(let r=0;r<t;++r)n[r]===-1&&s.push(r);return n=n.filter(r=>r!==-1),{permutationIndices:n,expandDims:s}}function FPt(t,e,n){const s=new Array(t);for(let r=0;r<n.length;++r){const o=n[r].shape;for(let a=0;a<e[r].length;++a)s[e[r][a]]===void 0?s[e[r][a]]=o[a]:le(s[e[r][a]]===o[a],()=>`Expected dimension ${s[e[r][a]]} at axis ${a} of input shaped ${JSON.stringify(o)}, but got dimension ${o[a]}`)}}function MPt(t,e){const n=t,s=[];let r=0;t.length===0&&n.push(-1),r=t.length+1;for(let a=0;a<r;++a)s.push([]);const o=[];for(let a=0;a<n.length;++a){const i=n[a],l=LPt(e,i);for(const u of l)o.indexOf(u)===-1&&(s[a].push(u),o.push(u))}return{path:n,steps:s}}function PPt(t){return t.every((e,n)=>e===n)}function LPt(t,e){const n=[];for(let s=0;s<t.length;++s)(t[s].length===0||t[s].indexOf(e)!==-1||e===-1)&&n.push(s);return n}function zPt(t,e,n=0){let s=[];if(typeof e=="number")le(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),s=new Array(e).fill(t.shape[n]/e);else{const r=e.reduce((a,i)=>(i===-1&&(a+=1),a),0);le(r<=1,()=>"There should be only one negative value in split array.");const o=e.indexOf(-1);if(o!==-1){const a=e.reduce((i,l)=>l>0?i+l:i);e[o]=t.shape[n]-a}le(t.shape[n]===e.reduce((a,i)=>a+i),()=>"The sum of sizes must match the size of the axis dimension."),s=e}return s}function BPt(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function VPt(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function HPt(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}function WPt(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function UPt(t,e){return`size ${t} must be non-negative, not ${e}`}function GPt(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function jPt(t,e){const n=Qn(t),s=Qn(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${s}. inputShape=${t} outputShape= ${e}`}function KPt(t,e){const n=Qn(t),s=Qn(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${s}. inputShape=${t} outputShape=${e}`}function qPt(){return"segment ids must be >= 0"}function XPt(){return"segment ids are not increasing"}function YPt(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function ZPt(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}function JPt(t,e){let n=!1,s;for(t<=HI?(s=t,n=!0):s=Tb(t,Math.floor(Math.sqrt(t)));!n;)s>e||s===t?n=!0:s=Tb(t,s+1);return s}function QPt(t,e,n){const s=[],r=t.length;for(let o=0;o<r;o++)o!==e?s.push(t[o]):s.push(n);return s}function eLt(t,e,n,s){const r=e.shape.length,o=t.shape.length;if(s!==0&&(s<-r||s>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${s}`);if(s<0&&(s+=r),s>o)throw new Error(`batchDims (${s}) must be less than rank(x) (
    ${o}).`);if(n<s)throw new Error(`batchDims (${s}) must be less than or equal to axis (${n}).`);for(let d=0;d<s;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const a=t.shape[n],i=[];let l=1,u=1,c=1;for(let d=0;d<s;++d)i.push(t.shape[d]),l*=t.shape[d];for(let d=s;d<n;d++)i.push(t.shape[d]),u*=t.shape[d];for(let d=s;d<r;d++)i.push(e.shape[d]);for(let d=n+1;d<o;d++)i.push(t.shape[d]),c*=t.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:a,outputShape:i}}const tLt=Object.freeze(Object.defineProperty({__proto__:null,segOpComputeOptimalWindowSize:JPt,computeOutShape:QPt,collectGatherOpShapeInfo:eLt},Symbol.toStringTag,{value:"Module"}));function nLt(t){try{return t.map(e=>Ib(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function sLt(t){return t.map(e=>O2(e))}const rLt=Object.freeze(Object.defineProperty({__proto__:null,slice_util:cY,segment_util:tLt,fromUint8ToStringArray:nLt,fromStringArrayToUint8:sLt,upcastType:a4,axesAreInnerMostDims:fI,combineLocations:sZ,computeOutAndReduceShapes:JRt,expandShapeToKeepDim:L2,assertAxesAreInnerMostDims:QRt,getAxesPermutation:eDt,getUndoAxesPermutation:tDt,getInnerMostAxes:nDt,getBroadcastDims:ZX,getReductionAxes:JE,assertAndGetBroadcastShape:Ns,assertParamsConsistent:sPt,computeOutShape:rPt,computeDilation2DInfo:JOt,computePool2DInfo:CY,computePool3DInfo:QOt,computeConv2DInfo:F2,computeConv3DInfo:kY,computeDefaultPad:aI,tupleValuesAreOne:yg,eitherStridesOrDilationsAreOne:nu,convertConv2DDataFormat:TY,checkPadOnDimRoundingMode:Aa,getFusedDyActivation:p4,getFusedBiasGradient:m4,applyActivation:g4,shouldFuse:v4,get RowPartitionType(){return yi},combineRaggedTensorToTensorShapes:oPt,getRowPartitionTypesHelper:aPt,getRaggedRank:iPt,validateDefaultValueShape:lPt,PARALLELIZE_THRESHOLD:HI,computeOptimalWindowSize:uPt,getImageCenter:cPt,getReshaped:dPt,getPermuted:fPt,getReshapedPermuted:hPt,getSliceBeginCoords:pPt,getSliceSize:mPt,prepareAndValidate:eY,validateUpdateShape:eI,validateInput:tI,calculateShapes:tY,SELU_SCALEALPHA:gPt,SELU_SCALE:vPt,ERF_P:yPt,ERF_A1:bPt,ERF_A2:wPt,ERF_A3:_Pt,ERF_A4:$Pt,ERF_A5:xPt,warn:_u,log:QIt,mergeRealAndImagArrays:SPt,splitRealAndImagArrays:CPt,complexWithEvenIndex:kPt,complexWithOddIndex:TPt,getComplexWithIndex:NPt,assignToTypedArray:EPt,exponents:IPt,exponent:APt,decodeEinsumEquation:RPt,getEinsumPermutation:DPt,checkEinsumDimSizes:FPt,getEinsumComputePath:MPt,isIdentityPermutation:PPt,prepareSplitSize:zPt,getSparseFillEmptyRowsIndicesDenseShapeMismatch:BPt,getSparseFillEmptyRowsNegativeIndexErrorMessage:VPt,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:HPt,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:WPt,getSparseReshapeNegativeOutputDimErrorMessage:UPt,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:GPt,getSparseReshapeInputOutputMultipleErrorMessage:jPt,getSparseReshapeInputOutputMismatchErrorMessage:KPt,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:qPt,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:XPt,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:YPt,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:ZPt},Symbol.toStringTag,{value:"Module"}));const oLt=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:xJ,nonMaxSuppressionV4Impl:SJ,nonMaxSuppressionV5Impl:CJ,whereImpl:fJ},Symbol.toStringTag,{value:"Module"}));const WI=Object.freeze(Object.defineProperty({__proto__:null,AdadeltaOptimizer:y4,AdagradOptimizer:b4,AdamOptimizer:w4,AdamaxOptimizer:_4,MomentumOptimizer:$4,Optimizer:$c,OptimizerConstructors:gu,RMSPropOptimizer:x4,SGDOptimizer:W2,Tensor:os,TensorBuffer:Ab,Variable:mg,get Rank(){return iS},sumOutType:S5t,upcastType:a4,get Reduction(){return Ir},customGrad:qi,grad:EDt,grads:IDt,valueAndGrad:ADt,valueAndGrads:ODt,variableGrads:hZ,Environment:zj,env:en,get ENV(){return ME},nextFrame:nPt,KernelBackend:Nj,DataStorage:pIt,abs:co,acos:pY,acosh:mY,add:Wt,addN:gY,all:vY,any:yY,argMax:oI,argMin:bY,asin:wY,asinh:_Y,atan:$Y,atan2:xY,atanh:SY,avgPool:iI,avgPool3d:NY,basicLSTMCell:EY,batchToSpaceND:lI,batchNorm:M2,batchNorm2d:IY,batchNorm3d:AY,batchNorm4d:OY,bincount:uI,broadcastArgs:RY,broadcastTo:v0,buffer:ji,cast:es,ceil:DY,clipByValue:FY,clone:bl,complex:Dl,concat:sr,concat1d:MY,concat2d:PY,concat3d:LY,concat4d:zY,conv1d:BY,conv2d:P2,conv2dTranspose:HY,conv3d:WY,conv3dTranspose:UY,cos:GY,cosh:jY,cumprod:KY,cumsum:qY,denseBincount:XY,depthToSpace:YY,depthwiseConv2d:i4,diag:ZY,dilation2d:JY,div:In,divNoNan:QY,dot:eZ,einsum:tZ,elu:dI,equal:cI,erf:nZ,euclideanNorm:oZ,exp:rc,expandDims:Va,expm1:aZ,eye:hI,fill:_m,floor:pI,floorDiv:rI,gather:mI,greater:B2,greaterEqual:gI,imag:D2,isFinite:iZ,isInf:lZ,isNaN:uZ,leakyRelu:vI,less:cZ,lessEqual:l4,linspace:dZ,localResponseNormalization:fZ,log:Uh,log1p:yI,logSigmoid:pZ,logSoftmax:mZ,logSumExp:wI,logicalAnd:bg,logicalNot:_I,logicalOr:$I,logicalXor:gZ,lowerBound:vZ,matMul:Tn,max:md,maxPool:xI,maxPool3d:yZ,maxPoolWithArgmax:bZ,maximum:SI,mean:wg,meshgrid:wZ,min:Mb,minimum:CI,mirrorPad:_Z,mod:$Z,moments:xZ,mul:gt,multiRNNCell:SZ,multinomial:CZ,neg:Pi,notEqual:kI,oneHot:Rb,ones:Au,onesLike:kZ,outerProduct:TZ,pad:$m,pad1d:NZ,pad2d:EZ,pad3d:TI,pad4d:IZ,pool:AZ,pow:Wh,prelu:EI,print:qE,prod:OZ,raggedGather:RZ,raggedTensorToTensor:DZ,rand:FZ,randomGamma:MZ,randomNormal:AI,randomStandardNormal:PZ,randomUniform:OI,range:Gh,real:Hh,reciprocal:LZ,relu:V2,relu6:RI,reshape:Ze,reverse:oc,reverse1d:zZ,reverse2d:BZ,reverse3d:VZ,reverse4d:HZ,round:DI,rsqrt:WZ,scalar:an,selu:UZ,separableConv2d:GZ,setdiff1dAsync:jZ,sigmoid:Bu,sign:KZ,sin:qZ,sinh:XZ,slice:Mn,slice1d:YZ,slice2d:ZZ,slice3d:JZ,slice4d:QZ,softmax:eJ,softplus:bI,spaceToBatchND:NI,fft:d4,ifft:_g,irfft:FI,rfft:f4,split:jh,sqrt:Ki,square:ba,squaredDifference:MI,squeeze:H2,stack:Xi,step:PI,stridedSlice:tJ,sub:rn,sum:Wn,tan:nJ,tanh:Fb,tensor:Za,tensor1d:ga,tensor2d:gd,tensor3d:QE,tensor4d:sJ,tensor5d:rJ,tensor6d:oJ,tile:th,topk:aJ,truncatedNormal:iJ,unique:lJ,unsortedSegmentSum:uJ,unstack:_c,upperBound:cJ,variable:dJ,where:jd,whereAsync:LI,zeros:Kd,zerosLike:bo,op:Ce,OP_SCOPE_SUFFIX:UE,booleanMaskAsync:hJ,transpose:vg,norm:z2,movingAverage:pJ,scatterND:mJ,searchSorted:c4,sparseToDense:gJ,gatherND:vJ,dropout:yJ,enclosingPowerOfTwo:zI,cosineWindow:h4,inTopKAsync:bJ,image:VI,linalg:NJ,losses:EJ,spectral:kJ,fused:wJ,signal:TJ,sparse:IJ,string:AJ,train:ePt,enableProdMode:OAt,enableDebugMode:RAt,disableDeprecationWarnings:DAt,deprecationWarn:FAt,disposeVariables:MAt,engine:PAt,memory:LAt,profile:zAt,tidy:vn,dispose:qr,keep:Ei,time:BAt,setBackend:VAt,ready:HAt,getBackend:WAt,removeBackend:UAt,findBackend:GAt,findBackendFactory:jAt,registerBackend:KAt,backend:qAt,setPlatform:XAt,getKernel:Nb,getGradient:oS,getKernelsForBackend:Eb,registerKernel:kX,registerGradient:e5t,unregisterKernel:t5t,unregisterGradient:n5t,copyRegisteredKernels:s5t,Abs:Vj,Acos:Hj,Acosh:Wj,Add:LE,AddN:Uj,All:Gj,Any:jj,ArgMax:Kj,ArgMin:qj,Asin:Xj,Asinh:Yj,Atan:Zj,Atanh:Jj,Atan2:Qj,AvgPool:eK,AvgPoolGrad:FIt,AvgPool3D:tK,AvgPool3DGrad:MIt,BatchMatMul:nK,BatchToSpaceND:sK,Bincount:rK,BroadcastTo:PIt,BroadcastArgs:oK,Cast:zE,Ceil:aK,ClipByValue:iK,Complex:lK,ComplexAbs:uK,Concat:cK,Conv2D:dK,Conv2DBackpropFilter:fK,Conv2DBackpropInput:hK,Conv3D:pK,Conv3DBackpropFilterV2:LIt,Conv3DBackpropInputV2:mK,Cos:gK,Cosh:vK,Cumprod:yK,Cumsum:bK,CropAndResize:wK,DenseBincount:_K,DepthToSpace:$K,DepthwiseConv2dNative:xK,DepthwiseConv2dNativeBackpropFilter:SK,DepthwiseConv2dNativeBackpropInput:CK,Diag:kK,Dilation2D:TK,Dilation2DBackpropInput:zIt,Dilation2DBackpropFilter:BIt,RealDiv:NK,Einsum:EK,Elu:IK,EluGrad:VIt,Erf:AK,Equal:OK,Exp:RK,ExpandDims:DK,Expm1:FK,FFT:MK,Fill:PK,FlipLeftRight:LK,Floor:zK,FloorDiv:BK,FusedBatchNorm:VK,GatherV2:HK,GatherNd:WK,Greater:UK,GreaterEqual:GK,Identity:BE,IFFT:jK,Imag:KK,IsFinite:qK,IsInf:XK,IsNan:YK,LeakyRelu:ZK,Less:JK,LessEqual:QK,LinSpace:eq,Log:tq,Log1p:nq,LogicalAnd:sq,LogicalNot:rq,LogicalOr:oq,LogicalXor:HIt,LogSoftmax:WIt,LowerBound:UIt,LRN:aq,LRNGrad:GIt,Max:iq,Maximum:lq,MaxPool:uq,MaxPoolGrad:jIt,MaxPool3D:cq,MaxPool3DGrad:KIt,MaxPoolWithArgmax:dq,Mean:fq,Min:hq,Minimum:pq,MirrorPad:mq,Mod:gq,Multinomial:vq,Multiply:yq,Neg:bq,NotEqual:wq,NonMaxSuppressionV3:_q,NonMaxSuppressionV4:$q,NonMaxSuppressionV5:xq,OnesLike:Sq,OneHot:Cq,Pack:kq,PadV2:Tq,Pool:qIt,Pow:Nq,Prelu:Eq,Prod:Iq,RaggedGather:Aq,RaggedTensorToTensor:Oq,Range:Rq,Real:Dq,Reciprocal:Fq,Relu:Mq,Reshape:Pq,ResizeNearestNeighbor:Lq,ResizeNearestNeighborGrad:XIt,ResizeBilinear:zq,ResizeBilinearGrad:YIt,Relu6:Bq,Reverse:Vq,Round:Hq,Rsqrt:Wq,ScatterNd:Uq,SearchSorted:Gq,Select:jq,Selu:Kq,Slice:qq,Sin:Xq,Sinh:Yq,Sign:Zq,Sigmoid:Jq,Softplus:Qq,Sqrt:eX,Sum:tX,SpaceToBatchND:nX,SplitV:sX,Softmax:rX,SparseFillEmptyRows:oX,SparseReshape:aX,SparseSegmentMean:iX,SparseSegmentSum:lX,SparseToDense:uX,SquaredDifference:cX,Square:ZIt,StridedSlice:dX,StringNGrams:fX,StringSplit:hX,StringToHashBucketFast:pX,Sub:mX,Tan:gX,Tanh:vX,Tile:VE,TopK:yX,Transform:bX,Transpose:my,Unique:wX,Unpack:_X,UnsortedSegmentSum:$X,UpperBound:JIt,ZerosLike:xX,Step:SX,FromPixels:tS,RotateWithOffset:CX,_FusedMatMul:nS,FusedConv2D:sS,FusedDepthwiseConv2D:rS,version_core:DOt,browser:cOt,io:ZE,math:nOt,serialization:xOt,test_util:ROt,util:f5t,backend_util:rLt,broadcast_util:sOt,tensor_util:T5t,slice_util:cY,gather_util:dOt,scatter_util:fOt,device_util:R5t,kernel_impls:oLt},Symbol.toStringTag,{value:"Module"}));const aLt=en();aLt.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var sa;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(sa||(sa={}));var I9;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(I9||(I9={}));const iLt={};function OJ(t){return iLt[t]}function W(t,e,n,s,r){const o=e.inputParams[t];if(o&&o.inputIndexStart!==void 0){const i=o.inputIndexStart,l=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?i+1:o.inputIndexEnd;if(o.type==="tensor")return Ar(e.inputNames[o.inputIndexStart],n,s,r);if(o.type==="tensors")return e.inputNames.slice(i,l).map(f=>Ar(f,n,s,r));const u=Ar(e.inputNames.slice(i)[0],n,s,r),c=u.dataSync();return o.type==="number"?c[0]:hd(u.shape,c)}const a=e.attrParams[t];return a&&a.value}function Ar(t,e,n,s){const[r,o]=uo(t);if(s!=null){const i=s.getHashTableHandleByName(r);if(i!=null)return i}const a=n.currentContextIds.find(i=>!!e[Pb(r,i)]);return a!==void 0?e[Pb(r,a)][o]:void 0}function lLt(t,e,n){return e[Pb(t,n.currentContextId)]}function bi(t,e){const[n,s,r]=uo(t);return[Pb(n,e&&e.currentContextId),s,r]}function Pb(t,e){return e?`${t}-${e}`:t}function uo(t){const e=t.split(":");if(e.length===1)return[t,0,void 0];const n=e[0],s=e.length===3?e[1]:void 0,r=Number(e[e.length-1]);return[n,r,s]}function yy(t,e,n){let s=W("pad",t,e,n);if(s==="explicit"){s=W("explicitPaddings",t,e,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)r[o][0]=s[o*2],r[o][1]=s[o*2+1];return r}return s}function cl(t){return t.kept?t:bl(t)}const uLt=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],cLt=Object.freeze(Object.defineProperty({__proto__:null,json:uLt},Symbol.toStringTag,{value:"Module"}));const dLt=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],fLt=Object.freeze(Object.defineProperty({__proto__:null,json:dLt},Symbol.toStringTag,{value:"Module"}));const hLt=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],pLt=Object.freeze(Object.defineProperty({__proto__:null,json:hLt},Symbol.toStringTag,{value:"Module"}));const mLt=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],gLt=Object.freeze(Object.defineProperty({__proto__:null,json:mLt},Symbol.toStringTag,{value:"Module"}));const vLt=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],yLt=Object.freeze(Object.defineProperty({__proto__:null,json:vLt},Symbol.toStringTag,{value:"Module"}));const bLt=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],wLt=Object.freeze(Object.defineProperty({__proto__:null,json:bLt},Symbol.toStringTag,{value:"Module"}));const _Lt=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],$Lt=Object.freeze(Object.defineProperty({__proto__:null,json:_Lt},Symbol.toStringTag,{value:"Module"}));const xLt=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],SLt=Object.freeze(Object.defineProperty({__proto__:null,json:xLt},Symbol.toStringTag,{value:"Module"}));const CLt=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],kLt=Object.freeze(Object.defineProperty({__proto__:null,json:CLt},Symbol.toStringTag,{value:"Module"}));const TLt=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],NLt=Object.freeze(Object.defineProperty({__proto__:null,json:TLt},Symbol.toStringTag,{value:"Module"}));const ELt=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ILt=Object.freeze(Object.defineProperty({__proto__:null,json:ELt},Symbol.toStringTag,{value:"Module"}));const ALt=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],OLt=Object.freeze(Object.defineProperty({__proto__:null,json:ALt},Symbol.toStringTag,{value:"Module"}));const RLt=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],DLt=Object.freeze(Object.defineProperty({__proto__:null,json:RLt},Symbol.toStringTag,{value:"Module"}));const FLt=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],MLt=Object.freeze(Object.defineProperty({__proto__:null,json:FLt},Symbol.toStringTag,{value:"Module"}));const PLt=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],LLt=Object.freeze(Object.defineProperty({__proto__:null,json:PLt},Symbol.toStringTag,{value:"Module"}));const zLt=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],BLt=Object.freeze(Object.defineProperty({__proto__:null,json:zLt},Symbol.toStringTag,{value:"Module"}));const VLt=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],HLt=Object.freeze(Object.defineProperty({__proto__:null,json:VLt},Symbol.toStringTag,{value:"Module"}));const WLt=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],ULt=Object.freeze(Object.defineProperty({__proto__:null,json:WLt},Symbol.toStringTag,{value:"Module"}));const GLt=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],jLt=Object.freeze(Object.defineProperty({__proto__:null,json:GLt},Symbol.toStringTag,{value:"Module"}));class A9{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[cLt,fLt,pLt,gLt,yLt,wLt,$Lt,SLt,kLt,NLt,ILt,OLt,DLt,MLt,LLt,BLt,HLt,ULt,jLt],n=[].concat(...e.map(s=>s.json));this.opMappers=n.reduce((s,r)=>(s[r.tfOpName]=r,s),{})}transformGraph(e,n={}){const s=e.node,r=[],o=[],a=[],i=s.reduce((m,g)=>(m[g.name]=this.mapNode(g),g.op.startsWith("Placeholder")?r.push(m[g.name]):g.op==="Const"?o.push(m[g.name]):(g.input==null||g.input.length===0)&&a.push(m[g.name]),m),{});let l=[];const u=[];let c={},d={};n!=null&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const f=Object.keys(i);f.forEach(m=>{const g=i[m];g.inputNames.forEach((y,w)=>{const[b,,_]=bi(y),$=i[b];if($.outputs!=null){const x=$.outputs.indexOf(_);if(x!==-1){const k=`${b}:${x}`;g.inputNames[w]=k}}g.inputs.push($),$.children.push(g)})}),Object.keys(d).length===0?f.forEach(m=>{const g=i[m];g.children.length===0&&u.push(g)}):Object.keys(d).forEach(m=>{const[g]=bi(m),y=i[g];y!=null&&(y.signatureKey=d[m],u.push(y))}),Object.keys(c).length>0?Object.keys(c).forEach(m=>{const[g]=bi(m),y=i[g];y&&(y.signatureKey=c[m],l.push(y))}):l=r;let h={};e.library!=null&&e.library.function!=null&&(h=e.library.function.reduce((m,g)=>(m[g.signature.name]=this.mapFunction(g),m),{}));const p={nodes:i,inputs:l,outputs:u,weights:o,placeholders:r,signature:n,functions:h};return a.length>0&&(p.initNodes=a),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,s)=>(n[e[s].name]=s,n),{})}mapNode(e){const n=OJ(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const s={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(s.inputParams=n.inputs.reduce((r,o)=>(r[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},r),{})),n.attrs!=null&&(s.attrParams=n.attrs.reduce((r,o)=>{const a=o.type;let i;switch(o.type){case"string":i=_S(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=_S(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":i=NS(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=NS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":i=xS(e.attr,o.tfName,o.defaultValue||0),i===void 0&&!!o.tfDeprecatedName&&(i=xS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":i=TS(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=TS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":i=$S(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=$S(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":i=IS(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=IS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":i=kS(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=kS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":i=ES(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=ES(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":i=SS(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=SS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":i=CS(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=CS(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":i=O9(e.attr,o.tfName,o.defaultValue),i===void 0&&!!o.tfDeprecatedName&&(i=O9(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${o.type} for op: ${e.op}`)}return r[o.name]={value:i,type:a},r},{})),s}mapFunction(e){const n=e.nodeDef,s=[],r=[];let o={};n!=null&&(o=n.reduce((d,f)=>(d[f.name]=this.mapNode(f),f.op==="Const"&&r.push(d[f.name]),d),{}));const a=[],i=[];e.signature.inputArg.forEach(d=>{const[f]=bi(d.name),h={name:f,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:UI(d.type),type:"dtype"}},children:[]};h.signatureKey=d.name,a.push(h),o[f]=h}),Object.keys(o).forEach(d=>{const f=o[d];f.inputNames.forEach((h,p)=>{const[m,,g]=bi(h),y=o[m];if(y.outputs!=null){const w=y.outputs.indexOf(g);if(w!==-1){const b=`${m}:${w}`;f.inputNames[p]=b}}f.inputs.push(y),y.children.push(f)})});const u=e.ret;e.signature.outputArg.forEach(d=>{const[f,h]=bi(u[d.name]),p=o[f];p!=null&&(p.defaultOutput=h,i.push(p))});const c=this.mapArgsToSignature(e);return{nodes:o,inputs:a,outputs:i,weights:r,placeholders:s,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,s)=>(n[s.name]=this.mapArgToTensorInfo(s),n),{}),outputs:e.signature.outputArg.reduce((n,s)=>(n[s.name]=this.mapArgToTensorInfo(s,e.ret),n),{})}}mapArgToTensorInfo(e,n){let s=e.name;return n!=null&&(s=n[s]),{name:s,dtype:e.type}}}function KLt(t){const e=en().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function RJ(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):KLt(t);return e?n:n.toLowerCase()}function _S(t,e,n,s=!1){const r=t[e];return r!=null?RJ(r.s,s):n}function $S(t,e,n){const s=t[e];return s?s.b:n}function xS(t,e,n){const s=t[e]||{},r=s.i!=null?s.i:s.f!=null?s.f:n;return typeof r=="number"?r:parseInt(r,10)}function UI(t){switch(typeof t=="string"&&(t=sa[t]),t){case sa.DT_FLOAT:case sa.DT_HALF:return"float32";case sa.DT_INT32:case sa.DT_INT64:case sa.DT_INT8:case sa.DT_UINT8:return"int32";case sa.DT_BOOL:return"bool";case sa.DT_DOUBLE:return"float32";case sa.DT_STRING:return"string";default:return null}}function O9(t,e,n){const s=t[e];return s&&s.func?s.func.name:n}function SS(t,e,n){const s=t[e];return s&&s.type?UI(s.type):n}function CS(t,e,n){const s=t[e];return s&&s.list&&s.list.type?s.list.type.map(r=>UI(r)):n}function DJ(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function kS(t,e,n){const s=t[e];return s&&s.shape?DJ(s.shape):n}function TS(t,e,n){const s=t[e];return s?((s.list.f&&s.list.f.length?s.list.f:s.list.i)||[]).map(r=>typeof r=="number"?r:parseInt(r,10)):n}function NS(t,e,n,s=!1){const r=t[e];return r&&r.list&&r.list.s?r.list.s.map(o=>RJ(o,s)):n}function ES(t,e,n){const s=t[e];return s&&s.list&&s.list.shape?s.list.shape.map(r=>DJ(r)):n}function IS(t,e,n){const s=t[e];return s&&s.list&&s.list.b?s.list.b:n}class qLt{constructor(e,n,s){this.node=e,this.tensorMap=n,this.context=s,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(r=>this.getInput(r)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((r,o)=>(r[o]=this.getAttr(o),r),{}))}getInput(e){return Ar(e,this.tensorMap,this.context)}getAttr(e,n){const s=this.node.rawAttrs[e];if(s.tensor!=null)return Ar(e,this.tensorMap,this.context);if(s.i!=null||s.f!=null)return xS(this.node.rawAttrs,e,n);if(s.s!=null)return _S(this.node.rawAttrs,e,n);if(s.b!=null)return $S(this.node.rawAttrs,e,n);if(s.shape!=null)return kS(this.node.rawAttrs,e,n);if(s.type!=null)return SS(this.node.rawAttrs,e,n);if(s.list!=null){if(s.list.i!=null||s.list.f!=null)return TS(this.node.rawAttrs,e,n);if(s.list.s!=null)return NS(this.node.rawAttrs,e,n);if(s.list.shape!=null)return ES(this.node.rawAttrs,e,n);if(s.list.b!=null)return IS(this.node.rawAttrs,e,n);if(s.list.type!=null)return CS(this.node.rawAttrs,e,n)}return n}}const _r=Object.freeze(Object.defineProperty({__proto__:null,abs:co,acos:pY,acosh:mY,add:Wt,addN:gY,all:vY,any:yY,argMax:oI,argMin:bY,asin:wY,asinh:_Y,atan:$Y,atan2:xY,atanh:SY,avgPool:iI,avgPool3d:NY,basicLSTMCell:EY,batchToSpaceND:lI,batchNorm:M2,batchNorm2d:IY,batchNorm3d:AY,batchNorm4d:OY,bincount:uI,broadcastArgs:RY,broadcastTo:v0,buffer:ji,cast:es,ceil:DY,clipByValue:FY,clone:bl,complex:Dl,concat:sr,concat1d:MY,concat2d:PY,concat3d:LY,concat4d:zY,conv1d:BY,conv2d:P2,conv2dTranspose:HY,conv3d:WY,conv3dTranspose:UY,cos:GY,cosh:jY,cumprod:KY,cumsum:qY,denseBincount:XY,depthToSpace:YY,depthwiseConv2d:i4,diag:ZY,dilation2d:JY,div:In,divNoNan:QY,dot:eZ,einsum:tZ,elu:dI,equal:cI,erf:nZ,euclideanNorm:oZ,exp:rc,expandDims:Va,expm1:aZ,eye:hI,fill:_m,floor:pI,floorDiv:rI,gather:mI,greater:B2,greaterEqual:gI,imag:D2,isFinite:iZ,isInf:lZ,isNaN:uZ,leakyRelu:vI,less:cZ,lessEqual:l4,linspace:dZ,localResponseNormalization:fZ,log:Uh,log1p:yI,logSigmoid:pZ,logSoftmax:mZ,logSumExp:wI,logicalAnd:bg,logicalNot:_I,logicalOr:$I,logicalXor:gZ,lowerBound:vZ,matMul:Tn,max:md,maxPool:xI,maxPool3d:yZ,maxPoolWithArgmax:bZ,maximum:SI,mean:wg,meshgrid:wZ,min:Mb,minimum:CI,mirrorPad:_Z,mod:$Z,moments:xZ,mul:gt,multiRNNCell:SZ,multinomial:CZ,neg:Pi,notEqual:kI,oneHot:Rb,ones:Au,onesLike:kZ,outerProduct:TZ,pad:$m,pad1d:NZ,pad2d:EZ,pad3d:TI,pad4d:IZ,pool:AZ,pow:Wh,prelu:EI,print:qE,prod:OZ,raggedGather:RZ,raggedTensorToTensor:DZ,rand:FZ,randomGamma:MZ,randomNormal:AI,randomStandardNormal:PZ,randomUniform:OI,range:Gh,real:Hh,reciprocal:LZ,relu:V2,relu6:RI,reshape:Ze,reverse:oc,reverse1d:zZ,reverse2d:BZ,reverse3d:VZ,reverse4d:HZ,round:DI,rsqrt:WZ,scalar:an,selu:UZ,separableConv2d:GZ,setdiff1dAsync:jZ,sigmoid:Bu,sign:KZ,sin:qZ,sinh:XZ,slice:Mn,slice1d:YZ,slice2d:ZZ,slice3d:JZ,slice4d:QZ,softmax:eJ,softplus:bI,spaceToBatchND:NI,fft:d4,ifft:_g,irfft:FI,rfft:f4,split:jh,sqrt:Ki,square:ba,squaredDifference:MI,squeeze:H2,stack:Xi,step:PI,stridedSlice:tJ,sub:rn,sum:Wn,tan:nJ,tanh:Fb,tensor:Za,tensor1d:ga,tensor2d:gd,tensor3d:QE,tensor4d:sJ,tensor5d:rJ,tensor6d:oJ,tile:th,topk:aJ,truncatedNormal:iJ,unique:lJ,unsortedSegmentSum:uJ,unstack:_c,upperBound:cJ,variable:dJ,where:jd,whereAsync:LI,zeros:Kd,zerosLike:bo,op:Ce,OP_SCOPE_SUFFIX:UE,booleanMaskAsync:hJ,transpose:vg,norm:z2,movingAverage:pJ,scatterND:mJ,searchSorted:c4,sparseToDense:gJ,gatherND:vJ,dropout:yJ,enclosingPowerOfTwo:zI,cosineWindow:h4,inTopKAsync:bJ,image:VI,linalg:NJ,losses:EJ,spectral:kJ,fused:wJ,signal:TJ,sparse:IJ,string:AJ},Symbol.toStringTag,{value:"Module"}));const XLt=(t,e,n,s=_r)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[s.add(W("a",t,e,n),W("b",t,e,n))];case"AddN":return[s.addN(W("tensors",t,e,n))];case"FloorMod":case"Mod":return[s.mod(W("a",t,e,n),W("b",t,e,n))];case"Mul":return[s.mul(W("a",t,e,n),W("b",t,e,n))];case"RealDiv":case"Div":return[s.div(W("a",t,e,n),W("b",t,e,n))];case"DivNoNan":return[s.divNoNan(W("a",t,e,n),W("b",t,e,n))];case"FloorDiv":return[s.floorDiv(W("a",t,e,n),W("b",t,e,n))];case"Sub":return[s.sub(W("a",t,e,n),W("b",t,e,n))];case"Minimum":return[s.minimum(W("a",t,e,n),W("b",t,e,n))];case"Maximum":return[s.maximum(W("a",t,e,n),W("b",t,e,n))];case"Pow":return[s.pow(W("a",t,e,n),W("b",t,e,n))];case"SquaredDifference":return[s.squaredDifference(W("a",t,e,n),W("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const YLt=(t,e,n,s=_r)=>{switch(t.op){case"Abs":case"ComplexAbs":return[s.abs(W("x",t,e,n))];case"Acos":return[s.acos(W("x",t,e,n))];case"Acosh":return[s.acosh(W("x",t,e,n))];case"Asin":return[s.asin(W("x",t,e,n))];case"Asinh":return[s.asinh(W("x",t,e,n))];case"Atan":return[s.atan(W("x",t,e,n))];case"Atan2":return[s.atan2(W("x",t,e,n),W("y",t,e,n))];case"Atanh":return[s.atanh(W("x",t,e,n))];case"Ceil":return[s.ceil(W("x",t,e,n))];case"Complex":return[s.complex(W("real",t,e,n),W("imag",t,e,n))];case"Cos":return[s.cos(W("x",t,e,n))];case"Cosh":return[s.cosh(W("x",t,e,n))];case"Elu":return[s.elu(W("x",t,e,n))];case"Erf":return[s.erf(W("x",t,e,n))];case"Exp":return[s.exp(W("x",t,e,n))];case"Expm1":return[s.expm1(W("x",t,e,n))];case"Floor":return[s.floor(W("x",t,e,n))];case"Log":return[s.log(W("x",t,e,n))];case"Log1p":return[s.log1p(W("x",t,e,n))];case"Imag":return[s.imag(W("x",t,e,n))];case"Neg":return[s.neg(W("x",t,e,n))];case"Reciprocal":return[s.reciprocal(W("x",t,e,n))];case"Real":return[s.real(W("x",t,e,n))];case"Relu":return[s.relu(W("x",t,e,n))];case"Round":return[s.round(W("x",t,e,n))];case"Selu":return[s.selu(W("x",t,e,n))];case"Sigmoid":return[s.sigmoid(W("x",t,e,n))];case"Sin":return[s.sin(W("x",t,e,n))];case"Sign":return[s.sign(W("x",t,e,n))];case"Sinh":return[s.sinh(W("x",t,e,n))];case"Softplus":return[s.softplus(W("x",t,e,n))];case"Sqrt":return[s.sqrt(W("x",t,e,n))];case"Square":return[s.square(W("x",t,e,n))];case"Tanh":return[s.tanh(W("x",t,e,n))];case"Tan":return[s.tan(W("x",t,e,n))];case"ClipByValue":return[s.clipByValue(W("x",t,e,n),W("clipValueMin",t,e,n),W("clipValueMax",t,e,n))];case"Relu6":return[s.relu6(W("x",t,e,n))];case"Rsqrt":return[s.rsqrt(Ar(t.inputNames[0],e,n))];case"Prod":return[s.prod(W("x",t,e,n),W("axes",t,e,n))];case"LeakyRelu":return[s.leakyRelu(W("x",t,e,n),W("alpha",t,e,n))];case"Prelu":return[s.prelu(W("x",t,e,n),W("alpha",t,e,n))];case"IsNan":return[s.isNaN(Ar(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function aa(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){le(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let s=0;s<t.length;s++){const r=t[s],o=e[s];le(r<0||o<0||r===o,()=>n+` Shapes ${t} and ${e} must match`)}}}function R9(t){return!(typeof t=="number"||t.some(e=>e<0))}function Bm(t,e,n){let s=AS(t,n);const r=!R9(s);if(r&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${s}`);if(r&&e.forEach(o=>{s=AS(o.shape,s)}),!R9(s))throw new Error(`Non-fully-defined elementShape: ${s}`);return s}function AS(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let s=0;s<t.length;++s){const r=t[s],o=e[s];if(r>=0&&o>=0&&r!==o)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[s]=r>=0?r:o}return n}class ZLt{constructor(e,n,s,r,o,a,i){this.name=e,this.dtype=n,this.maxSize=s,this.elementShape=r,this.identicalElementShapes=o,this.dynamicSize=a,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=an(0),Ei(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const s=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),aa(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),s.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(s.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);s.tensor=n,Ei(n),s.written=!0,this.tensors[e]=s}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((s,r)=>this.write(s,n[r]))}gather(e,n){if(!!n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let r=0;r<this.size();r++)e.push(r)}if(e.length===0)return Za([],[0].concat(this.elementShape));const s=this.readMany(e);return aa(this.elementShape,s[0].shape,"TensorArray shape mismatch: "),Xi(s,0)}concat(e){if(!!e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Za([],[0].concat(this.elementShape));const n=[];for(let r=0;r<this.size();r++)n.push(r);const s=this.readMany(n);return aa(this.elementShape,s[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${s[0].shape})`),sr(s,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const s=Math.max(...e);if(!this.dynamicSize&&s>=this.maxSize)throw new Error(`Max index must be < array size (${s}  vs. ${this.maxSize})`);this.writeMany(e,_c(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let s=0;const r=e.map(l=>(s+=l,s));if(s!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${s}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const o=s===0?0:n.size/s,a=[];vn(()=>{n=Ze(n,[1,s,o]);for(let l=0;l<e.length;++l){const c=[0,l===0?0:r[l-1],0],d=[1,e[l],o];a[l]=Ze(Mn(n,c,d),this.elementShape)}return a});const i=[];for(let l=0;l<e.length;l++)i[l]=l;this.writeMany(i,a)}}class qd{constructor(e,n,s,r=-1){this.tensors=e,this.elementShape=n,this.elementDtype=s,e!=null&&e.forEach(o=>{if(s!==o.dtype)throw new Error(`Invalid data types; op elements ${s}, but list elements ${o.dtype}`);aa(n,o.shape,"TensorList shape mismatch: "),Ei(o)}),this.idTensor=an(0),this.maxNumElements=r,Ei(this.idTensor)}get id(){return this.idTensor.id}copy(){return new qd([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,s=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(s!==-1&&this.tensors.length!==s)throw new Error(`Operation expected a list with ${s} elements but got a list with ${this.tensors.length} elements.`);aa(e,this.elementShape,"TensorList shape mismatch: ");const r=Bm(this.elementShape,this.tensors,e);return vn(()=>{const o=this.tensors.map(a=>Ze(a,r));return Xi(o,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const s=Bm(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,aa(r.shape,e,"TensorList shape mismatch: "),Ze(r,s)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(aa(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Ei(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new qd([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let s=0;s<Math.min(this.tensors.length,e);++s)n.tensors[s]=this.tensors[s];return n}getItem(e,n,s){if(s!==this.elementDtype)throw new Error(`Invalid data types; op elements ${s}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);aa(this.tensors[e].shape,n,"TensorList shape mismatch: ");const r=Bm(this.elementShape,this.tensors,n);return Ze(this.tensors[e],r)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);aa(this.elementShape,n.shape,"TensorList shape mismatch: "),Ei(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,s){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);aa(this.elementShape,s,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=Bm(this.elementShape,this.tensors,s);return e.length===0?Za([],[0].concat(r)):vn(()=>{const o=e.map(a=>Ze(this.tensors[a],r));return Xi(o,0)})}concat(e,n){if(!!e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);aa(this.elementShape,n,"TensorList shape mismatch: ");const s=Bm(this.elementShape,this.tensors,n);return this.size()===0?Za([],[0].concat(s)):vn(()=>{const r=this.tensors.map(o=>Ze(o,s));return sr(r,0)})}}function JLt(t,e,n){const s=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const r=t.shape.slice(1);aa(r,e,"TensorList shape mismatch: ");const o=_c(t);return new qd(o,e,s)}function QLt(t,e,n,s){return new qd([],t,e,s)}function ezt(t,e,n,s){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const r=Math.max(...e);if(s!=null&&s!==-1&&r>=s)throw new Error(`Max index must be < array size (${r}  vs. ${s})`);const o=new qd([],n,t.dtype,s),a=_c(t,0);return e.forEach((i,l)=>{o.setItem(i,a[l])}),o}function tzt(t,e,n){let s=0;const r=e.map(c=>(s+=c,s));if(s!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${s}, and tensor's shape is: ${t.shape}`);const o=t.shape.slice(1),a=AS(o,n),i=s===0?0:t.size/s,l=vn(()=>{const c=[];t=Ze(t,[1,s,i]);for(let d=0;d<e.length;++d){const h=[0,d===0?0:r[d-1],0],p=[1,e[d],i];c[d]=Ze(Mn(t,h,p),a)}return t.dispose(),c}),u=new qd([],n,t.dtype,e.length);for(let c=0;c<l.length;c++)u.setItem(c,l[c]);return u}const nzt=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const s=W("thenBranch",t,e,n),r=W("elseBranch",t,e,n),o=W("cond",t,e,n),a=W("args",t,e,n);return(await o.data())[0]?n.functionMap[s].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const s=W("body",t,e,n),r=W("cond",t,e,n),o=W("args",t,e,n),a=await n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),i=o.map(c=>c.id);let l=await a[0].data();a.forEach(c=>{!c.kept&&i.indexOf(c.id)===-1&&c.dispose()});let u=o;for(;l[0];){const c=u;u=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const d=u.map(h=>h.id);c.forEach(h=>{!h.kept&&i.indexOf(h.id)===-1&&d.indexOf(h.id)===-1&&h.dispose()});const f=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await f[0].data(),f.forEach(h=>{!h.kept&&i.indexOf(h.id)===-1&&d.indexOf(h.id)===-1&&h.dispose()})}return u}case"LoopCond":{const s=W("pred",t,e,n);return[cl(s)]}case"Switch":{const s=W("pred",t,e,n);let r=W("data",t,e,n);return r.kept||(r=cl(r)),(await s.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const s=t.inputNames.find(r=>Ar(r,e,n)!==void 0);if(s){const r=Ar(s,e,n);return[cl(r)]}return}case"Enter":{const s=W("frameName",t,e,n),r=W("tensor",t,e,n);return n.enterFrame(s),[cl(r)]}case"Exit":{const s=W("tensor",t,e,n);return n.exitFrame(),[cl(s)]}case"NextIteration":{const s=W("tensor",t,e,n);return n.nextIteration(),[cl(s)]}case"TensorArrayV3":{const s=W("size",t,e,n),r=W("dtype",t,e,n),o=W("elementShape",t,e,n),a=W("dynamicSize",t,e,n),i=W("clearAfterRead",t,e,n),l=W("identicalElementShapes",t,e,n),u=W("name",t,e,n),c=new ZLt(u,r,s,o,l,a,i);return n.addTensorArray(c),[c.idTensor,an(1)]}case"TensorArrayWriteV3":{const s=W("tensorArrayId",t,e,n),r=W("index",t,e,n),o=W("tensor",t,e,n),a=n.getTensorArray(s.id);return a.write(r,o),[a.idTensor]}case"TensorArrayReadV3":{const s=W("tensorArrayId",t,e,n),r=W("index",t,e,n);return[n.getTensorArray(s.id).read(r)]}case"TensorArrayGatherV3":{const s=W("tensorArrayId",t,e,n),r=W("indices",t,e,n),o=W("dtype",t,e,n);return[n.getTensorArray(s.id).gather(r,o)]}case"TensorArrayScatterV3":{const s=W("tensorArrayId",t,e,n),r=W("indices",t,e,n),o=W("tensor",t,e,n),a=n.getTensorArray(s.id);return a.scatter(r,o),[a.idTensor]}case"TensorArrayConcatV3":{const s=W("tensorArrayId",t,e,n),r=n.getTensorArray(s.id),o=W("dtype",t,e,n);return[r.concat(o)]}case"TensorArraySplitV3":{const s=W("tensorArrayId",t,e,n),r=W("tensor",t,e,n),o=W("lengths",t,e,n),a=n.getTensorArray(s.id);return a.split(o,r),[a.idTensor]}case"TensorArraySizeV3":{const s=W("tensorArrayId",t,e,n),r=n.getTensorArray(s.id);return[an(r.size(),"int32")]}case"TensorArrayCloseV3":{const s=W("tensorArrayId",t,e,n),r=n.getTensorArray(s.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const s=W("tensorListId",t,e,n),r=W("index",t,e,n),o=W("tensor",t,e,n),a=n.getTensorList(s.id);return a.setItem(r,o),[a.idTensor]}case"TensorListGetItem":{const s=W("tensorListId",t,e,n),r=W("index",t,e,n),o=W("elementShape",t,e,n),a=W("elementDType",t,e,n);return[n.getTensorList(s.id).getItem(r,o,a)]}case"TensorListScatterV2":case"TensorListScatter":{const s=W("indices",t,e,n),r=W("tensor",t,e,n),o=W("elementShape",t,e,n),a=W("numElements",t,e,n),i=ezt(r,s,o,a);return n.addTensorList(i),[i.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const s=W("elementShape",t,e,n),r=W("elementDType",t,e,n);let o;t.op==="TensorListReserve"?o="numElements":o="maxNumElements";const a=W(o,t,e,n),i=t.op==="TensorListReserve"?-1:a,l=QLt(s,r,a,i);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const s=W("tensorListId",t,e,n),r=W("indices",t,e,n),o=W("elementShape",t,e,n),a=W("elementDType",t,e,n);return[n.getTensorList(s.id).gather(r,a,o)]}case"TensorListStack":{const s=W("tensorListId",t,e,n),r=W("elementShape",t,e,n),o=W("elementDType",t,e,n),a=W("numElements",t,e,n);return[n.getTensorList(s.id).stack(r,o,a)]}case"TensorListFromTensor":{const s=W("tensor",t,e,n),r=W("elementShape",t,e,n),o=W("elementDType",t,e,n),a=JLt(s,r,o);return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const s=W("tensorListId",t,e,n),r=n.getTensorList(s.id),o=W("dtype",t,e,n),a=W("elementShape",t,e,n);return[r.concat(o,a)]}case"TensorListPushBack":{const s=W("tensorListId",t,e,n),r=W("tensor",t,e,n),o=n.getTensorList(s.id);return o.pushBack(r),[o.idTensor]}case"TensorListPopBack":{const s=W("tensorListId",t,e,n),r=W("elementShape",t,e,n),o=W("elementDType",t,e,n);return[n.getTensorList(s.id).popBack(r,o)]}case"TensorListSplit":{const s=W("tensor",t,e,n),r=W("elementShape",t,e,n),o=W("lengths",t,e,n),a=tzt(s,o,r);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const s=W("tensorListId",t,e,n),r=n.getTensorList(s.id);return[an(r.size(),"int32")]}case"TensorListResize":{const s=W("tensorListId",t,e,n),r=W("size",t,e,n),a=n.getTensorList(s.id).resize(r);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};function D9(t,e,n){const[s,r]=W("fusedOps",t,e,n),o=s==="biasadd",a=!o,i=r==="prelu",l=s==="fusedbatchnorm",u=W("numArgs",t,e,n);if(o){if(i&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&o&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=W("strides",t,e,n),d=yy(t,e,n),f=W("dataFormat",t,e,n).toUpperCase(),h=W("dilations",t,e,n);let[p,m]=W("args",t,e,n);a&&(m=p,p=void 0);const g=W("leakyreluAlpha",t,e,n);return{stride:c,pad:d,dataFormat:f,dilations:h,biasArg:p,preluArg:m,activationFunc:r,leakyreluAlpha:g}}const szt=(t,e,n,s=_r)=>{switch(t.op){case"Conv1D":{const r=W("stride",t,e,n),o=W("pad",t,e,n),a=W("dataFormat",t,e,n).toUpperCase(),i=W("dilation",t,e,n);return[s.conv1d(W("x",t,e,n),W("filter",t,e,n),r,o,a,i)]}case"Conv2D":{const r=W("strides",t,e,n),o=yy(t,e,n),a=W("dataFormat",t,e,n).toUpperCase(),i=W("dilations",t,e,n);return[s.conv2d(W("x",t,e,n),W("filter",t,e,n),[r[1],r[2]],o,a,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:r,pad:o,dataFormat:a,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=D9(t,e,n);return[s.fused.conv2d({x:W("x",t,e,n),filter:W("filter",t,e,n),strides:[r[1],r[2]],pad:o,dataFormat:a,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:o,dataFormat:a,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=D9(t,e,n);return[s.fused.depthwiseConv2d({x:W("x",t,e,n),filter:W("filter",t,e,n),strides:[r[1],r[2]],pad:o,dataFormat:a,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=W("outputShape",t,e,n),o=W("strides",t,e,n),a=yy(t,e,n);return[s.conv2dTranspose(W("x",t,e,n),W("filter",t,e,n),r,[o[1],o[2]],a)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=W("strides",t,e,n),o=yy(t,e,n),a=W("dilations",t,e,n),i=W("dataFormat",t,e,n).toUpperCase();return[s.depthwiseConv2d(W("input",t,e,n),W("filter",t,e,n),[r[1],r[2]],o,i,[a[1],a[2]])]}case"Conv3D":{const r=W("strides",t,e,n),o=W("pad",t,e,n),a=W("dataFormat",t,e,n).toUpperCase(),i=W("dilations",t,e,n);return[s.conv3d(W("x",t,e,n),W("filter",t,e,n),[r[1],r[2],r[3]],o,a,[i[1],i[2],i[3]])]}case"AvgPool":{const r=W("strides",t,e,n),o=W("pad",t,e,n),a=W("kernelSize",t,e,n);return[s.avgPool(W("x",t,e,n),[a[1],a[2]],[r[1],r[2]],o)]}case"MaxPool":{const r=W("strides",t,e,n),o=W("pad",t,e,n),a=W("kernelSize",t,e,n);return[s.maxPool(W("x",t,e,n),[a[1],a[2]],[r[1],r[2]],o)]}case"MaxPoolWithArgmax":{const r=W("strides",t,e,n),o=W("pad",t,e,n),a=W("kernelSize",t,e,n),i=W("includeBatchInIndex",t,e,n),{result:l,indexes:u}=s.maxPoolWithArgmax(W("x",t,e,n),[a[1],a[2]],[r[1],r[2]],o,i);return[l,u]}case"AvgPool3D":{const r=W("strides",t,e,n),o=W("pad",t,e,n),a=W("kernelSize",t,e,n);return[s.avgPool3d(W("x",t,e,n),[a[1],a[2],a[3]],[r[1],r[2],r[3]],o)]}case"MaxPool3D":{const r=W("strides",t,e,n),o=W("pad",t,e,n),a=W("kernelSize",t,e,n);return[s.maxPool3d(W("x",t,e,n),[a[1],a[2],a[3]],[r[1],r[2],r[3]],o)]}case"Dilation2D":{const r=W("strides",t,e,n),o=W("pad",t,e,n),a=W("dilations",t,e,n),i=r[1],l=r[2],u=a[1],c=a[2];return[s.dilation2d(W("x",t,e,n),W("filter",t,e,n),[i,l],o,[u,c],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const rzt=(t,e,n,s=_r)=>{switch(t.op){case"Fill":{const r=W("shape",t,e,n),o=W("dtype",t,e,n),a=W("value",t,e,n);return[s.fill(r,a,o)]}case"LinSpace":{const r=W("start",t,e,n),o=W("stop",t,e,n),a=W("num",t,e,n);return[s.linspace(r,o,a)]}case"Multinomial":{const r=W("logits",t,e,n),o=W("numSamples",t,e,n),a=W("seed",t,e,n);return[s.multinomial(r,o,a)]}case"OneHot":{const r=W("indices",t,e,n),o=W("depth",t,e,n),a=W("onValue",t,e,n),i=W("offValue",t,e,n),l=W("dtype",t,e,n);return[s.oneHot(r,o,a,i,l)]}case"Ones":return[s.ones(W("shape",t,e,n),W("dtype",t,e,n))];case"OnesLike":return[s.onesLike(W("x",t,e,n))];case"RandomStandardNormal":return[s.randomStandardNormal(W("shape",t,e,n),W("dtype",t,e,n),W("seed",t,e,n))];case"RandomUniform":return[s.randomUniform(W("shape",t,e,n),W("minval",t,e,n),W("maxval",t,e,n),W("dtype",t,e,n))];case"Range":{const r=W("start",t,e,n),o=W("stop",t,e,n),a=W("step",t,e,n);return[s.range(r,o,a,W("dtype",t,e,n))]}case"TruncatedNormal":{const r=W("shape",t,e,n),o=W("mean",t,e,n),a=W("stdDev",t,e,n),i=W("seed",t,e,n);return[s.truncatedNormal(r,o,a,W("dtype",t,e,n),i)]}case"Zeros":return[s.zeros(W("shape",t,e,n),W("dtype",t,e,n))];case"ZerosLike":return[s.zerosLike(W("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function P$(t,e,n){const s=W("boxes",t,e,n),r=W("scores",t,e,n),o=W("maxOutputSize",t,e,n),a=W("iouThreshold",t,e,n),i=W("scoreThreshold",t,e,n),l=W("softNmsSigma",t,e,n);return{boxes:s,scores:r,maxOutputSize:o,iouThreshold:a,scoreThreshold:i,softNmsSigma:l}}const ozt=async(t,e,n,s,r=_r)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=P$(t,e,n),d=await r.image.nonMaxSuppressionWithScoreAsync(o,a,i,l,u,c);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:l,scoreThreshold:u}=P$(t,e,n),c=W("padToMaxOutputSize",t,e,n),d=await r.image.nonMaxSuppressionPaddedAsync(o,a,i,l,u,c);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:a,maxOutputSize:i,iouThreshold:l,scoreThreshold:u}=P$(t,e,n);return[await r.image.nonMaxSuppressionAsync(o,a,i,l,u)]}case"Where":{const o=r.cast(W("condition",t,e,n),"bool"),a=[await r.whereAsync(o)];return o.dispose(),a}case"ListDiff":return r.setdiff1dAsync(W("x",t,e,n),W("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};const azt=(t,e,n,s=_r)=>{switch(t.op){case"LowerBound":{const r=W("sortedSequence",t,e,n),o=W("values",t,e,n);return[s.lowerBound(r,o)]}case"TopKV2":{const r=W("x",t,e,n),o=W("k",t,e,n),a=W("sorted",t,e,n),i=s.topk(r,o,a);return[i.values,i.indices]}case"UpperBound":{const r=W("sortedSequence",t,e,n),o=W("values",t,e,n);return[s.upperBound(r,o)]}case"Unique":{const r=W("x",t,e,n),o=s.unique(r);return[o.values,o.indices]}case"UniqueV2":{const r=W("x",t,e,n),o=W("axis",t,e,n),a=s.unique(r,o);return[a.values,a.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const izt=(t,e,n,s=_r)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const r=W("default",t,e,n);return[Ar(t.name,e,n)||r];case"Placeholder":return[Ar(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=W("x",t,e,n);return[cl(c)]}case"IdentityN":return W("x",t,e,n).map(c=>cl(c));case"Snapshot":const o=W("x",t,e,n);return[cl(o)];case"Shape":return[s.tensor1d(W("x",t,e,n).shape,"int32")];case"ShapeN":return W("x",t,e,n).map(c=>s.tensor1d(c.shape));case"Size":return[s.scalar(W("x",t,e,n).size,"int32")];case"Rank":return[s.scalar(W("x",t,e,n).rank,"int32")];case"NoOp":return[s.scalar(1)];case"Print":const a=W("x",t,e,n),i=W("data",t,e,n),l=W("message",t,e,n),u=W("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let c=0;c<i.length;c++)console.log(Array.prototype.slice.call(i[c].dataSync()).slice(0,u));return[a];default:throw TypeError(`Node type ${t.op} is not implemented`)}};class lzt{constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=an(0),this.tensorMap=new Map,Ei(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return an(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const s=await e.data();return this.tensorMap.forEach(r=>r.dispose()),this.tensorMap.clear(),vn(()=>{const r=_c(n),o=s.length,a=r.length;le(o===a,()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${a} elements.`);for(let i=0;i<o;i++){const l=s[i],u=r[i];Ei(u),this.tensorMap.set(l,u)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const s=await e.data();return vn(()=>{const r=[];for(let o=0;o<s.length;o++){const a=s[o],i=this.findWithDefault(a,n);r.push(i)}return Xi(r)})}findWithDefault(e,n){const s=this.tensorMap.get(e);return s??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}const uzt=async(t,e,n,s)=>{switch(t.op){case"HashTable":case"HashTableV2":{const r=W("keyDType",t,e,n),o=W("valueDType",t,e,n),a=new lzt(r,o);return s.addHashTable(t.name,a),[a.handle]}case"LookupTableImport":case"LookupTableImportV2":{const r=W("tableHandle",t,e,n,s),o=W("keys",t,e,n),a=W("values",t,e,n);return[await s.getHashTableById(r.id).import(o,a)]}case"LookupTableFind":case"LookupTableFindV2":{const r=W("tableHandle",t,e,n,s),o=W("keys",t,e,n),a=W("defaultValue",t,e,n);return[await s.getHashTableById(r.id).find(o,a)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=W("tableHandle",t,e,n,s);return[s.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const czt=(t,e,n,s=_r)=>{switch(t.op){case"ResizeBilinear":{const r=W("images",t,e,n),o=W("size",t,e,n),a=W("alignCorners",t,e,n),i=W("halfPixelCenters",t,e,n);return[s.image.resizeBilinear(r,[o[0],o[1]],a,i)]}case"ResizeNearestNeighbor":{const r=W("images",t,e,n),o=W("size",t,e,n),a=W("alignCorners",t,e,n),i=W("halfPixelCenters",t,e,n);return[s.image.resizeNearestNeighbor(r,[o[0],o[1]],a,i)]}case"CropAndResize":{const r=W("image",t,e,n),o=W("boxes",t,e,n),a=W("boxInd",t,e,n),i=W("cropSize",t,e,n),l=W("method",t,e,n),u=W("extrapolationValue",t,e,n);return[s.image.cropAndResize(r,o,a,i,l,u)]}case"ImageProjectiveTransformV3":{const r=W("images",t,e,n),o=W("transforms",t,e,n),a=W("outputShape",t,e,n),i=W("fillValue",t,e,n),l=W("interpolation",t,e,n),u=W("fillMode",t,e,n);return[s.image.transform(r,o,l.toLowerCase(),u.toLowerCase(),i,a)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const dzt=(t,e,n,s=_r)=>{switch(t.op){case"Equal":return[s.equal(W("a",t,e,n),W("b",t,e,n))];case"NotEqual":return[s.notEqual(W("a",t,e,n),W("b",t,e,n))];case"Greater":return[s.greater(W("a",t,e,n),W("b",t,e,n))];case"GreaterEqual":return[s.greaterEqual(W("a",t,e,n),W("b",t,e,n))];case"Less":return[s.less(W("a",t,e,n),W("b",t,e,n))];case"LessEqual":return[s.lessEqual(W("a",t,e,n),W("b",t,e,n))];case"LogicalAnd":return[s.logicalAnd(W("a",t,e,n),W("b",t,e,n))];case"LogicalNot":return[s.logicalNot(W("a",t,e,n))];case"LogicalOr":return[s.logicalOr(W("a",t,e,n),W("b",t,e,n))];case"Select":case"SelectV2":return[s.where(W("condition",t,e,n),W("a",t,e,n),W("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const fzt=(t,e,n,s=_r)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[s.matMul(W("a",t,e,n),W("b",t,e,n),W("transposeA",t,e,n),W("transposeB",t,e,n))];case"Einsum":return[s.einsum(W("equation",t,e,n),...W("tensors",t,e,n))];case"Transpose":return[s.transpose(W("x",t,e,n),W("perm",t,e,n))];case"_FusedMatMul":const[r,o]=W("fusedOps",t,e,n),a=r==="biasadd",i=o==="prelu",l=W("numArgs",t,e,n),u=W("leakyreluAlpha",t,e,n);if(a){if(i&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=W("args",t,e,n);return[s.fused.matMul({a:W("a",t,e,n),b:W("b",t,e,n),transposeA:W("transposeA",t,e,n),transposeB:W("transposeB",t,e,n),bias:c,activation:o,preluActivationWeights:d,leakyreluAlpha:u})];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const hzt=(t,e,n,s=_r)=>{switch(t.op){case"EuclideanNorm":return[s.euclideanNorm(W("x",t,e,n),W("axis",t,e,n),W("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[s.batchNorm(W("x",t,e,n),W("mean",t,e,n),W("variance",t,e,n),W("offset",t,e,n),W("scale",t,e,n),W("epsilon",t,e,n))];case"FusedBatchNormV3":return[s.batchNorm(W("x",t,e,n),W("mean",t,e,n),W("variance",t,e,n),W("offset",t,e,n),W("scale",t,e,n),W("epsilon",t,e,n))];case"LRN":return[s.localResponseNormalization(W("x",t,e,n),W("radius",t,e,n),W("bias",t,e,n),W("alpha",t,e,n),W("beta",t,e,n))];case"Softmax":return[s.softmax(W("x",t,e,n))];case"LogSoftmax":return[s.logSoftmax(W("x",t,e,n))];case"SparseToDense":return[s.sparseToDense(W("sparseIndices",t,e,n),W("outputShape",t,e,n),W("sparseValues",t,e,n),W("defaultValue",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const pzt=(t,e,n,s=_r)=>{switch(t.op){case"Max":{const i=W("axis",t,e,n),l=W("keepDims",t,e,n);return[s.max(W("x",t,e,n),i,l)]}case"Mean":{const i=W("axis",t,e,n),l=W("keepDims",t,e,n);return[s.mean(W("x",t,e,n),i,l)]}case"Min":{const i=W("axis",t,e,n),l=W("keepDims",t,e,n);return[s.min(W("x",t,e,n),i,l)]}case"Sum":{const i=W("axis",t,e,n),l=W("keepDims",t,e,n);return[s.sum(W("x",t,e,n),i,l)]}case"All":{const i=W("axis",t,e,n),l=W("keepDims",t,e,n);return[s.all(W("x",t,e,n),i,l)]}case"Any":{const i=W("axis",t,e,n),l=W("keepDims",t,e,n);return[s.any(W("x",t,e,n),i,l)]}case"ArgMax":{const i=W("axis",t,e,n);return[s.argMax(W("x",t,e,n),i)]}case"ArgMin":{const i=W("axis",t,e,n);return[s.argMin(W("x",t,e,n),i)]}case"Prod":{const i=W("axis",t,e,n),l=W("keepDims",t,e,n);return[s.prod(W("x",t,e,n),i,l)]}case"Cumprod":{const i=W("axis",t,e,n),l=W("exclusive",t,e,n),u=W("reverse",t,e,n);return[s.cumprod(W("x",t,e,n),i,l,u)]}case"Cumsum":{const i=W("axis",t,e,n),l=W("exclusive",t,e,n),u=W("reverse",t,e,n);return[s.cumsum(W("x",t,e,n),i,l,u)]}case"Bincount":const r=W("x",t,e,n),o=W("weights",t,e,n),a=W("size",t,e,n);return[s.bincount(r,o,a)];case"DenseBincount":{const i=W("x",t,e,n),l=W("weights",t,e,n),u=W("size",t,e,n),c=W("binaryOutput",t,e,n);return[s.denseBincount(i,l,u,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const mzt=(t,e,n,s=_r)=>{switch(t.op){case"ConcatV2":case"Concat":{const r=W("n",t,e,n),o=W("axis",t,e,n);let a=W("tensors",t,e,n);return a=a.slice(0,r),[s.concat(a,o)]}case"Gather":{const r=W("x",t,e,n),o=W("indices",t,e,n);return[s.gather(r,s.cast(o,"int32"),0)]}case"GatherV2":{const r=W("axis",t,e,n),o=W("batchDims",t,e,n),a=W("x",t,e,n),i=W("indices",t,e,n);return[s.gather(a,s.cast(i,"int32"),r,o)]}case"Reverse":{const r=W("dims",t,e,n),o=[];for(let i=0;i<r.length;i++)r[i]&&o.push(i);const a=W("x",t,e,n);return[s.reverse(a,o)]}case"ReverseV2":{const r=W("axis",t,e,n),o=W("x",t,e,n);return[s.reverse(o,r)]}case"Slice":{const r=W("begin",t,e,n),o=W("size",t,e,n);return[s.slice(W("x",t,e,n),r,o)]}case"StridedSlice":{const r=W("begin",t,e,n),o=W("end",t,e,n),a=W("strides",t,e,n),i=W("beginMask",t,e,n),l=W("endMask",t,e,n),u=W("ellipsisMask",t,e,n),c=W("newAxisMask",t,e,n),d=W("shrinkAxisMask",t,e,n),f=W("x",t,e,n);return[s.stridedSlice(f,r,o,a,i,l,u,c,d)]}case"Pack":return vn(()=>{const r=W("axis",t,e,n),o=W("tensors",t,e,n),a=o[0].shape,i=s.squeeze(o[0]).shape,l=o.map(u=>{const c=Ui(u.shape,a);if(!c&&!Ui(s.squeeze(u).shape,i))throw new Error("the input tensors shape does not match");return c?u:s.reshape(u,a)});return[s.stack(l,r)]});case"Unpack":{const r=W("axis",t,e,n),o=W("tensor",t,e,n);return s.unstack(o,r)}case"Tile":{const r=W("reps",t,e,n);return[s.tile(W("x",t,e,n),r)]}case"Split":case"SplitV":{const r=W("axis",t,e,n),o=W("numOrSizeSplits",t,e,n),a=W("x",t,e,n);return s.split(a,o,r)}case"ScatterNd":{const r=W("indices",t,e,n),o=W("values",t,e,n),a=W("shape",t,e,n);return[s.scatterND(r,o,a)]}case"GatherNd":{const r=W("x",t,e,n),o=W("indices",t,e,n);return[s.gatherND(r,o)]}case"SparseToDense":{const r=W("sparseIndices",t,e,n),o=W("outputShape",t,e,n),a=W("sparseValues",t,e,n),i=W("defaultValue",t,e,n);return[s.sparseToDense(r,a,o,a.dtype===i.dtype?i:s.cast(i,a.dtype))]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const gzt=(t,e,n,s=_r)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:o,emptyRowIndicator:a,reverseIndexMap:i}=s.sparse.sparseFillEmptyRows(W("indices",t,e,n),W("values",t,e,n),W("denseShape",t,e,n),W("defaultValue",t,e,n));return[r,o,a,i]}case"SparseReshape":{const{outputIndices:r,outputShape:o}=s.sparse.sparseReshape(W("inputIndices",t,e,n),W("inputShape",t,e,n),W("newShape",t,e,n));return[r,o]}case"SparseSegmentMean":return[s.sparse.sparseSegmentMean(W("data",t,e,n),W("indices",t,e,n),W("segmentIds",t,e,n))];case"SparseSegmentSum":return[s.sparse.sparseSegmentSum(W("data",t,e,n),W("indices",t,e,n),W("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const vzt=(t,e,n,s=_r)=>{switch(t.op){case"FFT":return[s.fft(W("x",t,e,n))];case"IFFT":return[s.ifft(W("x",t,e,n))];case"RFFT":return[s.rfft(W("x",t,e,n))];case"IRFFT":return[s.irfft(W("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const yzt=(t,e,n,s=_r)=>{switch(t.op){case"StringNGrams":{const{nGrams:r,nGramsSplits:o}=s.string.stringNGrams(W("data",t,e,n),W("dataSplits",t,e,n),W("separator",t,e,n),W("nGramWidths",t,e,n),W("leftPad",t,e,n),W("rightPad",t,e,n),W("padWidth",t,e,n),W("preserveShortSequences",t,e,n));return[r,o]}case"StringSplit":{const{indices:r,values:o,shape:a}=s.string.stringSplit(W("input",t,e,n),W("delimiter",t,e,n),W("skipEmpty",t,e,n));return[r,o,a]}case"StringToHashBucketFast":return[s.string.stringToHashBucketFast(W("input",t,e,n),W("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const bzt=(t,e,n,s=_r)=>{switch(t.op){case"Cast":return[s.cast(W("x",t,e,n),W("dtype",t,e,n))];case"ExpandDims":{const r=W("axis",t,e,n);return[s.expandDims(W("x",t,e,n),r)]}case"Squeeze":{const r=W("axis",t,e,n);return[s.squeeze(W("x",t,e,n),r)]}case"Reshape":return[s.reshape(W("x",t,e,n),W("shape",t,e,n))];case"MirrorPad":return[s.mirrorPad(W("x",t,e,n),W("padding",t,e,n),W("mode",t,e,n))];case"PadV2":case"Pad":return[s.pad(W("x",t,e,n),W("padding",t,e,n),W("constantValue",t,e,n))];case"SpaceToBatchND":{const r=W("blockShape",t,e,n),o=W("paddings",t,e,n);return[s.spaceToBatchND(W("x",t,e,n),r,o)]}case"BatchToSpaceND":{const r=W("blockShape",t,e,n),o=W("crops",t,e,n);return[s.batchToSpaceND(W("x",t,e,n),r,o)]}case"DepthToSpace":{const r=W("blockSize",t,e,n),o=W("dataFormat",t,e,n).toUpperCase();return[s.depthToSpace(W("x",t,e,n),r,o)]}case"BroadcastTo":return[s.broadcastTo(W("x",t,e,n),W("shape",t,e,n))];case"BroadcastArgs":return[s.broadcastArgs(W("s0",t,e,n),W("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function F9(t,e,n,s,r=vn){const o=((a,i,l)=>{switch(a.category){case"arithmetic":return r(()=>XLt(a,i,l));case"basic_math":return r(()=>YLt(a,i,l));case"control":return nzt(a,i,l);case"convolution":return r(()=>szt(a,i,l));case"creation":return r(()=>rzt(a,i,l));case"dynamic":return ozt(a,i,l);case"evaluation":return r(()=>azt(a,i,l));case"image":return r(()=>czt(a,i,l));case"graph":return r(()=>izt(a,i,l));case"logical":return r(()=>dzt(a,i,l));case"matrices":return r(()=>fzt(a,i,l));case"normalization":return r(()=>hzt(a,i,l));case"reduction":return r(()=>pzt(a,i,l));case"slice_join":return r(()=>mzt(a,i,l));case"sparse":return r(()=>gzt(a,i,l));case"spectral":return r(()=>vzt(a,i,l));case"string":return r(()=>yzt(a,i,l));case"transformation":return r(()=>bzt(a,i,l));case"hash_table":return uzt(a,i,l,s);case"custom":const u=OJ(a.op);if(u&&u.customExecutor)return u.customExecutor(new qLt(a,i,l));throw TypeError(`Custom op ${a.op} is not registered.`);default:throw TypeError(`Unknown op '${a.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Hd(o)?o.then(a=>[].concat(a)):[].concat(o)}class M9{constructor(e={},n={},s={},r={}){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=s,this.functionMap=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const s=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(s))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}function P9(t,e,n,s){const r=new Set,o=[];let a=null,i=null;const l=new Set,u=Object.keys(t).map(f=>uo(f)[0]);let c=[];s!=null&&(c=s.map(f=>uo(f.name)[0]));const d=[...e];for(;d.length>0;){const f=d.pop();if((FJ(f)||Szt(f)||Czt(f))&&a==null&&(a=f,i=a.children.map(h=>h.name).filter(h=>r.has(h))),r.add(f.name),n[f.name]==null&&u.indexOf(f.name)===-1&&c.indexOf(f.name)===-1){if(f.inputs.length===0){o.push(f.name);continue}f.inputs.forEach(h=>{l.has(h.name)||(l.add(h.name),d.push(h))})}}return{inputs:t,outputs:e,usedNodes:r,missingInputs:o,dynamicNode:a,syncInputs:i}}function wzt(t,e,n){const{usedNodes:s,inputs:r}=n,o=[],a=Object.keys(r).map(c=>uo(c)[0]).map(c=>t.nodes[c]),i=t.initNodes;a.forEach(c=>{s.has(c.name)&&o.push(c)}),t.weights.forEach(c=>{s.has(c.name)&&o.push(c)}),i!=null&&i.forEach(c=>{s.has(c.name)&&o.push(c)});const l=new Set,u=[];for(;o.length>0;){const c=o.pop();l.add(c.name),e[c.name]||u.push(c),c.children.forEach(d=>{!l.has(d.name)&&s.has(d.name)&&d.inputs.every(f=>l.has(f.name))&&o.push(d)})}return u}const _zt=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],$zt=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],xzt=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function FJ(t){return _zt.indexOf(t.op)>=0}function Szt(t){return $zt.indexOf(t.op)>=0}function Czt(t){return xzt.indexOf(t.op)>=0}class Lb{constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(s=>{this._functionExecutorMap[s]=new Lb(e.functions[s],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(s=>e[s].map(r=>r.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}getCompilationKey(e,n){const s=e.map(o=>o.name).sort(),r=n.map(o=>o.name).sort();return s.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,n){const s=P9(e,n,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:o,syncInputs:a}=s;if(o!=null)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(r.length>0){const i=n.map(u=>u.name),l=Object.keys(e);throw new Error(`Cannot compute the outputs [${i}] from the provided inputs [${l}]. Missing the following inputs: [${r}]`)}return wzt(this.graph,this.weightMap,s)}execute(e,n){e=this.mapInputs(e);const s=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const r=s.map(d=>this.graph.nodes[uo(d)[0]]),o=n.map(d=>uo(d)[0]);let a=o.map(d=>this.graph.nodes[d]);this.resetIntermediateTensors(),a.length===0&&(a=this._outputs);const i=this.getCompilationKey(r,a);let l=this.compiledMap.get(i);l==null&&(l=this.compile(e,a),this.compiledMap.set(i,l));const u={},c={};return vn(()=>{const d=new M9(this.weightMap,u,c,this.functionExecutorMap),f=Object.assign({},this.weightMap);Object.keys(e).forEach(m=>{const[g,y]=uo(m),w=[];w[y]=e[m],f[g]=w});const h=this.getFrozenTensorIds(f),p={};for(let m=0;m<l.length;m++){const g=l[m];if(!f[g.name]){const y=F9(g,f,d,this._resourceManager);if(Hd(y))throw new Error(`The execution of the op '${g.op}' returned a promise. Please use model.executeAsync() instead.`);f[g.name]=y,this.checkTensorForDisposal(g.name,g,f,d,h,o,p)}}return this.parent==null&&d.dispose(h),n.map(m=>Ar(m,f,d))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(s=>e[s]).map(s=>s.map(r=>r.id)));return new Set(n)}checkTensorForDisposal(e,n,s,r,o,a,i){n.category==="control"||a.indexOf(e)!==-1||(s[e].forEach(l=>{l!=null&&(i[l.id]=(i[l.id]||0)+n.children.length)}),n.inputs.forEach(l=>{if(l.category!=="control"){const u=lLt(l.name,s,r);u!=null&&u.forEach(c=>{if(c&&!c.kept&&!o.has(c.id)){const d=i[c.id];if(d===1){if(!this.keepTensorForDebug)c.dispose();else{const[f,h]=bi(n.name,r);this.intermediateTensors[f]?this.intermediateTensors[f][h]=c:(this.intermediateTensors[f]=[],this.intermediateTensors[f][h]=c)}delete i[c.id]}else d!=null&&i[c.id]--}})}}))}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){!this.intermediateTensors||(Object.keys(this.intermediateTensors).forEach(e=>this.intermediateTensors[e].forEach(n=>n.dispose())),this.disposeTensorsMap())}disposeTensorsMap(){!this.tensorsMap||Object.keys(this.tensorsMap).forEach(e=>{this.tensorsMap[e].forEach(s=>{s&&!s.kept&&!s.isDisposed&&!this.keepIds.has(s.id)&&s.dispose()})})}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach(n=>n.dispose()),delete this.intermediateTensors[e]}async _executeAsync(e,n,s=!1,r={},o={}){s||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=en().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(c){console.warn(c.message)}this.resetIntermediateTensors();const a=new M9(this.weightMap,r,o,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,a,n,s);const i=n.map(c=>Ar(c,this.tensorsMap,a)),l=i.map(c=>c.id),u=Object.keys(e).map(c=>e[c].id);return this.keepIds=new Set([...l,...u,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&a.dispose(this.keepIds),i}async executeFunctionAsync(e,n,s){const r=e.reduce((o,a,i)=>(o[this.inputs[i].name]=a,o),{});return this._executeAsync(r,this.outputNodes,!0,n,s)}async executeWithControlFlow(e,n,s,r){const o=Object.keys(e),a=o.map(b=>this.graph.nodes[uo(b)[0]]),i=s.map(b=>uo(b)[0]);let l=i.map(b=>this.graph.nodes[b]);l.length===0&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:f}=P9(e,l,this.weightMap,this._initNodes),h=[...a,...this.graph.weights,...this._initNodes||[]].map(b=>({node:b,contexts:n.currentContext})),p=Object.assign({},this.weightMap);Object.keys(e).forEach(b=>{const[_,$]=uo(b),x=[];x[$]=e[b],p[_]=x});const m={},g=this.getFrozenTensorIds(p),y={};for(;h.length>0;){const b=this.processStack(a,h,n,p,y,g,i,m,u);await Promise.all(b)}d==null&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const w=l.filter(b=>!FJ(b)&&!Ar(b.name,p,n)).map(b=>b.name);if(w.length>0){let b="";throw d!=null&&(b=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${f}]`),new Error(`Cannot compute the outputs [${w}] from the provided inputs [${o}]. Consider providing the following inputs: [${c}]. ${b}`)}return p}processStack(e,n,s,r,o,a,i,l,u){const c=[];for(;n.length>0;){const d=n.pop();s.currentContext=d.contexts;let f="";if(d.node.op==="Enter"&&W("isConstant",d.node,r,s)&&([f]=bi(d.node.name,s)),r[d.node.name]==null){const h=F9(d.node,r,s,this._resourceManager);f||([f]=bi(d.node.name,s));const p=s.currentContext;Hd(h)?c.push(h.then(m=>(r[f]=m,s.currentContext=p,this.checkTensorForDisposal(f,d.node,r,s,a,i,l),this.processChildNodes(d.node,n,s,r,o,u),m))):(r[f]=h,this.checkTensorForDisposal(f,d.node,r,s,a,i,l),this.processChildNodes(d.node,n,s,r,o,u))}else this.processChildNodes(d.node,n,s,r,o,u)}return c}processChildNodes(e,n,s,r,o,a){e.children.forEach(i=>{const[l]=bi(i.name,s);o[l]||!a.has(i.name)||(i.op==="Merge"?i.inputNames.some(u=>!!Ar(u,r,s))&&(o[l]=!0,n.push({contexts:s.currentContext,node:i})):i.inputNames.every(u=>!!Ar(u,r,s))&&(o[l]=!0,n.push({contexts:s.currentContext,node:i})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const s=e[n],[r]=uo(n),o=this.graph.nodes[r];if(o.attrParams.shape&&o.attrParams.shape.value){const a=o.attrParams.shape.value,i=a.length===s.shape.length&&s.shape.every((l,u)=>a[u]===-1||a[u]===l);le(i,()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${a}], but was [${s.shape}]`)}o.attrParams.dtype&&o.attrParams.dtype.value&&le(s.dtype===o.attrParams.dtype.value,()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${s.dtype}`)})}mapInputs(e){const n={};for(const s in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[s]!=null){const r=this._signature.inputs[s];n[r.name]=e[s]}else n[s]=e[s];return n}checkInputs(e){const n=Object.keys(e).filter(s=>{const[r]=uo(s);return this.graph.nodes[r]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>this._signature!=null&&this._signature.outputs!=null&&this._signature.outputs[n]!=null?this._signature.outputs[n].name:n,{})}checkOutputs(e){e.forEach(n=>{const[s]=uo(n);if(!this.graph.nodes[s])throw new Error(`The output '${n}' is not found in the graph`)})}}class kzt{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const Tzt="?tfjs-format=file",Nzt="model.json";class Ezt{constructor(e,n={},s=ZE){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=s,n==null&&(this.loadOptions={}),this.resourceManager=new kzt}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Hd(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(s=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}this.signature=s,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const r=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Lb(A9.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const o=A9.Instance.transformGraph(e.modelInitializer);this.initializer=new Lb(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,n){if(typeof e=="string"){const s=this.io.getSaveHandlers(e);if(s.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(s.length>1)throw new Error(`Found more than one (${s.length}) save handlers for URL '${e}'`);e=s[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,n){const s=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const r=s instanceof os?[s]:s,o={};return r.forEach((a,i)=>o[this.structuredOutputKeys[i]]=a),o}return s}normalizeInputs(e){if(!(e instanceof os)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce((n,s,r)=>(n[s]=e[r],n),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const s=this.executor.execute(e,n);return s.length>1?s:s[0]}async executeAsync(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const s=await this.executor.executeAsync(e,n);return s.length>1?s:s[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,s)=>(n[s]=[e[s]],n),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function MJ(t,e={},n=ZE){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=Izt(t));const s=new Ezt(t,e,n);return await s.load(),s}function Izt(t){return t.endsWith("/")||(t=t+"/"),`${t}${Nzt}${Tzt}`}var PJ=function(t,e){return(PJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)s.hasOwnProperty(r)&&(n[r]=s[r])})(t,e)};function LJ(t,e){function n(){this.constructor=t}PJ(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var OS=function(){return(OS=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Vu(t,e,n,s){return new(n||(n=Promise))(function(r,o){function a(u){try{l(s.next(u))}catch(c){o(c)}}function i(u){try{l(s.throw(u))}catch(c){o(c)}}function l(u){u.done?r(u.value):new n(function(c){c(u.value)}).then(a,i)}l((s=s.apply(t,e||[])).next())})}function Hu(t,e){var n,s,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function i(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(r=2&c[0]?s.return:c[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,c[1])).done)return r;switch(s=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,s=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){a.label=c[1];break}if(c[0]===6&&a.label<r[1]){a.label=r[1],r=c;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(c);break}r[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(d){c=[6,d],s=0}finally{n=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}var zJ=function(){function t(e,n){this.model=e,this.outputStride=n;var s=this.model.inputs[0].shape;le(s[1]===-1&&s[2]===-1,function(){return"Input shape ["+s[1]+", "+s[2]+"] must both be equal to or -1"})}return t.prototype.predict=function(e){var n=this;return vn(function(){var s=n.preprocessInput(es(e,"float32")),r=Va(s,0),o=n.model.predict(r).map(function(i){return H2(i,[0])}),a=n.nameOutputResults(o);return{heatmapScores:Bu(a.heatmap),offsets:a.offsets,displacementFwd:a.displacementFwd,displacementBwd:a.displacementBwd}})},t.prototype.dispose=function(){this.model.dispose()},t}(),BJ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return LJ(e,t),e.prototype.preprocessInput=function(n){return vn(function(){return rn(In(n,127.5),1)})},e.prototype.nameOutputResults=function(n){return{offsets:n[0],heatmap:n[1],displacementFwd:n[2],displacementBwd:n[3]}},e}(zJ);function L$(t){return Math.floor(t/2)}var Azt=function(){function t(e,n){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=n}return t.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},t.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},t.prototype.empty=function(){return this.numberOfElements===-1},t.prototype.size=function(){return this.numberOfElements+1},t.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},t.prototype.max=function(){return this.priorityQueue[0]},t.prototype.swim=function(e){for(;e>0&&this.less(L$(e),e);)this.exchange(e,L$(e)),e=L$(e)},t.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var n=2*e;if(n<this.numberOfElements&&this.less(n,n+1)&&n++,!this.less(e,n))break;this.exchange(e,n),e=n}},t.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},t.prototype.less=function(e,n){return this.getValueAt(e)<this.getValueAt(n)},t.prototype.exchange=function(e,n){var s=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[n],this.priorityQueue[n]=s},t}();function Ozt(t,e,n,s,r,o){for(var a=o.shape,i=a[0],l=a[1],u=!0,c=Math.max(n-r,0),d=Math.min(n+r+1,i),f=c;f<d;++f){for(var h=Math.max(s-r,0),p=Math.min(s+r+1,l),m=h;m<p;++m)if(o.get(f,m,t)>e){u=!1;break}if(!u)break}return u}function Rzt(t,e,n){for(var s=n.shape,r=s[0],o=s[1],a=s[2],i=new Azt(r*o*a,function(f){return f.score}),l=0;l<r;++l)for(var u=0;u<o;++u)for(var c=0;c<a;++c){var d=n.get(l,u,c);d<t||Ozt(c,d,l,u,e,n)&&i.enqueue({score:d,part:{heatmapY:l,heatmapX:u,id:c}})}return i}var Sm=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],zb=Sm.length,$g=Sm.reduce(function(t,e,n){return t[e]=n,t},{}),Dzt=[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]],VJ=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]],Fzt=Dzt.map(function(t){var e=t[0],n=t[1];return[$g[e],$g[n]]}),Mzt=["left_face","right_face","right_upper_leg_front","right_lower_leg_back","right_upper_leg_back","left_lower_leg_front","left_upper_leg_front","left_upper_leg_back","left_lower_leg_back","right_feet","right_lower_leg_front","left_feet","torso_front","torso_back","right_upper_arm_front","right_upper_arm_back","right_lower_arm_back","left_lower_arm_front","left_upper_arm_front","left_upper_arm_back","left_lower_arm_back","right_hand","right_lower_arm_front","left_hand"];function HJ(t,e,n,s){return{y:s.get(t,e,n),x:s.get(t,e,n+zb)}}function WJ(t,e,n){var s=HJ(t.heatmapY,t.heatmapX,t.id,n),r=s.y,o=s.x;return{x:t.heatmapX*e+o,y:t.heatmapY*e+r}}function L9(t,e,n){return t<e?e:t>n?n:t}function Pzt(t,e,n,s){var r=n-t,o=s-e;return r*r+o*o}function z9(t,e){return{x:t.x+e.x,y:t.y+e.y}}var UJ=VJ.map(function(t){var e=t[0],n=t[1];return[$g[e],$g[n]]}),z$=UJ.map(function(t){return t[1]}),B9=UJ.map(function(t){return t[0]});function Lzt(t,e,n){var s=n.shape[2]/2;return{y:n.get(e.y,e.x,t),x:n.get(e.y,e.x,s+t)}}function B$(t,e,n,s){return{y:L9(Math.round(t.y/e),0,n-1),x:L9(Math.round(t.x/e),0,s-1)}}function V9(t,e,n,s,r,o,a,i){i===void 0&&(i=2);for(var l=s.shape,u=l[0],c=l[1],d=Lzt(t,B$(e.position,o,u,c),a),f=z9(e.position,d),h=0;h<i;h++){var p=B$(f,o,u,c),m=HJ(p.y,p.x,n,r);f=z9({x:p.x*o,y:p.y*o},{x:m.x,y:m.y})}var g=B$(f,o,u,c),y=s.get(g.y,g.x,n);return{position:f,part:Sm[n],score:y}}function zzt(t,e,n,s,r,o){var a=e.shape[2],i=z$.length,l=new Array(a),u=t.part,c=t.score,d=WJ(u,s,n);l[u.id]={score:c,part:Sm[u.id],position:d};for(var f=i-1;f>=0;--f){var h=z$[f],p=B9[f];l[h]&&!l[p]&&(l[p]=V9(f,l[h],p,e,n,s,o))}for(f=0;f<i;++f)h=B9[f],p=z$[f],l[h]&&!l[p]&&(l[p]=V9(f,l[h],p,e,n,s,r));return l}function GJ(t,e,n,s){var r=n.x,o=n.y;return t.some(function(a){var i=a.keypoints[s].position;return Pzt(o,r,i.y,i.x)<=e})}function Bzt(t,e,n){return n.reduce(function(s,r,o){var a=r.position,i=r.score;return GJ(t,e,a,o)||(s+=i),s},0)/n.length}var Vzt=1;function jJ(t,e,n,s,r,o,a,i){a===void 0&&(a=.5),i===void 0&&(i=20);for(var l=[],u=Rzt(a,Vzt,t),c=i*i;l.length<o&&!u.empty();){var d=u.dequeue();if(!GJ(l,c,WJ(d.part,r,e),d.part.id)){var f=zzt(d,t,e,r,n,s),h=Bzt(l,c,f);l.push({keypoints:f,score:h})}}return l}function Hzt(t,e){return vn(function(){var n=In(t,an(e,"int32"));return rn(t,gt(n,an(e,"int32")))})}function Wzt(t){var e=t.shape,n=e[0],s=e[1],r=e[2];return vn(function(){var o=Ze(t,[n*s,r]),a=oI(o,0),i=Va(In(a,an(s,"int32")),1),l=Va(Hzt(a,s),1);return sr([i,l],1)})}function Uzt(t,e){for(var n=e.shape[0],s=new Float32Array(n),r=0;r<n;r++){var o=e.get(r,0),a=e.get(r,1);s[r]=t.get(o,a,r)}return s}function Gzt(t,e,n,s){return{y:s.get(t,e,n),x:s.get(t,e,n+zb)}}function jzt(t,e){for(var n=[],s=0;s<zb;s++){var r=Gzt(t.get(s,0).valueOf(),t.get(s,1).valueOf(),s,e),o=r.x,a=r.y;n.push(a),n.push(o)}return gd(n,[zb,2])}function Kzt(t,e,n){return vn(function(){var s=jzt(t,n);return Wt(es(gt(t.toTensor(),an(e,"int32")),"float32"),s)})}function KJ(t,e,n){return Vu(this,void 0,void 0,function(){var s,r,o,a,i,l,u,c,d,f;return Hu(this,function(h){switch(h.label){case 0:return s=0,r=Wzt(t),[4,Promise.all([t.buffer(),e.buffer(),r.buffer()])];case 1:return o=h.sent(),a=o[0],i=o[1],l=o[2],[4,(u=Kzt(l,n,i)).buffer()];case 2:return c=h.sent(),d=Array.from(Uzt(a,l)),f=d.map(function(p,m){return s+=p,{position:{y:c.get(m,0),x:c.get(m,1)},part:Sm[m],score:p}}),r.dispose(),u.dispose(),[2,{keypoints:f,score:s/f.length}]}})})}var H9="https://storage.googleapis.com/tfjs-models/savedmodel/posenet/mobilenet/",W9="https://storage.googleapis.com/tfjs-models/savedmodel/posenet/resnet50/";function qzt(t,e){var n="model-stride"+t+".json";return e===4?W9+"float/"+n:W9+"quant"+e+"/"+n}function Xzt(t,e,n){var s={1:"100",.75:"075",.5:"050"},r="model-stride"+t+".json";return n===4?H9+"float/"+s[e]+"/"+r:H9+"quant"+n+"/"+s[e]+"/"+r}var Yzt=[-123.15,-115.9,-103.06],Zzt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return LJ(e,t),e.prototype.preprocessInput=function(n){return Wt(n,Yzt)},e.prototype.nameOutputResults=function(n){var s=n[0],r=n[1];return{offsets:n[2],heatmap:n[3],displacementFwd:s,displacementBwd:r}},e}(zJ);function Jzt(t,e,n){return t<n||e<n}function Qzt(t,e){return Fzt.reduce(function(n,s){var r=s[0],o=s[1];return Jzt(t[r].score,t[o].score,e)||n.push([t[r],t[o]]),n},[])}var U9=Number.NEGATIVE_INFINITY,G9=Number.POSITIVE_INFINITY;function qJ(t){return t.reduce(function(e,n){var s=e.maxX,r=e.maxY,o=e.minX,a=e.minY,i=n.position,l=i.x,u=i.y;return{maxX:Math.max(s,l),maxY:Math.max(r,u),minX:Math.min(o,l),minY:Math.min(a,u)}},{maxX:U9,maxY:U9,minX:G9,minY:G9})}function e7t(t){var e=qJ(t),n=e.minX,s=e.minY,r=e.maxX,o=e.maxY;return[{x:n,y:s},{x:r,y:s},{x:r,y:o},{x:n,y:o}]}function t7t(t){return Vu(this,void 0,void 0,function(){return Hu(this,function(e){return[2,Promise.all(t.map(function(n){return n.buffer()}))]})})}function XJ(t,e,n,s,r){return s===void 0&&(s=0),r===void 0&&(r=0),{score:t.score,keypoints:t.keypoints.map(function(o){var a=o.score,i=o.part,l=o.position;return{score:a,part:i,position:{x:l.x*n+r,y:l.y*e+s}}})}}function n7t(t,e,n,s,r){return s===void 0&&(s=0),r===void 0&&(r=0),n===1&&e===1&&s===0&&r===0?t:t.map(function(o){return XJ(o,e,n,s,r)})}function s7t(t,e){return{score:t.score,keypoints:t.keypoints.map(function(n){var s=n.score,r=n.part,o=n.position;return{score:s,part:r,position:{x:e-1-o.x,y:o.y}}})}}function r7t(t,e){return e<=0?t:t.map(function(n){return s7t(n,e)})}function Rv(t,e){return RS(t,e)?t:Math.floor(t/e)*e+1}function YJ(t){le(typeof t=="number"||typeof t=="object",function(){return"Invalid inputResolution "+t+". Should be a number or an object with width and height"}),typeof t=="object"&&(le(typeof t.width=="number",function(){return"inputResolution.width has a value of "+t.width+" which is invalid; it must be a number"}),le(typeof t.height=="number",function(){return"inputResolution.height has a value of "+t.height+" which is invalid; it must be a number"}))}function ZJ(t,e){return YJ(t),typeof t=="object"?[Rv(t.height,e),Rv(t.width,e)]:[Rv(t,e),Rv(t,e)]}var o7t=[8,16,32];function a7t(t){le(typeof t=="number",function(){return"outputStride is not a number"}),le(o7t.indexOf(t)>=0,function(){return"outputStride of "+t+" is invalid. It must be either 8, 16, or 32"})}function RS(t,e){return(t-1)%e==0}function i7t(t,e){le(typeof t[0]=="number"&&typeof t[1]=="number",function(){return"both resolution values must be a number but had values "+t}),le(RS(t[0],e),function(){return"height of "+t[0]+" is invalid for output stride "+e+"."}),le(RS(t[1],e),function(){return"width of "+t[1]+" is invalid for output stride "+e+"."})}function DS(t){return t instanceof os?[t.shape[0],t.shape[1]]:[t.height,t.width]}function l7t(t){return t instanceof os?t:QX(t)}function j9(t,e){var n=e[0],s=e[1],r=DS(t),o=r[0],a=r[1],i=s/n,l=[0,0,0,0],u=l[0],c=l[1],d=l[2],f=l[3];return a/o<i?(u=0,c=0,d=Math.round(.5*(i*o-a)),f=Math.round(.5*(i*o-a))):(u=Math.round(.5*(1/i*a-o)),c=Math.round(.5*(1/i*a-o)),d=0,f=0),{resized:vn(function(){var h=l7t(t);return h=TI(h,[[u,c],[d,f],[0,0]]),VI.resizeBilinear(h,[n,s])}),padding:{top:u,left:d,right:f,bottom:c}}}function FS(t,e,n,s,r){var o=e[0],a=e[1],i=n[0],l=n[1],u=n7t(t,(o+s.top+s.bottom)/i,(a+s.left+s.right)/l,-s.top,-s.left);return r?r7t(u,a):u}var JJ={architecture:"MobileNetV1",outputStride:16,multiplier:.75,inputResolution:257},K9=["MobileNetV1","ResNet50"],q9={MobileNetV1:[8,16,32],ResNet50:[32,16]},X9={MobileNetV1:[.5,.75,1],ResNet50:[1]},Y9=[1,2,4];function u7t(t){if((t=t||JJ).architecture==null&&(t.architecture="MobileNetV1"),K9.indexOf(t.architecture)<0)throw new Error("Invalid architecture "+t.architecture+". Should be one of "+K9);if(t.inputResolution==null&&(t.inputResolution=257),YJ(t.inputResolution),t.outputStride==null&&(t.outputStride=16),q9[t.architecture].indexOf(t.outputStride)<0)throw new Error("Invalid outputStride "+t.outputStride+". Should be one of "+q9[t.architecture]+" for architecture "+t.architecture+".");if(t.multiplier==null&&(t.multiplier=1),X9[t.architecture].indexOf(t.multiplier)<0)throw new Error("Invalid multiplier "+t.multiplier+". Should be one of "+X9[t.architecture]+" for architecture "+t.architecture+".");if(t.quantBytes==null&&(t.quantBytes=4),Y9.indexOf(t.quantBytes)<0)throw new Error("Invalid quantBytes "+t.quantBytes+". Should be one of "+Y9+" for architecture "+t.architecture+".");if(t.architecture==="MobileNetV1"&&t.outputStride===32&&t.multiplier!==1)throw new Error("When using an output stride of 32, you must select 1 as the multiplier.");return t}var Z9={flipHorizontal:!1},J9={flipHorizontal:!1,maxDetections:5,scoreThreshold:.5,nmsRadius:20};function c7t(t){var e=t.maxDetections,n=t.scoreThreshold,s=t.nmsRadius;if(e<=0)throw new Error("Invalid maxDetections "+e+". Should be > 0");if(n<0||n>1)throw new Error("Invalid scoreThreshold "+n+". Should be in range [0.0, 1.0]");if(s<=0)throw new Error("Invalid nmsRadius "+s+".")}var GI=function(){function t(e,n){a7t(e.outputStride),i7t(n,e.outputStride),this.baseModel=e,this.inputResolution=n}return t.prototype.estimateMultiplePoses=function(e,n){return n===void 0&&(n=J9),Vu(this,void 0,void 0,function(){var s,r,o,a,i,l,u,c,d,f,h,p,m,g,y,w,b,_,$,x,k;return Hu(this,function(C){switch(C.label){case 0:return s=OS({},J9,n),c7t(n),r=this.baseModel.outputStride,o=this.inputResolution,a=DS(e),i=a[0],l=a[1],u=j9(e,o),c=u.resized,d=u.padding,f=this.baseModel.predict(c),h=f.heatmapScores,p=f.offsets,m=f.displacementFwd,g=f.displacementBwd,[4,t7t([h,p,m,g])];case 1:return y=C.sent(),w=y[0],b=y[1],_=y[2],$=y[3],[4,jJ(w,b,_,$,r,s.maxDetections,s.scoreThreshold,s.nmsRadius)];case 2:return x=C.sent(),k=FS(x,[i,l],o,d,s.flipHorizontal),h.dispose(),p.dispose(),m.dispose(),g.dispose(),c.dispose(),[2,k]}})})},t.prototype.estimateSinglePose=function(e,n){return n===void 0&&(n=Z9),Vu(this,void 0,void 0,function(){var s,r,o,a,i,l,u,c,d,f,h,p,m,g,y,w;return Hu(this,function(b){switch(b.label){case 0:return s=OS({},Z9,n),r=this.baseModel.outputStride,o=this.inputResolution,a=DS(e),i=a[0],l=a[1],u=j9(e,o),c=u.resized,d=u.padding,f=this.baseModel.predict(c),h=f.heatmapScores,p=f.offsets,m=f.displacementFwd,g=f.displacementBwd,[4,KJ(h,p,r)];case 1:return y=b.sent(),w=FS([y],[i,l],o,d,s.flipHorizontal),h.dispose(),p.dispose(),m.dispose(),g.dispose(),c.dispose(),[2,w[0]]}})})},t.prototype.estimatePoses=function(e,n){return Vu(this,void 0,void 0,function(){return Hu(this,function(s){switch(s.label){case 0:return n.decodingMethod!=="single-person"?[3,2]:[4,this.estimateSinglePose(e,n)];case 1:return[2,[s.sent()]];case 2:return[2,this.estimateMultiplePoses(e,n)]}})})},t.prototype.dispose=function(){this.baseModel.dispose()},t}();function d7t(t){return Vu(this,void 0,void 0,function(){var e,n,s,r,o,a,i;return Hu(this,function(l){switch(l.label){case 0:if(e=t.outputStride,n=t.quantBytes,s=t.multiplier,WI==null)throw new Error(`Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this
        model.`);return r=Xzt(e,s,n),[4,MJ(t.modelUrl||r)];case 1:return o=l.sent(),a=new BJ(o,e),i=ZJ(t.inputResolution,a.outputStride),[2,new GI(a,i)]}})})}function f7t(t){return Vu(this,void 0,void 0,function(){var e,n,s,r,o,a;return Hu(this,function(i){switch(i.label){case 0:if(e=t.outputStride,n=t.quantBytes,WI==null)throw new Error(`Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this
        model.`);return s=qzt(e,n),[4,MJ(t.modelUrl||s)];case 1:return r=i.sent(),o=new Zzt(r,e),a=ZJ(t.inputResolution,o.outputStride),[2,new GI(o,a)]}})})}function h7t(t){return t===void 0&&(t=JJ),Vu(this,void 0,void 0,function(){return Hu(this,function(e){return(t=u7t(t)).architecture==="ResNet50"?[2,f7t(t)]:t.architecture==="MobileNetV1"?[2,d7t(t)]:[2,null]})})}var p7t="2.2.2";const m7t=Object.freeze(Object.defineProperty({__proto__:null,decodeMultiplePoses:jJ,decodeSinglePose:KJ,MobileNet:BJ,partChannels:Mzt,partIds:$g,partNames:Sm,poseChain:VJ,load:h7t,PoseNet:GI,getAdjacentKeyPoints:Qzt,getBoundingBox:qJ,getBoundingBoxPoints:e7t,scaleAndFlipPoses:FS,scalePose:XJ,version:p7t},Symbol.toStringTag,{value:"Module"})),QJ=Mg(m7t);var Is={};const g7t=Mg(WI);var eQ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.partNames=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],t.NUM_KEYPOINTS=t.partNames.length,t.partIds=t.partNames.reduce(function(n,s,r){return n[s]=r,n},{});var e=[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]];t.poseChain=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]],t.connectedPartIndices=e.map(function(n){var s=n[0],r=n[1];return[t.partIds[s],t.partIds[r]]}),t.partChannels=["left_face","right_face","right_upper_leg_front","right_lower_leg_back","right_upper_leg_back","left_lower_leg_front","left_upper_leg_front","left_upper_leg_back","left_lower_leg_back","right_feet","right_lower_leg_front","left_feet","torso_front","torso_back","right_upper_arm_front","right_upper_arm_back","right_lower_arm_back","left_lower_arm_front","left_upper_arm_front","left_upper_arm_back","left_lower_arm_back","right_hand","right_lower_arm_front","left_hand"]})(eQ);var v7t=wn&&wn.__awaiter||function(t,e,n,s){return new(n||(n=Promise))(function(r,o){function a(u){try{l(s.next(u))}catch(c){o(c)}}function i(u){try{l(s.throw(u))}catch(c){o(c)}}function l(u){u.done?r(u.value):new n(function(c){c(u.value)}).then(a,i)}l((s=s.apply(t,e||[])).next())})},y7t=wn&&wn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(u){return function(c){return l([u,c])}}function l(u){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],r=0}finally{s=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Is,"__esModule",{value:!0});var tr=g7t,b7t=eQ;function w7t(t,e,n){return t<n||e<n}function _7t(t,e){return b7t.connectedPartIndices.reduce(function(n,s){var r=s[0],o=s[1];return w7t(t[r].score,t[o].score,e)||n.push([t[r],t[o]]),n},[])}Is.getAdjacentKeyPoints=_7t;var Q9=Number.NEGATIVE_INFINITY,eF=Number.POSITIVE_INFINITY;function tQ(t){return t.reduce(function(e,n){var s=e.maxX,r=e.maxY,o=e.minX,a=e.minY,i=n.position,l=i.x,u=i.y;return{maxX:Math.max(s,l),maxY:Math.max(r,u),minX:Math.min(o,l),minY:Math.min(a,u)}},{maxX:Q9,maxY:Q9,minX:eF,minY:eF})}Is.getBoundingBox=tQ;function $7t(t){var e=tQ(t),n=e.minX,s=e.minY,r=e.maxX,o=e.maxY;return[{x:n,y:s},{x:r,y:s},{x:r,y:o},{x:n,y:o}]}Is.getBoundingBoxPoints=$7t;function x7t(t){return v7t(this,void 0,void 0,function(){return y7t(this,function(e){return[2,Promise.all(t.map(function(n){return n.buffer()}))]})})}Is.toTensorBuffers3D=x7t;function nQ(t,e,n,s,r){return s===void 0&&(s=0),r===void 0&&(r=0),{score:t.score,keypoints:t.keypoints.map(function(o){var a=o.score,i=o.part,l=o.position;return{score:a,part:i,position:{x:l.x*n+r,y:l.y*e+s}}})}}Is.scalePose=nQ;function sQ(t,e,n,s,r){return s===void 0&&(s=0),r===void 0&&(r=0),n===1&&e===1&&s===0&&r===0?t:t.map(function(o){return nQ(o,e,n,s,r)})}Is.scalePoses=sQ;function rQ(t,e){return{score:t.score,keypoints:t.keypoints.map(function(n){var s=n.score,r=n.part,o=n.position;return{score:s,part:r,position:{x:e-1-o.x,y:o.y}}})}}Is.flipPoseHorizontal=rQ;function oQ(t,e){return e<=0?t:t.map(function(n){return rQ(n,e)})}Is.flipPosesHorizontal=oQ;function Qm(t,e){return MS(t,e)?t:Math.floor(t/e)*e+1}Is.toValidInputResolution=Qm;function aQ(t){tr.util.assert(typeof t=="number"||typeof t=="object",function(){return"Invalid inputResolution "+t+". Should be a number or an object with width and height"}),typeof t=="object"&&(tr.util.assert(typeof t.width=="number",function(){return"inputResolution.width has a value of "+t.width+" which is invalid; it must be a number"}),tr.util.assert(typeof t.height=="number",function(){return"inputResolution.height has a value of "+t.height+" which is invalid; it must be a number"}))}Is.validateInputResolution=aQ;function S7t(t,e){return aQ(t),typeof t=="object"?[Qm(t.height,e),Qm(t.width,e)]:[Qm(t,e),Qm(t,e)]}Is.getValidInputResolutionDimensions=S7t;var C7t=[8,16,32];function k7t(t){tr.util.assert(typeof t=="number",function(){return"outputStride is not a number"}),tr.util.assert(C7t.indexOf(t)>=0,function(){return"outputStride of "+t+" is invalid. It must be either 8, 16, or 32"})}Is.assertValidOutputStride=k7t;function MS(t,e){return(t-1)%e===0}function T7t(t,e){tr.util.assert(typeof t[0]=="number"&&typeof t[1]=="number",function(){return"both resolution values must be a number but had values "+t}),tr.util.assert(MS(t[0],e),function(){return"height of "+t[0]+" is invalid for output stride "+(e+".")}),tr.util.assert(MS(t[1],e),function(){return"width of "+t[1]+" is invalid for output stride "+(e+".")})}Is.assertValidResolution=T7t;function iQ(t){return t instanceof tr.Tensor?[t.shape[0],t.shape[1]]:[t.height,t.width]}Is.getInputTensorDimensions=iQ;function jI(t){return t instanceof tr.Tensor?t:tr.browser.fromPixels(t)}Is.toInputTensor=jI;function N7t(t,e,n,s){return tr.tidy(function(){var r=jI(t);return s?tr.image.resizeBilinear(tr.reverse(r,1),[e,n]):tr.image.resizeBilinear(r,[e,n])})}Is.toResizedInputTensor=N7t;function E7t(t,e){var n=e[0],s=e[1],r=iQ(t),o=r[0],a=r[1],i=s/n,l=a/o,u=[0,0,0,0],c=u[0],d=u[1],f=u[2],h=u[3];l<i?(c=0,d=0,f=Math.round(.5*(i*o-a)),h=Math.round(.5*(i*o-a))):(c=Math.round(.5*(1/i*a-o)),d=Math.round(.5*(1/i*a-o)),f=0,h=0);var p=tr.tidy(function(){var m=jI(t);return m=tr.pad3d(m,[[c,d],[f,h],[0,0]]),tr.image.resizeBilinear(m,[n,s])});return{resized:p,padding:{top:c,left:f,right:h,bottom:d}}}Is.padAndResizeTo=E7t;function I7t(t,e,n,s,r){var o=e[0],a=e[1],i=n[0],l=n[1],u=(o+s.top+s.bottom)/i,c=(a+s.left+s.right)/l,d=sQ(t,u,c,-s.top,-s.left);return r?oQ(d,a):d}Is.scaleAndFlipPoses=I7t;var S4={};Object.defineProperty(S4,"__esModule",{value:!0});var A7t="0.8.6";S4.version=A7t;var _i=wn&&wn.__awaiter||function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{u(s.next(c))}catch(d){a(d)}}function l(c){try{u(s.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):r(c.value).then(i,l)}u((s=s.apply(t,e||[])).next())})},$i=wn&&wn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(u){return function(c){return l([u,c])}}function l(u){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],r=0}finally{s=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(cc,"__esModule",{value:!0});var vd=RE,O7t=QJ,Dv=Is,R7t=S4,D7t=QJ,tF=3,lQ=function(t){return t.packageVersion=t.packageVersion||R7t.version,t.packageName="@teachablemachine/pose",t.timeStamp=t.timeStamp||new Date().toISOString(),t.userMetadata=t.userMetadata||{},t.modelName=t.modelName||"untitled",t.labels=t.labels||[],t.modelSettings=cQ(t.modelSettings),t},F7t=function(t){return!!t&&Array.isArray(t.labels)},uQ=function(t){return _i(void 0,void 0,void 0,function(){var e,n;return $i(this,function(s){switch(s.label){case 0:return typeof t!="string"?[3,3]:[4,fetch(t)];case 1:return n=s.sent(),[4,n.json()];case 2:return e=s.sent(),[3,4];case 3:if(F7t(t))e=t;else throw new Error("Invalid Metadata provided");s.label=4;case 4:return[2,lQ(e)]}})})},cQ=function(t){return t===void 0&&(t={}),t.posenet||(t.posenet={}),t.posenet.architecture=t.posenet.architecture||"MobileNetV1",t.posenet.outputStride=t.posenet.outputStride||16,t.posenet.inputResolution=t.posenet.inputResolution||257,t.posenet.multiplier=t.posenet.multiplier||.75,t};function dQ(t,e,n){return n===void 0&&(n=3),_i(this,void 0,void 0,function(){var s;return $i(this,function(r){switch(r.label){case 0:return[4,e.data()];case 1:return s=r.sent(),[2,vd.tidy(function(){n=Math.min(n,s.length);for(var o=[],a=0;a<s.length;a++)o.push({value:s[a],index:a});o.sort(function(c,d){return d.value-c.value});for(var i=new Float32Array(n),l=new Int32Array(n),a=0;a<n;a++)i[a]=o[a].value,l[a]=o[a].index;for(var u=[],a=0;a<l.length;a++)u.push({className:t[l[a]],probability:i[a]});return u})]}})})}cc.getTopKClasses=dQ;var KI=function(){function t(e,n,s){this.model=e,this.posenetModel=n,this._metadata=lQ(s)}return t.prototype.getMetadata=function(){return this._metadata},t.prototype.getClassLabels=function(){return this._metadata.labels},t.prototype.getTotalClasses=function(){var e=this.model.output,n=e.shape[1];return n},t.prototype.estimatePose=function(e,n){return n===void 0&&(n=!1),_i(this,void 0,void 0,function(){var s,r,o,a,i,l,u,c;return $i(this,function(d){switch(d.label){case 0:return[4,this.estimatePoseOutputs(e)];case 1:return s=d.sent(),r=s.heatmapScores,o=s.offsets,a=s.displacementFwd,i=s.displacementBwd,l=s.padding,u=this.poseOutputsToAray(r,o,a,i),[4,this.poseOutputsToKeypoints(e,r,o,a,i,l,n)];case 2:return c=d.sent(),[2,{pose:c,posenetOutput:u}]}})})},t.prototype.estimatePoseOutputs=function(e){return _i(this,void 0,void 0,function(){var n,s,r,o,a,i,l,u,c;return $i(this,function(d){switch(d.label){case 0:return n=this.posenetModel.inputResolution,s=Dv.padAndResizeTo(e,n),r=s.resized,o=s.padding,[4,this.posenetModel.baseModel.predict(r)];case 1:return a=d.sent(),i=a.heatmapScores,l=a.offsets,u=a.displacementFwd,c=a.displacementBwd,r.dispose(),[2,{heatmapScores:i,offsets:l,displacementFwd:u,displacementBwd:c,padding:o}]}})})},t.prototype.poseOutputsToAray=function(e,n,s,r){var o=2,a=vd.concat([e,n],o),i=a.dataSync();return a.dispose(),i},t.prototype.poseOutputsToKeypoints=function(e,n,s,r,o,a,i){return i===void 0&&(i=!1),_i(this,void 0,void 0,function(){var l,u,c,d,f,h,p,m,g,y,w,b,_;return $i(this,function($){switch($.label){case 0:return l={maxDetections:tF,scoreThreshold:.5,nmsRadius:20},u=Dv.getInputTensorDimensions(e),c=u[0],d=u[1],f=this.posenetModel.baseModel.outputStride,h=this.posenetModel.inputResolution,[4,Dv.toTensorBuffers3D([n,s,r,o])];case 1:return p=$.sent(),m=p[0],g=p[1],y=p[2],w=p[3],[4,D7t.decodeMultiplePoses(m,g,y,w,f,l.maxDetections,l.scoreThreshold,l.nmsRadius)];case 2:return b=$.sent(),_=Dv.scaleAndFlipPoses(b,[c,d],h,a,i),n.dispose(),s.dispose(),r.dispose(),o.dispose(),[2,_[0]]}})})},t.prototype.predict=function(e){return _i(this,void 0,void 0,function(){var n,s,r,o,a;return $i(this,function(i){switch(i.label){case 0:return n=vd.tensor([e]),s=this.model.predict(n),[4,s.data()];case 1:for(r=i.sent(),o=[],a=0;a<r.length;a++)o.push({className:this._metadata.labels[a],probability:r[a]});return n.dispose(),s.dispose(),[2,o]}})})},t.prototype.predictTopK=function(e,n){return n===void 0&&(n=tF),_i(this,void 0,void 0,function(){var s,r,o;return $i(this,function(a){switch(a.label){case 0:return s=vd.tensor([e]),r=this.model.predict(s),[4,dQ(this._metadata.labels,r,n)];case 1:return o=a.sent(),s.dispose(),r.dispose(),[2,o]}})})},t.prototype.dispose=function(){this.posenetModel.dispose()},t}();cc.CustomPoseNet=KI;function qI(t){return t===void 0&&(t={}),_i(this,void 0,void 0,function(){var e;return $i(this,function(n){switch(n.label){case 0:return t=cQ(t),[4,O7t.load({architecture:t.posenet.architecture,outputStride:t.posenet.outputStride,inputResolution:t.posenet.inputResolution,multiplier:t.posenet.multiplier})];case 1:return e=n.sent(),[2,e]}})})}cc.loadPoseNet=qI;function M7t(t,e){return _i(this,void 0,void 0,function(){var n,s,r,o;return $i(this,function(a){switch(a.label){case 0:return[4,vd.loadLayersModel(t)];case 1:return n=a.sent(),e?[4,uQ(e)]:[3,3];case 2:return r=a.sent(),[3,4];case 3:r=null,a.label=4;case 4:return s=r,[4,qI(s.modelSettings)];case 5:return o=a.sent(),[2,new KI(n,o,s)]}})})}cc.load=M7t;function P7t(t,e,n){return _i(this,void 0,void 0,function(){var s,r,o,a,i;return $i(this,function(l){switch(l.label){case 0:return[4,vd.loadLayersModel(vd.io.browserFiles([t,e]))];case 1:return s=l.sent(),[4,new Response(n).json()];case 2:return r=l.sent(),n?[4,uQ(r)]:[3,4];case 3:return a=l.sent(),[3,5];case 4:a=null,l.label=5;case 5:return o=a,[4,qI(o.modelSettings)];case 6:return i=l.sent(),[2,new KI(s,i,o)]}})})}cc.loadFromFiles=P7t;var C4={};var L7t=wn&&wn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var o in r)r.hasOwnProperty(o)&&(s[o]=r[o])},t(e,n)};return function(e,n){t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),sl=wn&&wn.__awaiter||function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{u(s.next(c))}catch(d){a(d)}}function l(c){try{u(s.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):r(c.value).then(i,l)}u((s=s.apply(t,e||[])).next())})},rl=wn&&wn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(u){return function(c){return l([u,c])}}function l(u){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],r=0}finally{s=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(C4,"__esModule",{value:!0});var $r=RE,z7t=RE,fQ=cc,B7t=Ji,V7t=.15;function H7t(t,e){var n=new Array(e).fill(0);return n[t]=1,n}function V$(t,e){for(var n,s=t.length,r=t.slice(),o=s-1;o>0;o-=1){var a=void 0;e?a=Math.floor(e()*(o+1)):a=Math.floor(Math.random()*(o+1)),n=[r[a],r[o]],r[o]=n[0],r[a]=n[1]}return r}var hQ=function(t){L7t(e,t);function e(n,s,r){var o=t.call(this,n,s,r)||this;return o.model=n,o.posenetModel=s,o.examples=[],o}return Object.defineProperty(e.prototype,"isTrained",{get:function(){return!!this.model&&this.model.layers&&this.model.layers.length>2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPrepared",{get:function(){return!!this.trainDataset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numClasses",{get:function(){return this._metadata.labels.length},enumerable:!0,configurable:!0}),e.prototype.addExample=function(n,s){return sl(this,void 0,void 0,function(){return rl(this,function(r){return this.examples[n].push(s),[2]})})},e.prototype.predict=function(n){return sl(this,void 0,void 0,function(){return rl(this,function(s){if(!this.model)throw new Error("Model has not been trained yet, called train() first");return[2,t.prototype.predict.call(this,n)]})})},e.prototype.predictTopK=function(n,s){return s===void 0&&(s=3),sl(this,void 0,void 0,function(){return rl(this,function(r){if(!this.model)throw new Error("Model has not been trained yet, called train() first");return[2,t.prototype.predictTopK.call(this,n,s)]})})},e.prototype.prepare=function(){for(var n in this.examples)if(n.length===0)throw new Error("Add some examples before training");var s=this.convertToTfDataset();this.trainDataset=s.trainDataset,this.validationDataset=s.validationDataset},e.prototype.convertToTfDataset=function(){for(var n=0;n<this.examples.length;n++)this.examples[n]=V$(this.examples[n],this.seed);for(var s=[],r=[],o=function(d){var f=H7t(d,a.numClasses),h=a.examples[d].length,p=Math.ceil(V7t*h),m=h-p,g=a.examples[d].slice(0,m).map(function(w){return{data:w,label:f}}),y=a.examples[d].slice(m).map(function(w){return{data:w,label:f}});s=s.concat(g),r=r.concat(y)},a=this,n=0;n<this.examples.length;n++)o(n);s=V$(s,this.seed),r=V$(r,this.seed);var i=$r.data.array(s.map(function(d){return d.data})),l=$r.data.array(r.map(function(d){return d.data})),u=$r.data.array(s.map(function(d){return d.label})),c=$r.data.array(r.map(function(d){return d.label}));return{trainDataset:$r.data.zip({xs:i,ys:u}),validationDataset:$r.data.zip({xs:l,ys:c})}},e.prototype.save=function(n,s){return sl(this,void 0,void 0,function(){return rl(this,function(r){return[2,this.model.save(n,s)]})})},e.prototype.train=function(n,s){return s===void 0&&(s={}),sl(this,void 0,void 0,function(){var r,o,a,i,l,u,c,d=this;return rl(this,function(f){switch(f.label){case 0:if(r=s.onTrainEnd||function(){},s.onTrainEnd=function(h){d.__stopTrainingResolve&&(d.__stopTrainingResolve(),d.__stopTrainingResolve=null),r(h)},this.isPrepared||this.prepare(),o=this.getLabels().length,z7t.util.assert(o===this.numClasses,function(){return"Can not train, has "+o+" labels and "+d.numClasses+" classes"}),a=this.examples[0][1].length,this.seed?i=$r.initializers.varianceScaling({seed:3.14}):i=$r.initializers.varianceScaling({}),this.model=$r.sequential({layers:[$r.layers.dense({inputShape:[a],units:n.denseUnits,activation:"relu",kernelInitializer:i,useBias:!0}),$r.layers.dropout({rate:.5}),$r.layers.dense({units:this.numClasses,kernelInitializer:i,useBias:!1,activation:"softmax"})]}),l=$r.train.rmsprop(n.learningRate),this.model.compile({optimizer:l,loss:"categoricalCrossentropy",metrics:["accuracy"]}),!(n.batchSize>0))throw new Error("Batch size is 0 or NaN. Please choose a non-zero fraction");return u=this.trainDataset.batch(n.batchSize),c=this.validationDataset.batch(n.batchSize),[4,this.model.fitDataset(u,{epochs:n.epochs,validationData:c,callbacks:s})];case 1:return f.sent(),l.dispose(),[2,this.model]}})})},e.prototype.prepareDataset=function(){for(var n=0;n<this.numClasses;n++)this.examples[n]=[]},e.prototype.stopTraining=function(){var n=this,s=new Promise(function(r,o){n.model.stopTraining=!0,n.__stopTrainingResolve=r});return s},e.prototype.dispose=function(){this.model.dispose(),t.prototype.dispose.call(this)},e.prototype.setLabel=function(n,s){this._metadata.labels[n]=s},e.prototype.setLabels=function(n){this._metadata.labels=n,this.prepareDataset()},e.prototype.getLabel=function(n){return this._metadata.labels[n]},e.prototype.getLabels=function(){return this._metadata.labels},e.prototype.setName=function(n){this._metadata.modelName=n},e.prototype.getName=function(){return this._metadata.modelName},e.prototype.calculateAccuracyPerClass=function(){return sl(this,void 0,void 0,function(){var n,s,r,o,a,i,l,u,c,d,b,f,h,p,m,g,y,w,b,_=this;return rl(this,function($){switch($.label){case 0:return n=this.validationDataset.mapAsync(function(x){return sl(_,void 0,void 0,function(){return rl(this,function(k){return[2,x.xs]})})}),s=this.validationDataset.mapAsync(function(x){return sl(_,void 0,void 0,function(){return rl(this,function(k){return[2,x.ys]})})}),r=Math.min(s.size,32),o=Math.ceil(s.size/r),a=n.batch(r),i=s.batch(r),[4,a.iterator()];case 1:return l=$.sent(),[4,i.iterator()];case 2:u=$.sent(),c=[],d=[],b=0,$.label=3;case 3:return b<o?[4,l.next()]:[3,7];case 4:return f=$.sent(),h=this.model.predict(f.value),p=h.argMax(1),c.push(p),[4,u.next()];case 5:m=$.sent(),g=m.value.argMax(1),d.push(g),f.value.dispose(),h.dispose(),m.value.dispose(),$.label=6;case 6:return b++,[3,3];case 7:if(y=$r.concat(d),w=$r.concat(c),o!==1)for(b=0;b<c.length;b++)c[b].dispose(),d[b].dispose();return[2,{reference:y,predictions:w}]}})})},e.prototype.setSeed=function(n){this.seed=B7t(n)},e}(fQ.CustomPoseNet);C4.TeachablePoseNet=hQ;function W7t(t){return sl(this,void 0,void 0,function(){var e;return rl(this,function(n){switch(n.label){case 0:return[4,fQ.loadPoseNet(t.modelSettings)];case 1:return e=n.sent(),[2,new hQ($r.sequential(),e,t)]}})})}C4.createTeachable=W7t;var XI={};function by(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?by=function(n){return typeof n}:by=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},by(t)}function YI(t,e,n){var s=n.value;if(typeof s!="function")throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(by(s)));var r=!1;return{configurable:!0,get:function(){if(r||this===t.prototype||this.hasOwnProperty(e)||typeof s!="function")return s;var a=s.bind(this);return r=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return a},set:function(l){s=l,delete this[e]}}),r=!1,a},set:function(a){s=a}}}function pQ(t){var e;return typeof Reflect<"u"&&typeof Reflect.ownKeys=="function"?e=Reflect.ownKeys(t.prototype):(e=Object.getOwnPropertyNames(t.prototype),typeof Object.getOwnPropertySymbols=="function"&&(e=e.concat(Object.getOwnPropertySymbols(t.prototype)))),e.forEach(function(n){if(n!=="constructor"){var s=Object.getOwnPropertyDescriptor(t.prototype,n);typeof s.value=="function"&&Object.defineProperty(t.prototype,n,YI(t,n,s))}}),t}function U7t(){return arguments.length===1?pQ.apply(void 0,arguments):YI.apply(void 0,arguments)}const G7t=Object.freeze(Object.defineProperty({__proto__:null,boundMethod:YI,boundClass:pQ,default:U7t},Symbol.toStringTag,{value:"Module"})),j7t=Mg(G7t);var U2={};Object.defineProperty(U2,"__esModule",{value:!0});var K7t=function(){return document.createElement("canvas")};function q7t(t,e,n){t===void 0&&(t=200),e===void 0&&(e=200),n===void 0&&(n=!1);var s=document.createElement("canvas");if(s.width=t,s.height=e,n){var r=s.getContext("2d");r.translate(t,0),r.scale(-1,1)}return s}U2.createCanvas=q7t;function X7t(t,e,n,s){n===void 0&&(n=!1),s===void 0&&(s=K7t());var r=t.width,o=t.height;t instanceof HTMLVideoElement&&(r=t.videoWidth,o=t.videoHeight);var a=Math.min(r,o),i=e/a,l=Math.ceil(r*i),u=Math.ceil(o*i),c=l-e,d=u-e;s.width=s.height=e;var f=s.getContext("2d");return f.drawImage(t,~~(c/2)*-1,~~(d/2)*-1,l,u),n&&(f.scale(-1,1),f.drawImage(s,e*-1,0)),s}U2.cropTo=X7t;var lu=wn&&wn.__decorate||function(t,e,n,s){var r=arguments.length,o=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,s);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o},Y7t=wn&&wn.__awaiter||function(t,e,n,s){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function i(c){try{u(s.next(c))}catch(d){a(d)}}function l(c){try{u(s.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):r(c.value).then(i,l)}u((s=s.apply(t,e||[])).next())})},Z7t=wn&&wn.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,a;return a={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function i(u){return function(c){return l([u,c])}}function l(u){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,r&&(o=u[0]&2?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,r=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],r=0}finally{s=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(XI,"__esModule",{value:!0});var uu=j7t,J7t=U2,H$={facingMode:"user",frameRate:24},Q7t=function(t){return t.facingMode=t.facingMode||H$.facingMode,t.frameRate=t.frameRate||H$.frameRate,t.aspectRatio=t.aspectRatio||H$.aspectRatio,t},eBt=function(){function t(e,n,s){e===void 0&&(e=400),n===void 0&&(n=400),s===void 0&&(s=!1),this.width=e,this.height=n,this.flip=s}return t.prototype.getWebcam=function(e){if(e===void 0&&(e={}),!window.navigator.mediaDevices||!window.navigator.mediaDevices.getUserMedia)return Promise.reject("Your browser does not support WebRTC. Please try another one.");e.width=640;var n=Q7t(e),s=document.createElement("video");return window.navigator.mediaDevices.getUserMedia({video:n}).then(function(r){return s.srcObject=r,s.addEventListener("loadedmetadata",function(o){var a=s.videoWidth,i=s.videoHeight;s.width=a,s.height=i}),s},function(){return Promise.reject("Could not open your camera. You may have denied access.")})},t.prototype.setup=function(e){return e===void 0&&(e={}),Y7t(this,void 0,void 0,function(){var n;return Z7t(this,function(s){switch(s.label){case 0:return this.webcam?[3,2]:(n=this,[4,this.getWebcam(e)]);case 1:n.webcam=s.sent(),this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height),s.label=2;case 2:return[2]}})})},t.prototype.play=function(){var e=this.webcam.play();return e},t.prototype.pause=function(){this.webcam.pause()},t.prototype.stop=function(){this.stopStreamedVideo(this.webcam)},t.prototype.update=function(){this.renderCameraToCanvas()},t.prototype.stopStreamedVideo=function(e){var n=e.srcObject,s=n.getTracks();s.forEach(function(r){r.stop()}),e.srcObject=null},t.prototype.renderCameraToCanvas=function(){if(this.canvas&&this.webcam){var e=this.canvas.getContext("2d");if(this.webcam.videoWidth!==0){var n=J7t.cropTo(this.webcam,this.width,this.flip);e.drawImage(n,0,0)}}},lu([uu.default],t.prototype,"getWebcam",null),lu([uu.default],t.prototype,"setup",null),lu([uu.default],t.prototype,"play",null),lu([uu.default],t.prototype,"pause",null),lu([uu.default],t.prototype,"stop",null),lu([uu.default],t.prototype,"update",null),lu([uu.default],t.prototype,"stopStreamedVideo",null),lu([uu.default],t.prototype,"renderCameraToCanvas",null),t}();XI.Webcam=eBt;var vf={};Object.defineProperty(vf,"__esModule",{value:!0});var tBt=Is,nBt="aqua",mQ="aqua",sBt=4,rBt=2;function oBt(t,e,n,s,r,o,a){s===void 0&&(s=sBt),r===void 0&&(r=nBt),o===void 0&&(o=mQ),a===void 0&&(a=1);for(var i=0;i<t.length;i++){var l=t[i];if(!(l.score<e)){var u=l.position,c=u.y,d=u.x;gQ(n,c*a,d*a,s,r,o)}}}vf.drawKeypoints=oBt;function gQ(t,e,n,s,r,o){t.fillStyle=r,t.strokeStyle=o,t.beginPath(),t.arc(n,e,s,0,2*Math.PI),t.fill(),t.stroke()}vf.drawPoint=gQ;function PS(t){return[t.y,t.x]}vf.toTuple=PS;function aBt(t,e,n,s,r,o){s===void 0&&(s=rBt),r===void 0&&(r=mQ),o===void 0&&(o=1);var a=tBt.getAdjacentKeyPoints(t,e);a.forEach(function(i){vQ(PS(i[0].position),PS(i[1].position),n,s,r,o)})}vf.drawSkeleton=aBt;function vQ(t,e,n,s,r,o){var a=t[0],i=t[1],l=e[0],u=e[1];n.beginPath(),n.moveTo(i*o,a*o),n.lineTo(u*o,l*o),n.lineWidth=s,n.strokeStyle=r,n.stroke()}vf.drawSegment=vQ;Object.defineProperty(Zo,"__esModule",{value:!0});var ZI=cc;Zo.CustomPoseNet=ZI.CustomPoseNet;var iBt=Zo.load=ZI.load;Zo.loadFromFiles=ZI.loadFromFiles;var yQ=C4;Zo.TeachablePoseNet=yQ.TeachablePoseNet;Zo.createTeachable=yQ.createTeachable;var lBt=XI,uBt=Zo.Webcam=lBt.Webcam,cBt=U2;Zo.createCanvas=cBt.createCanvas;var k4=vf,dBt=Zo.drawKeypoints=k4.drawKeypoints,fBt=Zo.drawSkeleton=k4.drawSkeleton;Zo.drawPoint=k4.drawPoint;Zo.drawSegment=k4.drawSegment;var hBt=S4;Zo.version=hBt.version;const pBt=E("h1",{class:"text-3xl mb-6"},"坐姿偵測",-1),mBt={key:0,class:"flex items-center flex-col"},gBt=E("img",{style:{width:"40rem",height:"100%"},src:Jne},null,-1),vBt=E("p",{class:"text-2xl mt-8"},"請將攝像機以側面拍攝以獲得準確體驗",-1),yBt={key:1,class:"flex items-center flex-col"},bBt=E("div",{class:"border flex mb-8"},[E("canvas",{id:"canvas"})],-1),wBt={class:"text-2xl"},_Bt={class:"text-2xl"},$Bt={__name:"HomeView",setup(t){const e=U(!1);let n=U(0),s=U(!1),r=U(0),o=U(0),a=U(!1),i=U(0),l,u,c;const d=new Audio("./RickAstley.mp3");Et(()=>{console.log(window.screen.width)});async function f(){l=await iBt("./models/model.json","./models/metadata.json"),l.getTotalClasses();let b=0;window.screen.width>600?b=400:b=window.screen.width-20;const _=!0;u=new uBt(b,b,_);try{await u.setup(),e.value=!0}catch{g()}await u.play(),window.requestAnimationFrame(h);const $=document.getElementById("canvas");$.width=b,$.height=b,c=$.getContext("2d")}async function h(y){u.update(),await p(),window.requestAnimationFrame(h)}async function p(){const{pose:y,posenetOutput:w}=await l.estimatePose(u.canvas),b=await l.predict(w);o.value=b[0].probability.toFixed(2),n.value=b[1].probability.toFixed(2),n.value>.8?r.value++:r.value=0,o.value>.8?i.value++:i.value=0,r.value>30?(s.value=!0,d.play()):(s.value=!1,d.pause()),i.value>30?a.value=!0:a.value=!1,m(y)}function m(y){u.canvas&&(c.drawImage(u.canvas,0,0),y&&(dBt(y.keypoints,.5,c),fBt(y.keypoints,.5,c)))}const g=()=>{mB({message:"請允許攝影機開放或選擇正確的來源 !",type:"warning"})};return(y,w)=>{const b=pt("el-button");return S(),I("div",{class:P(["flex items-center flex-col h-screen p-8",{"bg-red-500":v(s),"bg-green-500":v(a)}])},[pBt,e.value?(S(),I("div",yBt,[bBt,E("h3",wBt,"駝背 : "+Ue(v(n)),1),E("h3",_Bt,"坐正 : "+Ue(v(o)),1)])):(S(),I("div",mBt,[se(b,{type:"primary",size:"large",onClick:w[0]||(w[0]=_=>f())},{default:ce(()=>[Jt(" 開始判斷 ")]),_:1}),gBt,vBt]))],2)}}},xBt=Yne({history:fne("/"),routes:[{path:"/",name:"home",component:$Bt}]}),T4=dM(qte);for(const[t,e]of Object.entries(A9e))T4.component(t,e);T4.use(sst);T4.use(xBt);T4.mount("#app")});export default SBt();
